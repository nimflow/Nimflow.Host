(this["webpackJsonpnimflow-portal"]=this["webpackJsonpnimflow-portal"]||[]).push([[16],{1040:function(e,t){},1045:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://nimflow.com/schemas/recognized-image-batch.schema.json","type":"object","title":"Recognized image batch schema","allOf":[{"$ref":"#/definitions/RecognizedImageBatch"}],"definitions":{"RecognizedImageBatch":{"type":"object","properties":{"fileUrls":{"type":"array","items":{"type":"string"}},"documents":{"type":"array","items":{"$ref":"#/definitions/Document"}}},"required":["fileUrls"]},"Document":{"type":"object","properties":{"schemaId":{"type":"string"},"pages":{"type":"array","items":{"$ref":"#/definitions/PageImageLocation"}},"action":{"type":"string","enum":["saveAsDraft","send","dontSend"]},"data":true},"required":["schemaId","action"]},"PageImageLocation":{"type":"object","properties":{"fileIndex":{"type":"integer"},"filePageNumber":{"type":"integer"}},"required":["fileIndex","filePageNumber"]}}}')},1051:function(e,t,n){"use strict";n.d(t,"a",(function(){return Si})),n.d(t,"c",(function(){return Mi})),n.d(t,"b",(function(){return Di}));var a,r=n(15),c=n(1),o=n.n(c),i=n(1344),s=n(2413),u=n(60),l=n(59),d=n(14),b=n(3),j=n(2),h=n(31),f=n(29),O=function(){throw new Error("You forgot to wrap your component in <JsonFormsContextProvider>.")},m=Object(c.createContext)({context:{},bindContext:!0,uiSchemaLibrary:{},registerValidationProvider:O,unregisterValidationProvider:O,validationProviderUpdated:O}),p=function(e){var t=e.context,n=e.bindContext,a=e.uiSchemaLibrary,r=e.children,o=e.onErrorsChange,i=Object(c.useState)({}),s=Object(j.a)(i,2),u=s[0],l=s[1];Object(c.useEffect)((function(){var e=Object.values(u).flatMap((function(e){return e}));null===o||void 0===o||o(e)}),[u,o]);var O=Object(c.useCallback)((function(e){l((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(d.a)({},e,[]))}))}),[]),p=Object(c.useCallback)((function(e){l((function(t){return Object(h.p)([e],t)}))}),[]),v=Object(c.useCallback)((function(e,t){l((function(n){return e in n?Object(b.a)(Object(b.a)({},n),{},Object(d.a)({},e,t)):n}))}),[]);return Object(f.jsx)(m.Provider,{value:{context:null!==t&&void 0!==t?t:{},bindContext:null===n||void 0===n||n,uiSchemaLibrary:null!==a&&void 0!==a?a:{},registerValidationProvider:O,unregisterValidationProvider:p,validationProviderUpdated:v},children:r})},v=function(){return Object(c.useContext)(m)},x=n(193),g=Object(l.withJsonFormsLayoutProps)((function(e){var t=e.uischema,n=e.visible,a=e.data,r=e.path,o=v(),u=o.bindContext,l=o.context,d=Object(c.useMemo)((function(){var e=t;if(e||"text"in e){var n={data:a,path:r};return u&&Object.assign(n,l),Object(x.a)(e.text,n)}}),[t,a,r,u,l]);return d?Object(f.jsx)(i.a,{xsUp:!n,children:Object(f.jsx)("div",{children:Object(f.jsx)(s.a,{children:d})})}):null})),C=Object(u.rankWith)(3,Object(u.uiTypeIs)("Markdown")),y=n(2376),I=n(2416),k=Object(I.a)((function(e){return Object(y.a)({viewer:{width:"100%",minHeight:"800px"}})})),w=Object(l.withJsonFormsLayoutProps)((function(e){var t=k(),n=e.uischema,a=e.visible,r=e.data,o=e.path,s=v(),u=s.bindContext,l=s.context,d=Object(c.useMemo)((function(){var e=n;if(e||"url"in e){var t={data:r,path:o};return u&&Object.assign(t,l),Object(x.a)(e.url,t)}}),[n,r,o,u,l]);return d?Object(f.jsx)(i.a,{xsUp:!a||!d,children:Object(f.jsx)("object",{data:d,type:"application/pdf",className:t.viewer,children:Object(f.jsx)("embed",{src:d,type:"application/pdf"})})}):null})),P=Object(u.rankWith)(3,Object(u.uiTypeIs)("Pdf")),S=n(18),M=n(0),D=n(89),N=["uischema","schema","path","renderers"],L=Object(l.withJsonFormsLayoutProps)((function(e){var t=e.uischema,n=e.schema,a=e.path,r=e.renderers,o=Object(S.a)(e,N),i=Object(l.useJsonForms)().core,s=v().uiSchemaLibrary,d="Use"===t.type?t:void 0,j=d?s[d.name]:void 0,h=d?u.Resolve.schema(n,d.scope):void 0,O=Object(c.useMemo)((function(){if(r&&j&&h)return function(e,t){var n,a=-1,r=void 0,c=Object(M.a)(e);try{for(c.s();!(n=c.n()).done;){var o=n.value,i=t(o);i>a&&(a=i,r=o)}}catch(s){c.e(s)}finally{c.f()}return r}(r,(function(e){return e.tester(j,h)}))}),[j,r,h]);if(!j||!d||!h)return null;var m=Object(u.composeWithUi)(d,a),p=u.Resolve.data(null===i||void 0===i?void 0:i.data,m);if(Object(D.isPresent)(O)&&-1!==O.tester(j,h)){var x=O.renderer;return Object(f.jsx)(x,Object(b.a)({uischema:j,schema:h,path:m,data:p,renderers:r},o))}return Object(f.jsx)(l.UnknownRenderer,{type:"renderer"})})),T=Object(u.rankWith)(3,Object(u.uiTypeIs)("Use")),F=n(9),E=n.n(F),z=n(30),A=n(136),R=n(536),W=n(1061),B=n(4),V=n(6),U=n(7),J=n(8),H=n(96),_=n.n(H),q=n(261),K=n.n(q),G=n(260),$=n.n(G),Y=n(210),Z=n.n(Y),X=n(1528),Q=n(1377),ee=n(1521),te=n(1483),ne=n(2426),ae=n(1538),re=n(1537),ce=n(1525),oe=n(1471),ie=n(149),se=n.n(ie),ue=n(318),le=n.n(ue),de=n(426),be=n.n(de),je=n(1366),he=["classes","children"],fe=Object(je.a)({noBottomBorder:{borderBottom:"none"}})((function(e){var t=e.classes,n=e.children,a=Object(S.a)(e,he);return Object(f.jsx)(ee.a,Object(b.a)(Object(b.a)({className:t.noBottomBorder},a),{},{children:n}))})),Oe=n(1496),me=n(200),pe=n.n(me),ve=n(1345),xe=n(878),ge=n.n(xe),Ce=Object(y.a)((function(e){return{badge:{color:e.palette.error.main}}})),ye=Object(je.a)(Ce,{name:"ValidationIcon"})((function(e){var t=e.classes,n=e.errorMessages,a=e.id;return Object(f.jsx)(Oe.a,{id:a,title:n,children:Object(f.jsx)(ve.a,{className:t.badge,badgeContent:n.split("\n").length,children:Object(f.jsx)(ge.a,{color:"inherit"})})})})),Ie={paddingLeft:0,paddingRight:0},ke=o.a.memo((function(e){var t=e.numColumns,n=e.errors,a=e.label,r=e.path,c=e.addItem,o=e.schema,s=e.enabled;return Object(f.jsxs)(X.a,{children:[Object(f.jsx)(fe,{colSpan:t,children:Object(f.jsxs)(ne.a,{container:!0,justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(f.jsx)(ne.a,{item:!0,children:Object(f.jsx)(Q.a,{variant:"h6",children:a})}),Object(f.jsx)(ne.a,{item:!0,children:Object(f.jsx)(i.a,{smUp:0===n.length,children:Object(f.jsx)(ne.a,{item:!0,children:Object(f.jsx)(ye,{id:"tooltip-validation",errorMessages:n})})})})]})}),s?Object(f.jsx)(fe,{align:"right",style:Ie,children:Object(f.jsx)(Oe.a,{id:"tooltip-add",title:"Add to ".concat(a),placement:"bottom",children:Object(f.jsx)(oe.a,{"aria-label":"Add to ".concat(a),onClick:c(r,Object(u.createDefaultValue)(o)),size:"large",children:Object(f.jsx)(pe.a,{})})})}):null]})})),we=ke,Pe=n(78),Se=n.n(Pe),Me={fixedCell:{width:"150px",height:"50px",paddingLeft:0,paddingRight:0,textAlign:"center"},fixedCellSmall:{width:"50px",height:"50px",paddingLeft:0,paddingRight:0,textAlign:"center"}},De=function(e,t,n,a,r){if("object"===t.type)return Ne(t).map((function(c){var o,i,s,l=u.Paths.compose(n,c),d={propName:c,schema:t,title:null!==(o=null===(i=t.properties)||void 0===i||null===(s=i[c])||void 0===s?void 0:s.title)&&void 0!==o?o:$()(c),rowPath:n,cellPath:l,enabled:a,cells:r};return Object(f.jsx)(e,Object(b.a)({},d),l)}));var c={schema:t,rowPath:n,cellPath:n,enabled:a};return Object(f.jsx)(e,Object(b.a)({},c),n)},Ne=function(e){return"object"===e.type&&"object"===typeof e.properties?Object.keys(e.properties).filter((function(t){var n;return"array"!==(null===(n=e.properties)||void 0===n?void 0:n[t].type)})):[""]},Le=function(e){var t=e.numColumns;return Object(f.jsx)(X.a,{children:Object(f.jsx)(fe,{colSpan:t,children:Object(f.jsx)(Q.a,{align:"center",children:"No data"})})})},Te=o.a.memo((function(e){var t=e.title;return Object(f.jsx)(ee.a,{children:t})})),Fe=function(e){return{type:"Control",scope:e,label:!1}},Ee=function(e){var t=function(e,t){var n,a,r=t.rowPath+("object"===t.schema.type?"."+t.propName:""),c=Object(u.formatErrorMessage)(K()(Object(u.errorsAt)(r,t.schema,(function(e){return e===r}))(null!==(n=null===(a=e.core)||void 0===a?void 0:a.errors)&&void 0!==n?n:[]).map((function(e){var t;return null!==(t=e.message)&&void 0!==t?t:""}))));return{rowPath:t.rowPath,propName:t.propName,schema:t.schema,rootSchema:e.core.schema,errors:c,path:r,enabled:t.enabled,cells:t.cells||e.cells,renderers:t.renderers||e.renderers}}(Object(l.useJsonForms)(),e),n=t.path,a=t.propName,r=t.schema,c=t.rootSchema,o=t.errors,i=t.enabled,s=t.renderers,d=t.cells,b=_()(o);return Object(f.jsxs)(fe,{children:[r.properties?Object(f.jsx)(l.DispatchCell,{schema:u.Resolve.schema(r,"#/properties/".concat(a),c),uischema:Fe("#/properties/".concat(a)),path:n,enabled:i,renderers:s,cells:d}):Object(f.jsx)(l.DispatchCell,{schema:r,uischema:Fe("#"),path:n,enabled:i,renderers:s,cells:d}),Object(f.jsx)(te.a,{error:!b,children:!b&&o})]})},ze=o.a.memo((function(e){var t=e.childPath,n=e.schema,a=e.rowIndex,r=e.openDeleteDialog,o=e.moveUp,i=e.moveDown,s=e.enableUp,u=e.enableDown,l=e.showSortButtons,d=e.enabled,b=e.cells;return Object(f.jsxs)(X.a,{hover:!0,children:[De(Ee,n,t,d,b),d?Object(f.jsx)(fe,{style:l?Me.fixedCell:Me.fixedCellSmall,children:Object(f.jsxs)(ne.a,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",children:[l?Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)(ne.a,{item:!0,children:Object(f.jsx)(oe.a,{"aria-label":"Move up",onClick:o,disabled:!s,size:"large",children:Object(f.jsx)(be.a,{})})}),Object(f.jsx)(ne.a,{item:!0,children:Object(f.jsx)(oe.a,{"aria-label":"Move down",onClick:i,disabled:!u,size:"large",children:Object(f.jsx)(le.a,{})})})]}):null,Object(f.jsx)(ne.a,{item:!0,children:Object(f.jsx)(oe.a,{"aria-label":"Delete",onClick:function(){return r(t,a)},size:"large",children:Object(f.jsx)(se.a,{})})})]})}):null]},t)})),Ae=function(e){var t=e.data,n=e.path,a=e.schema,r=e.openDeleteDialog,c=e.moveUp,i=e.moveDown,s=e.uischema,l=e.config,d=e.enabled,b=e.cells;if(0===t)return Object(f.jsx)(Le,{numColumns:Ne(a).length+1});var j=Se()({},l,s.options);return Object(f.jsx)(o.a.Fragment,{children:Z()(t).map((function(e){var o=u.Paths.compose(n,"".concat(e));return Object(f.jsx)(ze,{childPath:o,rowIndex:e,schema:a,openDeleteDialog:r,moveUp:c(n,e),moveDown:i(n,e),enableUp:0!==e,enableDown:e!==t-1,showSortButtons:j.showSortButtons,enabled:d,cells:b},o)}))})},Re=function(e){Object(U.a)(n,e);var t=Object(J.a)(n);function n(){var e;Object(B.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).addItem=function(t,n){return e.props.addItem(t,n)},e}return Object(V.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.path,a=e.schema,r=e.rootSchema,c=e.uischema,o=e.errors,s=e.visible,u=e.enabled,l=e.cells,d=c,j="object"===a.type,h=j?De(Te,a,n,u,l):void 0;return Object(f.jsx)(i.a,{xsUp:!s,children:Object(f.jsxs)(ae.a,{children:[Object(f.jsxs)(re.a,{children:[Object(f.jsx)(we,{errors:o,label:t,addItem:this.addItem,numColumns:j?h.length:1,path:n,uischema:d,schema:a,rootSchema:r,enabled:u}),j&&Object(f.jsxs)(X.a,{children:[h,u?Object(f.jsx)(ee.a,{}):null]})]}),Object(f.jsx)(ce.a,{children:Object(f.jsx)(Ae,Object(b.a)({},this.props))})]})})}}]),n}(o.a.Component),We=n(1633),Be=n(2378),Ve=n(2385),Ue=n(2434),Je=n(1357),He=n(2435),_e=o.a.memo((function(e){var t=e.open,n=e.onClose,a=e.onConfirm,r=e.onCancel;return Object(f.jsxs)(Be.a,{open:t,keepMounted:!0,onClose:n,"aria-labelledby":"alert-dialog-confirmdelete-title","aria-describedby":"alert-dialog-confirmdelete-description",children:[Object(f.jsx)(Ve.a,{id:"alert-dialog-confirmdelete-title",children:"Confirm Deletion"}),Object(f.jsx)(Ue.a,{children:Object(f.jsx)(Je.a,{id:"alert-dialog-confirmdelete-description",children:"Are you sure you want to delete the selected entry?"})}),Object(f.jsxs)(He.a,{children:[Object(f.jsx)(We.a,{onClick:r,color:"primary",children:"No"}),Object(f.jsx)(We.a,{onClick:a,color:"primary",children:"Yes"})]})]})})),qe=Object(l.withJsonFormsArrayLayoutProps)((function(e){var t=Object(c.useState)(!1),n=Object(j.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(),s=Object(j.a)(o,2),u=s[0],l=s[1],d=Object(c.useState)(),h=Object(j.a)(d,2),O=h[0],m=h[1],p=e.removeItems,v=e.visible,x=Object(c.useCallback)((function(e,t){r(!0),l(e),m(t)}),[r,l,m]),g=Object(c.useCallback)((function(){return r(!1)}),[r]),C=Object(c.useCallback)((function(){if(Object(D.isPresent)(u)&&Object(D.isPresent)(O)){var e=u.substring(0,u.lastIndexOf("."));null===p||void 0===p||p(e,[O])(),r(!1)}}),[u,O,p]),y=Object(c.useCallback)((function(){return r(!1)}),[r]);return Object(f.jsxs)(i.a,{xsUp:!v,children:[Object(f.jsx)(Re,Object(b.a)(Object(b.a)({},e),{},{openDeleteDialog:x})),Object(f.jsx)(_e,{open:a,onCancel:g,onConfirm:C,onClose:y})]})})),Ke=Object(u.rankWith)(2,u.isObjectControl),Ge=Object(l.withJsonFormsDetailProps)((function(e){var t=e.renderers,n=e.cells,a=e.uischemas,r=e.schema,o=e.label,s=e.path,d=e.visible,b=e.enabled,j=e.uischema,h=e.rootSchema,O=Object(c.useMemo)((function(){return Object(u.findUISchema)(null!==a&&void 0!==a?a:[],r,j.scope,s,"Group",j,h)}),[a,r,s,j,h]);return O?(_()(s)?O.type="VerticalLayout":O.label=Object(u.isPlainLabel)(o)?o:o.default,Object(f.jsx)(i.a,{xsUp:!d,children:Object(f.jsx)(l.ResolvedJsonFormsDispatch,{visible:d,enabled:b,schema:r,uischema:O,path:s,renderers:t,cells:n})})):null})),$e=Object(u.rankWith)(3,u.isAllOfControl),Ye=Object(l.withJsonFormsAllOfProps)((function(e){var t=e.schema,n=e.rootSchema,a=e.visible,r=e.renderers,c=e.cells,o=e.path,s=e.uischemas,d=e.uischema,b=Object(u.resolveSubSchemas)(t,n,"allOf"),j=Object(u.findMatchingUISchema)(s)(b,d.scope,o);if(j)return Object(f.jsx)(i.a,{xsUp:!a,children:Object(f.jsx)(l.ResolvedJsonFormsDispatch,{schema:b,uischema:j,path:o,renderers:r,cells:c})});var h=Object(u.createCombinatorRenderInfos)(b.allOf,n,"allOf",d,o,s);return Object(f.jsx)(i.a,{xsUp:!a,children:h.map((function(e,t){return Object(f.jsx)(l.ResolvedJsonFormsDispatch,{schema:e.schema,uischema:e.uischema,path:o,renderers:r,cells:c},t)}))})})),Ze=n(2420),Xe=n(2446),Qe=n(219),et=n.n(Qe),tt=function(e){Object(U.a)(n,e);var t=Object(J.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){var e=this.props,t=e.schema,n=e.combinatorKeyword,a=e.path,r=et.a.omit(t,n),c=u.Generate.uiSchema(r,"VerticalLayout"),o=!1;return null!==c&&c.hasOwnProperty("elements")&&(o=c.elements.length>0),o?Object(f.jsx)(l.ResolvedJsonFormsDispatch,{schema:r,path:a,uischema:c}):null}}]),n}(o.a.Component),nt=tt,at=Object(u.rankWith)(3,u.isAnyOfControl),rt=Object(l.withJsonFormsAnyOfProps)((function(e){var t=e.schema,n=e.rootSchema,a=e.indexOfFittingSchema,r=e.visible,o=e.path,s=e.renderers,d=e.cells,b=e.uischema,h=e.uischemas,O=Object(c.useState)(a||0),m=Object(j.a)(O,2),p=m[0],v=m[1],x=Object(c.useCallback)((function(e,t){return v(t)}),[v]),g="anyOf";if(!t||!b)return null;var C=Object(u.resolveSubSchemas)(t,n,g);if(!C.anyOf)return null;var y=Object(u.createCombinatorRenderInfos)(C.anyOf,n,g,b,o,h);return Object(f.jsxs)(i.a,{xsUp:!r,children:[Object(f.jsx)(nt,{schema:C,combinatorKeyword:"anyOf",path:o}),Object(f.jsx)(Ze.a,{value:p,onChange:x,children:y.map((function(e){return Object(f.jsx)(Xe.a,{label:e.label},e.label)}))}),y.map((function(e,t){return p===t&&Object(f.jsx)(l.ResolvedJsonFormsDispatch,{schema:e.schema,uischema:e.uischema,path:o,renderers:s,cells:d},t)}))]})})),ct="oneOf",ot=Object(u.rankWith)(3,u.isOneOfControl),it=Object(l.withJsonFormsOneOfProps)((function(e){var t=e.handleChange,n=e.schema,a=e.path,r=e.renderers,o=e.cells,s=e.rootSchema,d=e.id,b=e.visible,h=e.indexOfFittingSchema,O=e.uischema,m=e.uischemas,p=e.data,v=Object(c.useState)(!1),x=Object(j.a)(v,2),g=x[0],C=x[1],y=Object(c.useState)(h||0),I=Object(j.a)(y,2),k=I[0],w=I[1],P=Object(c.useState)(0),S=Object(j.a)(P,2),M=S[0],D=S[1],N=Object(c.useCallback)((function(){return C(!1)}),[C]),L=Object(c.useCallback)((function(){C(!1)}),[C]),T=Object(u.resolveSubSchemas)(n,s,ct),F=Object(u.createCombinatorRenderInfos)(T.oneOf,s,ct,O,a,m),E=Object(c.useCallback)((function(e){t(a,Object(u.createDefaultValue)(n.oneOf[e])),w(e)}),[t,a,n]),z=Object(c.useCallback)((function(){E(M),C(!1)}),[E,M]),A=Object(c.useCallback)((function(e,t){D(t),_()(p)?E(t):C(!0)}),[p,E]);return Object(f.jsxs)(i.a,{xsUp:!b,children:[Object(f.jsx)(nt,{schema:T,combinatorKeyword:"oneOf",path:a}),Object(f.jsx)(Ze.a,{value:k,onChange:A,children:F.map((function(e){return Object(f.jsx)(Xe.a,{label:e.label},e.label)}))}),F.map((function(e,t){return k===t&&Object(f.jsx)(l.ResolvedJsonFormsDispatch,{schema:e.schema,uischema:e.uischema,path:a,renderers:r,cells:o},t)})),Object(f.jsxs)(Be.a,{open:g,onClose:N,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(f.jsx)(Ve.a,{id:"alert-dialog-title",children:"Clear form?"}),Object(f.jsx)(Ue.a,{children:Object(f.jsx)(Je.a,{id:"alert-dialog-description",children:"Your data will be cleared if you navigate away from this tab. Do you want to proceed?"})}),Object(f.jsxs)(He.a,{children:[Object(f.jsx)(We.a,{onClick:L,color:"primary",children:"No"}),Object(f.jsx)(We.a,{onClick:z,color:"primary",autoFocus:!0,id:"oneOf-".concat(d,"-confirm-yes"),children:"Yes"})]})]})]})})),st=n(1630),ut=o.a.memo((function(e){var t=e.data,n=e.className,a=e.id,r=e.enabled,c=e.uischema,o=e.path,i=e.handleChange,s=e.config,u={autoFocus:!!Se()({},s,c.options).focus},l=!!t;return Object(f.jsx)(st.a,{checked:l,onChange:function(e,t){return i(o,t)},className:n,id:a,disabled:!r,inputProps:u})}),l.areEqual),lt=n(1631),dt=n(1502),bt=o.a.memo((function(e){var t=e.data,n=e.className,a=e.id,r=e.enabled,c=e.uischema,o=e.path,i=e.handleChange,s=e.options,u=e.config,l=Se()({},u,c.options);return Object(f.jsx)(lt.a,{className:n,id:a,disabled:!r,autoFocus:l.focus,value:t||"",onChange:function(e){return i(o,e.target.value)},fullWidth:!0,variant:"standard",children:[Object(f.jsx)(dt.a,{value:""},"empty")].concat((null!==s&&void 0!==s?s:[]).map((function(e){return Object(f.jsx)(dt.a,{value:e.value,children:e.label},e.value)})))})}),l.areEqual),jt=n(2386),ht=o.a.memo((function(e){var t=e.data,n=e.className,a=e.id,r=e.enabled,c=e.uischema,o=e.path,i=e.handleChange,s=e.config,u=Se()({},s,c.options);return Object(f.jsx)(jt.a,{type:"number",value:void 0!==t&&null!==t?t:"",onChange:function(e){return i(o,""===(t=e.target.value)?void 0:parseInt(t,10));var t},className:n,id:a,disabled:!r,autoFocus:u.focus,inputProps:{step:"1"},fullWidth:!0})}),l.areEqual),ft=o.a.memo((function(e){var t=e.data,n=e.className,a=e.id,r=e.enabled,c=e.uischema,o=e.path,i=e.handleChange,s=e.config,u=Se()({},s,c.options);return Object(f.jsx)(jt.a,{type:"number",value:void 0===t||null===t?"":t,onChange:function(e){return i(o,""===(t=e.target.value)?void 0:parseFloat(t));var t},className:n,id:a,disabled:!r,autoFocus:u.focus,inputProps:{step:"0.1"},fullWidth:!0})}),l.areEqual),Ot=o.a.memo((function(e){var t,n=e.className,a=e.id,r=e.enabled,c=e.uischema,o=e.isValid,i=e.path,s=e.handleChange,u=e.schema,l=e.config,d=u.maxLength,b=Se()({},l,c.options);t=b.restrict?{maxLength:d}:{};var j=e.toFormatted(e.data);return Object(f.jsx)(jt.a,{type:"text",value:j,onChange:function(t){var n=e.fromFormatted(t.currentTarget.value);s(i,n)},className:n,id:a,disabled:!r,autoFocus:b.focus,multiline:b.multi,fullWidth:!b.trim||void 0===d,inputProps:t,error:!o})}),l.areEqual),mt=n(1495),pt=n(427),vt=n.n(pt),xt=n(148),gt=o.a.memo((function(e){var t,n,a,r,o=Object(c.useState)(!1),i=Object(j.a)(o,2),s=i[0],u=i[1],l=e.data,d=e.config,b=e.className,h=e.id,O=e.enabled,m=e.uischema,p=e.isValid,v=e.path,x=e.handleChange,g=e.schema,C=e.muiInputProps,y=e.inputComponent,I=g.maxLength,k=Se()({},d,m.options);r=k.restrict?{maxLength:I}:{},r=Se()(r,C),k.trim&&void 0!==I&&(r.size=I);var w=Object(xt.a)(),P=(null===(t=w.jsonforms)||void 0===t||null===(n=t.input)||void 0===n||null===(a=n.delete)||void 0===a?void 0:a.background)||w.palette.background.default;return Object(f.jsx)(jt.a,{type:"password"===k.format?"password":"text",value:l||"",onChange:function(e){return x(v,e.target.value)},className:b,id:h,disabled:!O,autoFocus:k.focus,multiline:k.multi,fullWidth:!k.trim||void 0===I,inputProps:r,error:!p,onPointerEnter:function(){return u(!0)},onPointerLeave:function(){return u(!1)},endAdornment:Object(f.jsx)(mt.a,{position:"end",style:{display:s&&O&&void 0!==l?"flex":"none",position:"absolute",right:0},children:Object(f.jsx)(oe.a,{"aria-label":"Clear input field",onClick:function(){return x(v,void 0)},size:"large",children:Object(f.jsx)(vt.a,{style:{background:P,borderRadius:"50%"}})})}),inputComponent:y})}),l.areEqual),Ct=o.a.memo((function(e){var t=e.data,n=e.className,a=e.id,r=e.enabled,c=e.uischema,o=e.path,i=e.handleChange,s=e.config,u=Se()({},s,c.options);return Object(f.jsx)(jt.a,{type:"time",value:t||"",onChange:function(e){return i(o,e.target.value)},className:n,id:a,disabled:!r,autoFocus:u.focus,fullWidth:!0})}),l.areEqual),yt=n(1480),It=n(1532),kt=n(1533),wt=["schema","visible","errors","path","options","data","addItem","removeItem","handleChange"],Pt=Object(u.rankWith)(5,Object(u.and)(Object(u.uiTypeIs)("Control"),Object(u.and)(Object(u.schemaMatches)((function(e){return Object(u.hasType)(e,"array")&&!Array.isArray(e.items)&&!0===e.uniqueItems})),Object(u.schemaSubPathMatches)("items",(function(e){return function(e){return void 0!==e.oneOf&&e.oneOf.length>0&&e.oneOf.every((function(e){return void 0!==e.const}))}(e)||function(e){return"string"===e.type&&void 0!==e.enum}(e)}))))),St=Object(l.withJsonFormsMultiEnumProps)((function(e){var t=e.schema,n=e.visible,a=e.errors,r=e.path,c=e.options,o=e.data,s=e.addItem,l=e.removeItem,d=e.handleChange,j=Object(S.a)(e,wt);return Object(f.jsx)(i.a,{xlUp:!n,children:Object(f.jsxs)(yt.a,{component:"fieldset",children:[Object(f.jsx)(It.a,{row:!0,children:null===c||void 0===c?void 0:c.map((function(e,c){var i=u.Paths.compose(r,"".concat(c)),h=(null===o||void 0===o?void 0:o.includes(e.value))?e.value:void 0,O=d;return O||(O=function(t,n){return n?s(r,e.value):null===l||void 0===l?void 0:l(r,e.value)}),Object(f.jsx)(kt.a,{id:e.value,control:Object(f.jsx)(ut,Object(b.a)({isValid:Object(Qe.isEmpty)(a),path:i,handleChange:O,data:h,errors:a,schema:t,visible:n},j),"checkbox-"+e.value),label:Object(Qe.startCase)(e.label)},e.value)}))}),Object(f.jsx)(te.a,{error:!0,children:a})]})})})),Mt=Object(u.rankWith)(3,Object(u.or)(u.isObjectArrayControl,u.isPrimitiveArrayControl)),Dt=Object(u.rankWith)(1,Object(u.uiTypeIs)("Label")),Nt=Object(l.withJsonFormsLayoutProps)((function(e){var t=e.uischema,n=e.visible,a=t;return Object(f.jsx)(i.a,{xsUp:!n,children:Object(f.jsx)(Q.a,{variant:"h6",children:void 0!==a.text&&null!==a.text&&a.text})})})),Lt=n(2440),Tt=n(428),Ft=n.n(Tt),Et=n(1512),zt=o.a.memo((function(e){var t=e.label,n=e.errors,a=e.addItem,r=e.path,c=e.createDefault;return Object(f.jsx)(Et.a,{disableGutters:!0,children:Object(f.jsxs)(ne.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(f.jsx)(ne.a,{item:!0,children:Object(f.jsx)(Q.a,{variant:"h6",children:t})}),Object(f.jsx)(i.a,{smUp:0===n.length,children:Object(f.jsx)(ne.a,{item:!0,children:Object(f.jsx)(ye,{id:"tooltip-validation",errorMessages:n})})}),Object(f.jsx)(ne.a,{item:!0,children:Object(f.jsx)(ne.a,{container:!0,children:Object(f.jsx)(ne.a,{item:!0,children:Object(f.jsx)(Oe.a,{id:"tooltip-add",title:"Add to ".concat(t),placement:"bottom",children:Object(f.jsx)(oe.a,{"aria-label":"Add to ".concat(t),onClick:a(r,c()),size:"large",children:Object(f.jsx)(pe.a,{})})})})})})]})})})),At=n(2429),Rt=n(1358),Wt=n(2427),Bt=n(1497),Vt=n(2441),Ut=Object(l.withJsonFormsMasterListItemProps)((function(e){var t=e.index,n=e.childLabel,a=e.selected,r=e.handleSelect,c=e.removeItem,o=e.path;return Object(f.jsxs)(At.a,{button:!0,selected:a,onClick:r(t),children:[Object(f.jsx)(Rt.a,{children:Object(f.jsx)(Wt.a,{"aria-label":"Index",children:t+1})}),Object(f.jsx)(Bt.a,{primary:n}),Object(f.jsx)(Vt.a,{children:Object(f.jsx)(oe.a,{"aria-label":"Delete",onClick:c(o,t),size:"large",children:Object(f.jsx)(se.a,{})})})]})})),Jt=Object(u.rankWith)(4,Object(u.and)(Object(u.uiTypeIs)("ListWithDetail"),u.isObjectArray)),Ht=Object(l.withJsonFormsArrayLayoutProps)((function(e){var t=e.uischemas,n=e.schema,a=e.uischema,r=e.path,o=e.errors,s=e.visible,d=e.label,b=e.required,h=e.removeItems,O=e.addItem,m=e.data,p=e.renderers,v=e.cells,x=e.config,g=Object(c.useState)(),C=Object(j.a)(g,2),y=C[0],I=C[1],k=Object(c.useCallback)((function(e,t){return function(){null===h||void 0===h||h(e,[t])(),I((function(e){if(e!==t)return Object(D.isPresent)(e)&&e>t?e-1:e}))}}),[h,I]),w=Object(c.useCallback)((function(e){return function(){return I(e)}}),[I]),P=Object(c.useCallback)((function(){return Object(u.createDefaultValue)(n)}),[n]),S=Object(c.useMemo)((function(){return Object(u.findUISchema)(null!==t&&void 0!==t?t:[],n,a.scope,r,void 0,a)}),[t,n,r,a]),M=Se()({},x,a.options);return Object(f.jsxs)(i.a,{xsUp:!s,children:[Object(f.jsx)(zt,{label:Object(u.computeLabel)(Object(u.isPlainLabel)(d)?d:d.default,null!==b&&void 0!==b&&b,M.hideRequiredAsterisk),errors:o,path:r,addItem:O,createDefault:P}),Object(f.jsxs)(ne.a,{container:!0,direction:"row",spacing:2,children:[Object(f.jsx)(ne.a,{item:!0,xs:3,children:Object(f.jsx)(Lt.a,{children:m>0?Ft()(Z()(m),(function(e){return Object(f.jsx)(Ut,{index:e,path:r,schema:n,handleSelect:w,removeItem:k,selected:y===e},e)})):Object(f.jsx)("p",{children:"No data"})})}),Object(f.jsx)(ne.a,{item:!0,xs:!0,children:void 0!==y?Object(f.jsx)(l.ResolvedJsonFormsDispatch,{renderers:p,cells:v,visible:s,schema:n,uischema:S,path:Object(u.composePaths)(r,"".concat(y))}):Object(f.jsx)(Q.a,{variant:"h6",children:"No Selection"})})]})]})})),_t=function(e){var t=e.data,n=e.visible,a=e.label,r=e.id,c=e.enabled,o=e.uischema,s=e.schema,u=e.rootSchema,l=e.handleChange,d=e.errors,b=e.path,j=e.config;return Object(f.jsx)(i.a,{xsUp:!n,children:Object(f.jsx)(kt.a,{label:"string"===typeof a?a:a.default,id:r,control:Object(f.jsx)(ut,{id:"".concat(r,"-input"),isValid:_()(d),data:t,enabled:c,visible:n,path:b,uischema:o,schema:s,rootSchema:u,handleChange:l,errors:d,config:j})})})},qt=Object(u.rankWith)(2,u.isBooleanControl),Kt=Object(l.withJsonFormsControlProps)(_t),Gt=n(1359),$t=o.a.memo((function(e){var t=e.data,n=e.className,a=e.id,r=e.enabled,c=e.uischema,o=e.path,i=e.handleChange,s=e.config,u={autoFocus:!!Se()({},s,c.options).focus},l=!!t;return Object(f.jsx)(Gt.a,{checked:l,onChange:function(e,t){return i(o,t)},className:n,id:a,disabled:!r,inputProps:u})}),l.areEqual),Yt=function(e){var t=e.data,n=e.visible,a=e.label,r=e.id,c=e.enabled,o=e.uischema,s=e.schema,u=e.rootSchema,l=e.handleChange,d=e.errors,b=e.path,j=e.config;return Object(f.jsx)(i.a,{xsUp:!n,children:Object(f.jsx)(kt.a,{label:"string"===typeof a?a:a.default,id:r,control:Object(f.jsx)($t,{id:"".concat(r,"-input"),isValid:_()(d),data:t,enabled:c,visible:n,path:b,uischema:o,schema:s,rootSchema:u,handleChange:l,errors:d,config:j})})})},Zt=Object(u.rankWith)(3,Object(u.and)(u.isBooleanControl,Object(u.optionIs)("toggle",!0))),Xt=Object(l.withJsonFormsControlProps)(Yt),Qt=n(1481),en=function(e){Object(U.a)(n,e);var t=Object(J.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.description,a=e.errors,r=e.label,c=e.uischema,o=e.visible,s=e.required,l=e.config,d=e.input,j=0===a.length,h=Se()({},l,c.options),O=!Object(u.isDescriptionHidden)(o,n,this.state.isFocused,h.showUnfocusedDescription),m=O?n:j?null:a,p=O&&!j?a:null,v=d;return Object(f.jsx)(i.a,{xsUp:!o,children:Object(f.jsxs)(yt.a,{fullWidth:!h.trim,onFocus:this.onFocus,onBlur:this.onBlur,id:t,variant:"standard",children:[Object(f.jsx)(Qt.a,{htmlFor:t+"-input",error:!j,children:Object(u.computeLabel)(Object(u.isPlainLabel)(r)?r:r.default,null!==s&&void 0!==s&&s,h.hideRequiredAsterisk)}),Object(f.jsx)(v,Object(b.a)(Object(b.a)({},this.props),{},{id:t+"-input",isValid:j,visible:o})),Object(f.jsx)(te.a,{error:!j&&!O,children:m}),Object(f.jsx)(te.a,{error:!j,children:p})]})})}}]),n}(l.Control),tn=function(e){return Object(f.jsx)(en,Object(b.a)(Object(b.a)({},e),{},{input:bt}))},nn=Object(u.rankWith)(2,u.isEnumControl),an=Object(l.withJsonFormsEnumProps)(tn),rn=n(1475),cn=function(e){Object(U.a)(n,e);var t=Object(J.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.errors,a=e.label,r=e.schema,c=e.description,o=e.enabled,s=e.visible,l=e.required,d=e.path,b=e.handleChange,j=e.data,h=e.config,O=0===n.length,m=Se()({},h,this.props.uischema.options),p=r.format,v=!Object(u.isDescriptionHidden)(s,null!==c&&void 0!==c?c:"",this.state.isFocused,m.showUnfocusedDescription);return Object(f.jsx)(i.a,{xsUp:!s,children:Object(f.jsx)(rn.a,{id:t+"-input",label:Object(u.computeLabel)(Object(u.isPlainLabel)(a)?a:a.default,null!==l&&void 0!==l&&l,m.hideRequiredAsterisk),type:p,error:!O,disabled:!o,fullWidth:!m.trim,onFocus:this.onFocus,onBlur:this.onBlur,helperText:O?v?c:null:n,InputLabelProps:{shrink:!0},value:j,onChange:function(e){return b(d,e.target.value)}})})}}]),n}(l.Control),on=Object(u.rankWith)(2,Object(u.or)(u.isDateControl,u.isTimeControl)),sn=Object(l.withJsonFormsControlProps)(cn),un=n(1342),ln=function(e){Object(U.a)(n,e);var t=Object(J.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.data,a=e.description,r=e.enabled,c=e.errors,o=e.label,s=e.schema,l=e.handleChange,d=e.visible,b=e.path,j=e.required,h=e.config,O=0===c.length,m=Se()({},h,this.props.uischema.options),p={flexGrow:"1"},v=!Object(u.isDescriptionHidden)(d,null!==a&&void 0!==a?a:"",this.state.isFocused,m.showUnfocusedDescription);return Object(f.jsx)(i.a,{xsUp:!d,children:Object(f.jsxs)(yt.a,{fullWidth:!m.trim,onFocus:this.onFocus,onBlur:this.onBlur,id:t,children:[Object(f.jsx)(Q.a,{id:t+"-typo",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},variant:"caption",children:Object(u.computeLabel)(Object(u.isPlainLabel)(o)?o:o.default,null!==j&&void 0!==j&&j,m.hideRequiredAsterisk)}),Object(f.jsxs)("div",{style:{display:"flex"},children:[Object(f.jsx)(Q.a,{style:p,variant:"caption",align:"left",children:s.minimum}),Object(f.jsx)(Q.a,{style:p,variant:"caption",align:"right",children:s.maximum})]}),Object(f.jsx)(un.a,{style:{marginTop:"7px"},min:s.minimum,max:s.maximum,value:Number(n||s.default),onChange:function(e,t){l(b,Number(t))},id:t+"-input",disabled:!r,step:s.multipleOf||1}),Object(f.jsx)(te.a,{error:!O,children:O?v?a:null:c})]})})}}]),n}(l.Control),dn=Object(u.rankWith)(4,u.isRangeControl),bn=Object(l.withJsonFormsControlProps)(ln),jn=n(1343),hn=n(1312),fn=n(2390),On=function(e){Object(U.a)(n,e);var t=Object(J.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.config,a=t.id,r=t.label,c=t.required,o=t.description,s=t.errors,l=t.data,d=t.visible,b=t.options,j=0===s.length,h=Se()({},n,this.props.uischema.options),O=!Object(u.isDescriptionHidden)(d,null!==o&&void 0!==o?o:"",this.state.isFocused,h.showUnfocusedDescription);return Object(f.jsx)(i.a,{xsUp:!d,children:Object(f.jsxs)(yt.a,{component:"fieldset",fullWidth:!h.trim,children:[Object(f.jsx)(fn.a,{htmlFor:a,error:!j,component:"legend",children:Object(u.computeLabel)(Object(u.isPlainLabel)(r)?r:r.default,null!==c&&void 0!==c&&c,h.hideRequiredAsterisk)}),Object(f.jsx)(hn.a,{value:this.state.value,onChange:function(t,n){return e.handleChange(n)},row:!0,children:null===b||void 0===b?void 0:b.map((function(e){return Object(f.jsx)(kt.a,{value:e.value,control:Object(f.jsx)(jn.a,{checked:l===e.value}),label:e.label},e.label)}))}),Object(f.jsx)(te.a,{error:!j,children:j?O?o:null:s})]})})}}]),n}(l.Control),mn=function(e){return Object(f.jsx)(On,Object(b.a)({},e))},pn=Object(u.rankWith)(20,Object(u.and)(u.isEnumControl,Object(u.optionIs)("format","radio"))),vn=Object(l.withJsonFormsEnumProps)(mn),xn=function(e){return Object(f.jsx)(en,Object(b.a)(Object(b.a)({},e),{},{input:ht}))},gn=Object(u.rankWith)(2,u.isIntegerControl),Cn=Object(l.withJsonFormsControlProps)(xn),yn=function(e){return Object(f.jsx)(en,Object(b.a)(Object(b.a)({},e),{},{input:ft}))},In=Object(u.rankWith)(2,u.isNumberControl),kn=Object(l.withJsonFormsControlProps)(yn),wn=function(e){return Object(f.jsx)(en,Object(b.a)(Object(b.a)({},e),{},{input:gt}))},Pn=Object(u.rankWith)(1,u.isStringControl),Sn=Object(l.withJsonFormsControlProps)(wn),Mn=function(e){return e.find((function(e){return void 0!==e.enum&&("string"===e.type||void 0===e.type)}))},Dn=function(e){return e.find((function(e){return"string"===e.type&&void 0===e.enum}))},Nn=function(e){var t,n=e.data,a=e.config,r=e.className,c=e.id,o=e.enabled,i=e.uischema,s=e.isValid,u=e.path,l=e.handleChange,d=e.schema,b=Mn(d.anyOf),j=Dn(d.anyOf),h=null===j||void 0===j?void 0:j.maxLength,O=Se()({},a,i.options),m={};O.restrict&&(m={maxLength:h}),O.trim&&void 0!==h&&(m.size=h);m.list=e.id+"datalist";var p=Object(f.jsx)("datalist",{id:e.id+"datalist",children:null===b||void 0===b||null===(t=b.enum)||void 0===t?void 0:t.map((function(e){return Object(f.jsx)("option",{value:e},e)}))});return Object(f.jsx)(jt.a,{type:"text",value:n||"",onChange:function(e){return l(u,e.target.value)},className:r,id:c,disabled:!o,autoFocus:O.focus,fullWidth:!O.trim||void 0===h,inputProps:m,error:!s,endAdornment:p})},Ln=function(e){Object(U.a)(n,e);var t=Object(J.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){return Object(f.jsx)(en,Object(b.a)(Object(b.a)({},this.props),{},{input:Nn}))}}]),n}(l.Control),Tn=Object(u.and)(Object(u.uiTypeIs)("Control"),Object(u.schemaMatches)((function(e){return e.hasOwnProperty("anyOf")&&function(e){var t=Mn(e),n=Dn(e),a=e.filter((function(e){return e!==t||e!==n})).find((function(e){return e.type&&"string"!==e.type}));return!!t&&!!n&&!a}(e.anyOf)}))),Fn=Object(u.rankWith)(5,Tn),En=Object(l.withJsonFormsControlProps)(Ln),zn=function(e){return Object(f.jsx)(en,Object(b.a)(Object(b.a)({},e),{},{input:bt}))},An=Object(u.rankWith)(5,u.isOneOfEnumControl),Rn=Object(l.withJsonFormsOneOfEnumProps)(zn),Wn=function(e){return Object(f.jsx)(On,Object(b.a)({},e))},Bn=Object(u.rankWith)(20,Object(u.and)(u.isOneOfEnumControl,Object(u.optionIs)("format","radio"))),Vn=Object(l.withJsonFormsOneOfEnumProps)(Wn),Un=n(1360),Jn=n(1361),Hn=n(1362),_n=function(e,t,n,a,r,c){return e.map((function(e,o){return Object(f.jsx)(ne.a,{item:!0,xs:!0,children:Object(f.jsx)(l.ResolvedJsonFormsDispatch,{uischema:e,schema:t,path:n,enabled:a,renderers:r,cells:c})},"".concat(n,"-").concat(o))}))},qn=o.a.memo((function(e){var t=e.visible,n=e.elements,a=e.schema,r=e.path,c=e.enabled,o=e.direction,s=e.renderers,u=e.cells;return _()(n)?null:Object(f.jsx)(i.a,{xsUp:!t,children:Object(f.jsx)(ne.a,{container:!0,direction:o,spacing:"row"===o?2:0,children:_n(n,a,r,c,s,u)})})}),l.areEqual),Kn=function(e){return function(t){var n=Object(l.useJsonForms)(),a=Object(u.getAjv)({jsonforms:Object(b.a)({},n)});return Object(f.jsx)(e,Object(b.a)(Object(b.a)({},t),{},{ajv:a}))}},Gn=["visible","enabled","uischema"],$n=Object(u.rankWith)(1,Object(u.uiTypeIs)("Group")),Yn={marginBottom:"10px"},Zn=o.a.memo((function(e){var t=e.visible,n=e.enabled,a=e.uischema,r=Object(S.a)(e,Gn),c=a;return Object(f.jsx)(i.a,{xsUp:!t,children:Object(f.jsxs)(Un.a,{style:Yn,children:[!_()(c.label)&&Object(f.jsx)(Jn.a,{title:c.label}),Object(f.jsx)(Hn.a,{children:Object(f.jsx)(qn,Object(b.a)(Object(b.a)({},r),{},{visible:t,enabled:n,elements:c.elements}))})]})})})),Xn=Object(l.withJsonFormsLayoutProps)((function(e){var t=e.uischema,n=e.schema,a=e.path,r=e.visible,c=e.enabled,o=e.renderers,i=e.cells,s=e.direction,u=t;return Object(f.jsx)(Zn,{elements:u.elements,schema:n,path:a,direction:s,visible:r,enabled:c,uischema:t,renderers:o,cells:i})})),Qn=Object(u.withIncreasedRank)(1,$n),ea=Object(u.rankWith)(2,Object(u.uiTypeIs)("HorizontalLayout")),ta=Object(l.withJsonFormsLayoutProps)((function(e){var t=e.uischema,n=e.renderers,a=e.cells,r=e.schema,c=e.path,o=e.enabled,i=e.visible,s={elements:t.elements,schema:r,path:c,enabled:o,direction:"row",visible:i};return Object(f.jsx)(qn,Object(b.a)(Object(b.a)({},s),{},{renderers:n,cells:a}))})),na=Object(u.rankWith)(1,Object(u.uiTypeIs)("VerticalLayout")),aa=Object(l.withJsonFormsLayoutProps)((function(e){var t=e.uischema,n=e.schema,a=e.path,r=e.enabled,c=e.visible,o=e.renderers,i=e.cells,s={elements:t.elements,schema:n,path:a,enabled:r,direction:"column",visible:c};return Object(f.jsx)(qn,Object(b.a)(Object(b.a)({},s),{},{renderers:o,cells:i}))})),ra=n(2436),ca=Object(u.and)(Object(u.uiTypeIs)("Categorization"),(function(e){var t=e;return!!t.elements&&!!t.elements.reduce((function(e,t){return e&&"Category"===t.type}),!0)})),oa=Object(u.rankWith)(1,ca),ia=function(e){Object(U.a)(n,e);var t=Object(J.a)(n);function n(){var e;Object(B.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={activeCategory:0},e.hasOwnState=function(){return void 0===e.props.ownState||e.props.ownState},e.handleChange=function(t,n){e.props.onChange&&e.props.onChange(n,e.state.activeCategory),e.hasOwnState()&&e.setState({activeCategory:n})},e}return Object(V.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.path,a=e.renderers,r=e.cells,c=e.schema,o=e.uischema,s=e.visible,l=e.enabled,d=e.selected,j=e.ajv,h=o,O=this.hasOwnState()?this.state.activeCategory:null!==d&&void 0!==d?d:0,m={elements:h.elements[O].elements,schema:c,path:n,direction:"column",enabled:l,visible:s,renderers:a,cells:r},p=h.elements.filter((function(e){return Object(u.isVisible)(e,t,void 0,j)}));return Object(f.jsxs)(i.a,{xsUp:!s,children:[Object(f.jsx)(ra.a,{position:"static",children:Object(f.jsx)(Ze.a,{value:O,onChange:this.handleChange,variant:"scrollable",children:p.map((function(e,t){return Object(f.jsx)(Xe.a,{label:e.label},t)}))})}),Object(f.jsx)("div",{style:{marginTop:"0.5em"},children:Object(f.jsx)(qn,Object(b.a)({},m))})]})}}]),n}(l.RendererComponent),sa=Object(l.withJsonFormsLayoutProps)(Kn(ia)),ua=n(145),la=n.n(ua),da=n(2301),ba=n(2299),ja=n(2300),ha=n(305),fa=n.n(ha),Oa=n(1539),ma={float:"right"},pa=function(e){return function(t){var n,a=t.ctx,r=t.props,c=(n=a.dispatch,{removeItems:function(e,t){return function(a){a.stopPropagation(),n(Object(u.update)(e,(function(e){return t.sort().reverse().forEach((function(t){return e.splice(t,1)})),e})))}},moveUp:function(e,t){return function(a){a.stopPropagation(),n(Object(u.update)(e,(function(e){return Object(u.moveUp)(e,t),e})))}},moveDown:function(e,t){return function(a){a.stopPropagation(),n(Object(u.update)(e,(function(e){return Object(u.moveDown)(e,t),e})))}}}),o=r.childLabelProp,i=r.schema,s=r.path,l=r.index,d=r.uischemas,j=Object(u.composePaths)(s,"".concat(l)),h=u.Resolve.data(a.core.data,j),O=o?la()(h,o,""):la()(h,Object(u.getFirstPrimitiveProp)(i),"");return Object(f.jsx)(e,Object(b.a)(Object(b.a)(Object(b.a)({},r),c),{},{childLabel:O,childPath:j,uischemas:d}))}},va=(a=function(e){var t=Object(c.useState)("id".concat(Object(Oa.a)())),n=Object(j.a)(t,1)[0],a=e.childLabel,r=e.childPath,o=e.index,i=e.expanded,s=e.moveDown,d=e.moveUp,b=e.enableMoveDown,h=e.enableMoveUp,O=e.handleExpansion,m=e.removeItems,p=e.path,v=e.rootSchema,x=e.schema,g=e.uischema,C=e.uischemas,y=e.renderers,I=e.cells,k=e.config,w=Object(c.useMemo)((function(){return Object(u.findUISchema)(null!==C&&void 0!==C?C:[],x,g.scope,p,void 0,g,v)}),[C,x,p,g,v]),P=Se()({},k,g.options);return Object(f.jsxs)(ba.a,{"aria-labelledby":n,expanded:i,onChange:O(r),children:[Object(f.jsx)(ja.a,{expandIcon:Object(f.jsx)(fa.a,{}),children:Object(f.jsxs)(ne.a,{container:!0,alignItems:"center",children:[Object(f.jsx)(ne.a,{item:!0,xs:7,md:9,children:Object(f.jsxs)(ne.a,{container:!0,alignItems:"center",children:[Object(f.jsx)(ne.a,{item:!0,xs:2,md:1,children:Object(f.jsx)(Wt.a,{"aria-label":"Index",children:o+1})}),Object(f.jsx)(ne.a,{item:!0,xs:10,md:11,children:Object(f.jsx)("span",{id:n,children:a})})]})}),Object(f.jsx)(ne.a,{item:!0,xs:5,md:3,children:Object(f.jsx)(ne.a,{container:!0,justifyContent:"flex-end",children:Object(f.jsx)(ne.a,{item:!0,children:Object(f.jsxs)(ne.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[P.showSortButtons?Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)(ne.a,{item:!0,children:Object(f.jsx)(oe.a,{onClick:d(p,o),style:ma,disabled:!h,"aria-label":"Move up",size:"large",children:Object(f.jsx)(be.a,{})})}),Object(f.jsx)(ne.a,{item:!0,children:Object(f.jsx)(oe.a,{onClick:s(p,o),style:ma,disabled:!b,"aria-label":"Move down",size:"large",children:Object(f.jsx)(le.a,{})})})]}):"",Object(f.jsx)(ne.a,{item:!0,children:Object(f.jsx)(oe.a,{onClick:m(p,[o]),style:ma,"aria-label":"Delete",size:"large",children:Object(f.jsx)(se.a,{})})})]})})})})]})}),Object(f.jsx)(da.a,{children:Object(f.jsx)(l.ResolvedJsonFormsDispatch,{schema:x,uischema:w,path:r,renderers:y,cells:I},r)})]})},Object(l.withJsonFormsContext)(pa(o.a.memo(a,(function(e,t){return Object(l.areEqual)(e,t)}))))),xa=function(e){Object(U.a)(n,e);var t=Object(J.a)(n);function n(){var e;Object(B.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={expanded:!1},e.innerCreateDefaultValue=function(){return Object(u.createDefaultValue)(e.props.schema)},e.handleChange=function(t){return function(n,a){e.setState({expanded:!!a&&t})}},e.isExpanded=function(t){return e.state.expanded===Object(u.composePaths)(e.props.path,"".concat(t))},e}return Object(V.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.path,r=t.schema,c=t.uischema,o=t.errors,i=t.addItem,s=t.renderers,l=t.cells,d=t.label,b=t.required,j=t.rootSchema,h=t.config,O=t.uischemas,m=Se()({},h,this.props.uischema.options);return Object(f.jsxs)("div",{children:[Object(f.jsx)(zt,{label:Object(u.computeLabel)(Object(u.isPlainLabel)(d)?d:d.default,null!==b&&void 0!==b&&b,m.hideRequiredAsterisk),errors:o,path:a,addItem:i,createDefault:this.innerCreateDefaultValue}),Object(f.jsx)("div",{children:n>0?Ft()(Z()(n),(function(t){return Object(f.jsx)(va,{index:t,expanded:e.isExpanded(t),schema:r,path:a,handleExpansion:e.handleChange,uischema:c,renderers:s,cells:l,rootSchema:j,enableMoveUp:0!==t,enableMoveDown:t<n-1,config:h,childLabelProp:m.elementLabelProp,uischemas:O},t)})):Object(f.jsx)("p",{children:"No data"})})]})}}]),n}(o.a.PureComponent),ga=Object(u.rankWith)(4,u.isObjectArrayWithNesting),Ca=Object(l.withJsonFormsArrayLayoutProps)((function(e){var t=e.visible,n=e.enabled,a=e.id,r=e.uischema,o=e.schema,s=e.label,u=e.rootSchema,l=e.renderers,d=e.cells,b=e.data,j=e.path,h=e.errors,O=e.uischemas,m=e.addItem,p=Object(c.useCallback)((function(e,t){return m(e,t)}),[m]);return Object(f.jsx)(i.a,{xsUp:!t,children:Object(f.jsx)(xa,{label:s,uischema:r,schema:o,id:a,rootSchema:u,errors:h,enabled:n,visible:t,data:b,path:j,addItem:p,renderers:l,cells:d,uischemas:O})})})),ya=Object(u.rankWith)(2,u.isBooleanControl),Ia=Object(l.withJsonFormsCellProps)((function(e){return Object(f.jsx)(ut,Object(b.a)({},e))})),ka=Object(u.rankWith)(3,Object(u.and)(u.isBooleanControl,Object(u.optionIs)("toggle",!0))),wa=Object(l.withJsonFormsCellProps)((function(e){return Object(f.jsx)($t,Object(b.a)({},e))})),Pa=Object(u.rankWith)(2,u.isDateControl),Sa=Object(l.withJsonFormsCellProps)((function(e){var t=e.data,n=e.className,a=e.id,r=e.enabled,c=e.uischema,o=e.path,i=e.handleChange,s=e.config,u=Se()({},s,c.options);return Object(f.jsx)(jt.a,{type:"date",value:t||"",onChange:function(e){return i(o,e.target.value)},className:n,id:a,disabled:!r,autoFocus:u.focus,fullWidth:!0})})),Ma=Object(u.rankWith)(2,u.isEnumControl),Da=Object(l.withJsonFormsEnumCellProps)((function(e){return Object(f.jsx)(bt,Object(b.a)({},e))})),Na=Object(u.rankWith)(2,u.isIntegerControl),La=Object(l.withJsonFormsCellProps)((function(e){return Object(f.jsx)(ht,Object(b.a)({},e))})),Ta=Object(u.rankWith)(2,u.isNumberControl),Fa=Object(l.withJsonFormsCellProps)((function(e){return Object(f.jsx)(ft,Object(b.a)({},e))})),Ea=Object(u.rankWith)(4,u.isNumberFormatControl),za=Object(l.withJsonFormsCellProps)((function(e){return Object(f.jsx)(Ot,Object(b.a)({},e))})),Aa=Object(u.rankWith)(1,u.isStringControl),Ra=Object(l.withJsonFormsCellProps)((function(e){return Object(f.jsx)(gt,Object(b.a)({},e))})),Wa=Object(u.rankWith)(2,u.isTimeControl),Ba=Object(l.withJsonFormsCellProps)((function(e){return Object(f.jsx)(Ct,Object(b.a)({},e))})),Va=n(1348),Ua=n(1354),Ja=n(1363),Ha=Object(u.rankWith)(2,Object(u.and)(Object(u.uiTypeIs)("Categorization"),u.categorizationHasCategory,Object(u.optionIs)("variant","stepper"))),_a=function(e){Object(U.a)(n,e);var t=Object(J.a)(n);function n(){var e;Object(B.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={activeCategory:0},e.handleStep=function(t){e.setState({activeCategory:t})},e}return Object(V.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.path,r=t.renderers,c=t.schema,o=t.uischema,s=t.visible,l=t.cells,d=t.config,j=t.ajv,h=o,O=this.state.activeCategory,m=Se()({},d,o.options),p={elements:h.elements[O].elements,schema:c,path:a,direction:"column",visible:s,renderers:r,cells:l},v=h.elements.filter((function(e){return Object(u.isVisible)(e,n,void 0,j)}));return Object(f.jsxs)(i.a,{xsUp:!s,children:[Object(f.jsx)(Va.a,{activeStep:O,nonLinear:!0,children:v.map((function(t,n){return Object(f.jsx)(Ua.a,{children:Object(f.jsx)(Ja.a,{onClick:function(){return e.handleStep(n)},children:t.label})},t.label)}))}),Object(f.jsx)("div",{children:Object(f.jsx)(qn,Object(b.a)({},p))}),m.showNavButtons?Object(f.jsxs)("div",{style:{textAlign:"right",width:"100%",margin:"1em auto"},children:[Object(f.jsx)(We.a,{style:{float:"right"},variant:"contained",color:"primary",disabled:O>=v.length-1,onClick:function(){return e.handleStep(O+1)},children:"Next"}),Object(f.jsx)(We.a,{style:{marginRight:"1em"},color:"secondary",variant:"contained",disabled:O<=0,onClick:function(){return e.handleStep(O-1)},children:"Previous"})]}):Object(f.jsx)(f.Fragment,{})]})}}]),n}(l.RendererComponent),qa=[{tester:Mt,renderer:qe,debugInfo:"MaterialArrayControlRenderer"},{tester:qt,renderer:Kt,debugInfo:"MaterialBooleanControl"},{tester:Zt,renderer:Xt,debugInfo:"MaterialBooleanToggleControl"},{tester:on,renderer:sn,debugInfo:"MaterialNativeControl"},{tester:nn,renderer:an,debugInfo:"MaterialEnumControl"},{tester:gn,renderer:Cn,debugInfo:"MaterialIntegerControl"},{tester:In,renderer:kn,debugInfo:"MaterialNumberControl"},{tester:Pn,renderer:Sn,debugInfo:"MaterialTextControl"},{tester:dn,renderer:bn,debugInfo:"MaterialSliderControl"},{tester:Ke,renderer:Ge,debugInfo:"MaterialObjectRenderer"},{tester:$e,renderer:Ye,debugInfo:"MaterialAllOfRenderer"},{tester:at,renderer:rt,debugInfo:"MaterialAnyOfRenderer"},{tester:ot,renderer:it,debugInfo:"MaterialOneOfRenderer"},{tester:pn,renderer:vn,debugInfo:"MaterialRadioGroupControl"},{tester:Bn,renderer:Vn,debugInfo:"MaterialOneOfRadioGroupControl"},{tester:An,renderer:Rn,debugInfo:"MaterialOneOfEnumControl"},{tester:Qn,renderer:Xn,debugInfo:"MaterialGroupLayout"},{tester:ea,renderer:ta,debugInfo:"MaterialHorizontalLayout"},{tester:na,renderer:aa,debugInfo:"MaterialVerticalLayout"},{tester:oa,renderer:sa,debugInfo:"MaterialCategorizationLayout"},{tester:Ha,renderer:Object(l.withJsonFormsLayoutProps)(Kn(_a)),debugInfo:"MaterialCategorizationStepperLayout"},{tester:ga,renderer:Ca,debugInfo:"MaterialArrayLayout"},{tester:Dt,renderer:Nt,debugInfo:"MaterialLabelRenderer"},{tester:Jt,renderer:Ht,debugInfo:"MaterialListWithDetailRenderer"},{tester:Fn,renderer:En,debugInfo:"MaterialAnyOfStringOrEnumControl"},{tester:Pt,renderer:St,debugInfo:"MaterialEnumArrayRenderer"}],Ka=[{tester:ya,cell:Ia},{tester:ka,cell:wa},{tester:Pa,cell:Sa},{tester:Ma,cell:Da},{tester:Na,cell:La},{tester:Ta,cell:Fa},{tester:Ea,cell:za},{tester:Aa,cell:Ra},{tester:Wa,cell:Ba}],Ga=Object(l.withJsonFormsControlProps)((function(e){var t=e.uischema.options.optionsSource,n=t.moduleName,a=t.functionName,r=Object(R.a)().call,o=Object(A.a)("function/".concat(n,"/").concat(a),Object(z.a)(E.a.mark((function e(){var t,c,o,i,s,u,l,d,b;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,r(n,a);case 3:if(c=e.sent,Array.isArray(c)){o=Object(M.a)(c);try{for(o.s();!(i=o.n()).done;)s=i.value,u=void 0,l=void 0,Object(W.a)(s)?(u=s.value,"string"===typeof s.label&&(l=s.label)):u=s,Object(D.isPresent)(u)&&(b={label:null!==(d=l)&&void 0!==d?d:"string"===typeof u?u:JSON.stringify(u),value:u},t.push(b))}catch(j){o.e(j)}finally{o.f()}}return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),{fallbackData:[],revalidateOnMount:!0,revalidateOnFocus:!1}).data,i=Object(c.useMemo)((function(){return Object(b.a)(Object(b.a)({},e),{},{options:o})}),[e,o]);return Object(f.jsx)(en,Object(b.a)(Object(b.a)({},i),{},{input:bt}))})),$a=Object(u.rankWith)(3,Object(u.and)(u.isControl,(function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.optionsSource;return!!n&&!!n.moduleName&&!!n.functionName}))),Ya=n(209),Za=n(2430),Xa=n(35),Qa=n(880),er=n.n(Qa),tr=n(430),nr=n.n(tr),ar=n(548),rr=n.n(ar),cr=n(968),or=n.n(cr),ir=n(301),sr=n(34),ur=Object(sr.a)();ir.GlobalWorkerOptions.workerSrc=ur+"pdf.worker.min.js";var lr=n(131),dr=n(333),br=["image/png","image/jpeg","image/webp"],jr=function(e){return new Promise((function(t,n){var a=new Image;a.crossOrigin="anonymous",a.addEventListener("load",(function(){return t(a)})),a.addEventListener("error",(function(e){return n(e)})),a.src=e}))},hr=function(){var e=Object(z.a)(E.a.mark((function e(t,n){var a,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Blob([t.content],{type:t.mimeType}),r=URL.createObjectURL(a),e.prev=2,e.next=5,jr(r);case 5:c=e.sent,t.pages.push({getImageData:function(){var e=document.createElement("canvas"),t=e.getContext("2d");return e.width=c.naturalWidth,e.height=c.naturalHeight,t.drawImage(c,0,0),t.getImageData(0,0,c.naturalWidth,c.naturalHeight)},width:c.naturalWidth,height:c.naturalHeight,fileIndex:n,filePageNumber:0,pageIndex:0}),t.pageStates.push({rotate:0});case 8:return e.prev=8,URL.revokeObjectURL(r),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[2,,8,11]])})));return function(t,n){return e.apply(this,arguments)}}(),fr=function(){var e=Object(z.a)(E.a.mark((function e(t,n){var a,r,c,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=new nr.a({buffer:t.content}),r=function(e,r){a.setDirectory(e);var c={getImageData:function(){a.setDirectory(e);var t=a.readRGBAImage();return new ImageData(new Uint8ClampedArray(t),a.width(),a.height())},width:a.width(),height:a.height(),fileIndex:n,filePageNumber:e,pageIndex:0};t.pages.push(c),t.pageStates.push({rotate:0})},c=0,o=a.countDirectory();c<o;++c)r(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Or=function(){var e=Object(z.a)(E.a.mark((function e(t,n){var a,r,c,o,i,s,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Uint8Array(t.content),e.next=3,ir.getDocument(a).promise;case 3:for(r=e.sent,c=[],o=new Array(r.numPages),i=new Array(r.numPages),s=function(e){c.push(r.getPage(e+1).then(function(){var t=Object(z.a)(E.a.mark((function t(a){var r,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=2*window.devicePixelRatio,c=a.getViewport({scale:r}),o[e]={getImageData:function(){var e=Object(z.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("canvas")).style.width="".concat(c.width/r,"px"),t.style.height="".concat(c.height/r,"px"),t.height=c.height,t.width=c.width,n=t.getContext("2d"),e.next=8,a.render({canvasContext:n,viewport:c}).promise;case 8:return e.abrupt("return",n.getImageData(0,0,t.width,t.height));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),width:c.width,height:c.height,fileIndex:n,filePageNumber:e,pageIndex:0},i[e]={rotate:0};case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},u=0;u<r.numPages;u++)s(u);return e.next=11,Promise.all(c);case 11:t.pages=o;case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mr=function(){var e=Object(z.a)(E.a.mark((function e(t,n,a){var r,c,o,i,s,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.lastIndexOf("/"),o=c>=0?t.substring(c+1):t,i={url:t,status:"loaded",name:o,mimeType:a.headers["content-type"],content:a.data,pages:[],pageStartIndex:0,pageStates:[]},s=null===(r=a.headers)||void 0===r?void 0:r["content-disposition"],(u=s?/filename="?([^"]*?)"?(;|$)/g.exec(s):void 0)&&u.length>1&&(i.name=u[1]),i.mimeType&&!br.includes(i.mimeType)){e.next=11;break}return e.next=9,hr(i,n);case 9:e.next=19;break;case 11:if("image/tiff"!==i.mimeType){e.next=16;break}return e.next=14,fr(i,n);case 14:e.next=19;break;case 16:if("application/pdf"!==i.mimeType){e.next=19;break}return e.next=19,Or(i,n);case 19:return e.abrupt("return",i);case 20:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),pr=function(e,t){return Object(Xa.a)(e,(function(e){null===t||void 0===t||t.forEach((function(t,n){t.pages.forEach((function(t,n){var a,r=e[t.fileIndex];"loaded"===(null===r||void 0===r?void 0:r.status)&&(r.pageStates[t.filePageNumber].rotate=null!==(a=t.rotate)&&void 0!==a?a:0)}))}));var n,a=0,r=Object(M.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;if("loaded"===c.status){c.pageStartIndex=a;var o,i=Object(M.a)(c.pages);try{for(i.s();!(o=i.n()).done;){o.value.pageIndex=a++}}catch(s){i.e(s)}finally{i.f()}}}}catch(s){r.e(s)}finally{r.f()}}))},vr={height:170,width:170},xr=n(253),gr=Symbol("marker"),Cr=Object(u.createAjv)({allErrors:!0,addUsedSchema:!1,useDefaults:!0});Cr.addFormat("image",(function(){return!0})),Cr.addKeyword("patternMask",{type:"string",valid:!0,errors:!1});var yr=function(e,t){var n=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(e),r=a.byteLength,c=r%3,o=r-c,i=0;i<o;i+=3){var s=a[i]<<16|a[i+1]<<8|a[i+2],u=(258048&s)>>12,l=(4032&s)>>6,d=63&s;t+=n[(16515072&s)>>18]+n[u]+n[l]+n[d]}if(1===c){var b=a[o],j=(3&b)<<4;t+=n[(252&b)>>2]+n[j]+"=="}else if(2===c){var h=a[o]<<8|a[o+1],f=(1008&h)>>4,O=(15&h)<<2;t+=n[(64512&h)>>10]+n[f]+n[O]+"="}return t}(e);return"data:".concat(t,";base64,").concat(n)};var Ir=function(){throw new Error("You forgot to wrap your component in <BatchProcessorContextProvider>.")},kr={fileInfos:[],documents:[],documentInfos:[],unusedPages:[],loadingImages:!1,setCurrentDocumentLocation:Ir,updateCurrentDocument:Ir,updateBatch:Ir,movePage:Ir,findByPageIndex:Ir,deleteDocument:Ir,addDocument:Ir,updateDocument:Ir,getDocument:Ir,setCurrentDocumentEditionState:Ir,canModify:!0,getDisplayableDataUrl:Ir,rotateImage:Ir,rotateAllImages:Ir,getPageLocation:Ir,canOcr:!1,ocrImage:Ir},wr=Object(c.createContext)(kr),Pr=function(e,t){var n,a=Object(M.a)(t);try{for(a.s();!(n=a.n()).done;){var r,c=n.value,o="loaded"===c.status?c.pages:[],i=Object(M.a)(o);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(s.pageIndex===e)return s}}catch(u){i.e(u)}finally{i.f()}}}catch(u){a.e(u)}finally{a.f()}},Sr=function(e,t,n){var a=e;return a&&(a+=","),a+=t.toString(),t!==n&&(a+="-".concat(n)),a},Mr=function(e){if(0===e.length)return"";for(var t=e.map((function(e){return e+1})),n=t[0],a=n,r="",c=1;c<t.length;c++){var o=t[c];o===a+1&&a>=n||o===a-1&&a<=n?a=o:(r=Sr(r,n,a),n=a=o)}return r=Sr(r,n,a)},Dr=function(e,t){var n=new Array(e.length);return t.forEach((function(t,a){"loaded"===t.status&&t.pages.forEach((function(t,r){var c=e.indexOf(t.pageIndex);c>=0&&(n[c]={fileIndex:a,filePageNumber:r})}))})),n},Nr=function(e,t){return t&&!Cr.validate(t,e.data)&&Cr.errors?Object(xr.a)(Cr.errors.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{instancePath:e.dataPath})}))):[]},Lr=function(e,t){for(var n=e+t;n<0;)n+=360;for(;n>=360;)n-=360;return n},Tr=function(e,t){var n,a=Lr(null!==(n=e.rotate)&&void 0!==n?n:0,t);0===a?delete e.rotate:e.rotate=a},Fr=function(e){var t=e.basePath,n=e.batch,a=e.documentSchemasSource,o=e.readonly,i=e.ocrFunction,s=e.children,O=!o,m=Object(c.useState)(n),p=Object(j.a)(m,1)[0],x=function(e){var t=e.moduleName,n=e.functionName,a=Object(R.a)().call,r=Object(A.a)("function/".concat(t,"/").concat(n),Object(z.a)(E.a.mark((function e(){var r,c,o,i,s,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,a(t,n);case 3:if(c=e.sent,Array.isArray(c)){o=Object(M.a)(c);try{for(o.s();!(i=o.n()).done;)s=i.value,"success"===(u=Object(xr.b)(s)).type?r.push(s):console.error("Error validating schema ".concat(null===s||void 0===s?void 0:s.$id,". It will be ignored."),u.errors)}catch(l){o.e(l)}finally{o.f()}}return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),{revalidateOnFocus:!1}),o=r.data,i=r.isValidating,s=r.error;return{documentSchemas:Object(c.useMemo)((function(){return null!==o&&void 0!==o?o:[]}),[o]),loading:i,error:s}}(a).documentSchemas,g=Object(l.useJsonForms)().dispatch,C=function(e,t){var n=Object(dr.c)().hubBaseUrl,a=Object(lr.c)(),r=a.getConfiguredAxiosInstance,o=a.blobStorage_GetThumbnails,i=Object(c.useState)((function(){return e.fileUrls.map((function(e){var t=or()(e);return t.is("relative")&&n&&(t=or.a.joinPaths("BlobStorage",t).absoluteTo(n)),{url:t.valueOf(),status:"loading",name:t.filename()}}))})),s=Object(j.a)(i,2),u=s[0],l=s[1],d=Object(c.useState)(t&&e.fileUrls.length>0),f=Object(j.a)(d,2),O=f[0],m=f[1];return Object(c.useEffect)((function(){if(t){var a=rr.a.CancelToken.source(),c=rr.a.create({responseType:"arraybuffer",cancelToken:a.token}),i=r({responseType:"arraybuffer",cancelToken:a.token});return e.fileUrls.forEach((function(t,a){var r=t,s=or()(t),u=c;s.is("relative")&&n&&(s=or.a.joinPaths("BlobStorage",s),u=i),t=s.valueOf(),u.get(t).then((function(n){return mr(t,a,n).then((function(t){l((function(n){var r=Object(Xa.a)(n,(function(e){e[a]=t}));return r.every((function(e){return"loading"!==e.status}))&&(r=pr(r,e.documents),m(!1)),r})),o(Object(b.a)(Object(b.a)({path:r},vr),{},{format:"png"})).then((function(e){Object(h.k)(e)||l((function(t){return Object(Xa.a)(t,(function(t){var n=t[a];"loaded"===n.status&&(n.thumbnails=e)}))}))}))}))})).catch((function(n){l((function(r){var c=Object(Xa.a)(r,(function(e){e[a]=function(e,t){var n=e.lastIndexOf("/"),a=n>=0?e.substring(n+1):e,r={url:e,status:"failed",name:a,error:t.message};return t.response&&(r.error="Code: ".concat(t.response.status,"\nData: ").concat(t.response.data)),r}(t,n)}));return c.every((function(e){return"loading"!==e.status}))&&(c=pr(c,e.documents),m(!1)),c}))}))})),function(){a.cancel(),m(!1)}}l((function(e){return e.map((function(e){return{name:e.name,status:"loaded",url:e.url,content:new ArrayBuffer(0),pages:[],pageStartIndex:0,pageStates:[]}}))}))}),[o,t,r,n,e.documents,e.fileUrls]),{loadingFileInfos:O,fileInfos:u,setFileInfos:l}}(p,O),y=C.fileInfos,I=C.loadingFileInfos,k=C.setFileInfos,w=Object(c.useState)({documentIndex:p.documents.length>0?0:void 0}),P=Object(j.a)(w,2),S=P[0],N=P[1],L=Object(c.useState)([]),T=Object(j.a)(L,2),F=T[0],W=T[1],B=function(e){var t=v(),n=t.registerValidationProvider,a=t.unregisterValidationProvider,r=t.validationProviderUpdated,o=Object(c.useState)(),i=Object(j.a)(o,2),s=i[0],u=i[1];Object(c.useEffect)((function(){return n(e),function(){return a(e)}}),[e,n,a]),Object(c.useEffect)((function(){var t=(null!==s&&void 0!==s?s:[]).map((function(t){var n="".concat(e,".").concat(t.dataPath);return Object(b.a)(Object(b.a)({},t),{},{dataPath:n,instancePath:n})}));r(e,t)}),[s,e,r]);var l=Object(c.useCallback)((function(e){u((function(t){return Object(h.f)(t,e)?t:e}))}),[]);return Object(c.useMemo)((function(){return{updateErrors:l}}),[l])}(t).updateErrors,V=function(e,t){var n=Object(c.useState)([]),a=Object(j.a)(n,2),r=a[0],o=a[1];return Object(c.useEffect)((function(){o((function(n){for(var a=[],r=0;r<t.length;r++){var c=t[r];if("loaded"===c.status)for(var o=0;o<c.pageStates.length;o++){var i={fileIndex:r,filePageNumber:o},s=c.pageStates[o];Object(D.isPresent)(s.rotate)&&(i.rotate=s.rotate),a.push(i)}}var u,l=Object(M.a)(e.documents.flatMap((function(e){return e.pages})));try{var d=function(){var e=u.value,t=a.findIndex((function(t){return!!t&&t.fileIndex===e.fileIndex&&t.filePageNumber===e.filePageNumber}));t>-1&&(a[t]=void 0)};for(l.s();!(u=l.n()).done;)d()}catch(j){l.e(j)}finally{l.f()}var b=a.filter(D.isPresent);return Object(h.f)(b,n)?n:b}))}),[e.documents,t]),r}(n,y),U=Object(R.a)().call,J=Object(c.useMemo)((function(){return n.documents.map((function(e,t){var n;return{schemaId:e.schemaId,action:e.action,errors:null!==(n=F[t])&&void 0!==n?n:[]}}))}),[n.documents,F]);Object(c.useEffect)((function(){if(x&&0!==p.documents.length){var e=p.documents.map((function(e){var t=x.find((function(t){return t.$id===e.schemaId}));return Nr(e,t)}));W((function(t){return e.map((function(e,n){return t[n]?t[n]:e}))}))}}),[p,x]);var H=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(c.useRef)(e),a=n.current;if(e!==a)if(a.length!==e.length)n.current=e;else if(t)for(var o=Object(r.a)(e),i=0;i<a.length;i++){var s=o.indexOf(a[i]);if(-1===s){n.current=e;break}o[s]=gr}else for(var u=0;u<a.length;u++)if(a[u]!==e[u]){n.current=e;break}return n.current}(n.documents.reduce((function(e,t,n){return"send"===t.action&&e.push(n),e}),[]),!0);Object(c.useEffect)((function(){var e=H.flatMap((function(e){var t,n;return null!==(t=null===(n=F[e])||void 0===n?void 0:n.map((function(t){var n="documents[".concat(e,"].data.").concat(t.instancePath);return Object(b.a)(Object(b.a)({},t),{},{instancePath:n,dataPath:n})})))&&void 0!==t?t:[]}));O&&B(e)}),[O,F,H,B]);var _=Object(c.useCallback)((function(e,n){var a="function"===typeof n?n:function(){return n};null===g||void 0===g||g(Object(u.update)(Object(Ya.compose)(t,e),a))}),[g]),q=Object(c.useMemo)((function(){return Object(D.isPresent)(S.documentIndex)?n.documents[S.documentIndex]:void 0}),[n.documents,S.documentIndex]),K=Object(c.useCallback)((function(e){var t=null!==e&&void 0!==e?e:{};N((function(e){return e.documentIndex!==t.documentIndex||e.pageIndex!==t.pageIndex?t:e}))}),[]),G=Object(c.useCallback)((function(e){var t=null===S||void 0===S?void 0:S.documentIndex;Object(D.isPresent)(t)&&_("documents[".concat(t,"]"),e)}),[null===S||void 0===S?void 0:S.documentIndex,_]),$=Object(D.isPresent)(S.documentIndex)?F[S.documentIndex]:void 0,Y=Object(c.useMemo)((function(){if(q&&$)return{document:q,errors:$}}),[q,$]),Z=Object(c.useCallback)((function(e){var t=S.documentIndex;W((function(n){var a,r=q?{document:q,errors:n[t]}:void 0,c="function"===typeof e?e(r):e,o=Object(h.f)(null===c||void 0===c?void 0:c.errors,null===r||void 0===r?void 0:r.errors),i=Object(h.f)(null===c||void 0===c?void 0:c.document,null===r||void 0===r?void 0:r.document);if(o&&i)return n;var s=null===c||void 0===c?void 0:c.document;return s&&!i&&G(s),Object(h.y)(t,null!==(a=null===c||void 0===c?void 0:c.errors)&&void 0!==a?a:[],n)}))}),[q,S.documentIndex,G]),X=Object(c.useCallback)((function(e,t){for(var a=0;a<n.documents.length;a++)for(var r=n.documents[a],c=0;c<r.pages.length;c++){var o=r.pages[c];if(o.fileIndex===e&&o.filePageNumber===t)return{documentIndex:a,documentOrder:c}}}),[n.documents]),Q=Object(c.useCallback)((function(e,t){var a=Pr(e,y),r=function(e,t){var n,a=Object(M.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;if("loaded"===r.status)for(var c=r.pages,o=0;o<c.length;o++)if(c[o].pageIndex===e)return r.pageStates[o]}}catch(i){a.e(i)}finally{a.f()}}(e,y);if(a&&r){var c=X(a.fileIndex,a.filePageNumber);if(c||t){var o=Object(Xa.a)(n.documents,(function(e){c&&e[c.documentIndex].pages.splice(c.documentOrder,1),t&&e[t.documentIndex].pages.splice(t.documentOrder,0,{fileIndex:a.fileIndex,filePageNumber:a.filePageNumber,rotate:r.rotate})}));_("documents",o)}}}),[n.documents,y,X,_]),ee=Object(c.useCallback)((function(e){return Pr(e,y)}),[y]),te=Object(c.useCallback)((function(e){if(Object(D.isPresent)(n.documents[e])){var t=Object(r.a)(n.documents);t.splice(e,1),setTimeout((function(){return _("documents",t)}),0),W((function(t){return Object(h.r)(e,1,t)})),N((function(t){return t.documentIndex===e?{}:t}))}}),[n.documents,_]),ne=Object(c.useCallback)((function(e){var t=n.documents.length,a=Object(r.a)(n.documents);if(W((function(e){return[].concat(Object(r.a)(e),[[]])})),e.pages.length>0){var c=e.pages.map((function(e){return X(e.fileIndex,e.filePageNumber)})).filter(D.isPresent);c.length>0&&(c=Object(h.t)([Object(h.e)((function(e){return e.documentIndex})),Object(h.e)((function(e){return e.documentOrder}))],c),a=Object(Xa.a)(a,(function(e){var t,n=Object(M.a)(c);try{for(n.s();!(t=n.n()).done;){var a=t.value;e[a.documentIndex].pages.splice(a.documentOrder,1)}}catch(r){n.e(r)}finally{n.f()}})))}return a.push(e),_("documents",a),t}),[n.documents,X,_]),ae=Object(c.useCallback)((function(e,t){var a=Object(r.a)(n.documents),c=a[e].schemaId;if(t.pages.length>0){var o=t.pages.map((function(e){return X(e.fileIndex,e.filePageNumber)})).filter(D.isPresent).filter((function(t){return t.documentIndex!==e}));o.length>0&&(o=Object(h.t)([Object(h.e)((function(e){return e.documentIndex})),Object(h.e)((function(e){return e.documentOrder}))],o),a=Object(Xa.a)(a,(function(e){var t,n=Object(M.a)(o);try{for(n.s();!(t=n.n()).done;){var a=t.value;e[a.documentIndex].pages.splice(a.documentOrder,1)}}catch(r){n.e(r)}finally{n.f()}})))}if(a[e]=t,_("documents",a),c!==t.schemaId){var i=null===x||void 0===x?void 0:x.find((function(e){return e.$id===t.schemaId})),s=Nr(t,i);W((function(t){return Object(h.y)(e,s,t)}))}return e}),[n.documents,x,X,_]),re=Object(c.useCallback)((function(e){return n.documents[e]}),[n.documents]),ce=Object(c.useState)({}),oe=Object(j.a)(ce,2),ie=oe[0],se=oe[1],ue=Object(c.useCallback)((function(e){var t=ie[e];if(!t){var n=e.indexOf(",");if(!e.startsWith("data:")||-1===n)return e;if("image/tiff"===e.substring(5,n).split(";")[0]){var a=function(e){for(var t=atob(e.split(",")[1]),n=new ArrayBuffer(t.length),a=new Uint8Array(n),r=0;r<t.length;r++)a[r]=t.charCodeAt(r);return n}(e),r=new nr.a({buffer:a});t=r.toDataURL()}else t=e;se((function(n){return Object(b.a)(Object(b.a)({},n),{},Object(d.a)({},e,t))}))}return t}),[ie]),le=Object(c.useCallback)((function(e,t){var a=-1,r=-1;k((function(n){return Object(Xa.a)(n,(function(n){for(var c=n.length-1;c>=0;c--){var o=n[c];if("loaded"===o.status&&o.pageStartIndex<=e){for(var i=0;i<o.pages.length;i++){var s=o.pages[i];if(e===s.pageIndex){var u=o.pageStates[i];u.rotate=Lr(u.rotate,t),a=s.fileIndex,r=s.filePageNumber;break}}break}}}))})),a>-1&&r>-1&&_("documents",Object(Xa.a)(n.documents,(function(e){var n,c=null===(n=e[a])||void 0===n?void 0:n.pages[r];c&&Tr(c,t)})))}),[n.documents,k,_]),de=Object(c.useCallback)((function(e){k((function(t){return Object(Xa.a)(t,(function(t){var n,a=Object(M.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;if("loaded"===r.status){var c,o=Object(M.a)(r.pageStates);try{for(o.s();!(c=o.n()).done;){var i=c.value;i.rotate=Lr(i.rotate,e)}}catch(s){o.e(s)}finally{o.f()}}}}catch(s){a.e(s)}finally{a.f()}}))})),_("documents",Object(Xa.a)(n.documents,(function(t){var n,a=Object(M.a)(t.flatMap((function(e){return e.pages})));try{for(a.s();!(n=a.n()).done;){var r=n.value;Tr(r,e)}}catch(c){a.e(c)}finally{a.f()}})))}),[n.documents,k,_]),be=Object(c.useCallback)(function(){var e=Object(z.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}throw new Error("OcrFunction not defined");case 2:return e.next=4,U(i.moduleName,i.functionName,{image:t});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[U,i]),je=Object(c.useMemo)((function(){return{fileInfos:y,documents:n.documents,documentSchemas:x,unusedPages:V,loadingImages:I,documentInfos:J,currentDocumentLocation:S,setCurrentDocumentLocation:K,currentDocument:q,updateCurrentDocument:G,updateBatch:_,movePage:Q,findByPageIndex:ee,deleteDocument:te,addDocument:ne,updateDocument:ae,getDocument:re,currentDocumentEditionState:Y,setCurrentDocumentEditionState:Z,canModify:O,getDisplayableDataUrl:ue,rotateImage:le,rotateAllImages:de,getPageLocation:X,canOcr:!!i,ocrImage:be}}),[ne,n.documents,O,q,Y,S,te,J,x,y,ue,re,X,ee,Z,K,I,Q,i,be,de,le,V,_,G,ae]);return Object(f.jsx)(wr.Provider,{value:je,children:s})},Er=function(){return Object(c.useContext)(wr)},zr=n(174),Ar=n(64),Rr=n(345),Wr=n.n(Rr),Br=n(1005),Vr=n.n(Br),Ur=n(1006),Jr=n.n(Ur),Hr=n(32),_r=n(1052),qr=n(1001),Kr=n.n(qr),Gr=n(227),$r=n(308),Yr=n(1155),Zr=["saveAsDraft","send","dontSend"];Object.freeze(Zr);var Xr,Qr,ec=n(192),tc=n(593),nc=n(594),ac=n(595),rc=Object(I.a)((function(e){return Object(y.a)({dialogPaper:{},dialogContent:{}})})),cc=function(e){var t=Object(Za.a)().t,n=Er().documentSchemas,a=Object(c.useMemo)((function(){var e={};if(n){var t,a=Object(M.a)(n);try{for(a.s();!(t=a.n()).done;){var r,c=t.value;c.$id&&(e[c.$id]={label:null!==(r=c.title)&&void 0!==r?r:c.$id,description:c.description})}}catch(o){a.e(o)}finally{a.f()}}return e}),[n]),r=Object(c.useMemo)((function(){var e=Object.keys(a);return Object(h.s)((function(e){return a[e].label}),e)}),[a]);return Object(f.jsxs)(ne.a,{container:!0,spacing:3,children:[Object(f.jsx)(ne.a,{item:!0,xs:12,children:Object(f.jsx)(ac.a,{name:"schemaId",options:r,getOptionLabel:function(e){var t;return null===(t=a[e])||void 0===t?void 0:t.label},renderInput:function(e){return Object(f.jsx)(rn.a,Object(b.a)(Object(b.a)({},e),{},{label:t("DocumentType"),InputLabelProps:{required:!0},required:!0,autoFocus:!0,variant:"standard"}))},fullWidth:!0})}),Object(f.jsx)(ne.a,{item:!0,xs:12,children:Object(f.jsx)(nc.a,{name:"pages",label:t("Pages"),variant:"standard",fullWidth:!0})}),Object(f.jsx)(ne.a,{item:!0,xs:12,children:Object(f.jsx)(nc.a,{select:!0,name:"action",label:t("Action"),variant:"standard",fullWidth:!0,children:Zr.map((function(e){return Object(f.jsx)(dt.a,{value:e,children:t("RecognizedDocumentAction.".concat(e))},e)}))})})]})},oc="(\\d+(\\s*-\\s*\\d+)?)",ic="^\\s*".concat(oc,"(\\s*,\\s*").concat(oc,")*\\s*$"),sc=new RegExp(ic),uc=function(e){var t=e.open,n=e.document,a=e.availablePageIndices,o=e.onChange,i=e.onClose,s=Object(Za.a)().t,u=rc(),l=Er(),d=l.documentSchemas,b=l.fileInfos,j=Object(c.useMemo)((function(){var e,t=n?function(e,t){return e.map((function(e){var n=t[e.fileIndex];return"loaded"===n.status?n.pages[e.filePageNumber].pageIndex:-1}))}(n.pages,b):a;return{schemaId:null===n||void 0===n?void 0:n.schemaId,pages:Mr(t),action:null!==(e=null===n||void 0===n?void 0:n.action)&&void 0!==e?e:"send"}}),[a,n,b]),h=Object(c.useRef)(),O=Object(c.useMemo)((function(){return function(e,t){return Yr.c().shape({schemaId:Yr.d().required().test({test:function(e){return!e||!("string"!==typeof e||!t.find((function(t){return t.$id===e})))||this.createError({path:this.path,message:Hr.a.t("UnknownDocumentSchema",{schemaId:e})})}}),pages:Yr.d().test({test:function(e){return!e||!("string"!==typeof e||!sc.test(e))||this.createError({path:this.path,message:Hr.a.t("InvalidPageRange",{range:e})})}}),action:Yr.d().required().oneOf(Object(r.a)(Zr))})}(0,null!==d&&void 0!==d?d:[])}),[a,d]),m=Object(c.useCallback)((function(){var e=h.current;e&&Object(tc.a)(e)}),[]),p=Object(c.useCallback)(function(){var e=Object(z.a)(E.a.mark((function e(t,a){var r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r={schemaId:t.schemaId,pages:[],data:null===n||void 0===n?void 0:n.data,action:t.action},t.pages&&(s=t.pages,c=er()(s).map((function(e){return e-1})),r.pages=Dr(c,b)),null===o||void 0===o||o(r),null===i||void 0===i||i()}finally{a.setSubmitting(!1)}case 1:case"end":return e.stop()}var s}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[null===n||void 0===n?void 0:n.data,b,o,i]),v=Object(c.useCallback)((function(){null===i||void 0===i||i()}),[i]),x=Object(c.useCallback)(function(){var e=Object(z.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"backdropClick"!==n&&(null===i||void 0===i||i());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[i]);return Object(f.jsxs)(Be.a,{open:t,onClose:x,maxWidth:"sm",fullWidth:!0,classes:{paper:u.dialogPaper},children:[Object(f.jsx)(Ve.a,{children:s(n?"EditingDocument":"AddingDocument")}),Object(f.jsx)(Ue.a,{className:u.dialogContent,children:Object(f.jsx)(ec.a,{children:Object(f.jsx)($r.b,{innerRef:function(e){return h.current=e},initialValues:j,onSubmit:p,validationSchema:O,validateOnChange:!0,validateOnBlur:!0,children:Object(f.jsx)($r.a,{autoComplete:"off",children:Object(f.jsx)(cc,{availablePageIndices:a})})})})}),Object(f.jsxs)(He.a,{children:[Object(f.jsx)(We.a,{onClick:m,color:"primary",children:s("Accept")}),Object(f.jsx)(We.a,{onClick:v,color:"primary",children:s("Cancel")})]})]})},lc=n(2432),dc=function(e){return Object(f.jsxs)(lc.a,Object(b.a)(Object(b.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(f.jsx)("path",{d:"M808.3 950h-725C42.9 950 10 917.1 10 876.7V171.6c0-40.4 32.9-73.3 73.3-73.3h502.1c18.6 0 33.6 15.1 33.6 33.6 0 18.6-15.1 33.6-33.6 33.6H83.3c-3.4 0-6.1 2.7-6.1 6.1v705.1c0 3.4 2.7 6.1 6.1 6.1h724.9c3.4 0 6.1-2.7 6.1-6.1V492c0-18.6 15-33.6 33.6-33.6s33.6 15.1 33.6 33.6v384.7c.1 40.4-32.8 73.3-73.2 73.3z"}),Object(f.jsx)("path",{d:"M307.3 781.2c-16.1 0-31.1-8.1-40.1-21.7-8.9-13.5-10.5-30.4-4.1-45.3l83.4-196.8 431-431C801 62.9 832.3 50 865.5 50s64.5 13 88 36.5c48.5 48.6 48.5 127.5 0 176.1l-431 431-196.3 83.8c-6 2.5-12.4 3.8-18.9 3.8zm96-225.5-59.8 141.1 140.8-60.1L906 215c22.3-22.3 22.3-58.7 0-81-10.8-10.8-25.2-16.8-40.5-16.8s-29.7 6-40.5 16.8L403.3 555.7z"}),Object(f.jsx)("path",{d:"M398.4 502.3 530 633.8l-47.5 47.5-131.6-131.5 47.5-47.5zM800.2 100.5 931.8 232l-47.5 47.5L752.7 148l47.5-47.5z"})]}))},bc=n(1668),jc=n(1667),hc=Object(I.a)((function(e){return Object(y.a)({toolbar:{minHeight:"48px",paddingLeft:0,borderBottom:"solid 2px ".concat(e.palette.divider)},tree:{"& .rstcustom__collapseButton":{color:"dark"===e.palette.mode?"white":void 0,backgroundImage:void 0},"& .rstcustom__expandButton":{color:"dark"===e.palette.mode?"white":void 0,backgroundImage:void 0},"& .rstcustom__collapseButton:focus, & .rst__expandButton:focus":{outline:"initial"},"& .rstcustom__highlight":{backgroundColor:"dark"===e.palette.mode?bc.a[700]:void 0}},node:{"& .rstcustom__rowContents":{cursor:"pointer",backgroundColor:e.palette.background.default,minWidth:Math.max(vr.height,vr.width,120)+30,justifyContent:"center",paddingLeft:30},"& .rstcustom__moveHandle":{backgroundColor:"dark"===e.palette.mode?bc.a[700]:void 0}},selectedNode:{"& .rstcustom__rowContents":{backgroundColor:e.palette.action.selected}},actionIcon:{marginLeft:5,verticalAlign:"bottom"},sendActionIcon:{marginLeft:5,color:jc.a[500],verticalAlign:"bottom"},document:{display:"block",wordWrap:"break-word",width:"175px",maxHeight:"40px",overflow:"hidden",whiteSpace:"normal"},documentWithErrors:{textDecoration:"underline wavy ".concat(e.palette.error.main)},documentTitle:{display:"flex"}})})),fc=function(e){return!!e&&Object(D.isPresent)(e.documentIndex)&&!Object(D.isPresent)(e.pageIndex)},Oc=function(e){return!!e&&!Object(D.isPresent)(e.documentIndex)&&!Object(D.isPresent)(e.pageIndex)},mc=function(e){return!!e&&Object(D.isPresent)(e.pageIndex)},pc=function(e){var t=e.node;return mc(t)?"p-".concat(t.pageIndex):fc(t)?"d-".concat(t.documentIndex):"o"},vc=function(e){return!mc(e)},xc=function(e){return mc(e.node)},gc=function(e){var t=e.node,n=e.nextParent,a=t;return!!n&&(!!Object(D.isPresent)(a.documentIndex)||!Oc(n))},Cc=function(){var e=Er(),t=e.documentSchemas,n=e.fileInfos,a=e.documentInfos,o=e.canModify,i=e.setCurrentDocumentLocation,s=e.getPageLocation,u=Object(c.useMemo)((function(){return[]}),[]),l=Object(c.useState)(u),d=Object(j.a)(l,2),h=d[0],O=d[1];return Object(c.useEffect)((function(){O((function(e){var c=o?function(e,t,n,a){var c=[],o=[];e.forEach((function(e,n){"loaded"===e.status&&e.pages.forEach((function(a,r){var i=Hr.a.t("PageN",{index:a.pageIndex+1});if(e.thumbnails){var s=e.thumbnails[r],u=e.pageStates[r].rotate,l=Object(D.isPresent)(u)?{transform:"rotate(".concat(u,"deg)")}:void 0;i=Object(f.jsxs)("div",{style:{height:"100%"},children:[Object(f.jsx)("img",{src:s,alt:" ",style:Object(b.a)(Object(b.a)({},l),{},{top:"0px",left:"30px",position:"absolute",height:"100%"})}),Object(f.jsx)("div",{style:{position:"absolute",bottom:"8px",right:"8px"},children:i})]})}var d=t(n,r),j={title:i,pageIndex:a.pageIndex};if(Object(D.isPresent)(d)){j.documentIndex=d.documentIndex;var h=o[d.documentIndex];h||(o[d.documentIndex]=h=[]),h[d.documentOrder]=j}else c.push(j)}))}));var i=n.map((function(e,t){var n,r=null!==(n=o[t])&&void 0!==n?n:[],c=r.length,i=Hr.a.t("DocumentN",{index:t+1,count:c}),s=e.schemaId;if(s){var u=null===a||void 0===a?void 0:a.find((function(e){return e.$id===s}));if(u){var l=u.title;if(!l){var d=s.lastIndexOf("/");(l=s.substring(d+1)).toLocaleLowerCase().endsWith(".json")&&(l=l.substring(0,l.length-5))}i=Hr.a.t("NamedDocumentN",{title:l,index:t+1,count:c})}}return{documentIndex:t,title:i,action:e.action,errors:e.errors,children:r}}));return[].concat(Object(r.a)(i),[{title:Hr.a.t("OrphanPages",{count:c.length}),children:c}])}(n,s,a,t):function(e,t){return e.map((function(n,a){var r=Hr.a.t("DocumentN",{index:a+1}),c=e[a].schemaId;if(c){var o=null===t||void 0===t?void 0:t.find((function(e){return e.$id===c}));if(o){var i=o.title;if(!i){var s=c.lastIndexOf("/");(i=c.substring(s+1)).toLocaleLowerCase().endsWith(".json")&&(i=i.substring(0,i.length-5))}r="".concat(a+1," - ").concat(i)}}return{documentIndex:a,title:r,action:e[a].action,errors:e[a].errors,children:[]}}))}(a,t);if(e.length>0){for(var i=0;i<Math.min(c.length,e.length-1);i++)c[i].expanded=e[i].expanded;c[c.length-1].expanded=e[e.length-1].expanded}return u===e&&c.length>0&&(c[0].expanded=!0),c}))}),[o,a,t,n,s,u,i]),{treeData:h,setTreeData:O}},yc=function(e){var t=e.node,n=Object(Za.a)().t,a=hc(),r="send"===t.action?Object(f.jsx)(Vr.a,{className:a.sendActionIcon}):"dontSend"===t.action?Object(f.jsx)(Jr.a,{className:a.actionIcon,color:"error"}):Object(f.jsx)(dc,{className:a.actionIcon});return Object(f.jsx)(Oe.a,{title:n("RecognizedDocumentAction.".concat(t.action)),children:Object(f.jsx)("span",{children:r})})},Ic=function(e){var t=e.node,n=e.canModify,a=hc(),r="send"===t.action&&t.errors.length>0&&n?Object(Ar.default)(a.document,a.documentWithErrors):a.document;return Object(f.jsxs)(ne.a,{className:a.documentTitle,alignItems:"center",justifyContent:"center",alignContent:"stretch",children:[Object(f.jsx)(Q.a,{noWrap:!1,variant:"body2",className:r,children:t.title}),Object(f.jsx)(yc,{node:t})]})},kc=function(e){var t=e.description,n=e.onClick,a=e.icon;return Object(f.jsx)(Oe.a,{title:t,children:Object(f.jsx)(oe.a,{size:"small",onClick:n,children:a})})},wc=function(e){var t=e.node,n=e.unusedPageIndices,a=Object(Za.a)().t,o=Object(c.useState)(),i=Object(j.a)(o,2),s=i[0],u=i[1],l=Er(),d=l.updateDocument,b=l.getDocument,h=l.fileInfos,O=Object(c.useMemo)((function(){var e=n;if(Object(D.isPresent)(s)){var t=b(s).pages.map((function(e){var t=h[e.fileIndex];if("loaded"===t.status)return t.pages[e.filePageNumber].pageIndex})).filter(D.isPresent);t.push.apply(t,Object(r.a)(e)),e=t.sort()}return e}),[s,h,b,n]),m=Object(c.useCallback)((function(e,t){u(t)}),[]),p=Object(c.useCallback)((function(e){b(s).schemaId!==e.schemaId&&(e.data={}),d(s,e)}),[s,b,d]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(kc,{description:a("Edit"),icon:Object(f.jsx)(Wr.a,{}),onClick:function(e){return m(e,t.documentIndex)}}),Object(D.isPresent)(s)&&Object(f.jsx)(uc,{open:Object(D.isPresent)(s),document:b(s),availablePageIndices:O,onChange:p,onClose:function(){return u(void 0)}})]})},Pc=function(e){var t=e.node,n=Object(Za.a)().t,a=Object(Gr.c)(),r=Er().deleteDocument,o=Object(c.useCallback)(function(){var e=Object(z.a)(E.a.mark((function e(t,c,o){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,a({description:n("ConfirmDeleteBatchDocument",{name:o})});case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:r(c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[a,r,n]);return Object(f.jsx)(kc,{description:n("Delete"),icon:Object(f.jsx)(se.a,{}),onClick:function(e){return o(e,t.documentIndex,t.title)}})},Sc=function(e){var t=e.unusedPageIndices,n=Object(Za.a)().t,a=Object(c.useState)(!1),r=Object(j.a)(a,2),o=r[0],i=r[1],s=Er(),u=s.setCurrentDocumentLocation,l=s.addDocument,d=Object(c.useCallback)((function(){i(!0)}),[]),b=Object(c.useCallback)((function(e){e.data={};var t=l(e);u({documentIndex:t})}),[l,u]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Oe.a,{title:n("AddDocument"),children:Object(f.jsx)(oe.a,{onClick:d,size:"small",children:Object(f.jsx)(pe.a,{})})}),o&&Object(f.jsx)(uc,{open:o,availablePageIndices:t,onChange:b,onClose:function(){return i(!1)}})]})},Mc=function(e){var t=e.node;return mc(t)&&"string"!==typeof t.title?Math.max(vr.height,vr.width)+62:62},Dc=function(e){var t=hc(),n=Er(),a=n.fileInfos,r=n.loadingImages,o=n.movePage,i=n.currentDocumentLocation,s=n.setCurrentDocumentLocation,u=n.canModify,l=n.unusedPages,j=Cc(),O=j.treeData,m=j.setTreeData;Object(c.useEffect)((function(){if(!r&&u&&i&&Object(D.isPresent)(i.documentIndex)&&!Object(D.isPresent)(i.pageIndex)){var e,t=Object(M.a)(O);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(fc(n)&&n.documentIndex===i.documentIndex&&Array.isArray(n.children)){var a=n.children[0];mc(a)&&s(Object(b.a)(Object(b.a)({},i),{},{pageIndex:a.pageIndex}))}}}catch(c){t.e(c)}finally{t.f()}}}),[u,i,r,s,O]);var p=Object(c.useMemo)((function(){return l.map((function(e){var t=a[e.fileIndex];if("loaded"===t.status)return t.pages[e.filePageNumber].pageIndex})).filter(D.isPresent)}),[a,l]),v=Object(c.useCallback)((function(e){!function(e){var t=e[e.length-1],n=t.children;Oc(t)&&Array.isArray(n)&&n.sort(Object(h.c)((function(e,t){return e.pageIndex<t.pageIndex})))}(e),m(e)}),[m]),x=Object(c.useCallback)((function(e){var t=e.node,n=e.nextParentNode,a=e.prevTreeIndex,r=e.nextTreeIndex;if(n&&a!==r){var c=t,i=n;if(!Oc(i)||Object(D.isPresent)(c.documentIndex))if(fc(i)){var s=i.documentIndex,u=i.children.findIndex((function(e){return e.pageIndex===c.pageIndex}));o(c.pageIndex,{documentIndex:s,documentOrder:u})}else Oc(i)&&o(c.pageIndex)}}),[o]),g=Object(c.useCallback)((function(e,t){var n,a,r=e.target;if(!0!==(null===(n=r.classList)||void 0===n?void 0:n.contains("rst__collapseButton"))&&!0!==(null===(a=r.classList)||void 0===a?void 0:a.contains("rst__expandButton"))){var c=t,o=c.pageIndex;Object(D.isPresent)(o)||!Array.isArray(c.children)||Object(h.k)(c.children)||(o=c.children[0].pageIndex),s({documentIndex:c.documentIndex,pageIndex:o})}}),[s]),C=Object(c.useCallback)((function(e){var n=e.node,a=i&&n.documentIndex===i.documentIndex&&(fc(n)||n.pageIndex===i.pageIndex),r={onClick:function(t){return g(t,e.node)},className:Object(Ar.default)(t.node,Object(d.a)({},t.selectedNode,a))};if(fc(n)){if(u){var c=Object(f.jsx)(wc,{node:n,unusedPageIndices:p}),o=Object(f.jsx)(Pc,{node:n});r.buttons=[c,o]}r.title=function(){return Object(f.jsx)(Ic,{node:n,canModify:u})}}return r}),[u,t.node,t.selectedNode,i,g,p]);return r?null:Object(f.jsxs)(f.Fragment,{children:[u&&Object(f.jsx)(Et.a,{className:t.toolbar,children:Object(f.jsx)(Sc,{unusedPageIndices:p})}),Object(f.jsx)(_r.a,{treeData:O,onChange:v,onMoveNode:x,getNodeKey:pc,canDrag:xc,canDrop:gc,canNodeHaveChildren:vc,isVirtualized:!1,generateNodeProps:C,className:t.tree,rowHeight:Mc,theme:Kr.a})]})},Nc=n(2423),Lc=function(e){return Object(f.jsx)(lc.a,Object(b.a)(Object(b.a)({viewBox:"0 0 512 512"},e),{},{children:Object(f.jsx)("path",{d:"M9.5 1.4C2.3 4.6 0 9.7 0 22.6V32h32V0h-9.7c-5.9.1-11 .6-12.8 1.4zM62 16v16h29V0H62v16zM121 16v16h29V0h-29v16zM180 16v16h29V0h-29v16zM239 16v16h29V0h-29v16zM298 16v16h29V0h-29v16zM357 16v16h29V0h-29v16zM416 15.9V32h32.2l-.4-10.9c-.2-9.2-.6-11.4-2.4-13.7-4.4-6-6.7-6.9-18.5-7.2L416-.2v16.1zM0 76.5V91h32V62H0v14.5zM416 76.5V91h32V62h-32v14.5zM0 135.5V150h32v-29H0v14.5zM416 135.5V150h32v-29h-32v14.5zM0 194.5V209h32v-29H0v14.5zM416 194.5V209h32v-29h-32v14.5zM297.5 225.4c-4.1 1.8-8.3 6.9-9 10.9-.3 1.8-.4 62.2-.3 134.4.3 130.7.3 131.2 2.4 133.9 4.9 6.7 13 9.1 19.5 6 1.9-.9 20.5-15.3 41.4-32.1l38-30.4 54.8-.1c59.9 0 58.9.1 64-5.9 3-3.7 4.2-8.5 3.2-13.9-.6-3.3-11.6-14.6-99.3-102.6-57.7-57.7-100-99.4-101.9-100.2-4-1.7-8.9-1.7-12.8 0zM417.7 416l-39.4.5-3.9 3c-2.1 1.6-15 11.8-28.6 22.7-13.6 10.9-25 19.8-25.3 19.8-.3 0-.5-41.3-.5-91.7v-91.8l68.5 68.5 68.5 68.5-39.3.5zM0 253.5V268h32v-29H0v14.5zM416 253.5V268h32v-29h-32v14.5zM0 312.5V327h32v-29H0v14.5zM0 371.5V386h32v-29H0v14.5zM.2 426.9c.3 11.8 1.2 14.1 7.2 18.5 2.3 1.8 4.5 2.2 13.7 2.4l10.9.4V416H-.2l.4 10.9zM62 432v16h29v-32H62v16zM121 432v16h29v-32h-29v16zM180 432v16h29v-32h-29v16z"})}))},Tc=n(1007),Fc=n.n(Tc),Ec=n(1017),zc=n.n(Ec),Ac=function(){throw new Error("You forgot to wrap your component in <ImageCaptureContextProvider>.")},Rc="move",Wc={captureAvailable:!1,captureImage:Ac,clearCapture:Ac,setCurrentCropper:Ac,loadPage:Ac,releasePage:Ac,fitPage:Ac,fitWidth:Ac,zoomOut:Ac,zoomIn:Ac,dragMode:Rc,setDragMode:Ac,rotateTo:Ac,move:Ac},Bc=Object(c.createContext)(Wc),Vc=function(e){var t=e.outputImageFormat,n=e.children,a=Object(c.useState)(),r=Object(j.a)(a,2),o=r[0],i=r[1],s=Object(c.useState)(),u=Object(j.a)(s,2),l=u[0],d=u[1],b=Object(c.useState)(Rc),O=Object(j.a)(b,2),m=O[0],p=O[1],v=Object(c.useCallback)((function(e){if(o){var n=function(e,t){if("image/tiff"===t){var n=e.getContext("2d").getImageData(0,0,e.width,e.height),a=new Uint8Array(n.data.buffer),r=Fc.a.encodeImage(a,n.width,n.height);return yr(r,"image/tiff")}return e.toDataURL()}(o.getCroppedCanvas(),null!==e&&void 0!==e?e:t);return o.clear(),i(void 0),n}}),[o,t]),x=Object(c.useCallback)((function(){null===l||void 0===l||l.clear(),i(void 0)}),[l]),g=Object(c.useCallback)((function(e,t){var n=e.getContext("2d");if(!n)return!1;n.putImageData(t,0,0);var a=new zc.a(e,{dragMode:Rc,initialAspectRatio:Number.NaN,guides:!1,crop:function(){var e=null===a||void 0===a?void 0:a.getCropBoxData();e&&!Object(h.k)(e)&&i(a)},viewMode:1,autoCrop:!1,ready:function(){d(a)}});return a.clear(),p(Rc),!0}),[]),C=Object(c.useCallback)((function(){d((function(e){e&&e.destroy()})),i(void 0)}),[]),y=Object(c.useCallback)((function(){if(l){var e=l.getContainerData(),t=e.width,n=e.height,a=l.getImageData(),r=a.naturalHeight,c=a.naturalWidth,o=t/c,i=n/r,s=Math.min(o,i);l.zoomTo(s);var u=s===o?0:(t-c*s)/2,d=s===i?0:(n-r*s)/2;l.moveTo(u,d)}}),[l]),I=Object(c.useCallback)((function(){if(l){var e=l.getContainerData(),t=e.width,n=e.height,a=l.getImageData(),r=a.naturalHeight,c=t/a.naturalWidth,o=n/r,i=Math.min(c,o);l.zoomTo(c);var s=i===o?0:(n-r*i)/2;l.moveTo(0,s)}}),[l]),k=Object(c.useCallback)((function(){null===l||void 0===l||l.zoom(-.1)}),[l]),w=Object(c.useCallback)((function(){null===l||void 0===l||l.zoom(.1)}),[l]),P=Object(c.useCallback)((function(e){null===l||void 0===l||l.rotateTo(e)}),[l]),S=Object(c.useCallback)((function(e,t){null===l||void 0===l||l.move(e,t)}),[l]),M=Object(c.useCallback)((function(e){p(e),null===l||void 0===l||l.setDragMode(e)}),[l]),D=Object(c.useMemo)((function(){return{captureAvailable:!!o,captureImage:v,clearCapture:x,currentCropper:o,setCurrentCropper:i,loadPage:g,releasePage:C,fitPage:y,fitWidth:I,zoomOut:k,zoomIn:w,dragMode:m,setDragMode:M,rotateTo:P,move:S}}),[M,v,x,o,m,y,I,g,S,C,P,w,k]);return Object(f.jsx)(Bc.Provider,{value:D,children:n})},Uc=function(){return Object(c.useContext)(Bc)},Jc=Object(I.a)((function(e){return Object(y.a)({image:{marginTop:e.spacing(2),width:"max-content",maxWidth:"100%"},imagePlaceholder:{marginTop:e.spacing(6),height:50},imageActions:{marginLeft:-10}})})),Hc=Object(l.withJsonFormsControlProps)((function(e){var t=e.uischema,n=e.config,a=e.id,r=e.data,o=e.visible,s=e.errors,l=e.label,d=e.required,b=e.description,j=e.path,h=e.handleChange,O=Object(Za.a)().t,m=Jc(),p=0===s.length,v=Object(Qe.merge)({},n,t.options),x=!Object(u.isDescriptionHidden)(o,null!==b&&void 0!==b?b:"",!1,v.showUnfocusedDescription),g=Er().getDisplayableDataUrl,C=Uc(),y=C.captureAvailable,I=C.captureImage,k=Object(c.useCallback)((function(){if(y){var e=I();h(j,e)}}),[y,I,h,j]),w=Object(c.useCallback)((function(){h(j,void 0)}),[h,j]),P=x?b:p?null:s,S=x&&!p?s:null;return Object(f.jsx)(i.a,{xsUp:!o,children:Object(f.jsxs)(yt.a,{fullWidth:!v.trim,id:a,children:[Object(f.jsx)(Qt.a,{htmlFor:a+"-input",error:!p,shrink:"string"===typeof r,children:Object(u.computeLabel)(Object(u.isPlainLabel)(l)?l:l.default,!!d,v.hideRequiredAsterisk)}),Object(f.jsxs)("div",{children:["string"===typeof r&&Object(f.jsx)("img",{src:g(r),alt:"",className:m.image}),"string"!==typeof r&&Object(f.jsx)("img",{src:"".concat(Object(sr.a)(),"images/image-placeholder.png"),alt:"placeholder",className:m.imagePlaceholder})]}),Object(f.jsxs)("div",{className:m.imageActions,children:[Object(f.jsx)(Oe.a,{title:O("CaptureCurrentSelection"),children:Object(f.jsx)("span",{children:Object(f.jsx)(oe.a,{onClick:k,disabled:!y,size:"large",children:Object(f.jsx)(Lc,{})})})}),Object(f.jsx)(Oe.a,{title:O("Delete"),children:Object(f.jsx)(oe.a,{onClick:w,size:"large",children:Object(f.jsx)(se.a,{})})})]}),Object(f.jsx)(te.a,{error:!p&&!x,children:P}),Object(f.jsx)(te.a,{error:!p,children:S})]})})})),_c=Object(u.rankWith)(4,Object(u.and)(u.isControl,(function(e,t){var n=u.Resolve.schema(t,e.scope);return n&&"string"===n.type&&"image"===n.format}))),qc=n(1053),Kc=function(e){return Object(qc.a)((function(t){return Object(f.jsx)(e,Object(b.a)({},t))}))}(jt.a),Gc=o.a.memo((function(e){var t,n,a,r,o=Object(c.useState)(!1),i=Object(j.a)(o,2),s=i[0],u=i[1],l=e.data,d=e.config,b=e.className,h=e.id,O=e.enabled,m=e.uischema,p=e.isValid,v=e.path,x=e.handleChange,g=e.schema,C=e.muiInputProps,y=g.maxLength,I=Se()({},d,m.options);r=I.restrict?{maxLength:y}:{};var k=Object(c.useMemo)((function(){return g.patternMask}),[g]);r=Se()(r,C),I.trim&&void 0!==y&&(r.size=y);var w=Object(xt.a)(),P=(null===(t=w.jsonforms)||void 0===t||null===(n=t.input)||void 0===n||null===(a=n.delete)||void 0===a?void 0:a.background)||w.palette.background.default,S=Object(c.useCallback)((function(e){x(v,e)}),[x,v]);return Object(f.jsx)(Kc,{mask:k,onAccept:S,type:"text",className:b,id:h,value:l,disabled:!O,autoFocus:I.focus,multiline:I.multi,fullWidth:!I.trim||void 0===y,inputProps:r,error:!p,onPointerEnter:function(){return u(!0)},onPointerLeave:function(){return u(!1)},endAdornment:Object(f.jsx)(mt.a,{position:"end",style:{display:s&&O&&void 0!==l?"flex":"none",position:"absolute",right:0},children:Object(f.jsx)(oe.a,{"aria-label":"Clear input field",onClick:function(){return x(v,void 0)},size:"large",children:Object(f.jsx)(vt.a,{style:{background:P,borderRadius:"50%"}})})})})}),l.areEqual),$c=Object(l.withJsonFormsControlProps)((function(e){return Object(f.jsx)(en,Object(b.a)(Object(b.a)({},e),{},{input:Gc}))})),Yc=Object(u.rankWith)(4,Object(u.and)(u.isControl,(function(e,t){var n=u.Resolve.schema(t,e.scope);return n&&"string"===n.type&&"string"===typeof n.patternMask}))),Zc=n(195),Xc=(Xr=function(e){var t=e.onWriteOcredData,n=ro(),a=n.getRootElement,r=n.setStatus,o=n.deactivateCurrentTool,i=Uc(),s=i.captureImage,u=i.setDragMode,l=Er(),d=l.canModify,b=l.canOcr,h=l.ocrImage,f=a(),O=Object(c.useState)(!1),m=Object(j.a)(O,2),p=m[0],v=m[1],x=Object(Za.a)().t,g=Object(Zc.a)();Object(c.useEffect)((function(){var e=function(e){"Escape"===e.key&&o()};return f.addEventListener("keyup",e,{capture:!0}),function(){f.removeEventListener("keyup",e,{capture:!0})}}),[o,f]),Object(c.useEffect)((function(){r(x("KeyboardOcrToolActiveStatus"))}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(z.a)(E.a.mark((function e(){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s("image/png")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,h(n);case 6:a=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),g(x("TextRecognitionFunctionFailed"),e.t0),e.abrupt("return");case 13:return e.prev=13,e.next=16,navigator.clipboard.writeText(a);case 16:e.next=22;break;case 18:return e.prev=18,e.t1=e.catch(13),g(x("RecognizedTextCouldNotBeCopiedToClipboard"),e.t1),e.abrupt("return");case 22:t(a);case 23:case"end":return e.stop()}}),e,null,[[3,9],[13,18]])})));return function(){return e.apply(this,arguments)}}();p&&(v(!1),e().finally((function(){o()})))}),[s,o,h,t,g,p,x]);var C=Object(c.useCallback)((function(e){v(!0)}),[]),y=Object(c.useCallback)((function(e){if(e.target instanceof Node&&f.contains(e.target))return document.addEventListener("pointerup",C,{capture:!0,once:!0}),function(){document.removeEventListener("pointerup",C,{capture:!0})};o()}),[o,C,f]);return Object(c.useEffect)((function(){return u("crop"),document.addEventListener("pointerdown",y,{capture:!0,once:!0}),function(){document.removeEventListener("pointerdown",y,{capture:!0})}}),[y,u]),d&&b||o(),null},Qr={toolType:"KeyboardOcrTool"},Object.assign(Xr,Qr)),Qc=Object(I.a)((function(e){return Object(y.a)({root:{position:"relative"},status:{position:"absolute",bottom:16,left:0,backgroundColor:"lightgray"}})})),eo=function(){throw new Error("You forgot to wrap your component in <ToolManager>.")},to={deactivateCurrentTool:eo,getRootElement:eo,setStatus:eo,activateKeyboardOcrTool:eo},no=Object(c.createContext)(to),ao=function(e){var t=e.children,n=Qc(),a=Object(c.useRef)(null),r=Object(c.useState)(""),o=Object(j.a)(r,2),i=o[0],s=o[1],u=function(){var e,t=Object(c.useState)(),n=Object(j.a)(t,2),a=n[0],r=n[1],o=null!==(e=null===a||void 0===a?void 0:a.toolType)&&void 0!==e?e:c.Fragment;return{setActivationInfo:Object(c.useCallback)((function(e){if(!e)return r(void 0),!0;var t=e.toolType.canActivate;return!(t&&!t(e.args))&&(r(e),!0)}),[]),tool:Object(f.jsx)(o,Object(b.a)({},null===a||void 0===a?void 0:a.args))}}(),l=u.setActivationInfo,d=u.tool,h=Object(c.useCallback)((function(){l(void 0),s("")}),[l]),O=Object(c.useCallback)((function(e){return l({toolType:Xc,args:{onWriteOcredData:e}})}),[l]),m=Object(c.useMemo)((function(){return{deactivateCurrentTool:h,getRootElement:function(){var e;return null!==(e=a.current)&&void 0!==e?e:document.createElement("div")},setStatus:s,activateKeyboardOcrTool:O}}),[O,h]);return Object(f.jsxs)(no.Provider,{value:m,children:[Object(f.jsxs)("div",{ref:a,className:n.root,children:[t,!!i&&Object(f.jsx)("div",{className:n.status,children:i})]}),d]})},ro=function(){return Object(c.useContext)(no)},co=Object(I.a)((function(e){return Object(y.a)({content:{maxHeight:"100%",width:"99%",overflowY:"auto",overflowX:"visible"}})})),oo={restrict:!0},io=["email","number","text"],so=function(e){var t=ro(),n=Object(c.useRef)(null);return Object(c.useEffect)((function(){function a(e){var n=e.target;if("INPUT"===(null===n||void 0===n?void 0:n.tagName)&&"a"===e.key.toLowerCase()&&e.ctrlKey&&io.includes(n.type)){e.preventDefault(),e.stopPropagation();var a=n;t.activateKeyboardOcrTool((function(e){a.focus(),function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=(Object.getOwnPropertyDescriptor(e,"value")||{}).set,r=Object.getPrototypeOf(e),c=(Object.getOwnPropertyDescriptor(r,"value")||{}).set;if(c&&a!==c)c.call(e,t);else{if(!a)throw new Error("The given element does not have a value setter");a.call(e,t)}n&&e.dispatchEvent(new Event("input",{bubbles:!0}))}(a,e)}))}}var r=n.current;return r&&e&&r.addEventListener("keyup",a,{capture:!0}),function(){r&&e&&r.removeEventListener("keyup",a,{capture:!0})}}),[t,e]),{editorRootElemRef:n}},uo=function(e){var t,n=Er(),a=n.documentSchemas,o=n.currentDocument,i=n.currentDocumentEditionState,s=n.setCurrentDocumentEditionState,u=n.canModify,d=n.updateCurrentDocument,j=co(),O=Object(Za.a)().t,m=Object(c.useRef)(null===i||void 0===i?void 0:i.document.data),p=Object(c.useRef)(!1),v=so(u&&!!(null===i||void 0===i?void 0:i.document)).editorRootElemRef;Object(c.useMemo)((function(){m.current=null===i||void 0===i?void 0:i.document.data}),[null===i||void 0===i?void 0:i.document.data]);var x=Object(c.useMemo)((function(){var e={};if(a){var t,n=Object(M.a)(a);try{for(n.s();!(t=n.n()).done;){var r,c=t.value;c.$id&&(e[c.$id]={label:null!==(r=c.title)&&void 0!==r?r:c.$id,description:c.description})}}catch(o){n.e(o)}finally{n.f()}}return e}),[a]),g=Object(c.useMemo)((function(){var e=Object.keys(x);return Object(h.s)((function(e){return x[e].label}),e)}),[x]),C=Object(c.useMemo)((function(){return[].concat(Object(r.a)(Mi),[{tester:_c,renderer:Hc},{tester:Yc,renderer:$c}])}),[]),y=Object(c.useCallback)((function(e){p.current=!!e.errors&&e.errors.length>0;var t=p.current?Object(xr.a)(e.errors.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{instancePath:e.dataPath})}))):void 0;p.current||m.current===e.data||(m.current=e.data,p.current=!1),s((function(n){var a,r;return Object(h.f)(e.data,null===n||void 0===n?void 0:n.document)&&Object(h.f)(t,null===n||void 0===n?void 0:n.errors)?n:{document:Object(b.a)(Object(b.a)({},n.document),{},{data:null!==(a=e.data)&&void 0!==a?a:null===n||void 0===n||null===(r=n.document)||void 0===r?void 0:r.data}),errors:t}}))}),[s]),I=Object(c.useCallback)((function(e){var t=Object(b.a)(Object(b.a)({},o),{},{action:e.target.value});d(t)}),[o,d]),k=Object(c.useCallback)((function(e,t){if(t&&(null===o||void 0===o?void 0:o.schemaId)!==t){var n=Object(b.a)(Object(b.a)({},o),{},{schemaId:t,data:{}});d(n)}}),[o,d]);if(!(null===i||void 0===i?void 0:i.document))return null;var w=null===a||void 0===a?void 0:a.find((function(e){return e.$id===(null===i||void 0===i?void 0:i.document.schemaId)}));return Object(f.jsxs)(ne.a,{container:!0,spacing:1,className:j.content,children:[Object(f.jsx)(ne.a,{item:!0,xs:12,children:Object(f.jsx)(Nc.a,{value:null===o||void 0===o?void 0:o.schemaId,options:g,onChange:k,getOptionLabel:function(e){var t,n;return null!==(t=null===(n=x[e])||void 0===n?void 0:n.label)&&void 0!==t?t:""},disableClearable:!0,renderInput:function(e){return Object(f.jsx)(rn.a,Object(b.a)(Object(b.a)({},e),{},{label:O("DocumentType"),InputLabelProps:{required:!0},required:!0,autoFocus:!0,variant:"standard"}))},fullWidth:!0})}),Object(f.jsx)(ne.a,{item:!0,xs:12,children:Object(f.jsx)(rn.a,{select:!0,value:null===o||void 0===o?void 0:o.action,onChange:I,label:O("Action"),fullWidth:!0,variant:"standard",children:Zr.map((function(e){return Object(f.jsx)(dt.a,{value:e,children:O("RecognizedDocumentAction.".concat(e))},e)}))})}),Object(f.jsx)(ne.a,{item:!0,xs:12,children:Object(f.jsx)("div",{ref:v,children:Object(f.jsx)(l.JsonForms,{data:null!==(t=null===i||void 0===i?void 0:i.document.data)&&void 0!==t?t:{},schema:w,onChange:y,renderers:C,cells:Di,ajv:Cr,readonly:!u||"dontSend"===(null===i||void 0===i?void 0:i.document.action),config:oo})})})]})},lo=n(1364),bo=n(1351),jo=n(2393),ho=n(1468),fo=n(539),Oo=n.n(fo),mo=n(1018),po=n.n(mo),vo=n(1019),xo=n.n(vo),go=n(538),Co=n.n(go),yo=n(1024),Io=n.n(yo),ko=n(1025),wo=n.n(ko),Po=n(1023),So=n.n(Po),Mo=n(1022),Do=n.n(Mo),No=n(1021),Lo=n.n(No),To=n(1020),Fo=n.n(To),Eo=n(543),zo=n.n(Eo),Ao=n(544),Ro=n(310),Wo=function(e){return Object(f.jsx)(lc.a,Object(b.a)(Object(b.a)({viewBox:"0 0 1000 1000"},e),{},{children:Object(f.jsx)("path",{d:"M560.8 191.3v246.9h245V315.8L990 500 805.8 684.2V558.9h-245v246.9h123.4L500 990 315.8 805.8h122.5V558.9h-245v124.4L10 500l183.3-183.3v121.5h245V191.3H318.6L500 10l181.4 181.3H560.8z"})}))},Bo=function(e){return Object(f.jsxs)(lc.a,Object(b.a)(Object(b.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(f.jsx)("path",{d:"M458.3 948.4c125.9 0 239.5-51.9 321-135.4l-37.5-40.2c-72.2 75-173.6 121.7-285.9 121.7-219.2 0-396.9-177.7-396.9-396.9S236.7 100.7 455.9 100.7c207.6 0 377.8 159.5 395.2 362.6h-96.3l117.6 196L990 463.2h-85C886.3 232.9 693.6 51.6 458.3 51.6 210.7 51.6 10 252.4 10 500c0 247.6 200.7 448.4 448.3 448.4z"}),Object(f.jsx)("path",{d:"M 402.3 395.8 c -17.6 -17.8 -41.8 -26.8 -72 -26.8 c -1.3 0 -2.7 0 -4.1 0.1 h -0.1 c -31.8 1.5 -56.7 11.1 -73.8 28.5 c -17.1 17.4 -26.8 42.9 -28.7 75.7 v 0.7 c 1.4 30.5 10 54.2 25.5 70.5 c 15.6 16.4 38.2 25.4 67.3 26.9 h 0.5 c 27.3 -0.8 49.5 -9.4 66.3 -25.6 c -1.9 25.7 -6.9 45.7 -15 59.6 c -9.5 16.3 -23.1 24.2 -41.7 24.2 H 325 c -22.4 0 -36.9 -12.4 -44.3 -37.8 c -0.9 -2.9 -3.5 -4.9 -6.5 -4.9 c -0.5 0 -1 0 -1.4 0.2 l -38.4 8.3 c -1.8 0.4 -3.4 1.5 -4.3 3 c -1 1.6 -1.3 3.5 -0.8 5.2 c 5.9 23 16.9 40.7 32.7 52.4 c 15.7 11.6 36.5 17.5 61.6 17.5 h 1.9 c 37.2 0 65.6 -13.6 84.4 -40.4 c 18.2 -26.1 27.5 -65.3 27.5 -116.5 c 0.3 -27.7 -2.5 -51.8 -8.2 -71.7 c -5.8 -20.5 -14.9 -37 -26.9 -49.1 z m -21 81.8 c -2.6 31.4 -20.1 46.8 -55 48.6 c -31.1 -1.8 -46.4 -19.3 -48.1 -55.2 c 1.7 -35.9 17.5 -53.5 49.6 -55.2 c 17.7 0.5 30.6 5.6 39.4 15.6 c 8.9 10 13.6 25.6 14.1 46.2 z M 647 409.2 c -17.9 -26.1 -44.8 -39.7 -79.9 -40.2 h -0.4 c -35 1.5 -61.9 15.4 -80.1 41.5 c -17.6 25.4 -27 62.8 -28 111.2 v 0.2 c 0.5 48.9 9.6 86.5 27.3 111.7 c 18.2 25.9 45.4 39.2 80.9 39.7 h 1.9 c 35 0 61.7 -13.2 79.4 -39.1 c 17.1 -25.1 25.8 -62.9 25.8 -112.3 v -0.1 c -0.4 -49.4 -9.5 -87.3 -26.9 -112.6 z m -30.5 114 c 0 36.5 -4.4 64.1 -13.1 81.9 c -8 16.4 -19.5 24.4 -35.1 24.4 h -2.8 c -15.6 0 -27.1 -8 -35.1 -24.4 c -8.7 -17.8 -13 -45.3 -13 -81.8 c 0 -36.9 4.4 -64.8 13.1 -82.9 c 8 -16.7 19.5 -24.8 35.1 -24.8 h 1.6 c 0.8 0 1.5 -0.1 2.3 -0.1 c 10.1 0 18.3 3.3 24.9 10 c 15.3 15.4 22.7 48.3 22.1 97.7 z M 647.5 257.5 c -28.4 0 -51.4 23 -51.4 51.5 c 0 28.4 23 51.4 51.4 51.4 s 51.5 -23 51.5 -51.4 c -0.1 -28.5 -23.1 -51.5 -51.5 -51.5 z m 0 73.4 c -12.2 0 -22 -9.9 -22 -22.1 c 0 -12.2 9.9 -22.1 22 -22.1 c 12.2 0 22.1 9.9 22.1 22.1 c -0.1 12.3 -10 22.1 -22.1 22.1 z"})]}))},Vo=function(e){return Object(f.jsxs)(lc.a,Object(b.a)(Object(b.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(f.jsx)("path",{d:"M541.7 948.4c-125.9 0-239.5-51.9-321-135.4l37.5-40.2c72.2 75 173.6 121.7 285.9 121.7 219.2 0 396.9-177.7 396.9-396.9S763.3 100.7 544.1 100.7c-207.6 0-377.8 159.5-395.2 362.6h96.3l-117.6 196L10 463.2h85C113.7 232.9 306.4 51.6 541.7 51.6 789.3 51.6 990 252.4 990 500c0 247.6-200.7 448.4-448.3 448.4z"}),Object(f.jsx)("path",{d:"M502.3 395.8c-17.6-17.8-41.8-26.8-72-26.8-1.3 0-2.7 0-4.1.1h-.1c-31.8 1.5-56.7 11.1-73.8 28.5-17.1 17.4-26.8 42.9-28.7 75.7v.7c1.4 30.5 10 54.2 25.5 70.5 15.6 16.4 38.2 25.4 67.3 26.9h.5c27.3-.8 49.5-9.4 66.3-25.6-1.9 25.7-6.9 45.7-15 59.6-9.5 16.3-23.1 24.2-41.7 24.2H425c-22.4 0-36.9-12.4-44.3-37.8-.9-2.9-3.5-4.9-6.5-4.9-.5 0-1 0-1.4.2l-38.4 8.3c-1.8.4-3.4 1.5-4.3 3-1 1.6-1.3 3.5-.8 5.2 5.9 23 16.9 40.7 32.7 52.4 15.7 11.6 36.5 17.5 61.6 17.5h1.9c37.2 0 65.6-13.6 84.4-40.4 18.2-26.1 27.5-65.3 27.5-116.5.3-27.7-2.5-51.8-8.2-71.7-5.8-20.5-14.9-37-26.9-49.1zm-21 81.8c-2.6 31.4-20.1 46.8-55 48.6-31.1-1.8-46.4-19.3-48.1-55.2 1.7-35.9 17.5-53.5 49.6-55.2 17.7.5 30.6 5.6 39.4 15.6 8.9 10 13.6 25.6 14.1 46.2zM747 409.2c-17.9-26.1-44.8-39.7-79.9-40.2h-.4c-35 1.5-61.9 15.4-80.1 41.5-17.6 25.4-27 62.8-28 111.2v.2c.5 48.9 9.6 86.5 27.3 111.7 18.2 25.9 45.4 39.2 80.9 39.7h1.9c35 0 61.7-13.2 79.4-39.1 17.1-25.1 25.8-62.9 25.8-112.3v-.1c-.4-49.4-9.5-87.3-26.9-112.6zm-30.5 114c0 36.5-4.4 64.1-13.1 81.9-8 16.4-19.5 24.4-35.1 24.4h-2.8c-15.6 0-27.1-8-35.1-24.4-8.7-17.8-13-45.3-13-81.8 0-36.9 4.4-64.8 13.1-82.9 8-16.7 19.5-24.8 35.1-24.8h1.6c.8 0 1.5-.1 2.3-.1 10.1 0 18.3 3.3 24.9 10 15.3 15.4 22.7 48.3 22.1 97.7zM747.5 257.5c-28.4 0-51.4 23-51.4 51.5 0 28.4 23 51.4 51.4 51.4s51.5-23 51.5-51.4c-.1-28.5-23.1-51.5-51.5-51.5zm0 73.4c-12.2 0-22-9.9-22-22.1 0-12.2 9.9-22.1 22-22.1 12.2 0 22.1 9.9 22.1 22.1-.1 12.3-10 22.1-22.1 22.1z"})]}))},Uo=function(e){return Object(f.jsx)(lc.a,Object(b.a)(Object(b.a)({viewBox:"0 0 100 100"},e),{},{children:Object(f.jsx)("switch",{children:Object(f.jsxs)("g",{children:[Object(f.jsx)("path",{d:"M5273.1 2400.1v-2c0-2.8-5-4-9.7-4s-9.7 1.3-9.7 4v2c0 1.8.7 3.6 2 4.9l5 4.9c.3.3.4.6.4 1v6.4c0 .4.2.7.6.8l2.9.9c.5.1 1-.2 1-.8v-7.2c0-.4.2-.7.4-1l5.1-5c1.3-1.3 2-3.1 2-4.9zm-9.7-.1c-4.8 0-7.4-1.3-7.5-1.8.1-.5 2.7-1.8 7.5-1.8s7.3 1.3 7.5 1.8c-.2.5-2.7 1.8-7.5 1.8z"}),Object(f.jsx)("path",{d:"M5268.4 2410.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1h-4.3zM5272.7 2413.7h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1zM5272.7 2417h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1 0-.5-.4-1-1-1z"}),Object(f.jsx)("g",{children:Object(f.jsx)("path",{d:"M45.2 45.5H32.4v-5.2c0-.7-.4-1.3-1-1.5-.6-.3-1.3-.2-1.8.3l-10.7 9.7c-.4.3-.6.8-.6 1.2 0 .4.2.9.5 1.2l.1.1L29.6 61c.5.4 1.2.6 1.8.3.6-.3 1-.9 1-1.5v-5.2h12.8c.8 0 1.4-.6 1.4-1.4V47c0-.9-.7-1.5-1.4-1.5zM70.4 39.1c-.5-.4-1.2-.6-1.8-.3-.6.3-1 .9-1 1.5v5.2H54.8c-.8 0-1.4.6-1.4 1.4v6.2c0 .8.6 1.4 1.4 1.4h12.8v5.2c0 .5.2.9.5 1.2.1.1.3.3.5.3.6.3 1.3.2 1.8-.3l10.7-9.7c.4-.3.6-.8.6-1.2 0-.5-.2-.9-.6-1.2l-10.7-9.7zM10.9 28.7H4.2c-.9 0-1.7.8-1.7 1.7v39.2c0 .9.8 1.7 1.7 1.7h6.7c.9 0 1.7-.8 1.7-1.7V30.4c0-.9-.8-1.7-1.7-1.7zM95.8 28.7h-6.7c-.9 0-1.7.8-1.7 1.7v39.2c0 .9.8 1.7 1.7 1.7h6.7c.9 0 1.7-.8 1.7-1.7V30.4c0-.9-.8-1.7-1.7-1.7z"})})]})})}))},Jo=function(e){return Object(f.jsx)(lc.a,Object(b.a)(Object(b.a)({viewBox:"0 0 24 24"},e),{},{children:Object(f.jsx)("path",{d:"M2 2v5h2V4h3V2H2zm15 0v2h3v3h2V2h-5zm-5.844 4.031L7 17h1.969l.906-2.563h4.25L15 17h2L12.844 6.031h-1.688zM12 8.375l1.594 4.531h-3.188L12 8.375zM2 17v5h5v-2H4v-3H2zm18 0v3h-3v2h5v-5h-2z"})}))},Ho=Object(I.a)((function(e){return Object(y.a)({toolbar:{minHeight:"48px",paddingLeft:0,borderBottom:"solid 2px ".concat(e.palette.divider)},listContainer:{width:"100%",height:"calc(100% - 48px)"},cropper:{height:"100%",width:"100%"},cropperDisabled:{"& .cropper-crop-box":{display:"none"},"& .cropper-drag-box":{opacity:0}},imageItem:{width:"100%",position:"relative"},image:{maxWidth:"100%",marginTop:10,marginBottom:10},imagePlaceholder:{marginTop:10,height:50},imageActions:{marginLeft:-10},grow:{flexGrow:1},textField:{width:"4ch"},totalPages:{display:"inline-block",marginTop:6},fixHeight:{height:24},toolbarButtonContainer:{position:"relative"},ellipsis:{position:"absolute",fontSize:12,right:0,bottom:0,borderRadius:"50%",backgroundColor:e.palette.background.default,border:"solid 1px ".concat(e.palette.action.active)}})})),_o=Object(je.a)((function(e){return{grouped:{margin:e.spacing(.5),border:"none","&:not(:first-child)":{borderRadius:e.shape.borderRadius},"&:first-child":{borderRadius:e.shape.borderRadius}}}}))(bo.a),qo=function(e){var t=e.tooltip,n=e.onClick,a=e.showEllipsis,r=e.disabled,c=e.children,o=Ho();return Object(f.jsx)(Oe.a,{title:t,children:Object(f.jsxs)("div",{className:o.toolbarButtonContainer,children:[Object(f.jsx)(oe.a,{onClick:n,size:"small",disabled:r,children:c}),a&&Object(f.jsx)(zo.a,{className:o.ellipsis})]})})},Ko=function(e){var t=Object(Za.a)().t,n=Er(),a=n.canModify,r=n.rotateImage,o=n.rotateAllImages,i=n.canOcr,s=n.ocrImage,u=Ho(),l=Object(Ao.a)({}),d=l.width,b=l.height,h=l.ref,O=Object(c.useRef)(null),m=function(){var e=Er(),t=e.currentDocument,n=e.currentDocumentLocation,a=e.setCurrentDocumentLocation,r=e.fileInfos,o=e.unusedPages,i=Object(c.useMemo)((function(){var e=[],n=[];if(t){var a,c=Object(M.a)(t.pages);try{for(c.s();!(a=c.n()).done;){var i=a.value,s=r[i.fileIndex];"loaded"===s.status&&(e.push(s.pages[i.filePageNumber]),n.push(s.pageStates[i.filePageNumber]))}}catch(u){c.e(u)}finally{c.f()}}else r.forEach((function(t,a){"loaded"===t.status&&t.pageStates.forEach((function(r,c){o.findIndex((function(e){return e.fileIndex===a&&e.filePageNumber===c}))>-1&&(n.push(r),e.push(t.pages[c]))}))}));return[e,n]}),[t,r,o]),s=Object(j.a)(i,2),u=s[0],l=s[1],d=Object(c.useMemo)((function(){var e=null===n||void 0===n?void 0:n.pageIndex;if(!Object(D.isPresent)(e))return[void 0,void 0];var t=u.findIndex((function(t){return t.pageIndex===e}));return[null===n||void 0===n?void 0:n.documentIndex,t>=0?t:void 0]}),[null===n||void 0===n?void 0:n.documentIndex,null===n||void 0===n?void 0:n.pageIndex,u]),b=Object(j.a)(d,2),h=b[0],f=b[1],O=Object(c.useCallback)((function(){a({documentIndex:h,pageIndex:u[0].pageIndex})}),[h,u,a]),m=Object(c.useCallback)((function(){Object(D.isPresent)(f)&&0!==f&&a({documentIndex:h,pageIndex:u[f-1].pageIndex})}),[h,f,u,a]),p=Object(c.useCallback)((function(){!Object(D.isPresent)(f)||f+1>=u.length||a({documentIndex:h,pageIndex:u[f+1].pageIndex})}),[h,f,u,a]),v=Object(c.useCallback)((function(){0!==u.length&&a({documentIndex:h,pageIndex:u[u.length-1].pageIndex})}),[h,u,a]),x=Object(c.useCallback)((function(e){isNaN(e)||e<=0||e>u.length||a({documentIndex:h,pageIndex:u[e-1].pageIndex})}),[h,u,a]);return{currentPage:Object(D.isPresent)(f)?u[f]:void 0,currentPageState:Object(D.isPresent)(f)?l[f]:void 0,currentPageNumber:Object(D.isPresent)(f)?f+1:void 0,totalPages:u.length,gotoFirst:O,gotoPrev:m,gotoNext:p,gotoLast:v,gotoPage:x}}(),p=m.currentPageNumber,v=m.currentPage,x=m.currentPageState,g=m.totalPages,C=m.gotoFirst,y=m.gotoLast,I=m.gotoNext,k=m.gotoPage,w=m.gotoPrev,P=Object(c.useState)(null!==p&&void 0!==p?p:null),S=Object(j.a)(P,2),N=S[0],L=S[1],T=Uc(),F=T.captureAvailable,A=T.captureImage,R=T.clearCapture,W=T.loadPage,B=T.releasePage,V=T.fitPage,U=T.fitWidth,J=T.zoomIn,H=T.zoomOut,_=T.dragMode,q=T.setDragMode,K=T.rotateTo,G=T.move,$=Object(c.useState)(!1),Y=Object(j.a)($,2),Z=Y[0],X=Y[1],Q=Object(Ro.b)().enqueueSnackbar,ee=Object(Zc.a)(),te=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(j.a)(r,2),i=o[0],s=o[1];return Object(c.useEffect)((function(){var e=function(e){"Shift"===e.key&&(e.location===KeyboardEvent.DOM_KEY_LOCATION_LEFT?a(!0):e.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT&&s(!0))},t=function(e){"Shift"===e.key&&(e.location===KeyboardEvent.DOM_KEY_LOCATION_LEFT?a(!1):e.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT&&s(!1))};return document.addEventListener("keydown",e,{capture:!0}),document.addEventListener("keyup",t,{capture:!0}),function(){document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("keyup",t,{capture:!0})}}),[]),n||i}();Object(c.useEffect)((function(){L(null!==p&&void 0!==p?p:null)}),[p]),Object(c.useEffect)((function(){return v&&setTimeout((function(){var e,t=O.current;t&&(e=v.getImageData(),function(e){return"object"===typeof e&&"then"in e}(e)?e:Promise.resolve(e)).then((function(e){W(t,e)}))}),0),function(){B()}}),[v,W,B]),Object(c.useEffect)((function(){x&&K(x.rotate)}),[x,K]);var ne=Object(c.useCallback)((function(e){var t=0,n=0;"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),R()):"ArrowUp"===e.key?n=-1:"ArrowDown"===e.key?n=1:"ArrowLeft"===e.key?t=-1:"ArrowRight"===e.key&&(t=1),0===t&&0===n||G(t,n)}),[R,G]),ae=Object(c.useCallback)((function(e){var t=e.target.value;if(Object(D.isPresent)(t)&&0!==t.length){var n=parseInt(t);isNaN(n)||L(n)}else L(null)}),[]),re=Object(c.useCallback)((function(e){"Enter"===e.key&&(e.preventDefault(),Object(D.isPresent)(N)&&!isNaN(N)&&k(N))}),[k,N]),ce=Object(c.useCallback)((function(e){e.currentTarget.focus()}),[]),oe=Object(c.useCallback)((function(e,t){t&&q(t)}),[q]),ie=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?o(e):v&&r(v.pageIndex,e)}),[v,o,r]),se=Object(c.useCallback)(Object(z.a)(E.a.mark((function e(){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F&&i){e.next=2;break}return e.abrupt("return");case 2:if(n=A("image/png")){e.next=5;break}return e.abrupt("return");case 5:return X(!0),e.prev=6,e.prev=7,e.next=10,s(n);case 10:a=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),ee(t("TextRecognitionFunctionFailed"),e.t0),e.abrupt("return");case 17:return e.prev=17,e.next=20,navigator.clipboard.writeText(a);case 20:e.next=26;break;case 22:return e.prev=22,e.t1=e.catch(17),ee(t("RecognizedTextCouldNotBeCopiedToClipboard"),e.t1),e.abrupt("return");case 26:Q(t("RecognizedTextCopiedToClipboard"),{variant:"success"});case 27:return e.prev=27,X(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[6,,27,30],[7,13],[17,22]])}))),[i,F,A,Q,s,ee,t]);return v?Object(f.jsxs)(f.Fragment,{children:[a&&Object(f.jsxs)(Et.a,{className:u.toolbar,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(rn.a,{value:null!==N&&void 0!==N?N:"",onChange:ae,onKeyDown:re,disabled:!Object(D.isPresent)(p),className:u.textField,inputProps:{style:{textAlign:"right"}},variant:"standard"}),Object(f.jsxs)("span",{className:u.totalPages,children:["\xa0 / ",g," \xa0"]})]}),Object(f.jsx)(qo,{onClick:C,tooltip:t("GotoFirstPage"),children:Object(f.jsx)(Oo.a,{})}),Object(f.jsx)(qo,{onClick:w,tooltip:t("GotoPrevPage"),children:Object(f.jsx)(po.a,{})}),Object(f.jsx)(qo,{onClick:I,tooltip:t("GotoNextPage"),children:Object(f.jsx)(xo.a,{})}),Object(f.jsx)(qo,{onClick:y,tooltip:t("GotoLastPage"),children:Object(f.jsx)(Co.a,{})}),Object(f.jsx)(jo.a,{orientation:"vertical",flexItem:!0}),Object(f.jsxs)(_o,{value:_,onChange:oe,size:"small",exclusive:!0,children:[Object(f.jsx)(lo.a,{value:"crop",children:Object(f.jsx)(Oe.a,{title:t("Crop"),children:Object(f.jsx)("div",{className:u.fixHeight,children:Object(f.jsx)(Lc,{})})})}),Object(f.jsx)(lo.a,{value:"move",children:Object(f.jsx)(Oe.a,{title:t("Move"),children:Object(f.jsx)("div",{className:u.fixHeight,children:Object(f.jsx)(Wo,{})})})})]}),Object(f.jsx)(jo.a,{orientation:"vertical",flexItem:!0}),Object(f.jsx)(qo,{onClick:V,tooltip:t("FitPage"),children:Object(f.jsx)(Fo.a,{})}),Object(f.jsx)(qo,{onClick:U,tooltip:t("FitWidth"),children:Object(f.jsx)(Uo,{})}),Object(f.jsx)(qo,{onClick:H,tooltip:t("ZoomOut"),children:Object(f.jsx)(Lo.a,{})}),Object(f.jsx)(qo,{onClick:J,tooltip:t("ZoomIn"),children:Object(f.jsx)(Do.a,{})}),Object(f.jsx)(jo.a,{orientation:"vertical",flexItem:!0}),Object(f.jsx)(qo,{onClick:function(e){return ie(-90,e.shiftKey)},tooltip:t(te?"RotateAll90Ccw":"Rotate90Ccw"),showEllipsis:te,children:Object(f.jsx)(Vo,{})}),Object(f.jsx)(qo,{onClick:function(e){return ie(90,e.shiftKey)},tooltip:t(te?"RotateAll90Cw":"Rotate90Cw"),showEllipsis:te,children:Object(f.jsx)(Bo,{})}),Object(f.jsx)(qo,{onClick:function(e){return ie(180,e.shiftKey)},tooltip:t(te?"RotateAll180":"Rotate180"),showEllipsis:te,children:Object(f.jsx)(So.a,{})}),Object(f.jsx)(qo,{onClick:function(e){return ie(-1,e.shiftKey)},tooltip:t(te?"RotateAll1Ccw":"Rotate1Ccw"),showEllipsis:te,children:Object(f.jsx)(Io.a,{})}),Object(f.jsx)(qo,{onClick:function(e){return ie(1,e.shiftKey)},tooltip:t(te?"RotateAll1Cw":"Rotate1Cw"),showEllipsis:te,children:Object(f.jsx)(wo.a,{})}),i&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(jo.a,{orientation:"vertical",flexItem:!0}),Object(f.jsx)(qo,{onClick:se,tooltip:t("OcrCapture"),disabled:!F||Z,children:Z?Object(f.jsx)(ho.a,{size:20}):Object(f.jsx)(Jo,{})})]})]}),Object(f.jsx)("div",{ref:h,className:u.listContainer,onKeyDown:ne,tabIndex:-1,onClick:ce,children:Object(D.isPresent)(d)&&Object(D.isPresent)(b)&&!!v&&Object(f.jsx)("canvas",{ref:O,width:v.width,height:v.height,style:{visibility:"hidden"}})})]}):null},Go=Object(I.a)((function(e){return Object(y.a)({content:{height:"80vh",minWidth:900,display:"flex",flexDirection:"row"},treePane:{flexGrow:1,overflow:"auto",width:function(e){return e.canModify?"26%":"40%"}},imageListPane:{flexGrow:1,width:"41%",overflowY:"auto",borderLeft:"2px solid ".concat(e.palette.divider),paddingLeft:10},editorPane:{width:function(e){return e.canModify?"32%":"59%"},flexGrow:1,overflow:"auto",borderLeft:"2px solid ".concat(e.palette.divider),paddingLeft:10}})})),$o=function(e){var t=Object(Za.a)().t,n=Er(),a=n.loadingImages,r=n.documentSchemas,c=n.canModify,o=Go({canModify:c});return r?a?Object(f.jsx)(zr.b,{children:t("LoadingImages")}):Object(f.jsx)(ao,{children:Object(f.jsxs)("div",{className:o.content,children:[Object(f.jsx)("div",{className:o.treePane,children:Object(f.jsx)(Dc,{})}),c&&Object(f.jsx)("div",{className:o.imageListPane,children:Object(f.jsx)(Ko,{})}),Object(f.jsx)("div",{className:o.editorPane,children:Object(f.jsx)(uo,{})})]})}):null},Yo=function(e){var t,n=Object(l.useJsonForms)(),a=Object(u.mapStateToControlProps)({jsonforms:Object(b.a)({},n)},e),o=a.data,s=a.path,d=a.visible,j=a.uischema,O=null===o||void 0===o?void 0:o.documents,m=Object(c.useMemo)((function(){return O?function(e){if(!Array.isArray(e))return[];for(var t=e,n=0;n<t.length;n++){var a=t[n];if(!Object(D.isPresent)(a.data)||!a.action){var c,o,i=Object(b.a)(Object(b.a)({},a),{},{data:null!==(c=a.data)&&void 0!==c?c:{},action:null!==(o=a.action)&&void 0!==o?o:"send"});t===e&&(t=Object(r.a)(e)),t[n]=i}}return t}(O):[]}),[O]);if(Object(c.useEffect)((function(){var e;m===O||Object(h.f)(m,O)||(null===(e=n.dispatch)||void 0===e||e.call(n,Object(u.update)(Object(Ya.compose)(s,"documents"),(function(){return m}))))}),[n,O,m,s]),m!==O&&!Object(h.f)(m,O))return null;if("ImageBatchRecognition"!==j.type)return null;var p=j;return Object(f.jsx)(i.a,{xsUp:!d,children:Object(f.jsx)(ec.a,{children:Object(f.jsx)(Fr,{basePath:s,batch:o,documentSchemasSource:p.documentSchemasSource,readonly:null!==(t=p.readonly)&&void 0!==t&&t,ocrFunction:p.ocrFunction,children:Object(f.jsx)(Vc,{outputImageFormat:p.outputImageFormat,children:Object(f.jsx)($o,{})})})})})},Zo=Object(u.rankWith)(3,Object(u.uiTypeIs)("ImageBatchRecognition")),Xo=n(510),Qo=n.n(Xo),ei=n(511),ti=n.n(ei),ni=n(512),ai=n.n(ni),ri=n(1347),ci=n(1188),oi=n(1747),ii=function(e){Object(U.a)(n,e);var t=Object(J.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.description,a=t.id,r=t.errors,c=t.label,o=t.uischema,s=t.visible,l=t.enabled,d=t.required,j=t.path,h=t.handleChange,O=t.data,m=t.config,p=c,v=0===r.length,x=Se()({},m,o.options),g=!Object(u.isDescriptionHidden)(s,null!==n&&void 0!==n?n:"",this.state.isFocused,x.showUnfocusedDescription),C=Object(u.isPlainLabel)(c)?c:p;return Object(f.jsx)(i.a,{xsUp:!s,children:Object(f.jsx)(ri.a,{renderInput:function(t){return Object(f.jsx)(rn.a,Object(b.a)(Object(b.a)({},t),{},{id:a+"-input",variant:"standard",error:!v,fullWidth:!x.trim,helperText:v?g?n:" ":r,InputLabelProps:{shrink:!0},onFocus:e.onFocus,onBlur:e.onBlur}))},label:Object(u.computeLabel)(C,null!==d&&void 0!==d&&d,x.hideRequiredAsterisk),value:O?Object(ci.default)(O):null,onChange:function(e){return h(j,e&&!isNaN(e.valueOf())?Object(oi.a)(e,{representation:"date"}):"")},inputFormat:Hr.a.t("DATE_FORMAT"),clearable:!0,disabled:!l,autoFocus:x.focus,okText:Hr.a.t("OK"),cancelText:Hr.a.t("Cancel"),clearText:Hr.a.t("Clear"),components:{LeftArrowIcon:Qo.a,RightArrowIcon:ti.a,OpenPickerIcon:ai.a},InputProps:{}})})}}]),n}(l.Control),si=Object(u.rankWith)(10,u.isDateControl),ui=Object(l.withJsonFormsControlProps)(ii),li=n(1340),di=function(e){Object(U.a)(n,e);var t=Object(J.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.description,r=t.errors,c=t.label,o=t.uischema,s=t.visible,l=t.enabled,d=t.required,j=t.path,h=t.handleChange,O=t.data,m=t.config,p=Se()({},m,o.options),v=0===r.length;return Object(f.jsx)(i.a,{xsUp:!s,children:Object(f.jsx)(li.a,{renderInput:function(t){return Object(f.jsx)(rn.a,Object(b.a)(Object(b.a)({},t),{},{id:n+"-input",variant:"standard",error:!v,helperText:v?a:r,fullWidth:!p.trim,onFocus:e.onFocus,onBlur:e.onBlur,InputLabelProps:{shrink:!0}}))},label:Object(u.computeLabel)(Object(u.isPlainLabel)(c)?c:c.default,null!==d&&void 0!==d&&d,p.hideRequiredAsterisk),value:O||null,onChange:function(e){return h(j,e&&!isNaN(e.valueOf())?e.toISOString():"")},inputFormat:Hr.a.t("DATETIME_FORMAT"),clearable:!0,disabled:!l,autoFocus:p.focus,okText:Hr.a.t("OK"),cancelText:Hr.a.t("Cancel"),clearText:Hr.a.t("Clear"),components:{LeftArrowIcon:Qo.a,RightArrowIcon:ti.a,OpenPickerIcon:ai.a},InputProps:{}})})}}]),n}(l.Control),bi=Object(u.rankWith)(10,u.isDateTimeControl),ji=Object(l.withJsonFormsControlProps)(di),hi=o.a.memo((function(e){var t,n=e.data,a=e.className,r=e.id,c=e.enabled,i=e.uischema,s=e.path,u=e.handleChange,l=e.options,d=e.config,h=e.getOptionLabel,O=e.renderOption,m=e.filterOptions,p=Se()({},d,i.options),v=o.a.useState(null!==n&&void 0!==n?n:""),x=Object(j.a)(v,2),g=x[0],C=x[1],y=null!==(t=null===l||void 0===l?void 0:l.find((function(e){return e.value===n})))&&void 0!==t?t:null;return Object(f.jsx)(Nc.a,{className:a,id:r,disabled:!c,value:y,onChange:function(e,t){u(s,null===t||void 0===t?void 0:t.value)},inputValue:g,onInputChange:function(e,t){C(t)},autoHighlight:!0,autoSelect:!0,autoComplete:!0,fullWidth:!0,options:null!==l&&void 0!==l?l:[],getOptionLabel:h||function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.label)&&void 0!==t?t:""},style:{marginTop:16},renderInput:function(e){return Object(f.jsx)(jt.a,{style:{width:"100%"},type:"text",inputProps:e.inputProps,inputRef:e.InputProps.ref,autoFocus:p.focus,disabled:!c})},renderOption:O?function(e,t,n){return Object(f.jsx)("li",Object(b.a)(Object(b.a)({},e),{},{children:O(t,n)}))}:void 0,filterOptions:m})}),l.areEqual),fi=function(e){var t=e.config,n=e.uischema,a=Se()({},t,n.options);return Object(f.jsx)(en,Object(b.a)(Object(b.a)({},e),{},{input:!1===a.autocomplete?bt:hi}))},Oi=Object(u.rankWith)(10,u.isEnumControl),mi=Object(l.withJsonFormsEnumProps)(fi),pi=function(e){var t=e.config,n=e.uischema,a=Se()({},t,n.options);return Object(f.jsx)(en,Object(b.a)(Object(b.a)({},e),{},{input:!1===a.autocomplete?bt:hi}))},vi=[{tester:Object(u.rankWith)(10,u.isOneOfEnumControl),renderer:Object(l.withJsonFormsOneOfEnumProps)(pi),debugInfo:"MaterialAutocompleteOneOfEnumControl"},{tester:Oi,renderer:mi,debugInfo:"MaterialAutocompleteEnumControl"}].concat(Object(r.a)(qa)),xi=n(1349),gi=n(1026),Ci=n.n(gi),yi=[n(1045)],Ii=Object(h.m)((function(e){return e[0]}),Object(h.h)((function(e){return e.$id}),yi)),ki={resolve:{nimflow:{order:1,canRead:function(e){return!!Ii[e.url]},read:function(e){return Object(h.p)(["$id"],Ii[e.url])}}}},wi=function(e){return Ci.a.dereference(e,ki)},Pi=["context","bindContext","uiSchemaLibrary","schema","onChange","config"],Si=function(e){var t=e.context,n=e.bindContext,a=e.uiSchemaLibrary,o=e.schema,i=e.onChange,s=e.config,u=Object(S.a)(e,Pi),d=function(e){var t=Object(xi.a)(Object(z.a)(E.a.mark((function t(){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,wi(e);case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),[e]);return{resolvedSchema:t.value,loading:t.loading,error:t.error}}(o),O=d.resolvedSchema,m=d.loading,v=d.error,x=Object(c.useState)(),g=Object(j.a)(x,2),C=g[0],y=g[1],I=Object(c.useState)([]),k=Object(j.a)(I,2),w=k[0],P=k[1],M=Object(c.useState)(),D=Object(j.a)(M,2),N=D[0],L=D[1],T=Object(c.useMemo)((function(){var e;return Object(b.a)(Object(b.a)({},s),{},{restrict:null===(e=null===s||void 0===s?void 0:s.restrict)||void 0===e||e})}),[s]),F=Object(c.useCallback)((function(e){y(e)}),[]),A=Object(c.useCallback)((function(e){P(e)}),[]);if(Object(c.useEffect)((function(){if(C||0!==w.length){var e=function(e,t){var n={data:void 0};return t.length>0||(null===e||void 0===e?void 0:e.errors)&&e.errors.length>0?(n.errors=(null===e||void 0===e?void 0:e.errors)?[].concat(Object(r.a)(e.errors),Object(r.a)(t)):t,n.errors=Object(h.t)([Object(h.c)((function(e,t){var n,a;return e.dataPath<t.dataPath||e.dataPath===t.dataPath&&(null!==(n=e.message)&&void 0!==n?n:"")<(null!==(a=t.message)&&void 0!==a?a:"")}))],n.errors)):n.data=null===e||void 0===e?void 0:e.data,n}(C,w);L((function(t){return Object(h.f)(t,e)?t:e}))}}),[w,C]),Object(c.useEffect)((function(){N&&(null===i||void 0===i||i(N))}),[N,i]),m)return Object(f.jsx)(zr.b,{});if(v)throw v;return Object(f.jsx)(p,{context:t,bindContext:n,uiSchemaLibrary:a,onErrorsChange:A,children:Object(f.jsx)(l.JsonForms,Object(b.a)({renderers:Mi,cells:Di,schema:O,onChange:F,config:T},u))})},Mi=[].concat(Object(r.a)(vi),[{tester:C,renderer:g,debugInfo:"MarkdownRenderer"},{tester:P,renderer:w,debugInfo:"PdfRenderer"},{tester:T,renderer:L,debugInfo:"UseRenderer"},{tester:$a,renderer:Ga,debugInfo:"DynamicSelectionRenderer"},{tester:Zo,renderer:Yo,debugInfo:"ImageBatchRecognitionRenderer"},{tester:si,renderer:ui,debugInfo:"DateRenderer"},{tester:bi,renderer:ji,debugInfo:"DateTimeRenderer"}]),Di=Ka},1087:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(3),r=n(89),c=n(31),o=function(e,t){var n,o=null===(n=e.definitions)||void 0===n?void 0:n[t];if(!Object(r.isPresent)(o))throw new Error("Invalid definition ".concat(t));if("boolean"===typeof o)throw new Error("Invalid definition ".concat(t));var i=Object(c.b)(o);return delete i.definitions,e=Object(a.a)(Object(a.a)({},e),i)},i=function(e,t,n){if(e.jsonSchema){var a=JSON.parse(e.jsonSchema),r=e.tasks.find((function(e){return e.name===t})),c=null===r||void 0===r?void 0:r.validResponses.find((function(e){return e.name===n})),i=null===c||void 0===c?void 0:c.payloadSchemaDefinitionName;if(i)return o(a,i)}},s=function(e,t){if(e.jsonSchema){var n=JSON.parse(e.jsonSchema),a=e.actions.find((function(e){return e.name===t})),r=null===a||void 0===a?void 0:a.payloadSchemaDefinitionName;if(r)return o(n,r)}}},192:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(4),r=n(6),c=n(7),o=n(8),i=n(1),s=n(1377),u=n(2299),l=n(2301),d=n(2300),b=n(305),j=n.n(b),h=n(29),f=function(e){var t=e.error,n=e.stack;return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(d.a,{expandIcon:Object(h.jsx)(j.a,{}),children:Object(h.jsx)(s.a,{variant:"h5",color:"error",children:t})}),Object(h.jsx)(l.a,{children:Object(h.jsx)("pre",{children:n})})]})},O=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(r.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log({error:e,errorInfo:t}),this.setState({errorInfo:t})}},{key:"render",value:function(){var e,t,n=this.state,a=n.hasError,r=n.error,c=n.errorInfo;return a?Object(h.jsx)(f,{error:null!==(e=null===r||void 0===r?void 0:r.message)&&void 0!==e?e:"",stack:null!==(t=null===c||void 0===c?void 0:c.componentStack)&&void 0!==t?t:""}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(i.Component)},193:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(3),r=n(32),c=n(552),o=n.n(c),i=n(614);o.a.registerHelper("translate",(function(e,t){var n={ns:i.b};return"object"===typeof t&&"hash"in t&&(n=Object(a.a)(Object(a.a)({},n),t.hash)),r.a.t(e,n)}));var s=function(e,t,n,a){return function(e,t){return o.a.compile(e,t)}(e,n)(t,a)}},195:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1),r=n(1633),c=n(310),o=n(2430),i=n(227),s=n(534),u=n(1059),l=n(29),d=function(){var e=Object(o.a)().t,t=Object(c.b)().enqueueSnackbar,n=Object(i.b)();return Object(a.useCallback)((function(a,c,o){var i,d,b=null!==(i=null===o||void 0===o?void 0:o.variant)&&void 0!==i?i:"error",j=null!==(d=null===o||void 0===o?void 0:o.dialogTitle)&&void 0!==d?d:e("Error");if(Object(u.b)(c)&&"string"===typeof a){var h,f=!1===(null===(h=window.navigator)||void 0===h?void 0:h.onLine);a=e(f?"BrowserOfflineMessage":"NetworkErrorMessage",{message:a})}t(a,{variant:b,action:Object(l.jsx)(r.a,{onClick:function(){n({title:j,description:Object(l.jsx)(s.a,{error:c})})},children:e("ShowDetails")})})}),[n,t,e])}},232:function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"f",(function(){return j})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return x})),n.d(t,"e",(function(){return C}));var a=n(15),r=n(31),c=(n(619),n(89),["MilestoneReached","MilestoneCleared"]),o=["TaskCreated","TaskUpdated","TaskArchived","ResponseSent"],i=["ActionDispatched","ContextsRecalculationCompleted","ContextRecalculationError"].concat(o,c);["RequestProcessed"].concat(Object(a.a)(i),["CustomEvent","BlobStorageUpdated"]);function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.settings;return!n&&t&&(e.settings=n={}),n}function u(e){var t,n=null===(t=s(e))||void 0===t?void 0:t.commandText;return Object(r.k)(n)?e.name:n}function l(e){var t,n=null===(t=s(e))||void 0===t?void 0:t.actionInProgressText;return n||e.name}var d={id:"string",typeName:"string",reference:"string",state:"record",dateCreated:"dateTime",dateModified:"dateTime",version:"string",contextTypeVersion:"number",milestones:"array",tags:"array",metrics:"array"},b={id:"string",contextId:"string",contextTypeName:"string",contextReference:"string",typeName:"string",title:"string",data:"record",labels:"array",dateCreated:"dateTime",dateUpdated:"dateTime",assignedTo:"string",assignedToRole:"string",status:"string",archived:"boolean",dueDate:"string",importance:"number",focused:"boolean"},j={event:"string",timestamp:"dateTime",requestTypeName:"string",subject:"string",sentBy:"string",contextTypeName:"string",reference:"string",contextIsNew:"boolean",action:"string",message:"string",innerMessage:"string",dueDate:"dateTime",taskTypeName:"string",assignedTo:"string",importance:"number",responseTypeName:"string",sentOn:"dateTime",startedOn:"dateTime",oldImportance:"number",oldLabels:"array",oldDueDate:"dateTime",oldAssignedTo:"string",milestoneName:"string",value:"dateTime",eventName:"string",category:"string",tags:"array",metrics:"array"},h=function(e){var t=["string","number","boolean","dateTime"];return Object.keys(e).filter((function(n){return t.includes(e[n])})).sort()},f=function(e){return Object.keys(e).filter((function(t){return"array"===e[t]})).sort()},O=function(e){return Object.keys(e).filter((function(t){return"record"===e[t]})).sort()},m=h(d),p=f(d),v=O(d),x=([].concat(Object(a.a)(m),Object(a.a)(p),Object(a.a)(v)),h(b)),g=(f(b),O(b)),C=([].concat(Object(a.a)(x),Object(a.a)(g)),h(j)),y=f(j);[].concat(Object(a.a)(C),Object(a.a)(y))},2418:function(e,t,n){"use strict";n.r(t),n.d(t,"DispatchActionStepper",(function(){return Oe}));var a=n(2),r=n(1),c=n(2416),o=n(2376),i=n(2426),s=n(1348),u=n(1354),l=n(1341),d=n(2430),b=n(3),j=n(18),h=n(1470),f=n(29),O=["children","className"],m=Object(c.a)((function(e){return Object(o.a)({paper:{padding:e.spacing(2),color:e.palette.text.secondary}})})),p=function(e){var t=e.children,n=e.className,a=Object(j.a)(e,O),r=m();return Object(f.jsx)(h.a,Object(b.a)(Object(b.a)({className:"".concat(r.paper," ").concat(n),elevation:3},a),{},{children:t}))},v=n(1512),x=n(1377),g=["children"],C=function(e){var t=e.children,n=Object(j.a)(e,g);return Object(f.jsx)(x.a,Object(b.a)(Object(b.a)({variant:"h5"},n),{},{children:t}))},y=["title","actions"],I=Object(c.a)((function(e){return Object(o.a)({grow:{flexGrow:1},actionToolbarButtons:{display:"flex"}})})),k=function(e){var t=e.title,n=e.actions,a=Object(j.a)(e,y),r=I();return Object(f.jsxs)(v.a,Object(b.a)(Object(b.a)({variant:"dense"},a),{},{children:[t&&Object(f.jsx)(C,{children:t}),Object(f.jsx)("div",{className:r.grow}),n&&Object(f.jsx)("div",{className:r.actionToolbarButtons,children:n})]}))},w=n(9),P=n.n(w),S=n(30),M=n(136),D=n(31),N=n(1471),L=n(2440),T=n(2429),F=n(1497),E=n(2441),z=n(2397),A=n(2419),R=n(1071),W=n.n(R),B=n(131),V=n(2432),U=function(e){return Object(f.jsxs)(V.a,Object(b.a)(Object(b.a)({viewBox:"0 0 64 64"},e),{},{children:[Object(f.jsx)("path",{d:"M58 13H6c-1.103 0-2-.897-2-2s.897-2 2-2h52c1.103 0 2 .897 2 2S59.103 13 58 13zM6 10c-.552 0-1 .449-1 1s.448 1 1 1h52c.552 0 1-.449 1-1s-.448-1-1-1H6zM36.5 20h-9c-1.379 0-2.5-1.122-2.5-2.5s1.121-2.5 2.5-2.5h9c1.379 0 2.5 1.122 2.5 2.5S37.879 20 36.5 20zM27.5 16c-.827 0-1.5.673-1.5 1.5s.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5S37.327 16 36.5 16H27.5zM18.497 45h-6c-1.379 0-2.5-1.122-2.5-2.5s1.121-2.5 2.5-2.5h6c1.379 0 2.5 1.122 2.5 2.5S19.876 45 18.497 45zM12.497 41c-.827 0-1.5.673-1.5 1.5s.673 1.5 1.5 1.5h6c.827 0 1.5-.673 1.5-1.5s-.673-1.5-1.5-1.5H12.497zM51.497 45h-6c-1.379 0-2.5-1.122-2.5-2.5s1.121-2.5 2.5-2.5h6c1.379 0 2.5 1.122 2.5 2.5S52.876 45 51.497 45zM45.497 41c-.827 0-1.5.673-1.5 1.5s.673 1.5 1.5 1.5h6c.827 0 1.5-.673 1.5-1.5s-.673-1.5-1.5-1.5H45.497zM29.5 28h-10c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h10c.276 0 .5.224.5.5v4C30 27.776 29.776 28 29.5 28zM20 27h9v-3h-9V27zM44.5 28h-10c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h10c.276 0 .5.224.5.5v4C45 27.776 44.776 28 44.5 28zM35 27h9v-3h-9V27zM29.5 36h-8c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h8c.276 0 .5.224.5.5v4C30 35.776 29.776 36 29.5 36zM22 35h7v-3h-7V35zM43.5 36h-8c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h8c.276 0 .5.224.5.5v4C44 35.776 43.776 36 43.5 36zM36 35h7v-3h-7V35z"}),Object(f.jsx)("path",{d:"M56.5,48h-49C7.224,48,7,47.776,7,47.5v-35C7,12.224,7.224,12,7.5,12h49c0.276,0,0.5,0.224,0.5,0.5v35    C57,47.776,56.776,48,56.5,48z M8,47h48V13H8V47z"}),Object(f.jsx)("rect",{width:"1",height:"3",x:"31.5",y:"6.5"}),Object(f.jsx)("path",{d:"M32 7c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2S33.103 7 32 7zM32 4c-.552 0-1 .449-1 1s.448 1 1 1 1-.449 1-1S32.552 4 32 4zM21.5 61h-4c-.152 0-.297-.069-.392-.188-.095-.12-.13-.275-.096-.424l3-13C20.065 47.161 20.268 47 20.5 47h4c.152 0 .297.069.392.188.095.12.13.275.096.424l-3 13C21.935 60.839 21.732 61 21.5 61zM18.129 60h2.974l2.769-12h-2.974L18.129 60zM46.5 61h-4c-.232 0-.435-.161-.487-.388l-3-13c-.034-.148.001-.304.096-.424C39.203 47.069 39.348 47 39.5 47h4c.232 0 .435.161.487.388l3 13c.034.148-.001.304-.096.424C46.797 60.931 46.652 61 46.5 61zM42.897 60h2.974l-2.769-12h-2.974L42.897 60z"}),Object(f.jsx)("path",{d:"M41.974 56H22.026l.922-4h18.104L41.974 56zM23.282 55h17.436l-.461-2H23.743L23.282 55zM15.48 37.008c-.128 0-.256-.049-.354-.146l-3.008-3.008c-.195-.195-.195-.512 0-.707l3.008-3.008c.195-.195.512-.195.707 0l3.008 3.008c.195.195.195.512 0 .707l-3.008 3.008C15.736 36.959 15.608 37.008 15.48 37.008zM13.18 33.5l2.301 2.301 2.301-2.301-2.301-2.301L13.18 33.5zM32.48 46.008c-.128 0-.256-.049-.354-.146l-3.008-3.008c-.195-.195-.195-.512 0-.707l3.008-3.008c.195-.195.512-.195.707 0l3.008 3.008c.195.195.195.512 0 .707l-3.008 3.008C32.736 45.959 32.608 46.008 32.48 46.008zM30.18 42.5l2.301 2.301 2.301-2.301-2.301-2.301L30.18 42.5zM32 22c-.276 0-.5-.224-.5-.5v-2c0-.276.224-.5.5-.5s.5.224.5.5v2C32.5 21.776 32.276 22 32 22z"}),Object(f.jsx)("path",{d:"M39.5 24c-.276 0-.5-.224-.5-.5V22H25v1.5c0 .276-.224.5-.5.5S24 23.776 24 23.5v-2c0-.276.224-.5.5-.5h15c.276 0 .5.224.5.5v2C40 23.776 39.776 24 39.5 24zM15.5 31c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5h4c.276 0 .5.224.5.5S19.776 26 19.5 26H16v4.5C16 30.776 15.776 31 15.5 31zM32.48 39.992c-.234.01-.501-.225-.5-.501L31.998 34H29.5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h3c.133 0 .261.053.354.147S33 33.369 33 33.501l-.02 5.992C32.979 39.77 32.756 39.992 32.48 39.992z"}),Object(f.jsx)("path",{d:"M32.52 39.992c-.275 0-.499-.223-.5-.499L32 33.501c0-.133.052-.26.146-.354S32.367 33 32.5 33h3c.276 0 .5.224.5.5S35.776 34 35.5 34h-2.498l.018 5.491c.001.276-.223.5-.498.501C32.521 39.992 32.521 39.992 32.52 39.992zM15.5 41c-.276 0-.5-.224-.5-.5v-3.992c0-.276.224-.5.5-.5s.5.224.5.5V40.5C16 40.776 15.776 41 15.5 41zM39.5 32c-.276 0-.5-.224-.5-.5v-3.992c0-.276.224-.5.5-.5s.5.224.5.5V31.5C40 31.776 39.776 32 39.5 32zM21.5 34h-3.012c-.276 0-.5-.224-.5-.5s.224-.5.5-.5H21.5c.276 0 .5.224.5.5S21.776 34 21.5 34zM29.5 43h-9.012c-.276 0-.5-.224-.5-.5s.224-.5.5-.5H29.5c.276 0 .5.224.5.5S29.776 43 29.5 43zM43.497 43h-8.009c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8.009c.276 0 .5.224.5.5S43.773 43 43.497 43z"}),Object(f.jsxs)("g",{children:[Object(f.jsx)("defs",{children:Object(f.jsx)("rect",{id:"SVGID_1_",width:"675.5",height:"132.688",x:"-1235.486",y:"289.422"})}),Object(f.jsx)("clipPath",{id:"SVGID_2_",children:Object(f.jsx)("use",{overflow:"visible",href:"#SVGID_1_"})})]})]}))},J=n(1494),H=n(1633),_=Object(c.a)((function(e){return Object(o.a)({button:{marginRight:e.spacing(1)},content:{maxHeight:"60vh",overflowY:"auto"}})})),q=function(e){var t=e.onNext,n=e.onBack,a=e.onSkip,r=e.nextActionCaption,c=e.children,o=_(),s=Object(d.a)().t;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(i.a,{container:!0,children:Object(f.jsx)(i.a,{item:!0,xs:12,className:o.content,children:c})}),Object(f.jsx)(i.a,{container:!0,children:Object(f.jsxs)(i.a,{item:!0,xs:12,children:[Object(f.jsx)(H.a,{disabled:!n,onClick:n,className:o.button,children:s("Back")}),!!a&&Object(f.jsx)(H.a,{onClick:a,className:o.button,children:s("Skip")}),!!t&&Object(f.jsx)(H.a,{onClick:t,className:o.button,children:null!==r&&void 0!==r?r:s("Next")})]})})]})},K=Object(c.a)((function(e){return Object(o.a)({root:{flexGrow:1}})})),G=function(e,t){if(!e)return[];if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)||e.description&&e.description.includes(n)}))},$=n(89),Y=Object(c.a)((function(e){return Object(o.a)({root:{flexGrow:1,width:"100%",marginTop:"20px",marginBottom:"20px"}})})),Z=n(1087),X=n(253),Q=n(232),ee=n(1051),te=Object(c.a)((function(e){return Object(o.a)({root:{flexGrow:1,width:"100%",marginBottom:"20px"},textField:{width:"100%"},content:{padding:"8px 24px","&:first-child":{paddingTop:20}}})})),ne=n(1349),ae=n(1635),re=n(1879),ce=n.n(re),oe=n(1878),ie=n.n(oe),se=n(1667),ue=n(174),le=n(534),de=Object(c.a)((function(e){return Object(o.a)({button:{marginRight:e.spacing(1)},icon:{textAlign:"center"}})})),be=function(e){var t=e.icon,n=e.title,a=e.details,r=de();return Object(f.jsx)(ae.a,{pt:"50px",pb:"50px",maxHeight:"60vh",children:Object(f.jsxs)(i.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:4,children:[!!t&&Object(f.jsx)(i.a,{item:!0,xs:12,className:r.icon,children:t}),Object(f.jsx)(i.a,{item:!0,xs:12,children:Object(f.jsx)(x.a,{variant:"h4",align:"center",children:n})}),!!a&&Object(f.jsx)(i.a,{item:!0,xs:12,children:"string"===typeof a?Object(f.jsx)(x.a,{variant:"h6",align:"center",children:a}):Object(f.jsx)("div",{children:a})})]})})},je=function(e){var t=e.action,n=e.onDispatchCompleted,a=e.onBack,r=de(),c=Object(d.a)().t,o=Object(B.c)().contexts_DispatchAction,s=Object(ne.a)(Object(S.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[o,t]),u=s.loading,l=s.value,b=s.error;return u?Object(f.jsx)(ue.b,{children:c("ExecutingAction")}):Object(f.jsxs)(f.Fragment,{children:[!b&&Object(f.jsx)(be,{icon:Object(f.jsx)(ie.a,{style:{color:se.a[500],fontSize:60}}),title:c("ActionCompleted"),details:c("DispatchActionResult",{id:null===l||void 0===l?void 0:l.contextId})}),!!b&&Object(f.jsx)(be,{icon:Object(f.jsx)(ce.a,{color:"error",style:{fontSize:60}}),title:c("ActionFailed"),details:Object(f.jsx)(le.a,{error:b})}),Object(f.jsx)(i.a,{container:!0,children:Object(f.jsxs)(i.a,{item:!0,xs:12,children:[!!b&&Object(f.jsx)(H.a,{onClick:a,className:r.button,children:c("Back")}),Object(f.jsx)(H.a,{onClick:n,className:r.button,children:c("Ok")})]})})]})},he=Object(c.a)((function(e){return Object(o.a)({root:{width:"100%"},button:{marginRight:e.spacing(1)},content:{maxHeight:"60vh",overflowY:"auto"}})})),fe=[function(e){var t=e.value,n=e.onNext,c=K(),o=Object(r.useState)(""),i=Object(a.a)(o,2),s=i[0],u=i[1],l=function(e){var t=Object(B.c)().contextTypes_Search,n=Object(M.a)("/ContextTypes/Search",Object(S.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({limit:100});case 2:return n=e.sent,e.abrupt("return",Object(D.s)((function(e){return e.name}),n));case 4:case"end":return e.stop()}}),e)})))),a=n.data,c=n.error,o=n.isValidating,i=n.mutate;return Object(r.useMemo)((function(){return{data:G(a,e),isValidating:o,error:c,mutate:i}}),[a,e,o,c,i])}(s),d=l.data,b=l.error,j=l.isValidating,h=Object(r.useCallback)((function(e){t.contextTypeName===e?n(t):n({contextTypeName:e})}),[t,n]);return Object(f.jsxs)(q,{children:[Object(f.jsx)(k,{actions:Object(f.jsx)(J.a,{value:s,onChange:u})}),Object(f.jsx)(L.a,{className:c.root,style:{maxHeight:"400",overflowY:"auto"},children:d.map((function(e,t){return Object(f.jsxs)(T.a,{children:[Object(f.jsx)(z.a,{children:Object(f.jsx)(U,{})}),Object(f.jsx)(F.a,{primary:e.name,secondary:e.description}),Object(f.jsx)(E.a,{children:Object(f.jsx)(N.a,{edge:"end",onClick:function(){return h(e.name)},size:"large",children:Object(f.jsx)(W.a,{})})})]},e.name)}))}),!j&&!!b&&Object(f.jsx)(A.a,{severity:"error",children:b.toString()})]})},function(e){var t=e.value,n=e.onBack,a=e.onNext,c=Y(),o=function(e){var t=Object(B.c)().contextTypes_FindOne,n=Object(M.a)("/ContextType/".concat(e),Object(S.a)(P.a.mark((function n(){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t({name:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{revalidateOnFocus:!1}),a=n.data,c=n.error,o=n.isValidating,i=n.mutate;return Object(r.useMemo)((function(){return{contextType:a,isValidating:o,error:c,mutate:i}}),[a,o,i,c])}(t.contextTypeName),s=o.contextType,u=o.error,l=o.isValidating,d=Object(r.useMemo)((function(){return s?s.initialActions.map((function(e){return s.actions.find((function(t){return t.name===e}))})).filter($.isPresent):[]}),[s]),b=Object(r.useCallback)((function(e){t.action===e?a(t):a({contextTypeName:t.contextTypeName,action:e})}),[t,a]);return!l&&u?Object(f.jsx)(A.a,{severity:"error",children:u.toString()}):l||!s?null:Object(f.jsx)(q,{onBack:n,children:Object(f.jsx)(i.a,{container:!0,direction:"column",alignItems:"center",spacing:3,className:c.root,children:d.map((function(e){return Object(f.jsx)(i.a,{item:!0,xs:10,children:Object(f.jsx)(H.a,{variant:"outlined",onClick:function(){return b(e.name)},children:e.name})},e.name)}))})})},function(e){var t,n=e.value,c=e.onBack,o=e.onNext,s=te(),u=Object(d.a)().t,l=function(e){var t=Object(B.c)().contextTypes_FindOne,n=Object(M.a)("/ContextType/".concat(e),Object(S.a)(P.a.mark((function n(){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t({name:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{revalidateOnFocus:!1}),a=n.data,c=n.error,o=n.isValidating,i=n.mutate;return Object(r.useMemo)((function(){return{contextType:a,isValidating:o,error:c,revalidate:i}}),[a,o,i,c])}(n.contextTypeName),j=l.contextType,h=l.error,O=l.isValidating,m=Object(r.useState)({reference:n.reference,contextId:n.contextId}),p=Object(a.a)(m,2),v=p[0],x=p[1],g=Object(r.useState)(null!==(t=n.payload)&&void 0!==t?t:{}),C=Object(a.a)(g,2),y=C[0],I=C[1],k=Object(r.useRef)(),w=Object(r.useRef)(),N=Object(r.useMemo)((function(){return null===j||void 0===j?void 0:j.actions.find((function(e){return e.name===n.action}))}),[j,n]),L=Object(r.useCallback)((function(){N&&j&&(k.current&&k.current.length>0||w.current&&w.current.length>0||o(Object(b.a)(Object(b.a)(Object(b.a)({},n),v),{},{payload:y})))}),[o,N,j,v,y,n]),T=Object(r.useMemo)((function(){return{type:"object",properties:{reference:{type:"string"}},required:["reference"]}}),[]),F=Object(r.useMemo)((function(){return function(e,t){if(e&&t&&e.payloadSchemaDefinitionName)return Object(Z.a)(t,e.name)}(N,j)}),[N,j]),E=Object(r.useMemo)((function(){var e,t=N?null===(e=Object(Q.i)(N))||void 0===e?void 0:e.uiSchema:void 0;if(t)return JSON.parse(t)}),[N]),z=Object(r.useCallback)((function(e){e.errors&&e.errors.length>0?(Object(X.a)(e.errors.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{instancePath:e.dataPath})}))),k.current=Object(D.b)(e.errors)):(x(e.data),k.current=void 0)}),[x]),R=Object(r.useCallback)((function(e){e.errors&&e.errors.length>0?(Object(X.a)(e.errors.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{instancePath:e.dataPath})}))),w.current=Object(D.b)(e.errors)):(I(e.data),w.current=void 0)}),[I]),W=Object(r.useMemo)((function(){var e;if(j){var t=null===(e=Object(Q.i)(j))||void 0===e?void 0:e.uiSchemaCommon;if(t)return JSON.parse(t)}}),[j]);return!O&&h?Object(f.jsx)(A.a,{severity:"error",children:h.toString()}):j&&N?Object(f.jsx)(q,{onBack:c,onNext:L,nextActionCaption:u("ExecuteAction"),children:Object(f.jsxs)(i.a,{container:!0,spacing:2,className:s.root,children:[Object(f.jsx)(i.a,{item:!0,xs:12,className:s.content,children:Object(f.jsx)(ee.a,{schema:T,data:v,onChange:z,uiSchemaLibrary:W})}),Object(f.jsx)(i.a,{item:!0,xs:12,className:s.content,children:!!F&&Object(f.jsx)(ee.a,{schema:F,uischema:E,data:y,onChange:R,uiSchemaLibrary:W})})]})}):null}],Oe=function(){var e=Object(d.a)().t,t=he(),n=Object(r.useState)(0),c=Object(a.a)(n,2),o=c[0],b=c[1],j=Object(r.useState)({}),h=Object(a.a)(j,2),O=h[0],m=h[1],v=Object(r.useMemo)((function(){return[o>0?e("SelectedContextType",{name:O.contextTypeName}):e("SelectContextType"),o>1?e("SelectedActionType",{name:O.action}):e("SelectActionType"),e("CompleteActionData")]}),[o,O,e]),x=Object(r.useCallback)((function(e){m(e),b((function(e){return e+1}))}),[b]),g=Object(r.useCallback)((function(){b((function(e){return e+1}))}),[b]),C=Object(r.useCallback)((function(){b((function(e){return e-1}))}),[b]),y=Object(r.useCallback)((function(){b(0),m({})}),[]),I=function(){var e=fe[o];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(s.a,{activeStep:o,alternativeLabel:!0,children:v.map((function(e,t){return Object(f.jsx)(u.a,{children:Object(f.jsx)(l.a,{children:e})},t)}))}),!!e&&Object(f.jsx)(e,{value:O,onNext:x,onBack:C,onSkip:g})]})};return Object(f.jsx)(i.a,{container:!0,spacing:3,justifyContent:"center",children:Object(f.jsx)(i.a,{item:!0,xs:9,children:Object(f.jsxs)(p,{className:t.root,children:[Object(f.jsx)(k,{title:e("DispatchingAction")}),o<3?Object(f.jsx)(I,{}):Object(f.jsx)(je,{action:O,onDispatchCompleted:y,onBack:C})]})})})};t.default=Oe},253:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f}));var a=n(625),r=n.n(a),c=n(359),o=n(683),i=n.n(o),s=n(360),u=n.n(s),l=n(32),d=u.a;function b(e){n(687)("./".concat(e,"/index")).then((function(e){"function"===typeof(null===e||void 0===e?void 0:e.default)&&(d=e.default)})).catch((function(){var t=e.indexOf("-");t>0&&b(e.substring(0,t))}))}l.a.language&&b(l.a.language),l.a.on("languageChanged",(function(e){b(e)}));var j=new r.a({allErrors:!0,addUsedSchema:!1});j.addMetaSchema(c),i()(j),j.addKeyword({keyword:"markdownDescription",schemaType:"string",valid:!0});var h=function(e){var t;return j.validateSchema(e)?{type:"success"}:(j.errors&&d&&d(j.errors),{type:"failure",errors:null!==(t=j.errors)&&void 0!==t?t:[]})},f=function(e){return d&&d(e),e}},483:function(e,t){},593:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(89),r=function e(t){var n={};if(t)for(var r=function(){var r=o[c];Array.isArray(t[r])?t[r].forEach((function(t,c){var o=n[r];Object(a.isPresent)(o)||(n[r]=o=[]),o[c]=e(t)})):"object"===typeof t[r]&&null!==t[r]?n[r]=e(t[r]):n[r]=!0},c=0,o=Object.keys(t);c<o.length;c++)r();return n},c=function(e){return e.validateForm().then((function(t){Object.keys(t).length>0?e.setTouched(r(t)):e.handleSubmit()}))}},594:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(3),r=n(2),c=n(18),o=n(1),i=n(1475),s=n(308),u=n(89),l=n(29),d=["name","debounce","onChange","onBlur","helperText","error","disabled","controlValueAdapter"],b=function(e){var t=e.name,n=e.debounce,b=e.onChange,j=e.onBlur,h=e.helperText,f=(e.error,e.disabled),O=e.controlValueAdapter,m=Object(c.a)(e,d),p=Object(s.d)().isSubmitting,v=Object(s.c)({name:t}),x=Object(r.a)(v,3),g=x[0],C=x[1],y=x[2],I=C.error,k=C.touched&&!!I,w=Object(o.useState)(g.value),P=Object(r.a)(w,2),S=P[0],M=P[1],D=Object(o.useState)(),N=Object(r.a)(D,2),L=N[0],T=N[1];Object(o.useEffect)((function(){M(g.value)}),[g.value]);var F=Object(o.useCallback)((function(e){var t=e.target.value;y.setValue(O?O(t):t),null===b||void 0===b||b(e)}),[O,y,b]),E=Object(o.useCallback)((function(e){M((function(t){var n=e.target.value;return n||t})),Object(u.isPresent)(n)?(e.persist(),L&&clearTimeout(L),T(setTimeout((function(){return F(e)}),n))):F(e)}),[F,n,L]),z=Object(o.useCallback)((function(e){g.onBlur(e),null===j||void 0===j||j(e)}),[g,j]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(i.a,Object(a.a)(Object(a.a)({},g),{},{value:null!==S&&void 0!==S?S:"",onChange:E,onBlur:z,error:k,helperText:k?I:h,disabled:null!==f&&void 0!==f?f:p},m))})}},595:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(3),r=n(2),c=n(18),o=n(1),i=n(2423),s=n(308),u=n(29),l=["name","controlValueAdapter","onChange","onBlur","renderInput","multiple","loading","disabled"],d=function(e){var t,n=e.name,d=e.controlValueAdapter,b=e.onChange,j=e.onBlur,h=e.renderInput,f=e.multiple,O=e.loading,m=e.disabled,p=Object(c.a)(e,l),v=Object(s.d)(),x=v.isSubmitting,g=v.setFieldTouched,C=Object(s.c)({name:n}),y=Object(r.a)(C,3),I=y[0],k=y[1],w=y[2],P=k.error,S=k.touched&&!!P,M=Object(o.useCallback)((function(e,t,n,a){var r=d?d(t):t;w.setValue(null!==r&&void 0!==r?r:void 0),null===b||void 0===b||b(e,t,n,a)}),[d,w,b]),D=Object(o.useCallback)((function(e){g(I.name),I.onBlur(e),null===j||void 0===j||j(e)}),[I,j,g]),N=Object(o.useCallback)((function(e){return h?h(Object(a.a)(Object(a.a)({},e),{},{error:S,helperText:S?P:void 0})):null}),[P,h,S]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(i.a,Object(a.a)(Object(a.a)({},I),{},{value:null!==(t=I.value)&&void 0!==t?t:null,onChange:M,onBlur:D,renderInput:N,disabled:null!==m&&void 0!==m?m:x,loading:O||x,multiple:f},p))})}},687:function(e,t,n){var a={"./ar/index":[1221,25],"./ca/index":[1222,26],"./cs/index":[1223,27],"./de/index":[1224,28],"./en/index":[360],"./es/index":[1225,29],"./fi/index":[1226,30],"./fr/index":[1227,31],"./hu/index":[1228,32],"./id/index":[1229,33],"./it/index":[1230,34],"./ja/index":[1231,35],"./ko/index":[1232,36],"./nb/index":[1233,37],"./nl/index":[1234,38],"./pl/index":[1235,39],"./pt-BR/index":[1236,40],"./ru/index":[1237,41],"./sk/index":[1238,42],"./sv/index":[1239,43],"./th/index":[1240,44],"./zh-TW/index":[1242,45],"./zh/index":[1241,46]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(r,7)}))}r.keys=function(){return Object.keys(a)},r.id=687,e.exports=r},737:function(e,t){},745:function(e,t){},747:function(e,t){},883:function(e,t){},885:function(e,t){},918:function(e,t){},919:function(e,t){},924:function(e,t){},926:function(e,t){},933:function(e,t){},952:function(e,t){},969:function(e,t){},970:function(e,t){},971:function(e,t){},972:function(e,t){},973:function(e,t){}}]);
//# sourceMappingURL=16.6048e0b1.chunk.js.map