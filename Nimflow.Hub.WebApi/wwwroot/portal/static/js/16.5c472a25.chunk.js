(this["webpackJsonpnimflow-portal"]=this["webpackJsonpnimflow-portal"]||[]).push([[16],{1030:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(5),a=n(92),c=n(34),i=function(e,t){var n,i=null===(n=e.definitions)||void 0===n?void 0:n[t];if(!Object(a.isPresent)(i))throw new Error("Invalid definition ".concat(t));if("boolean"===typeof i)throw new Error("Invalid definition ".concat(t));var o=Object(c.b)(i);return delete o.definitions,e=Object(r.a)(Object(r.a)({},e),o)},o=function(e,t,n){if(e.jsonSchema){var r=JSON.parse(e.jsonSchema),a=e.tasks.find((function(e){return e.name===t})),c=null===a||void 0===a?void 0:a.validResponses.find((function(e){return e.name===n})),o=null===c||void 0===c?void 0:c.payloadSchemaDefinitionName;if(o)return i(r,o)}},u=function(e,t){if(e.jsonSchema){var n=JSON.parse(e.jsonSchema),r=e.actions.find((function(e){return e.name===t})),a=null===r||void 0===r?void 0:r.payloadSchemaDefinitionName;if(a)return i(n,a)}}},180:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(5),a=n(37),c=n(577),i=n.n(c),o=n(629);i.a.registerHelper("translate",(function(e,t){var n={ns:o.b};return"object"===typeof t&&"hash"in t&&(n=Object(r.a)(Object(r.a)({},n),t.hash)),a.a.t(e,n)}));var u=function(e,t,n,r){var a=function(e,t){return i.a.compile(e,t)}(e,n);return a(t,r)}},197:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(3),a=n(2),c=n(7),i=n(10),o=n(1),u=n(1306),s=n(1994),l=n(1996),d=n(1995),b=n(324),j=n.n(b),f=n(30),O=function(e){var t=e.error,n=e.stack;return Object(f.jsxs)(s.a,{children:[Object(f.jsx)(d.a,{expandIcon:Object(f.jsx)(j.a,{}),children:Object(f.jsx)(u.a,{variant:"h5",color:"error",children:t})}),Object(f.jsx)(l.a,{children:Object(f.jsx)("pre",{children:n})})]})},m=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(a.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log({error:e,errorInfo:t}),this.setState({errorInfo:t})}},{key:"render",value:function(){var e,t,n=this.state,r=n.hasError,a=n.error,c=n.errorInfo;return r?Object(f.jsx)(O,{error:null!==(e=null===a||void 0===a?void 0:a.message)&&void 0!==e?e:"",stack:null!==(t=null===c||void 0===c?void 0:c.componentStack)&&void 0!==t?t:""}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(o.Component)},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return O}));var r=n(260),a=n(261),c=n.n(a),i=n(381),o=n.n(i),u=n(37),s=n(34),l=n(538),d=o.a;function b(e){n(698)("./".concat(e,"/index")).then((function(e){"function"===typeof(null===e||void 0===e?void 0:e.default)&&(d=e.default)})).catch((function(){var t=e.indexOf("-");t>0&&b(e.substring(0,t))}))}u.a.language&&b(u.a.language),u.a.on("languageChanged",(function(e){b(e)}));var j=new l.a({allErrors:!0,addUsedSchema:!1,allowUnionTypes:!0,strict:"log"});j.addMetaSchema(Object(s.p)(["default"],r)),c()(j),j.addFormat("markdown",(function(){return!0}));var f=function(e){var t;return j.validateSchema(e)?{type:"success"}:(j.errors&&d&&d(j.errors),{type:"failure",errors:null!==(t=j.errors)&&void 0!==t?t:[]})},O=function(e){return d&&d(e),e}},205:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),a=n(1620),c=n(327),i=n(2128),o=n(194),u=n(556),s=n(995),l=n(30),d=function(){var e=Object(i.a)().t,t=Object(c.b)().enqueueSnackbar,n=Object(o.b)();return Object(r.useCallback)((function(r,c,i){var o,d,b=null!==(o=null===i||void 0===i?void 0:i.variant)&&void 0!==o?o:"error",j=null!==(d=null===i||void 0===i?void 0:i.dialogTitle)&&void 0!==d?d:e("Error");if(Object(s.b)(c)&&"string"===typeof r){var f,O=!1===(null===(f=window.navigator)||void 0===f?void 0:f.onLine);r=e(O?"BrowserOfflineMessage":"NetworkErrorMessage",{message:r})}t(r,{variant:b,action:Object(l.jsx)(a.a,{onClick:function(){n({title:j,description:Object(l.jsx)(u.a,{error:c})})},children:e("ShowDetails")})})}),[n,t,e])}},210:function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return j})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return C}));var r=n(198),a=n(34),c=(n(546),n(92),["MilestoneReached","MilestoneCleared"]),i=["TaskCreated","TaskUpdated","TaskArchived","ResponseSent"],o=["ActionDispatched","ContextsRecalculationCompleted","ContextRecalculationError"].concat(i,c),u=["CollectionDocumentAdded","CollectionDocumentsAdded","CollectionDocumentRemoved","CollectionDocumentsRemoved","CollectionDocumentUpdated","CollectionDocumentReplaced"];["RequestProcessed"].concat(Object(r.a)(o),["CustomEvent","BlobStorageUpdated"],u);function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.settings;return!n&&t&&(e.settings=n={}),n}function l(e){var t,n=null===(t=s(e))||void 0===t?void 0:t.commandText;return Object(a.k)(n)?e.name:n}function d(e){var t,n=null===(t=s(e))||void 0===t?void 0:t.actionInProgressText;return n||e.name}var b={id:"string",typeName:"string",reference:"string",state:"record",dateCreated:"dateTime",dateModified:"dateTime",version:"string",contextTypeVersion:"number",milestones:"array",tags:"array",metrics:"array"},j={id:"string",contextId:"string",contextTypeName:"string",contextReference:"string",typeName:"string",title:"string",data:"record",labels:"array",dateCreated:"dateTime",dateUpdated:"dateTime",assignedTo:"string",assignedToRole:"string",status:"string",archived:"boolean",startDate:"string",startBeforeDate:"string",dueDate:"string",importance:"number",focused:"boolean"},f={event:"string",timestamp:"dateTime",requestTypeName:"string",subject:"string",sentBy:"string",contextTypeName:"string",reference:"string",contextIsNew:"boolean",action:"string",message:"string",innerMessage:"string",startDate:"dateTime",dueDate:"dateTime",taskTypeName:"string",assignedTo:"string",importance:"number",responseTypeName:"string",sentOn:"dateTime",startedOn:"dateTime",oldImportance:"number",oldLabels:"array",oldStartDate:"dateTime",oldDueDate:"dateTime",oldAssignedTo:"string",milestoneName:"string",value:"dateTime",eventName:"string",category:"string",tags:"array",metrics:"array"},O=function(e){var t=["string","number","boolean","dateTime"];return Object.keys(e).filter((function(n){return t.includes(e[n])})).sort()},m=function(e){return Object.keys(e).filter((function(t){return"array"===e[t]})).sort()},h=function(e){return Object.keys(e).filter((function(t){return"record"===e[t]})).sort()},p=O(b),v=m(b),x=h(b),g=([].concat(Object(r.a)(p),Object(r.a)(v),Object(r.a)(x)),O(j)),y=(m(j),h(j)),C=([].concat(Object(r.a)(g),Object(r.a)(y)),O(f)),w=m(f);[].concat(Object(r.a)(C),Object(r.a)(w))},2116:function(e,t,n){"use strict";n.r(t),n.d(t,"DispatchActionStepper",(function(){return me}));var r=n(4),a=n(1),c=n(2115),i=n(2071),o=n(2125),u=n(1279),s=n(1284),l=n(1271),d=n(2128),b=n(5),j=n(28),f=n(1305),O=n(30),m=["children","className"],h=Object(c.a)((function(e){return Object(i.a)({paper:{padding:e.spacing(2),color:e.palette.text.secondary}})})),p=function(e){var t=e.children,n=e.className,r=Object(j.a)(e,m),a=h();return Object(O.jsx)(f.a,Object(b.a)(Object(b.a)({className:"".concat(a.paper," ").concat(n),elevation:3},r),{},{children:t}))},v=n(1522),x=n(1306),g=["children"],y=function(e){var t=e.children,n=Object(j.a)(e,g);return Object(O.jsx)(x.a,Object(b.a)(Object(b.a)({variant:"h5"},n),{},{children:t}))},C=["title","actions"],w=Object(c.a)((function(e){return Object(i.a)({grow:{flexGrow:1},actionToolbarButtons:{display:"flex"}})})),k=function(e){var t=e.title,n=e.actions,r=Object(j.a)(e,C),a=w();return Object(O.jsxs)(v.a,Object(b.a)(Object(b.a)({variant:"dense"},r),{},{children:[t&&Object(O.jsx)(y,{children:t}),Object(O.jsx)("div",{className:a.grow}),n&&Object(O.jsx)("div",{className:a.actionToolbarButtons,children:n})]}))},I=n(36),M=n(11),P=n.n(M),S=n(138),D=n(34),L=n(1481),T=n(2139),N=n(2127),A=n(1509),E=n(2140),R=n(2093),z=n(2117),F=n(1004),B=n.n(F),U=n(126),V=n(2130),H=function(e){return Object(O.jsxs)(V.a,Object(b.a)(Object(b.a)({viewBox:"0 0 64 64"},e),{},{children:[Object(O.jsx)("path",{d:"M58 13H6c-1.103 0-2-.897-2-2s.897-2 2-2h52c1.103 0 2 .897 2 2S59.103 13 58 13zM6 10c-.552 0-1 .449-1 1s.448 1 1 1h52c.552 0 1-.449 1-1s-.448-1-1-1H6zM36.5 20h-9c-1.379 0-2.5-1.122-2.5-2.5s1.121-2.5 2.5-2.5h9c1.379 0 2.5 1.122 2.5 2.5S37.879 20 36.5 20zM27.5 16c-.827 0-1.5.673-1.5 1.5s.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5S37.327 16 36.5 16H27.5zM18.497 45h-6c-1.379 0-2.5-1.122-2.5-2.5s1.121-2.5 2.5-2.5h6c1.379 0 2.5 1.122 2.5 2.5S19.876 45 18.497 45zM12.497 41c-.827 0-1.5.673-1.5 1.5s.673 1.5 1.5 1.5h6c.827 0 1.5-.673 1.5-1.5s-.673-1.5-1.5-1.5H12.497zM51.497 45h-6c-1.379 0-2.5-1.122-2.5-2.5s1.121-2.5 2.5-2.5h6c1.379 0 2.5 1.122 2.5 2.5S52.876 45 51.497 45zM45.497 41c-.827 0-1.5.673-1.5 1.5s.673 1.5 1.5 1.5h6c.827 0 1.5-.673 1.5-1.5s-.673-1.5-1.5-1.5H45.497zM29.5 28h-10c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h10c.276 0 .5.224.5.5v4C30 27.776 29.776 28 29.5 28zM20 27h9v-3h-9V27zM44.5 28h-10c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h10c.276 0 .5.224.5.5v4C45 27.776 44.776 28 44.5 28zM35 27h9v-3h-9V27zM29.5 36h-8c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h8c.276 0 .5.224.5.5v4C30 35.776 29.776 36 29.5 36zM22 35h7v-3h-7V35zM43.5 36h-8c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h8c.276 0 .5.224.5.5v4C44 35.776 43.776 36 43.5 36zM36 35h7v-3h-7V35z"}),Object(O.jsx)("path",{d:"M56.5,48h-49C7.224,48,7,47.776,7,47.5v-35C7,12.224,7.224,12,7.5,12h49c0.276,0,0.5,0.224,0.5,0.5v35    C57,47.776,56.776,48,56.5,48z M8,47h48V13H8V47z"}),Object(O.jsx)("rect",{width:"1",height:"3",x:"31.5",y:"6.5"}),Object(O.jsx)("path",{d:"M32 7c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2S33.103 7 32 7zM32 4c-.552 0-1 .449-1 1s.448 1 1 1 1-.449 1-1S32.552 4 32 4zM21.5 61h-4c-.152 0-.297-.069-.392-.188-.095-.12-.13-.275-.096-.424l3-13C20.065 47.161 20.268 47 20.5 47h4c.152 0 .297.069.392.188.095.12.13.275.096.424l-3 13C21.935 60.839 21.732 61 21.5 61zM18.129 60h2.974l2.769-12h-2.974L18.129 60zM46.5 61h-4c-.232 0-.435-.161-.487-.388l-3-13c-.034-.148.001-.304.096-.424C39.203 47.069 39.348 47 39.5 47h4c.232 0 .435.161.487.388l3 13c.034.148-.001.304-.096.424C46.797 60.931 46.652 61 46.5 61zM42.897 60h2.974l-2.769-12h-2.974L42.897 60z"}),Object(O.jsx)("path",{d:"M41.974 56H22.026l.922-4h18.104L41.974 56zM23.282 55h17.436l-.461-2H23.743L23.282 55zM15.48 37.008c-.128 0-.256-.049-.354-.146l-3.008-3.008c-.195-.195-.195-.512 0-.707l3.008-3.008c.195-.195.512-.195.707 0l3.008 3.008c.195.195.195.512 0 .707l-3.008 3.008C15.736 36.959 15.608 37.008 15.48 37.008zM13.18 33.5l2.301 2.301 2.301-2.301-2.301-2.301L13.18 33.5zM32.48 46.008c-.128 0-.256-.049-.354-.146l-3.008-3.008c-.195-.195-.195-.512 0-.707l3.008-3.008c.195-.195.512-.195.707 0l3.008 3.008c.195.195.195.512 0 .707l-3.008 3.008C32.736 45.959 32.608 46.008 32.48 46.008zM30.18 42.5l2.301 2.301 2.301-2.301-2.301-2.301L30.18 42.5zM32 22c-.276 0-.5-.224-.5-.5v-2c0-.276.224-.5.5-.5s.5.224.5.5v2C32.5 21.776 32.276 22 32 22z"}),Object(O.jsx)("path",{d:"M39.5 24c-.276 0-.5-.224-.5-.5V22H25v1.5c0 .276-.224.5-.5.5S24 23.776 24 23.5v-2c0-.276.224-.5.5-.5h15c.276 0 .5.224.5.5v2C40 23.776 39.776 24 39.5 24zM15.5 31c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5h4c.276 0 .5.224.5.5S19.776 26 19.5 26H16v4.5C16 30.776 15.776 31 15.5 31zM32.48 39.992c-.234.01-.501-.225-.5-.501L31.998 34H29.5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h3c.133 0 .261.053.354.147S33 33.369 33 33.501l-.02 5.992C32.979 39.77 32.756 39.992 32.48 39.992z"}),Object(O.jsx)("path",{d:"M32.52 39.992c-.275 0-.499-.223-.5-.499L32 33.501c0-.133.052-.26.146-.354S32.367 33 32.5 33h3c.276 0 .5.224.5.5S35.776 34 35.5 34h-2.498l.018 5.491c.001.276-.223.5-.498.501C32.521 39.992 32.521 39.992 32.52 39.992zM15.5 41c-.276 0-.5-.224-.5-.5v-3.992c0-.276.224-.5.5-.5s.5.224.5.5V40.5C16 40.776 15.776 41 15.5 41zM39.5 32c-.276 0-.5-.224-.5-.5v-3.992c0-.276.224-.5.5-.5s.5.224.5.5V31.5C40 31.776 39.776 32 39.5 32zM21.5 34h-3.012c-.276 0-.5-.224-.5-.5s.224-.5.5-.5H21.5c.276 0 .5.224.5.5S21.776 34 21.5 34zM29.5 43h-9.012c-.276 0-.5-.224-.5-.5s.224-.5.5-.5H29.5c.276 0 .5.224.5.5S29.776 43 29.5 43zM43.497 43h-8.009c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8.009c.276 0 .5.224.5.5S43.773 43 43.497 43z"}),Object(O.jsxs)("g",{children:[Object(O.jsx)("defs",{children:Object(O.jsx)("rect",{id:"SVGID_1_",width:"675.5",height:"132.688",x:"-1235.486",y:"289.422"})}),Object(O.jsx)("clipPath",{id:"SVGID_2_",children:Object(O.jsx)("use",{overflow:"visible",href:"#SVGID_1_"})})]})]}))},q=n(1506),_=n(1620),W=Object(c.a)((function(e){return Object(i.a)({button:{marginRight:e.spacing(1)},content:{maxHeight:"60vh",overflowY:"auto"}})})),$=function(e){var t=e.onNext,n=e.onBack,r=e.onSkip,a=e.nextActionCaption,c=e.children,i=W(),u=Object(d.a)().t;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(o.a,{container:!0,children:Object(O.jsx)(o.a,{item:!0,xs:12,className:i.content,children:c})}),Object(O.jsx)(o.a,{container:!0,children:Object(O.jsxs)(o.a,{item:!0,xs:12,children:[Object(O.jsx)(_.a,{disabled:!n,onClick:n,className:i.button,children:u("Back")}),!!r&&Object(O.jsx)(_.a,{onClick:r,className:i.button,children:u("Skip")}),!!t&&Object(O.jsx)(_.a,{onClick:t,className:i.button,children:null!==a&&void 0!==a?a:u("Next")})]})})]})},K=Object(c.a)((function(e){return Object(i.a)({root:{flexGrow:1}})})),G=function(e,t){if(!e)return[];if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)||e.description&&e.description.includes(n)}))},Y=n(92),J=Object(c.a)((function(e){return Object(i.a)({root:{flexGrow:1,width:"100%",marginTop:"20px",marginBottom:"20px"}})})),X=n(1030),Z=n(202),Q=n(210),ee=n(569),te=Object(c.a)((function(e){return Object(i.a)({root:{flexGrow:1,width:"100%",marginBottom:"20px"},textField:{width:"100%"},content:{padding:"8px 24px","&:first-child":{paddingTop:20}}})})),ne=n(1280),re=n(1618),ae=n(1849),ce=n.n(ae),ie=n(1848),oe=n.n(ie),ue=n(1653),se=n(179),le=n(556),de=Object(c.a)((function(e){return Object(i.a)({button:{marginRight:e.spacing(1)},icon:{textAlign:"center"}})})),be=function(e){var t=e.icon,n=e.title,r=e.details,a=de();return Object(O.jsx)(re.a,{pt:"50px",pb:"50px",maxHeight:"60vh",children:Object(O.jsxs)(o.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:4,children:[!!t&&Object(O.jsx)(o.a,{item:!0,xs:12,className:a.icon,children:t}),Object(O.jsx)(o.a,{item:!0,xs:12,children:Object(O.jsx)(x.a,{variant:"h4",align:"center",children:n})}),!!r&&Object(O.jsx)(o.a,{item:!0,xs:12,children:"string"===typeof r?Object(O.jsx)(x.a,{variant:"h6",align:"center",children:r}):Object(O.jsx)("div",{children:r})})]})})},je=function(e){var t=e.action,n=e.onDispatchCompleted,r=e.onBack,a=de(),c=Object(d.a)().t,i=Object(U.c)().contexts_DispatchAction,u=Object(ne.a)(Object(I.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[i,t]),s=u.loading,l=u.value,b=u.error;return s?Object(O.jsx)(se.b,{children:c("ExecutingAction")}):Object(O.jsxs)(O.Fragment,{children:[!b&&Object(O.jsx)(be,{icon:Object(O.jsx)(oe.a,{style:{color:ue.a[500],fontSize:60}}),title:c("ActionCompleted"),details:c("DispatchActionResult",{id:null===l||void 0===l?void 0:l.contextId})}),!!b&&Object(O.jsx)(be,{icon:Object(O.jsx)(ce.a,{color:"error",style:{fontSize:60}}),title:c("ActionFailed"),details:Object(O.jsx)(le.a,{error:b})}),Object(O.jsx)(o.a,{container:!0,children:Object(O.jsxs)(o.a,{item:!0,xs:12,children:[!!b&&Object(O.jsx)(_.a,{onClick:r,className:a.button,children:c("Back")}),Object(O.jsx)(_.a,{onClick:n,className:a.button,children:c("Ok")})]})})]})},fe=Object(c.a)((function(e){return Object(i.a)({root:{width:"100%"},button:{marginRight:e.spacing(1)},content:{maxHeight:"60vh",overflowY:"auto"}})})),Oe=[function(e){var t=e.value,n=e.onNext,c=K(),i=Object(a.useState)(""),o=Object(r.a)(i,2),u=o[0],s=o[1],l=function(e){var t=Object(U.c)().contextTypes_Search,n=Object(S.a)("/ContextTypes/Search",Object(I.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({limit:100});case 2:return n=e.sent,e.abrupt("return",Object(D.s)((function(e){return e.name}),n));case 4:case"end":return e.stop()}}),e)})))),r=n.data,c=n.error,i=n.isValidating,o=n.mutate;return Object(a.useMemo)((function(){return{data:G(r,e),isValidating:i,error:c,mutate:o}}),[r,e,i,c,o])}(u),d=l.data,b=l.error,j=l.isValidating,f=Object(a.useCallback)((function(e){t.contextTypeName===e?n(t):n({contextTypeName:e})}),[t,n]);return Object(O.jsxs)($,{children:[Object(O.jsx)(k,{actions:Object(O.jsx)(q.a,{value:u,onChange:s})}),Object(O.jsx)(T.a,{className:c.root,style:{maxHeight:"400",overflowY:"auto"},children:d.map((function(e,t){return Object(O.jsxs)(N.a,{children:[Object(O.jsx)(R.a,{children:Object(O.jsx)(H,{})}),Object(O.jsx)(A.a,{primary:e.name,secondary:e.description}),Object(O.jsx)(E.a,{children:Object(O.jsx)(L.a,{edge:"end",onClick:function(){return f(e.name)},size:"large",children:Object(O.jsx)(B.a,{})})})]},e.name)}))}),!j&&!!b&&Object(O.jsx)(z.a,{severity:"error",children:b.toString()})]})},function(e){var t=e.value,n=e.onBack,r=e.onNext,c=J(),i=function(e){var t=Object(U.c)().contextTypes_FindOne,n=Object(S.a)("/ContextType/".concat(e),Object(I.a)(P.a.mark((function n(){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t({name:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{revalidateOnFocus:!1}),r=n.data,c=n.error,i=n.isValidating,o=n.mutate;return Object(a.useMemo)((function(){return{contextType:r,isValidating:i,error:c,mutate:o}}),[r,i,o,c])}(t.contextTypeName),u=i.contextType,s=i.error,l=i.isValidating,d=Object(a.useMemo)((function(){return u?u.initialActions.map((function(e){return u.actions.find((function(t){return t.name===e}))})).filter(Y.isPresent):[]}),[u]),b=Object(a.useCallback)((function(e){t.action===e?r(t):r({contextTypeName:t.contextTypeName,action:e})}),[t,r]);return!l&&s?Object(O.jsx)(z.a,{severity:"error",children:s.toString()}):l||!u?null:Object(O.jsx)($,{onBack:n,children:Object(O.jsx)(o.a,{container:!0,direction:"column",alignItems:"center",spacing:3,className:c.root,children:d.map((function(e){return Object(O.jsx)(o.a,{item:!0,xs:10,children:Object(O.jsx)(_.a,{variant:"outlined",onClick:function(){return b(e.name)},children:e.name})},e.name)}))})})},function(e){var t,n=e.value,c=e.onBack,i=e.onNext,u=te(),s=Object(d.a)().t,l=function(e){var t=Object(U.c)().contextTypes_FindOne,n=Object(S.a)("/ContextType/".concat(e),Object(I.a)(P.a.mark((function n(){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t({name:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{revalidateOnFocus:!1}),r=n.data,c=n.error,i=n.isValidating,o=n.mutate;return Object(a.useMemo)((function(){return{contextType:r,isValidating:i,error:c,revalidate:o}}),[r,i,o,c])}(n.contextTypeName),j=l.contextType,f=l.error,m=l.isValidating,h=Object(a.useState)({reference:n.reference,contextId:n.contextId}),p=Object(r.a)(h,2),v=p[0],x=p[1],g=Object(a.useState)(null!==(t=n.payload)&&void 0!==t?t:{}),y=Object(r.a)(g,2),C=y[0],w=y[1],k=Object(a.useRef)(),M=Object(a.useRef)(),L=Object(a.useMemo)((function(){return null===j||void 0===j?void 0:j.actions.find((function(e){return e.name===n.action}))}),[j,n]),T=Object(a.useCallback)((function(){L&&j&&(k.current&&k.current.length>0||M.current&&M.current.length>0||i(Object(b.a)(Object(b.a)(Object(b.a)({},n),v),{},{payload:C})))}),[i,L,j,v,C,n]),N=Object(a.useMemo)((function(){return{type:"object",properties:{reference:{type:"string"}},required:["reference"]}}),[]),A=Object(a.useMemo)((function(){return function(e,t){if(e&&t&&e.payloadSchemaDefinitionName)return Object(X.a)(t,e.name)}(L,j)}),[L,j]),E=Object(a.useMemo)((function(){var e,t=L?null===(e=Object(Q.i)(L))||void 0===e?void 0:e.uiSchema:void 0;if(t)return JSON.parse(t)}),[L]),R=Object(a.useCallback)((function(e){e.errors&&e.errors.length>0?(Object(Z.b)(e.errors),k.current=Object(D.b)(e.errors)):(x(e.data),k.current=void 0)}),[x]),F=Object(a.useCallback)((function(e){e.errors&&e.errors.length>0?(Object(Z.b)(e.errors),M.current=Object(D.b)(e.errors)):(w(e.data),M.current=void 0)}),[w]),B=Object(a.useMemo)((function(){var e;if(j){var t=null===(e=Object(Q.i)(j))||void 0===e?void 0:e.uiSchemaCommon;if(t)return JSON.parse(t)}}),[j]);return!m&&f?Object(O.jsx)(z.a,{severity:"error",children:f.toString()}):j&&L?Object(O.jsx)($,{onBack:c,onNext:T,nextActionCaption:s("ExecuteAction"),children:Object(O.jsxs)(o.a,{container:!0,spacing:2,className:u.root,children:[Object(O.jsx)(o.a,{item:!0,xs:12,className:u.content,children:Object(O.jsx)(ee.a,{schema:N,data:v,onChange:R,uiSchemaLibrary:B})}),Object(O.jsx)(o.a,{item:!0,xs:12,className:u.content,children:!!A&&Object(O.jsx)(ee.a,{schema:A,uischema:E,data:C,onChange:F,uiSchemaLibrary:B})})]})}):null}],me=function(){var e=Object(d.a)().t,t=fe(),n=Object(a.useState)(0),c=Object(r.a)(n,2),i=c[0],b=c[1],j=Object(a.useState)({}),f=Object(r.a)(j,2),m=f[0],h=f[1],v=Object(a.useMemo)((function(){return[i>0?e("SelectedContextType",{name:m.contextTypeName}):e("SelectContextType"),i>1?e("SelectedActionType",{name:m.action}):e("SelectActionType"),e("CompleteActionData")]}),[i,m,e]),x=Object(a.useCallback)((function(e){h(e),b((function(e){return e+1}))}),[b]),g=Object(a.useCallback)((function(){b((function(e){return e+1}))}),[b]),y=Object(a.useCallback)((function(){b((function(e){return e-1}))}),[b]),C=Object(a.useCallback)((function(){b(0),h({})}),[]),w=function(){var e=Oe[i];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.a,{activeStep:i,alternativeLabel:!0,children:v.map((function(e,t){return Object(O.jsx)(s.a,{children:Object(O.jsx)(l.a,{children:e})},t)}))}),!!e&&Object(O.jsx)(e,{value:m,onNext:x,onBack:y,onSkip:g})]})};return Object(O.jsx)(o.a,{container:!0,spacing:3,justifyContent:"center",children:Object(O.jsx)(o.a,{item:!0,xs:9,children:Object(O.jsxs)(p,{className:t.root,children:[Object(O.jsx)(k,{title:e("DispatchingAction")}),i<3?Object(O.jsx)(w,{}):Object(O.jsx)(je,{action:m,onDispatchCompleted:C,onBack:y})]})})})};t.default=me},219:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){var n=e.nfExpr;if(!n)throw new Error("nfExpr property expected at ".concat(t));return new Function("data","ctx","return ".concat(n))}},266:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){return"object"===typeof e&&"then"in e},a=function(e){return r(e)?e:Promise.resolve(e)}},503:function(e,t){},538:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),a=n(5),c=n(3),i=n(2),o=n(357),u=n(9),s=n(7),l=n(10),d=n(262),b=n(372),j=n(678),f=n.n(j),O=n(376),m=n.n(O),h=n(34),p=n(74),v=n(219),x=n(562),g=n(266),y=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","const","enum"],C=function(e){if("number"!==typeof e||isNaN(e))throw new Error("Expression must evaluate to a number")},w=function(e){if("boolean"!==typeof e)throw new Error("Expression must evaluate to a boolean")},k=function(e){if(!Array.isArray(e))throw new Error("Expression must evaluate to an array")},I={multipleOf:{impl:function(e,t,n){if(C(e),"number"===typeof t&&!isNaN(t)&&0!==e){var r=t/e,a=n.opts.multipleOfPrecision;if("number"===typeof a?Math.abs(Math.round(r)-r)<=Math.pow(10,-a):r===Math.round(r))return!0}return[{message:"must be multiple of ".concat(e),params:{multipleOf:e}}]}},maximum:{impl:function(e,t){return C(e),"number"===typeof t&&!isNaN(t)&&e>=t||[{message:"must be <= ".concat(e),params:{comparison:"<=",limit:e}}]}},exclusiveMaximum:{impl:function(e,t){return C(e),"number"===typeof t&&!isNaN(t)&&e>t||[{message:"must be < ".concat(e),params:{comparison:"<",limit:e}}]}},minimum:{impl:function(e,t){return C(e),"number"===typeof t&&!isNaN(t)&&e<=t||[{message:"must be >= ".concat(e),params:{comparison:">=",limit:e}}]}},exclusiveMinimum:{impl:function(e,t){return C(e),"number"===typeof t&&!isNaN(t)&&e<t||[{message:"must be > ".concat(e),params:{comparison:">",limit:e}}]}},maxLength:{impl:function(e,t){return C(e),"string"===typeof t&&m()(t)<=e||[{message:"must NOT have more than ".concat(e," characters"),params:{limit:e}}]}},minLength:{impl:function(e,t){return C(e),"string"===typeof t&&m()(t)>=e||[{message:"must NOT have less than ".concat(e," characters"),params:{limit:e}}]}},pattern:{impl:function(e,t,n){var r=void 0;if("string"===typeof e){var a=n.opts.unicodeRegExp?"u":"";r=new RegExp(e,a)}else{if(!(e instanceof RegExp))throw new Error("Expression must evaluate to a string or a RegExp object");r=e}return!("string"!==typeof t||!r.test(t))||[{message:'must match pattern "'.concat(e,'"'),params:{pattern:e}}]}},maxItems:{impl:function(e,t){return C(e),!!(Array.isArray(t)&&t.length<=e)||[{message:"must NOT have more than ".concat(e," items"),params:{limit:e}}]}},minItems:{impl:function(e,t){return C(e),!!(Array.isArray(t)&&t.length>=e)||[{message:"must NOT have less than ".concat(e," items"),params:{limit:e}}]}},uniqueItems:{impl:function(e,t){w(e);var n=0,r=0;if(Array.isArray(t)&&t.length>=e){var a=!0;e:for(;n<t.length;n++)for(r=n+1;r<t.length;r++)if(Object(h.f)(t[n],t[r])){a=!1;break e}if(a)return!0}return[{message:"must NOT have duplicate items (items ## ".concat(r," and ").concat(n," are identical)"),params:{i:n,j:r}}]}},maxProperties:{impl:function(e,t){return w(e),"object"===typeof t&&Object.keys(t).length>=e||[{message:"must NOT have more than ".concat(e," items"),params:{limit:e}}]}},minProperties:{impl:function(e,t){return w(e),"object"===typeof t&&Object.keys(t).length<=e||[{message:"must NOT have less than ".concat(e," items"),params:{limit:e}}]}},required:{impl:function(e,t,n,a){if(k(e),"object"!==typeof t)return[{message:"Data must be an object"}];var c=[];var i,o,u=n.opts.ownProperties,s=Object(r.a)(e);try{for(s.s();!(i=s.n()).done;){var l=i.value;if((void 0===t[l]||u&&!Object.prototype.hasOwnProperty.call(t,l))&&(o=l,c.push({message:"must have required property '".concat(o,"'"),params:{missingProperty:o}}),!0!==n.allErrors))break}}catch(h){s.e(h)}finally{s.f()}if(n.opts.strictRequired){var d,b=a.properties,j=Object(r.a)(e);try{for(j.s();!(d=j.n()).done;){var f=d.value;if(void 0===(null===b||void 0===b?void 0:b[f])&&!n.definedProperties.has(f)){var O=n.schemaEnv.baseId+n.errSchemaPath,m='required property "'.concat(f,'" is not defined at "').concat(O,'" (strictRequired)');Object(p.checkStrictMode)(n,m,n.opts.strictRequired)}}}catch(h){j.e(h)}finally{j.f()}}return!(c.length>0)||c}},const:{impl:function(e,t){return t===e||[{message:"must be equal to constant",params:{allowedValue:e}}]}},enum:{impl:function(e,t){return k(e),!!e.some((function(e){return Object(h.f)(e,t)}))||[{message:"must be equal to one of the allowed values",params:{allowedValues:e}}]}}},M=function(e,t){return function(n,r,c){var i=Object(v.a)(n,c.errSchemaPath);return function o(u,s){if(!s)return!1;var l=i(u,Object(a.a)(Object(a.a)({},s),{},{schema:n,parentSchema:r,rootSchema:c.schema}));if(Object(g.b)(l))throw new Error("Expression cannot evaluate to a Promise (at ".concat(c.errSchemaPath,")"));try{var d=t(l,u,c,r);if("boolean"===typeof d)return d;o.errors=d.map((function(t){var n;return Object(a.a)({keyword:e,instancePath:null!==(n=null===s||void 0===s?void 0:s.instancePath)&&void 0!==n?n:"",schemaPath:c.schemaPath.toString()},t)}))}catch(j){var b;o.errors=[{keyword:e,instancePath:null!==(b=null===s||void 0===s?void 0:s.instancePath)&&void 0!==b?b:"",schemaPath:c.schemaPath.toString(),params:{}}]}return!1}}},P={keyword:[].concat(y),type:[],schemaType:["object"],compile:function(e,t,n){var r,a=null===(r=Object.entries(t).find((function(t){return t[1]===e})))||void 0===r?void 0:r[0];if(!a)throw new Error("Cannot find schema entry");if(!y.includes(a))throw new Error("Keyword ".concat(a," is not one of ").concat(y));return M(a,I[a].impl)(e,t,n)}},S=function(e){return"nf".concat(Object(x.b)(e))},D=Object(h.m)((function(e){return e[0]}),Object(h.h)(S,y)),L=y.map(S),T={keyword:L,schemaType:"object",compile:function(e,t,n){var r,a=null===(r=Object.entries(t).find((function(t){return t[1]===e})))||void 0===r?void 0:r[0];if(!a)throw new Error("Cannot find schema entry");var c=D[a];if(!c)throw new Error("Keyword ".concat(a," is not one of ").concat(L));return M(c,I[c].impl)(e,t,n)}},N={keyword:"markdownDescription",schemaType:"string",valid:!0},A=n(92),E={keyword:"nfCalculatedValue",schemaType:"object",modifying:!0,compile:function(e,t,n){if(!Object(A.isPresent)(t.default))throw new Error("Schema using nfCalculatedValue must define a default value (at ".concat(n.errSchemaPath,")"));var r=Object(v.a)(e,n.errSchemaPath);return function(c,i){if(!i)return!1;var o=r(c,Object(a.a)(Object(a.a)({},i),{},{schema:e,parentSchema:t,rootSchema:n.schema}));if(Object(g.b)(o))throw new Error("Expression cannot evaluate to a Promise (at ".concat(n.errSchemaPath,")"));return i.parentData[i.parentDataProperty]=o,!0}}},R={keyword:"nfData",valid:!0},z={keyword:"nfDisabled",schemaType:"object",valid:!0},F={keyword:"nfHidden",schemaType:"object",valid:!0},B=n(88),U=[N,E,{keyword:"nfValidate",schemaType:["object","array"],compile:function(e,t,n){var r=(Array.isArray(e)?e:[e]).map((function(t,r){var a=n.errSchemaPath;return(r>0||Array.isArray(e))&&(a+="/".concat(r)),Object(v.a)(t,a)}));return function a(c,i){if(!i)return!1;var o=!0;return r.forEach((function(r,u){var s=r(c,Object(B.a)(Object(B.a)({},i),{},{schema:e,parentSchema:t,rootSchema:n.schema}));if("boolean"!==typeof s){var l=n.errSchemaPath;throw(u>0||Array.isArray(e))&&(l+="/".concat(u)),new Error("Expression as ".concat(l," must evaluate to a boolean value"))}if(!s&&"string"===typeof e.nfMessage){var d="";if("string"===typeof e.nfInstancePath&&(d=e.nfInstancePath.trim()),d.startsWith("#"))d=d.substring(1);else{var b,j=null===i||void 0===i||null===(b=i.instancePath)||void 0===b?void 0:b.trim();j&&(d=j+d)}a.errors=[{keyword:"nfValidate",instancePath:d,schemaPath:n.schemaPath.toString(),message:e.nfMessage}]}o&&(o=s)})),o}}},T,R,F,z],V=n(697),H=function(e){return"code"in e},q=function(e){var t=e.schemaType;t.length>0&&!t.includes("object")&&(t.push("object"),e.schemaType=t);var n=e.code;e.code=function(e,t){var r=e.schema,a=e.keyword;if("object"!==typeof r||!("nfExpr"in r))return n(e,t);var c=new d.KeywordCxt(e.it,P,a);Object(b.funcKeywordCode)(c,P)}},_=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c.a)(this,n),t.call(this,Object(a.a)(Object(a.a)({},e),{},{useDefaults:!0}))}return Object(i.a)(n,[{key:"_addVocabularies",value:function(){Object(o.a)(Object(u.a)(n.prototype),"_addVocabularies",this).call(this),this.addVocabulary(U);var e,t=Object(r.a)(y);try{for(t.s();!(e=t.n()).done;){var a=e.value,c=this.getKeyword(a);"boolean"!==typeof c&&H(c)&&q(c)}}catch(i){t.e(i)}finally{t.f()}}},{key:"_addDefaultMetaSchema",value:function(){Object(o.a)(Object(u.a)(n.prototype),"_addDefaultMetaSchema",this).call(this),this.opts.meta&&(this.addMetaSchema(V),this.refs["http://json-schema.org/schema"]=V.$id)}},{key:"compile",value:function(e,t){return Object(o.a)(Object(u.a)(n.prototype),"compile",this).call(this,e,t)}}]),n}(f.a)},562:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},a=function(e){var t=new Array(e.length);t[0]=e[0].toUpperCase().charCodeAt(0);for(var n=1;n<e.length;n++)t[n]=e.charCodeAt(n);return String.fromCharCode.apply(void 0,t)}},569:function(e,t,n){"use strict";n.d(t,"a",(function(){return $s})),n.d(t,"c",(function(){return Ys})),n.d(t,"b",(function(){return Js}));var r=n(140),a=n(5),c=n(1),i=n.n(c),o=n(65),u=n(122),s=n.n(u),l=n(67),d=n(2125),b=n(1276),j=n(30),f=function(e,t,n,r,a,c){return e.map((function(e,i){return Object(j.jsx)(d.a,{item:!0,xs:!0,children:Object(j.jsx)(l.d,{uischema:e,schema:t,path:n,enabled:r,renderers:a,cells:c})},"".concat(n,"-").concat(i))}))},O=function(e){var t=e.visible,n=e.elements,r=e.schema,a=e.path,c=e.enabled,i=e.direction,o=e.renderers,u=e.cells;return s()(n)?null:Object(j.jsx)(b.a,{xsUp:!t,children:Object(j.jsx)(d.a,{container:!0,direction:i,spacing:"row"===i?2:0,children:f(n,r,a,c,o,u)})})},m=i.a.memo(O),h=function(e){return function(t){var n=Object(l.f)(),r=Object(o.w)({jsonforms:Object(a.a)({},n)});return Object(j.jsx)(e,Object(a.a)(Object(a.a)({},t),{},{ajv:r}))}},p=Object(o.wb)(1,Object(o.Cb)("VerticalLayout")),v=function(e){var t=e.uischema,n=e.schema,r=e.path,c=e.enabled,i=e.visible,o=e.renderers,u=e.cells,s={elements:t.elements,schema:n,path:r,enabled:c,direction:"column",visible:i};return Object(j.jsx)(m,Object(a.a)(Object(a.a)({},s),{},{renderers:o,cells:u}))},x=Object(l.p)(v),g=Object(o.wb)(2,Object(o.Cb)("HorizontalLayout")),y=function(e){var t=e.uischema,n=e.renderers,r=e.cells,c=e.schema,i=e.path,o=e.enabled,u=e.visible,s={elements:t.elements,schema:c,path:i,enabled:o,direction:"row",visible:u};return Object(j.jsx)(m,Object(a.a)(Object(a.a)({},s),{},{renderers:n,cells:r}))},C=Object(l.p)(y),w=n(2111),k=n(94),I=n(88),M=n(83),P=n(34),S=function(){throw new Error("You forgot to wrap your component in <JsonFormsContextProvider>.")},D=Object(c.createContext)({context:{},bindContext:!0,uiSchemaLibrary:{},registerValidationProvider:S,unregisterValidationProvider:S,validationProviderUpdated:S,processAjvErrors:S}),L=function(e){var t=e.context,n=e.bindContext,a=e.uiSchemaLibrary,i=e.children,o=e.onErrorsChange,u=Object(c.useState)({}),s=Object(M.a)(u,2),l=s[0],d=s[1],b=Object(c.useRef)();Object(c.useEffect)((function(){var e=Object.values(l).flatMap((function(e){return e}));null===o||void 0===o||o(e)}),[l,o]);var f=Object(c.useCallback)((function(e){d((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(k.a)({},e,[]))}))}),[]),O=Object(c.useCallback)((function(e){d((function(t){return Object(P.p)([e],t)}))}),[]),m=Object(c.useCallback)((function(e,t){d((function(n){return e in n?Object(I.a)(Object(I.a)({},n),{},Object(k.a)({},e,t)):n}))}),[]),h=Object(c.useCallback)((function(e){if(b.current!==e){b.current=e;var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;"dependentRequired"!==a.keyword||a.instancePath||(a.instancePath+="/"+a.params.missingProperty)}}catch(c){n.e(c)}finally{n.f()}}}),[]);return Object(j.jsx)(D.Provider,{value:{context:null!==t&&void 0!==t?t:{},bindContext:null===n||void 0===n||n,uiSchemaLibrary:null!==a&&void 0!==a?a:{},registerValidationProvider:f,unregisterValidationProvider:O,validationProviderUpdated:m,processAjvErrors:h},children:i})},T=function(){return Object(c.useContext)(D)},N=n(180),A=Object(l.p)((function(e){var t=e.uischema,n=e.visible,r=e.data,a=e.path,i=T(),o=i.bindContext,u=i.context,s=Object(c.useMemo)((function(){var e=t;if(e||"text"in e){var n={data:r,path:a};return o&&Object.assign(n,u),Object(N.a)(e.text,n)}}),[t,r,a,o,u]);return s?Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)("div",{children:Object(j.jsx)(w.a,{children:s})})}):null})),E=Object(o.wb)(3,Object(o.Cb)("Markdown")),R=n(2071),z=n(2115),F=Object(z.a)((function(e){return Object(R.a)({viewer:{width:"100%",minHeight:"800px"}})})),B=Object(l.p)((function(e){var t=F(),n=e.uischema,r=e.visible,a=e.data,i=e.path,o=T(),u=o.bindContext,s=o.context,l=Object(c.useMemo)((function(){var e=n;if(e||"url"in e){var t={data:a,path:i};return u&&Object.assign(t,s),Object(N.a)(e.url,t)}}),[n,a,i,u,s]);return l?Object(j.jsx)(b.a,{xsUp:!r||!l,children:Object(j.jsx)("object",{data:l,type:"application/pdf",className:t.viewer,children:Object(j.jsx)("embed",{src:l,type:"application/pdf"})})}):null})),U=Object(o.wb)(3,Object(o.Cb)("Pdf")),V=n(199),H=n(92),q=["uischema","schema","path","renderers"],_=Object(l.p)((function(e){var t=e.uischema,n=e.schema,a=e.path,i=e.renderers,u=Object(V.a)(e,q),s=Object(l.f)().core,d=T().uiSchemaLibrary,b="Use"===t.type?t:void 0,f=b?d[b.name]:void 0,O=b?o.d.schema(n,b.scope,s.schema):void 0,m=Object(c.useMemo)((function(){if(i&&f&&O){var e=function(e,t){var n,a=-1,c=void 0,i=Object(r.a)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,u=t(o);u>a&&(a=u,c=o)}}catch(s){i.e(s)}finally{i.f()}return c}(i,(function(e){return e.tester(f,O,s.schema)}));return e}}),[s,i,O,f]);if(!f||!b||!O)return null;var h=Object(o.i)(b,a),p=o.d.data(null===s||void 0===s?void 0:s.data,h);if(Object(H.isPresent)(m)&&-1!==m.tester(f,O,s.schema)){var v=m.renderer;return Object(j.jsx)(v,Object(I.a)({uischema:f,schema:O,path:h,data:p,renderers:i},u))}return Object(j.jsx)(l.e,{type:"renderer"})})),W=Object(o.wb)(3,Object(o.Cb)("Use")),$=n(0),K=n(36),G=n(11),Y=n.n(G),J=n(138),X=n(4),Z=n(221),Q=n(220),ee=n(283),te=n(285),ne=n(386),re=n.n(ne),ae=n(385),ce=n.n(ae),ie=n(232),oe=n.n(ie),ue=n(1538),se=n(1306),le=n(1533),de=n(1493),be=n(1481),je=n(1557),fe=n(1556),Oe=n(1537),me=n(155),he=n.n(me),pe=n(335),ve=n.n(pe),xe=n(422),ge=n.n(xe),ye=n(28),Ce=n(76),we=["children"],ke=Object(Ce.a)(le.a)({borderBottom:"none"}),Ie=function(e){var t=e.children,n=Object(ye.a)(e,we);return Object(j.jsx)(ke,Object(a.a)(Object(a.a)({},n),{},{children:t}))},Me=n(1508),Pe=n(212),Se=n.n(Pe),De=n(778),Le=n.n(De),Te=n(1272),Ne=Object(Ce.a)(Te.a)((function(e){return{color:e.theme.palette.error.main}})),Ae=function(e){var t=e.errorMessages,n=e.id;return Object(j.jsx)(Me.a,{id:n,title:t,children:Object(j.jsx)(Ne,{badgeContent:t.split("\n").length,children:Object(j.jsx)(Le.a,{color:"inherit"})})})},Ee={paddingLeft:0,paddingRight:0},Re=i.a.memo((function(e){var t=e.numColumns,n=e.errors,r=e.label,a=e.path,c=e.addItem,i=e.schema,u=e.enabled;return Object(j.jsxs)(ue.a,{children:[Object(j.jsx)(Ie,{colSpan:t,children:Object(j.jsxs)(d.a,{container:!0,justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(se.a,{variant:"h6",children:r})}),Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(b.a,{smUp:0===n.length,children:Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(Ae,{id:"tooltip-validation",errorMessages:n})})})})]})}),u?Object(j.jsx)(Ie,{align:"right",style:Ee,children:Object(j.jsx)(Me.a,{id:"tooltip-add",title:"Add to ".concat(r),placement:"bottom",children:Object(j.jsx)(be.a,{"aria-label":"Add to ".concat(r),onClick:c(a,Object(o.n)(i)),size:"large",children:Object(j.jsx)(Se.a,{})})})}):null]})})),ze=n(78),Fe=n.n(ze),Be={fixedCell:{width:"150px",height:"50px",paddingLeft:0,paddingRight:0,textAlign:"center"},fixedCellSmall:{width:"50px",height:"50px",paddingLeft:0,paddingRight:0,textAlign:"center"}},Ue=function(e,t,n,r,a){if("object"===t.type)return Ve(t).map((function(c){var i,u,s,l=o.c.compose(n,c),d={propName:c,schema:t,title:null!==(i=null===(u=t.properties)||void 0===u||null===(s=u[c])||void 0===s?void 0:s.title)&&void 0!==i?i:ce()(c),rowPath:n,cellPath:l,enabled:r,cells:a};return Object(j.jsx)(e,Object(I.a)({},d),l)}));var c={schema:t,rowPath:n,cellPath:n,enabled:r};return Object(j.jsx)(e,Object(I.a)({},c),n)},Ve=function(e){return"object"===e.type&&"object"===typeof e.properties?Object.keys(e.properties).filter((function(t){return"array"!==e.properties[t].type})):[""]},He=function(e){var t=e.numColumns;return Object(j.jsx)(ue.a,{children:Object(j.jsx)(Ie,{colSpan:t,children:Object(j.jsx)(se.a,{align:"center",children:"No data"})})})},qe=i.a.memo((function(e){var t=e.title;return Object(j.jsx)(le.a,{children:t})})),_e=function(e){return{type:"Control",scope:e,label:!1}},We=i.a.memo((function(e){var t=e.path,n=e.propName,r=e.schema,a=e.rootSchema,c=e.errors,i=e.enabled,u=e.renderers,s=e.cells,d=e.isValid;return Object(j.jsxs)(Ie,{children:[r.properties?Object(j.jsx)(l.b,{schema:o.d.schema(r,"#/properties/".concat(Object(o.q)(n)),a),uischema:_e("#/properties/".concat(Object(o.q)(n))),path:t,enabled:i,renderers:u,cells:s}):Object(j.jsx)(l.b,{schema:r,uischema:_e("#"),path:t,enabled:i,renderers:u,cells:s}),Object(j.jsx)(de.a,{error:!d,children:!d&&c})]})})),$e=function(e){var t=function(e,t){var n=t.rowPath+("object"===t.schema.type?"."+t.propName:""),r=Object(o.v)(re()(Object(o.s)(n,t.schema,(function(e){return e===n}))(e.core.errors).map((function(e){var t;return null!==(t=e.message)&&void 0!==t?t:""}))));return{rowPath:t.rowPath,propName:t.propName,schema:t.schema,rootSchema:e.core.schema,errors:r,path:n,enabled:t.enabled,cells:t.cells||e.cells,renderers:t.renderers||e.renderers}}(Object(l.f)(),e),n=s()(t.errors);return Object(j.jsx)(We,Object(I.a)(Object(I.a)({},t),{},{isValid:n}))},Ke=function(e){var t=e.childPath,n=e.schema,r=e.rowIndex,a=e.openDeleteDialog,i=e.moveUpCreator,o=e.moveDownCreator,u=e.enableUp,s=e.enableDown,l=e.showSortButtons,b=e.enabled,f=e.cells,O=e.path,m=Object(c.useMemo)((function(){return i(O,r)}),[i,O,r]),h=Object(c.useMemo)((function(){return o(O,r)}),[o,O,r]);return Object(j.jsxs)(ue.a,{hover:!0,children:[Ue($e,n,t,b,f),b?Object(j.jsx)(Ie,{style:l?Be.fixedCell:Be.fixedCellSmall,children:Object(j.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",children:[l?Object(j.jsxs)(c.Fragment,{children:[Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(be.a,{"aria-label":"Move up",onClick:m,disabled:!u,size:"large",children:Object(j.jsx)(ge.a,{})})}),Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(be.a,{"aria-label":"Move down",onClick:h,disabled:!s,size:"large",children:Object(j.jsx)(ve.a,{})})})]}):null,Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(be.a,{"aria-label":"Delete",onClick:function(){return a(t,r)},size:"large",children:Object(j.jsx)(he.a,{})})})]})}):null]},t)},Ge=i.a.memo(Ke),Ye=function(e){var t=e.data,n=e.path,r=e.schema,a=e.openDeleteDialog,c=e.moveUp,u=e.moveDown,s=e.uischema,l=e.config,d=e.enabled,b=e.cells;if(0===t)return Object(j.jsx)(He,{numColumns:Ve(r).length+1});var f=Fe()({},l,s.options);return Object(j.jsx)(i.a.Fragment,{children:oe()(t).map((function(e){var i=o.c.compose(n,"".concat(e));return Object(j.jsx)(Ge,{childPath:i,rowIndex:e,schema:r,openDeleteDialog:a,moveUpCreator:c,moveDownCreator:u,enableUp:0!==e,enableDown:e!==t-1,showSortButtons:f.showSortButtons,enabled:d,cells:b,path:n},i)}))})},Je=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).addItem=function(t,n){return e.props.addItem(t,n)},e}return Object(Q.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.path,r=e.schema,a=e.rootSchema,c=e.uischema,i=e.errors,o=e.visible,u=e.enabled,s=e.cells,l=c,d="object"===r.type,f=d?Ue(qe,r,n,u,s):void 0;return Object(j.jsx)(b.a,{xsUp:!o,children:Object(j.jsxs)(je.a,{children:[Object(j.jsxs)(fe.a,{children:[Object(j.jsx)(Re,{errors:i,label:t,addItem:this.addItem,numColumns:d?f.length:1,path:n,uischema:l,schema:r,rootSchema:a,enabled:u}),d&&Object(j.jsxs)(ue.a,{children:[f,u?Object(j.jsx)(le.a,{}):null]})]}),Object(j.jsx)(Oe.a,{children:Object(j.jsx)(Ye,Object(I.a)({},this.props))})]})})}}]),n}(i.a.Component),Xe=n(2073),Ze=n(2080),Qe=n(2132),et=n(1286),tt=n(2133),nt=n(1620),rt=i.a.memo((function(e){var t=e.open,n=e.onClose,r=e.onConfirm,a=e.onCancel;return Object(j.jsxs)(Xe.a,{open:t,keepMounted:!0,onClose:n,"aria-labelledby":"alert-dialog-confirmdelete-title","aria-describedby":"alert-dialog-confirmdelete-description",children:[Object(j.jsx)(Ze.a,{id:"alert-dialog-confirmdelete-title",children:"Confirm Deletion"}),Object(j.jsx)(Qe.a,{children:Object(j.jsx)(et.a,{id:"alert-dialog-confirmdelete-description",children:"Are you sure you want to delete the selected entry?"})}),Object(j.jsxs)(tt.a,{children:[Object(j.jsx)(nt.a,{onClick:a,color:"primary",children:"No"}),Object(j.jsx)(nt.a,{onClick:r,color:"primary",children:"Yes"})]})]})})),at=function(e){var t=Object(c.useState)(!1),n=Object(X.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(),u=Object(X.a)(o,2),s=u[0],l=u[1],d=Object(c.useState)(),f=Object(X.a)(d,2),O=f[0],m=f[1],h=e.removeItems,p=e.visible,v=Object(c.useCallback)((function(e,t){i(!0),l(e),m(t)}),[i,l,m]),x=Object(c.useCallback)((function(){return i(!1)}),[i]),g=Object(c.useCallback)((function(){var e=s.substring(0,s.lastIndexOf("."));h(e,[O])(),i(!1)}),[i,s,O]),y=Object(c.useCallback)((function(){return i(!1)}),[i]);return Object(j.jsxs)(b.a,{xsUp:!p,children:[Object(j.jsx)(Je,Object(a.a)(Object(a.a)({},e),{},{openDeleteDialog:v})),Object(j.jsx)(rt,{open:r,onCancel:x,onConfirm:g,onClose:y})]})},ct=Object(l.i)(at),it=function(e){var t=e.renderers,n=e.cells,r=e.uischemas,a=e.schema,i=e.label,u=e.path,d=e.visible,f=e.enabled,O=e.uischema,m=e.rootSchema,h=Object(c.useMemo)((function(){return Object(o.u)(r,a,O.scope,u,(function(){return s()(u)?o.b.uiSchema(a,"VerticalLayout"):Object(I.a)(Object(I.a)({},o.b.uiSchema(a,"Group")),{},{label:i})}),O,m)}),[r,a,O.scope,u,i,O,m]);return Object(j.jsx)(b.a,{xsUp:!d,children:Object(j.jsx)(l.d,{visible:d,enabled:f,schema:a,uischema:h,path:u,renderers:t,cells:n})})},ot=Object(o.wb)(2,o.R),ut=Object(l.m)(it),st=function(e){var t=e.schema,n=e.rootSchema,r=e.visible,a=e.renderers,c=e.cells,i=e.path,u=e.uischemas,s=e.uischema,d=Object(o.t)(u)(t,s.scope,i);if(d)return Object(j.jsx)(b.a,{xsUp:!r,children:Object(j.jsx)(l.d,{schema:t,uischema:d,path:i,renderers:a,cells:c})});var f=Object(o.m)(t.allOf,n,"allOf",s,i,u);return Object(j.jsx)(b.a,{xsUp:!r,children:f.map((function(e,t){return Object(j.jsx)(l.d,{schema:e.schema,uischema:e.uischema,path:i,renderers:a,cells:c},t)}))})},lt=Object(o.wb)(3,o.D),dt=Object(l.g)(st),bt=n(2119),jt=n(2145),ft=n(3),Ot=n(2),mt=n(7),ht=n(10),pt=n(779),vt=n.n(pt),xt=function(e){Object(mt.a)(n,e);var t=Object(ht.a)(n);function n(){return Object(ft.a)(this,n),t.apply(this,arguments)}return Object(Ot.a)(n,[{key:"render",value:function(){var e=this.props,t=e.schema,n=e.combinatorKeyword,r=e.path,a=vt()(t,n),c=o.b.uiSchema(a,"VerticalLayout"),i=!1;return null!==c&&c.hasOwnProperty("elements")&&(i=c.elements.length>0),i?Object(j.jsx)(l.d,{schema:a,path:r,uischema:c}):null}}]),n}(i.a.Component),gt=xt,yt=function(e){var t=e.schema,n=e.rootSchema,r=e.indexOfFittingSchema,a=e.visible,i=e.path,u=e.renderers,s=e.cells,d=e.uischema,f=e.uischemas,O=Object(c.useState)(r||0),m=Object(M.a)(O,2),h=m[0],p=m[1],v=Object(c.useCallback)((function(e,t){return p(t)}),[p]),x="anyOf",g=Object(o.m)(t.anyOf,n,x,d,i,f);return Object(j.jsxs)(b.a,{xsUp:!a,children:[Object(j.jsx)(gt,{schema:t,combinatorKeyword:x,path:i}),Object(j.jsx)(bt.a,{value:h,onChange:v,children:g.map((function(e){return Object(j.jsx)(jt.a,{label:e.label},e.label)}))}),g.map((function(e,t){return h===t&&Object(j.jsx)(l.d,{schema:e.schema,uischema:e.uischema,path:i,renderers:u,cells:s},t)}))]})},Ct=Object(o.wb)(3,o.E),wt=Object(l.h)(yt),kt=function(e){var t=e.handleChange,n=e.schema,r=e.path,a=e.renderers,i=e.cells,u=e.rootSchema,d=e.id,f=e.visible,O=e.indexOfFittingSchema,m=e.uischema,h=e.uischemas,p=e.data,v=Object(c.useState)(!1),x=Object(M.a)(v,2),g=x[0],y=x[1],C=Object(c.useState)(O||0),w=Object(M.a)(C,2),k=w[0],I=w[1],P=Object(c.useState)(0),S=Object(M.a)(P,2),D=S[0],L=S[1],T=Object(c.useCallback)((function(){return y(!1)}),[y]),N=Object(c.useCallback)((function(){y(!1)}),[y]),A=Object(o.m)(n.oneOf,u,"oneOf",m,r,h),E=function(e){t(r,Object(o.n)(A[e].schema)),I(e)},R=Object(c.useCallback)((function(){E(D),y(!1)}),[t,o.n,D]),z=Object(c.useCallback)((function(e,t){L(t),s()(p)?E(t):y(!0)}),[y,I,p]);return Object(j.jsxs)(b.a,{xsUp:!f,children:[Object(j.jsx)(gt,{schema:n,combinatorKeyword:"oneOf",path:r}),Object(j.jsx)(bt.a,{value:k,onChange:z,children:A.map((function(e){return Object(j.jsx)(jt.a,{label:e.label},e.label)}))}),A.map((function(e,t){return k===t&&Object(j.jsx)(l.d,{schema:e.schema,uischema:e.uischema,path:r,renderers:a,cells:i},t)})),Object(j.jsxs)(Xe.a,{open:g,onClose:T,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(j.jsx)(Ze.a,{id:"alert-dialog-title",children:"Clear form?"}),Object(j.jsx)(Qe.a,{children:Object(j.jsx)(et.a,{id:"alert-dialog-description",children:"Your data will be cleared if you navigate away from this tab. Do you want to proceed?"})}),Object(j.jsxs)(tt.a,{children:[Object(j.jsx)(nt.a,{onClick:N,color:"primary",children:"No"}),Object(j.jsx)(nt.a,{onClick:R,color:"primary",autoFocus:!0,id:"oneOf-".concat(d,"-confirm-yes"),children:"Yes"})]})]})]})},It=Object(o.wb)(3,o.S),Mt=Object(l.u)(kt),Pt=n(1616),St=i.a.memo((function(e){var t=e.data,n=e.className,r=e.id,a=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,u=e.config,s={autoFocus:!!Fe()({},u,c.options).focus},l=!!t;return Object(j.jsx)(Pt.a,{checked:l,onChange:function(e,t){return o(i,t)},className:n,id:r,disabled:!a,inputProps:s})})),Dt=n(1617),Lt=n(1512),Tt=i.a.memo((function(e){var t=e.data,n=e.className,r=e.id,a=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,u=e.options,s=e.config,l=Fe()({},s,c.options);return Object(j.jsx)(Dt.a,{className:n,id:r,disabled:!a,autoFocus:l.focus,value:void 0!==t?t:"",onChange:function(e){return o(i,e.target.value)},fullWidth:!0,variant:"standard",children:[Object(j.jsx)(Lt.a,{value:""},"empty")].concat(u.map((function(e){return Object(j.jsx)(Lt.a,{value:e.value,children:e.label},e.value)})))})})),Nt=n(2081),At=n(423),Et=n.n(At),Rt=n(424),zt=n.n(Rt);Et.a.extend(zt.a);var Ft,Bt=function(e,t,n){return function(r){if(r){var a=Et()(r).format(n);t(e,"Invalid Date"===a?void 0:a)}else t(e,void 0)}},Ut=function(e,t){if(!e)return null;var n=Et()(e,t);return"Invalid Date"===n.toString()?null:n},Vt=n(420),Ht=n.n(Vt),qt=function(e){return e.target.value},_t=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qt,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:300,o=Object(c.useState)(null!==n&&void 0!==n?n:t),u=Object(X.a)(o,2),s=u[0],l=u[1];Object(c.useEffect)((function(){l(null!==n&&void 0!==n?n:t)}),[n]);var d=Object(c.useCallback)(Ht()((function(t){return e(r,t)}),i),[e,r,i]),b=Object(c.useCallback)((function(e){var n=a(e);l(null!==n&&void 0!==n?n:t),d(n)}),[d,a]),j=Object(c.useCallback)((function(){l(t),e(r,void 0)}),[t,e,r]);return[s,b,j]},Wt=function(){var e=Object(c.useState)(!1),t=Object(X.a)(e,2),n=t[0],r=t[1];return[n,Object(c.useCallback)((function(){return r(!0)}),[]),Object(c.useCallback)((function(){return r(!1)}),[])]},$t=function(e){return""===(t=e.target.value)?void 0:parseInt(t,10);var t},Kt=i.a.memo((function(e){var t=e.data,n=e.className,r=e.id,a=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,u=e.config,s=Fe()({},u,c.options),l=_t(o,"",t,i,$t),d=Object(X.a)(l,2),b=d[0],f=d[1];return Object(j.jsx)(Nt.a,{type:"number",value:b,onChange:f,className:n,id:r,disabled:!a,autoFocus:s.focus,inputProps:{step:"1"},fullWidth:!0})})),Gt=function(e){return""===(t=e.target.value)?void 0:parseFloat(t);var t},Yt=i.a.memo((function(e){var t=e.data,n=e.className,r=e.id,a=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,u=e.config,s=Fe()({},u,c.options),l=_t(o,"",t,i,Gt),d=Object(X.a)(l,2),b=d[0],f=d[1];return Object(j.jsx)(Nt.a,{type:"number",value:b,onChange:f,className:n,id:r,disabled:!a,autoFocus:s.focus,inputProps:{step:"0.1"},fullWidth:!0})})),Jt=i.a.memo((function(e){var t,n=e.className,r=e.id,a=e.enabled,i=e.uischema,o=e.isValid,u=e.path,s=e.handleChange,l=e.schema,d=e.config,b=l.maxLength,f=Fe()({},d,i.options);t=f.restrict?{maxLength:b}:{};var O=e.toFormatted(e.data),m=Object(c.useCallback)((function(t){return e.fromFormatted(t.currentTarget.value)}),[e.fromFormatted]),h=_t(s,"",O,u,m),p=Object(X.a)(h,2),v=p[0],x=p[1];return Object(j.jsx)(Nt.a,{type:"text",value:v,onChange:x,className:n,id:r,disabled:!a,autoFocus:f.focus,multiline:f.multi,fullWidth:!f.trim||void 0===b,inputProps:t,error:!o})})),Xt=n(151),Zt=n(1507),Qt=n(425),en=n.n(Qt),tn=i.a.memo((function(e){var t,n,r,a,i=Object(c.useState)(!1),o=Object(X.a)(i,2),u=o[0],s=o[1],l=e.data,d=e.config,b=e.className,f=e.id,O=e.enabled,m=e.uischema,h=e.isValid,p=e.path,v=e.handleChange,x=e.schema,g=e.muiInputProps,y=e.inputComponent,C=x.maxLength,w=Fe()({},d,m.options);a=w.restrict?{maxLength:C}:{},a=Fe()(a,g),w.trim&&void 0!==C&&(a.size=C);var k=_t(v,"",l,p),I=Object(X.a)(k,3),M=I[0],P=I[1],S=I[2],D=Object(Xt.a)(),L={background:(null===(t=D.jsonforms)||void 0===t||null===(n=t.input)||void 0===n||null===(r=n.delete)||void 0===r?void 0:r.background)||D.palette.background.default,borderRadius:"50%"};return Object(j.jsx)(Nt.a,{type:"password"===w.format?"password":"text",value:M,onChange:P,className:b,id:f,disabled:!O,autoFocus:w.focus,multiline:w.multi,fullWidth:!w.trim||void 0===C,inputProps:a,error:!h,onPointerEnter:function(){return s(!0)},onPointerLeave:function(){return s(!1)},endAdornment:Object(j.jsx)(Zt.a,{position:"end",style:{display:u&&O&&void 0!==l?"flex":"none",position:"absolute",right:0},children:Object(j.jsx)(be.a,{"aria-label":"Clear input field",onClick:S,size:"large",children:Object(j.jsx)(en.a,{style:L})})}),inputComponent:y})})),nn=i.a.memo((function(e){var t=e.data,n=e.className,r=e.id,a=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,u=e.config,s=Fe()({},u,c.options),l=_t(o,"",t,i),d=Object(X.a)(l,2),b=d[0],f=d[1];return Object(j.jsx)(Nt.a,{type:"time",value:b,onChange:f,className:n,id:r,disabled:!a,autoFocus:s.focus,fullWidth:!0})})),rn=n(1490),an=n(1539),cn=n(1540),on=["schema","visible","errors","path","options","data","addItem","removeItem","handleChange"],un=function(e){var t=e.schema,n=e.visible,r=e.errors,a=e.path,c=e.options,i=e.data,u=e.addItem,l=e.removeItem,d=(e.handleChange,Object(V.a)(e,on));return Object(j.jsx)(b.a,{xlUp:!n,children:Object(j.jsxs)(rn.a,{component:"fieldset",children:[Object(j.jsx)(an.a,{row:!0,children:c.map((function(e,c){var b=o.c.compose(a,"".concat(c)),f=null!==i&&void 0!==i&&i.includes(e.value)?e.value:void 0;return Object(j.jsx)(cn.a,{id:e.value,control:Object(j.jsx)(St,Object(I.a)({isValid:s()(r),path:b,handleChange:function(t,n){return n?u(a,e.value):l(a,e.value)},data:f,errors:r,schema:t,visible:n},d),"checkbox-"+e.value),label:e.label},e.value)}))}),Object(j.jsx)(de.a,{error:!0,children:r})]})})},sn=Object(o.wb)(5,Object(o.e)(Object(o.Cb)("Control"),Object(o.e)(Object(o.yb)((function(e){return Object(o.B)(e,"array")&&!Array.isArray(e.items)&&!0===e.uniqueItems})),Object(o.zb)("items",(function(e){return function(e){return void 0!==e.oneOf&&e.oneOf.length>0&&e.oneOf.every((function(e){return void 0!==e.const}))}(e)||function(e){return"string"===e.type&&void 0!==e.enum}(e)}))))),ln=Object(l.r)(un),dn=Object(o.wb)(3,Object(o.vb)(o.P,o.U)),bn=Object(o.wb)(1,Object(o.Cb)("Label")),jn=function(e){var t=e.uischema,n=e.visible,r=t;return Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)(se.a,{variant:"h6",children:void 0!==r.text&&null!==r.text&&r.text})})},fn=Object(l.p)(jn),On=n(2139),mn=n(426),hn=n.n(mn),pn=n(1522),vn=i.a.memo((function(e){var t=e.label,n=e.errors,r=e.addItem,a=e.path,c=e.createDefault;return Object(j.jsx)(pn.a,{disableGutters:!0,children:Object(j.jsxs)(d.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(se.a,{variant:"h6",children:t})}),Object(j.jsx)(b.a,{smUp:0===n.length,children:Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(Ae,{id:"tooltip-validation",errorMessages:n})})}),Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(d.a,{container:!0,children:Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(Me.a,{id:"tooltip-add",title:"Add to ".concat(t),placement:"bottom",children:Object(j.jsx)(be.a,{"aria-label":"Add to ".concat(t),onClick:r(a,c()),size:"large",children:Object(j.jsx)(Se.a,{})})})})})})]})})})),xn=n(2127),gn=n(1287),yn=n(2126),Cn=n(1509),wn=n(2140),kn=Object(l.q)((function(e){var t=e.index,n=e.childLabel,r=e.selected,a=e.handleSelect,c=e.removeItem,i=e.path;return Object(j.jsxs)(xn.a,{button:!0,selected:r,onClick:a(t),children:[Object(j.jsx)(gn.a,{children:Object(j.jsx)(yn.a,{"aria-label":"Index",children:t+1})}),Object(j.jsx)(Cn.a,{primary:n}),Object(j.jsx)(wn.a,{children:Object(j.jsx)(be.a,{"aria-label":"Delete",onClick:c(i,t),size:"large",children:Object(j.jsx)(he.a,{})})})]})})),In=function(e){var t=e.uischemas,n=e.schema,r=e.uischema,a=e.path,i=e.errors,u=e.visible,s=e.label,f=e.required,O=e.removeItems,m=e.addItem,h=e.data,p=e.renderers,v=e.cells,x=e.config,g=e.rootSchema,y=Object(c.useState)(),C=Object(M.a)(y,2),w=C[0],k=C[1],I=Object(c.useCallback)((function(e,t){return function(){O(e,[t])(),w===t?k(void 0):"number"===typeof w&&w>t&&k(w-1)}}),[O,k]),P=Object(c.useCallback)((function(e){return function(){return k(e)}}),[k]),S=Object(c.useCallback)((function(){return Object(o.n)(n)}),[o.n]),D=Object(c.useMemo)((function(){return Object(o.u)(t,n,r.scope,a,void 0,r,g)}),[t,n,r.scope,a,r,g]),L=Fe()({},x,r.options);return Object(j.jsxs)(b.a,{xsUp:!u,children:[Object(j.jsx)(vn,{label:Object(o.j)(s,f,L.hideRequiredAsterisk),errors:i,path:a,addItem:m,createDefault:S}),Object(j.jsxs)(d.a,{container:!0,direction:"row",spacing:2,children:[Object(j.jsx)(d.a,{item:!0,xs:3,children:Object(j.jsx)(On.a,{children:h>0?hn()(oe()(h),(function(e){return Object(j.jsx)(kn,{index:e,path:a,schema:n,handleSelect:P,removeItem:I,selected:w===e},e)})):Object(j.jsx)("p",{children:"No data"})})}),Object(j.jsx)(d.a,{item:!0,xs:!0,children:void 0!==w?Object(j.jsx)(l.d,{renderers:p,cells:v,visible:u,schema:n,uischema:D,path:Object(o.h)(a,"".concat(w))}):Object(j.jsx)(se.a,{variant:"h6",children:"No Selection"})})]})]})},Mn=Object(o.wb)(4,Object(o.e)(Object(o.Cb)("ListWithDetail"),o.O)),Pn=Object(l.i)(In),Sn=function(e){var t=e.data,n=e.visible,r=e.label,a=e.id,c=e.enabled,i=e.uischema,o=e.schema,u=e.rootSchema,l=e.handleChange,d=e.errors,f=e.path,O=e.config;return Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)(cn.a,{label:r,id:a,control:Object(j.jsx)(St,{id:"".concat(a,"-input"),isValid:s()(d),data:t,enabled:c,visible:n,path:f,uischema:i,schema:o,rootSchema:u,handleChange:l,errors:d,config:O})})})},Dn=Object(o.wb)(2,o.F),Ln=Object(l.l)(Sn),Tn=n(1288),Nn=i.a.memo((function(e){var t=e.data,n=e.className,r=e.id,a=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,u=e.config,s={autoFocus:!!Fe()({},u,c.options).focus},l=!!t;return Object(j.jsx)(Tn.a,{checked:l,onChange:function(e,t){return o(i,t)},className:n,id:r,disabled:!a,inputProps:s})})),An=function(e){var t=e.data,n=e.visible,r=e.label,a=e.id,c=e.enabled,i=e.uischema,o=e.schema,u=e.rootSchema,l=e.handleChange,d=e.errors,f=e.path,O=e.config;return Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)(cn.a,{label:r,id:a,control:Object(j.jsx)(Nn,{id:"".concat(a,"-input"),isValid:s()(d),data:t,enabled:c,visible:n,path:f,uischema:i,schema:o,rootSchema:u,handleChange:l,errors:d,config:O})})})},En=Object(o.wb)(3,Object(o.e)(o.F,Object(o.ub)("toggle",!0))),Rn=Object(l.l)(An),zn=n(1491),Fn=function(e){var t=Wt(),n=Object(X.a)(t,3),r=n[0],c=n[1],i=n[2],u=e.id,s=e.description,l=e.errors,d=e.label,f=e.uischema,O=e.visible,m=e.required,h=e.config,p=e.input,v=0===l.length,x=Fe()({},h,f.options),g=!Object(o.J)(O,s,r,x.showUnfocusedDescription),y=g?s:v?null:l,C=g&&!v?l:null,w=p;return Object(j.jsx)(b.a,{xsUp:!O,children:Object(j.jsxs)(rn.a,{fullWidth:!x.trim,onFocus:c,onBlur:i,id:u,variant:"standard",children:[Object(j.jsx)(zn.a,{htmlFor:u+"-input",error:!v,required:Object(o.Bb)(m,x.hideRequiredAsterisk),children:d}),Object(j.jsx)(w,Object(a.a)(Object(a.a)({},e),{},{id:u+"-input",isValid:v,visible:O})),Object(j.jsx)(de.a,{error:!v&&!g,children:y}),Object(j.jsx)(de.a,{error:!v,children:C})]})})},Bn=n(2121),Un=function(e){var t,n=e.data,r=e.className,a=e.id,c=e.enabled,o=e.uischema,u=e.path,s=e.handleChange,l=e.options,d=e.config,b=e.getOptionLabel,f=e.renderOption,O=e.filterOptions,m=Fe()({},d,o.options),h=i.a.useState(null!==n&&void 0!==n?n:""),p=Object(X.a)(h,2),v=p[0],x=p[1],g=null!==(t=null===l||void 0===l?void 0:l.find((function(e){return e.value===n})))&&void 0!==t?t:null;return Object(j.jsx)(Bn.a,{className:r,id:a,disabled:!c,value:g,onChange:function(e,t){s(u,null===t||void 0===t?void 0:t.value)},inputValue:v,onInputChange:function(e,t){x(t)},autoHighlight:!0,autoSelect:!0,autoComplete:!0,fullWidth:!0,options:null!==l&&void 0!==l?l:[],getOptionLabel:b||function(e){return null===e||void 0===e?void 0:e.label},style:{marginTop:16},renderInput:function(e){return Object(j.jsx)(Nt.a,{style:{width:"100%"},type:"text",inputProps:e.inputProps,inputRef:e.InputProps.ref,autoFocus:m.focus,disabled:!c})},renderOption:f,filterOptions:O})},Vn=function(e){var t=e.config,n=e.uischema,r=Fe()({},t,n.options);return Object(j.jsx)(Fn,Object(a.a)(Object(a.a)({},e),{},{input:!1===r.autocomplete?Tt:Un}))},Hn=Object(o.wb)(2,o.K),qn=Object(l.o)(Vn),_n=n(1485),Wn=function(e){var t,n=Wt(),r=Object(X.a)(n,3),a=r[0],c=r[1],i=r[2],u=e.id,s=e.errors,l=e.label,d=e.schema,f=e.description,O=e.enabled,m=e.visible,h=e.required,p=e.path,v=e.handleChange,x=e.data,g=e.config,y=0===s.length,C=Fe()({},g,e.uischema.options),w=_t(v,"",x,p),k=Object(X.a)(w,2),I=k[0],M=k[1],P=null!==(t=C.format)&&void 0!==t?t:d.format,S=!Object(o.J)(m,f,a,C.showUnfocusedDescription);return Object(j.jsx)(b.a,{xsUp:!m,children:Object(j.jsx)(_n.a,{required:Object(o.Bb)(h,C.hideRequiredAsterisk),id:u+"-input",label:l,type:P,error:!y,disabled:!O,fullWidth:!C.trim,onFocus:c,onBlur:i,helperText:y?S?f:null:s,InputLabelProps:{shrink:!0},value:I,onChange:M})})},$n=Object(o.wb)(2,Object(o.vb)(o.H,o.X)),Kn=Object(l.l)(Wn),Gn=n(781),Yn=n(1277),Jn=n(1244),Xn=function(e){var t,n,r=Wt(),i=Object(X.a)(r,3),u=i[0],s=i[1],l=i[2],d=e.description,f=e.id,O=e.errors,m=e.label,h=e.uischema,p=e.visible,v=e.enabled,x=e.required,g=e.path,y=e.handleChange,C=e.data,w=e.config,k=0===O.length,I=Fe()({},w,h.options),M=!Object(o.J)(p,d,u,I.showUnfocusedDescription),P=null!==(t=I.dateFormat)&&void 0!==t?t:"YYYY-MM-DD",S=null!==(n=I.dateSaveFormat)&&void 0!==n?n:"YYYY-MM-DD",D=M?d:k?null:O,L=M&&!k?O:null,T=Object(c.useMemo)((function(){return Bt(g,y,S)}),[g,y,S]);return Object(j.jsx)(b.a,{xsUp:!p,children:Object(j.jsxs)(Gn.a,{dateAdapter:Jn.a,children:[Object(j.jsx)(Yn.a,{label:m,value:Ut(C,S),clearable:!0,onChange:T,inputFormat:P,disableMaskedInput:!0,views:I.views,disabled:!v,cancelText:I.cancelLabel,clearText:I.clearLabel,okText:I.okLabel,renderInput:function(e){return Object(j.jsx)(_n.a,Object(a.a)(Object(a.a)({},e),{},{id:f+"-input",required:x&&!I.hideRequiredAsterisk,autoFocus:I.focus,error:!k,fullWidth:!I.trim,inputProps:Object(a.a)(Object(a.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:C?{shrink:!0}:void 0,onFocus:s,onBlur:l,variant:"standard"}))}}),Object(j.jsx)(de.a,{error:!k&&!M,children:D}),Object(j.jsx)(de.a,{error:!k,children:L})]})})},Zn=Object(o.wb)(4,o.H),Qn=Object(l.l)(Xn),er=n(1270),tr=function(e){var t,n,r=Wt(),i=Object(X.a)(r,3),u=i[0],s=i[1],l=i[2],d=e.id,f=e.description,O=e.errors,m=e.label,h=e.uischema,p=e.visible,v=e.enabled,x=e.required,g=e.path,y=e.handleChange,C=e.data,w=e.config,k=Fe()({},w,h.options),I=0===O.length,M=!Object(o.J)(p,f,u,k.showUnfocusedDescription),P=null!==(t=k.dateTimeFormat)&&void 0!==t?t:"YYYY-MM-DD HH:mm",S=null!==(n=k.dateTimeSaveFormat)&&void 0!==n?n:void 0,D=M?f:I?null:O,L=M&&!I?O:null,T=Object(c.useMemo)((function(){return Bt(g,y,S)}),[g,y,S]);return Object(j.jsx)(b.a,{xsUp:!p,children:Object(j.jsxs)(Gn.a,{dateAdapter:Jn.a,children:[Object(j.jsx)(er.a,{label:m,value:Ut(C,S),clearable:!0,onChange:T,inputFormat:P,disableMaskedInput:!0,ampm:!!k.ampm,views:k.views,disabled:!v,cancelText:k.cancelLabel,clearText:k.clearLabel,okText:k.okLabel,renderInput:function(e){return Object(j.jsx)(_n.a,Object(a.a)(Object(a.a)({},e),{},{id:d+"-input",required:x&&!k.hideRequiredAsterisk,autoFocus:k.focus,error:!I,fullWidth:!k.trim,inputProps:Object(a.a)(Object(a.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:C?{shrink:!0}:void 0,onFocus:s,onBlur:l,variant:"standard"}))}}),Object(j.jsx)(de.a,{error:!I&&!M,children:D}),Object(j.jsx)(de.a,{error:!I,children:L})]})})},nr=Object(o.wb)(2,o.I),rr=Object(l.l)(tr),ar=n(1275),cr=function(e){var t,n,r=Wt(),i=Object(X.a)(r,3),u=i[0],s=i[1],l=i[2],d=e.id,f=e.description,O=e.errors,m=e.label,h=e.uischema,p=e.visible,v=e.enabled,x=e.required,g=e.path,y=e.handleChange,C=e.data,w=e.config,k=Fe()({},w,h.options),I=0===O.length,M=!Object(o.J)(p,f,u,k.showUnfocusedDescription),P=null!==(t=k.timeFormat)&&void 0!==t?t:"HH:mm",S=null!==(n=k.timeSaveFormat)&&void 0!==n?n:"HH:mm:ss",D=M?f:I?null:O,L=M&&!I?O:null,T=Object(c.useMemo)((function(){return Bt(g,y,S)}),[g,y,S]);return Object(j.jsx)(b.a,{xsUp:!p,children:Object(j.jsxs)(Gn.a,{dateAdapter:Jn.a,children:[Object(j.jsx)(ar.a,{label:m,value:Ut(C,S),clearable:!0,onChange:T,inputFormat:P,disableMaskedInput:!0,ampm:!!k.ampm,views:k.views,disabled:!v,cancelText:k.cancelLabel,clearText:k.clearLabel,okText:k.okLabel,renderInput:function(e){return Object(j.jsx)(_n.a,Object(a.a)(Object(a.a)({},e),{},{id:d+"-input",required:x&&!k.hideRequiredAsterisk,autoFocus:k.focus,error:!I,fullWidth:!k.trim,inputProps:Object(a.a)(Object(a.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:C?{shrink:!0}:void 0,onFocus:s,onBlur:l,variant:"standard"}))}}),Object(j.jsx)(de.a,{error:!I&&!M,children:D}),Object(j.jsx)(de.a,{error:!I,children:L})]})})},ir=Object(o.wb)(4,o.X),or=Object(l.l)(cr),ur=n(2085),sr=n(1273),lr=function(e){var t=Wt(),n=Object(X.a)(t,3),r=n[0],a=n[1],i=n[2],u=e.id,s=e.data,l=e.description,d=e.enabled,f=e.errors,O=e.label,m=e.schema,h=e.handleChange,p=e.visible,v=e.path,x=e.required,g=e.config,y=0===f.length,C=Fe()({},g,e.uischema.options),w={flexGrow:"1"},k=!Object(o.J)(p,l,r,C.showUnfocusedDescription),I=Object(c.useCallback)((function(e,t){return h(v,Number(t))}),[v,h]);return Object(j.jsx)(b.a,{xsUp:!p,children:Object(j.jsxs)(rn.a,{fullWidth:!C.trim,onFocus:a,onBlur:i,id:u,children:[Object(j.jsx)(ur.a,{htmlFor:u,error:!y,component:"legend",required:Object(o.Bb)(x,C.hideRequiredAsterisk),children:Object(j.jsx)(se.a,{id:u+"-typo",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},variant:"caption",children:O})}),Object(j.jsxs)("div",{style:{display:"flex"},children:[Object(j.jsx)(se.a,{style:w,variant:"caption",align:"left",children:m.minimum}),Object(j.jsx)(se.a,{style:w,variant:"caption",align:"right",children:m.maximum})]}),Object(j.jsx)(sr.a,{style:{marginTop:"7px"},min:m.minimum,max:m.maximum,value:Number(s||m.default),onChange:I,id:u+"-input",disabled:!d,step:m.multipleOf||1}),Object(j.jsx)(de.a,{error:!y,children:y?k?l:null:f})]})})},dr=Object(o.wb)(4,o.V),br=Object(l.l)(lr),jr=n(1245),fr=n(1274),Or=function(e){var t=Wt(),n=Object(X.a)(t,3),r=n[0],a=n[1],c=n[2],i=e.config,u=e.id,s=e.label,l=e.required,d=e.description,f=e.errors,O=e.data,m=e.visible,h=e.options,p=e.handleChange,v=e.path,x=e.enabled,g=0===f.length,y=Fe()({},i,e.uischema.options),C=!Object(o.J)(m,d,r,y.showUnfocusedDescription);return Object(j.jsx)(b.a,{xsUp:!m,children:Object(j.jsxs)(rn.a,{component:"fieldset",fullWidth:!y.trim,onFocus:a,onBlur:c,children:[Object(j.jsx)(ur.a,{htmlFor:u,error:!g,component:"legend",required:Object(o.Bb)(l,y.hideRequiredAsterisk),children:s}),Object(j.jsx)(jr.a,{value:e.data,onChange:function(e,t){return p(v,t)},row:!0,children:null===h||void 0===h?void 0:h.map((function(e){return Object(j.jsx)(cn.a,{value:e.value,control:Object(j.jsx)(fr.a,{checked:O===e.value}),label:e.label,disabled:!x},e.label)}))}),Object(j.jsx)(de.a,{error:!g,children:g?C?d:null:f})]})})},mr=function(e){return Object(j.jsx)(Or,Object(a.a)({},e))},hr=Object(o.wb)(20,Object(o.e)(o.K,Object(o.ub)("format","radio"))),pr=Object(l.o)(mr),vr=function(e){return Object(j.jsx)(Fn,Object(a.a)(Object(a.a)({},e),{},{input:Kt}))},xr=Object(o.wb)(2,o.L),gr=Object(l.l)(vr),yr=function(e){return Object(j.jsx)(Fn,Object(a.a)(Object(a.a)({},e),{},{input:Yt}))},Cr=Object(o.wb)(2,o.M),wr=Object(l.l)(yr),kr=function(e){return Object(j.jsx)(Fn,Object(a.a)(Object(a.a)({},e),{},{input:tn}))},Ir=Object(o.wb)(1,o.W),Mr=Object(l.l)(kr),Pr=function(e){return e.find((function(e){return void 0!==e.enum&&("string"===e.type||void 0===e.type)}))},Sr=function(e){return e.find((function(e){return"string"===e.type&&void 0===e.enum}))},Dr=function(e){var t=e.data,n=e.config,r=e.className,a=e.id,i=e.enabled,o=e.uischema,u=e.isValid,s=e.path,l=e.handleChange,d=e.schema,b=Pr(d.anyOf),f=Sr(d.anyOf).maxLength,O=Object(c.useMemo)((function(){return Fe()({},n,o.options)}),[n,o.options]),m=Object(c.useMemo)((function(){var t={};return O.restrict&&(t={maxLength:f}),O.trim&&void 0!==f&&(t.size=f),t.list=e.id+"datalist",t}),[O,e.id]),h=_t(l,"",t,s),p=Object(X.a)(h,2),v=p[0],x=p[1],g=Object(j.jsx)("datalist",{id:e.id+"datalist",children:b.enum.map((function(e){return Object(j.jsx)("option",{value:e},e)}))});return Object(j.jsx)(Nt.a,{type:"text",value:v,onChange:x,className:r,id:a,disabled:!i,autoFocus:O.focus,fullWidth:!O.trim||void 0===f,inputProps:m,error:!u,endAdornment:g})},Lr=function(e){Object(mt.a)(n,e);var t=Object(ht.a)(n);function n(){return Object(ft.a)(this,n),t.apply(this,arguments)}return Object(Ot.a)(n,[{key:"render",value:function(){return Object(j.jsx)(Fn,Object(a.a)(Object(a.a)({},this.props),{},{input:Dr}))}}]),n}(l.a),Tr=Object(o.e)(Object(o.Cb)("Control"),Object(o.yb)((function(e){return e.hasOwnProperty("anyOf")&&function(e){var t=Pr(e),n=Sr(e),r=e.filter((function(e){return e!==t||e!==n})).find((function(e){return e.type&&"string"!==e.type}));return t&&n&&!r}(e.anyOf)}))),Nr=Object(o.wb)(5,Tr),Ar=Object(l.l)(Lr),Er=function(e){var t=e.config,n=e.uischema,r=Fe()({},t,n.options);return Object(j.jsx)(Fn,Object(a.a)(Object(a.a)({},e),{},{input:!1===r.autocomplete?Tt:Un}))},Rr=Object(o.wb)(5,o.T),zr=Object(l.t)(Er),Fr=function(e){return Object(j.jsx)(Or,Object(a.a)({},e))},Br=Object(o.wb)(20,Object(o.e)(o.T,Object(o.ub)("format","radio"))),Ur=Object(l.t)(Fr),Vr=n(1289),Hr=n(1290),qr=n(1291),_r=["visible","enabled","uischema"],Wr=Object(o.wb)(1,Object(o.Cb)("Group")),$r={marginBottom:"10px"},Kr=i.a.memo((function(e){var t=e.visible,n=e.enabled,r=e.uischema,c=Object(ye.a)(e,_r),i=r;return Object(j.jsx)(b.a,{xsUp:!t,children:Object(j.jsxs)(Vr.a,{style:$r,children:[!s()(i.label)&&Object(j.jsx)(Hr.a,{title:i.label}),Object(j.jsx)(qr.a,{children:Object(j.jsx)(m,Object(a.a)(Object(a.a)({},c),{},{visible:t,enabled:n,elements:i.elements}))})]})})})),Gr=function(e){var t=e.uischema,n=e.schema,r=e.path,a=e.visible,c=e.enabled,i=e.renderers,o=e.cells,u=e.direction,s=t;return Object(j.jsx)(Kr,{elements:s.elements,schema:n,path:r,direction:u,visible:a,enabled:c,uischema:t,renderers:i,cells:o})},Yr=Object(l.p)(Gr),Jr=Object(o.Eb)(1,Wr),Xr=n(2134),Zr=Object(o.e)(Object(o.Cb)("Categorization"),(function(e){var t=e;return t.elements&&!!t.elements.reduce((function(e,t){return e&&"Category"===t.type}),!0)})),Qr=Object(o.wb)(1,Zr),ea=function(e){var t=e.data,n=e.path,r=e.renderers,i=e.cells,u=e.schema,s=e.uischema,l=e.visible,d=e.enabled,f=e.selected,O=e.onChange,h=e.ajv,p=s,v=Object(c.useState)(null!==f&&void 0!==f?f:0),x=Object(X.a)(v,2),g=x[0],y=x[1],C=p.elements.filter((function(e){return Object(o.Y)(e,t,void 0,h)})),w={elements:C[g].elements,schema:u,path:n,direction:"column",enabled:d,visible:l,renderers:r,cells:i};return Object(j.jsxs)(b.a,{xsUp:!l,children:[Object(j.jsx)(Xr.a,{position:"static",children:Object(j.jsx)(bt.a,{value:g,onChange:function(e,t){O&&O(t,g),y(t)},textColor:"inherit",indicatorColor:"secondary",variant:"scrollable",children:C.map((function(e,t){return Object(j.jsx)(jt.a,{label:e.label},t)}))})}),Object(j.jsx)("div",{style:{marginTop:"0.5em"},children:Object(j.jsx)(m,Object(a.a)({},w))})]})},ta=Object(l.p)(h(ea)),na=n(607),ra=n.n(na),aa=n(1994),ca=n(1995),ia=n(1996),oa=n(324),ua=n.n(oa),sa={float:"right"},la=function(e){var t=Object(c.useState)(Object(o.o)("expand-panel")),n=Object(M.a)(t,1)[0];Object(c.useEffect)((function(){return function(){Object(o.xb)(n)}}),[n]);var r=e.childLabel,a=e.childPath,i=e.index,u=e.expanded,s=e.moveDown,b=e.moveUp,f=e.enableMoveDown,O=e.enableMoveUp,m=e.handleExpansion,h=e.removeItems,p=e.path,v=e.rootSchema,x=e.schema,g=e.uischema,y=e.uischemas,C=e.renderers,w=e.cells,k=e.config,I=Object(c.useMemo)((function(){return Object(o.u)(y,x,g.scope,p,void 0,g,v)}),[y,x,g.scope,p,g,v]),P=Fe()({},k,g.options);return Object(j.jsxs)(aa.a,{"aria-labelledby":n,expanded:u,onChange:m(a),children:[Object(j.jsx)(ca.a,{expandIcon:Object(j.jsx)(ua.a,{}),children:Object(j.jsxs)(d.a,{container:!0,alignItems:"center",children:[Object(j.jsx)(d.a,{item:!0,xs:7,md:9,children:Object(j.jsxs)(d.a,{container:!0,alignItems:"center",children:[Object(j.jsx)(d.a,{item:!0,xs:2,md:1,children:Object(j.jsx)(yn.a,{"aria-label":"Index",children:i+1})}),Object(j.jsx)(d.a,{item:!0,xs:10,md:11,children:Object(j.jsx)("span",{id:n,children:r})})]})}),Object(j.jsx)(d.a,{item:!0,xs:5,md:3,children:Object(j.jsx)(d.a,{container:!0,justifyContent:"flex-end",children:Object(j.jsx)(d.a,{item:!0,children:Object(j.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[P.showSortButtons?Object(j.jsxs)(c.Fragment,{children:[Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(be.a,{onClick:b(p,i),style:sa,disabled:!O,"aria-label":"Move up",size:"large",children:Object(j.jsx)(ge.a,{})})}),Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(be.a,{onClick:s(p,i),style:sa,disabled:!f,"aria-label":"Move down",size:"large",children:Object(j.jsx)(ve.a,{})})})]}):"",Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(be.a,{onClick:h(p,[i]),style:sa,"aria-label":"Delete",size:"large",children:Object(j.jsx)(he.a,{})})})]})})})})]})}),Object(j.jsx)(ia.a,{children:Object(j.jsx)(l.d,{schema:x,uischema:I,path:a,renderers:C,cells:w},a)})]})},da=function(e){return function(t){var n,r=t.ctx,a=t.props,i=(n=r.dispatch,{removeItems:Object(c.useCallback)((function(e,t){return function(r){r.stopPropagation(),n(Object(o.Db)(e,(function(e){return t.sort().reverse().forEach((function(t){return e.splice(t,1)})),e})))}}),[n]),moveUp:Object(c.useCallback)((function(e,t){return function(r){r.stopPropagation(),n(Object(o.Db)(e,(function(e){return Object(o.tb)(e,t),e})))}}),[n]),moveDown:Object(c.useCallback)((function(e,t){return function(r){r.stopPropagation(),n(Object(o.Db)(e,(function(e){return Object(o.sb)(e,t),e})))}}),[n])}),u=a.childLabelProp,s=a.schema,l=a.path,d=a.index,b=a.uischemas,f=Object(o.h)(l,"".concat(d)),O=o.d.data(r.core.data,f),m=u?ra()(O,u,""):ra()(O,Object(o.y)(s),"");return Object(j.jsx)(e,Object(I.a)(Object(I.a)(Object(I.a)({},a),i),{},{childLabel:m,childPath:f,uischemas:b}))}},ba=(Ft=i.a.memo(la),Object(l.k)(da(Ft))),ja=function(e){var t=Object(c.useState)(!1),n=Object(X.a)(t,2),r=n[0],a=n[1],i=Object(c.useCallback)((function(){return Object(o.n)(e.schema)}),[e.schema]),u=Object(c.useCallback)((function(e){return function(t,n){a(!!n&&e)}}),[]),s=function(t){return r===Object(o.h)(e.path,"".concat(t))},l=e.data,d=e.path,b=e.schema,f=e.uischema,O=e.errors,m=e.addItem,h=e.renderers,p=e.cells,v=e.label,x=e.required,g=e.rootSchema,y=e.config,C=e.uischemas,w=Fe()({},y,e.uischema.options);return Object(j.jsxs)("div",{children:[Object(j.jsx)(vn,{label:Object(o.j)(v,x,w.hideRequiredAsterisk),errors:O,path:d,addItem:m,createDefault:i}),Object(j.jsx)("div",{children:l>0?hn()(oe()(l),(function(e){return Object(j.jsx)(ba,{index:e,expanded:s(e),schema:b,path:d,handleExpansion:u,uischema:f,renderers:h,cells:p,rootSchema:g,enableMoveUp:0!==e,enableMoveDown:e<l-1,config:y,childLabelProp:w.elementLabelProp,uischemas:C},e)})):Object(j.jsx)("p",{children:"No data"})})]})},fa=i.a.memo(ja),Oa=function(e){var t=e.visible,n=e.enabled,r=e.id,a=e.uischema,i=e.schema,o=e.label,u=e.rootSchema,s=e.renderers,l=e.cells,d=e.data,f=e.path,O=e.errors,m=e.uischemas,h=e.addItem,p=Object(c.useCallback)((function(e,t){return h(e,t)}),[h]);return Object(j.jsx)(b.a,{xsUp:!t,children:Object(j.jsx)(fa,{label:o,uischema:a,schema:i,id:r,rootSchema:u,errors:O,enabled:n,visible:t,data:d,path:f,addItem:p,renderers:s,cells:l,uischemas:m})})},ma=Object(o.wb)(4,o.Q),ha=Object(l.i)(Oa),pa=function(e){return Object(j.jsx)(St,Object(a.a)({},e))},va=Object(o.wb)(2,o.F),xa=(Object(l.j)(pa),function(e){return Object(j.jsx)(Nn,Object(a.a)({},e))}),ga=Object(o.wb)(3,Object(o.e)(o.F,Object(o.ub)("toggle",!0))),ya=(Object(l.j)(xa),function(e){var t=e.data,n=e.className,r=e.id,a=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,u=e.config,s=Fe()({},u,c.options);return Object(j.jsx)(Nt.a,{type:"date",value:t||"",onChange:function(e){return o(i,e.target.value)},className:n,id:r,disabled:!a,autoFocus:s.focus,fullWidth:!0})}),Ca=Object(o.wb)(2,o.H),wa=(Object(l.j)(ya),function(e){return Object(j.jsx)(Tt,Object(a.a)({},e))}),ka=(Object(o.wb)(2,o.K),Object(l.n)(wa),function(e){return Object(j.jsx)(Kt,Object(a.a)({},e))}),Ia=Object(o.wb)(2,o.L),Ma=(Object(l.j)(ka),function(e){return Object(j.jsx)(Yt,Object(a.a)({},e))}),Pa=Object(o.wb)(2,o.M),Sa=(Object(l.j)(Ma),function(e){return Object(j.jsx)(Jt,Object(a.a)({},e))}),Da=Object(o.wb)(4,o.N),La=(Object(l.j)(Sa),function(e){return Object(j.jsx)(Tt,Object(a.a)({},e))}),Ta=Object(o.wb)(2,o.T),Na=(Object(l.s)(La),function(e){return Object(j.jsx)(tn,Object(a.a)({},e))}),Aa=Object(o.wb)(1,o.W),Ea=(Object(l.j)(Na),function(e){return Object(j.jsx)(nn,Object(a.a)({},e))}),Ra=Object(o.wb)(2,o.X),za=(Object(l.j)(Ea),n(1279)),Fa=n(1284),Ba=n(1292),Ua=Object(o.wb)(2,Object(o.e)(Object(o.Cb)("Categorization"),o.f,Object(o.ub)("variant","stepper"))),Va=function(e){var t=Object(c.useState)(0),n=Object(X.a)(t,2),r=n[0],i=n[1],u=function(e){i(e)},s=e.data,l=e.path,d=e.renderers,f=e.schema,O=e.uischema,h=e.visible,p=e.cells,v=e.config,x=e.ajv,g=O,y=Fe()({},v,O.options),C=g.elements.filter((function(e){return Object(o.Y)(e,s,void 0,x)})),w={elements:C[r].elements,schema:f,path:l,direction:"column",visible:h,renderers:d,cells:p};return Object(j.jsxs)(b.a,{xsUp:!h,children:[Object(j.jsx)(za.a,{activeStep:r,nonLinear:!0,children:C.map((function(e,t){return Object(j.jsx)(Fa.a,{children:Object(j.jsx)(Ba.a,{onClick:function(){return u(t)},children:e.label})},e.label)}))}),Object(j.jsx)("div",{children:Object(j.jsx)(m,Object(a.a)({},w))}),y.showNavButtons?Object(j.jsxs)("div",{style:{textAlign:"right",width:"100%",margin:"1em auto"},children:[Object(j.jsx)(nt.a,{style:{float:"right"},variant:"contained",color:"primary",disabled:r>=C.length-1,onClick:function(){return u(r+1)},children:"Next"}),Object(j.jsx)(nt.a,{style:{marginRight:"1em"},color:"secondary",variant:"contained",disabled:r<=0,onClick:function(){return u(r-1)},children:"Previous"})]}):Object(j.jsx)(j.Fragment,{})]})},Ha=(Object(l.p)(h(Va)),n(557)),qa=n(997),_a=Object(l.l)((function(e){var t=e.uischema.options.optionsSource,n=t.moduleName,r=t.functionName,i=Object(Ha.a)().call,o=Object(J.a)("function/".concat(n,"/").concat(r),Object(K.a)(Y.a.mark((function e(){var t,a,c,o,u,s,l,d,b;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,i(n,r);case 3:if(a=e.sent,Array.isArray(a)){c=Object($.a)(a);try{for(c.s();!(o=c.n()).done;)u=o.value,s=void 0,l=void 0,Object(qa.a)(u)?(s=u.value,"string"===typeof u.label&&(l=u.label)):s=u,Object(H.isPresent)(s)&&(b={label:null!==(d=l)&&void 0!==d?d:"string"===typeof s?s:JSON.stringify(s),value:s},t.push(b))}catch(j){c.e(j)}finally{c.f()}}return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),{fallbackData:[],revalidateOnMount:!0,revalidateOnFocus:!1}),u=o.data,s=Object(c.useMemo)((function(){return Object(a.a)(Object(a.a)({},e),{},{options:u})}),[e,u]);return Object(j.jsx)(Fn,Object(a.a)(Object(a.a)({},s),{},{input:Tt}))})),Wa=Object(o.wb)(3,Object(o.e)(o.G,(function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.optionsSource;return!!n&&!!n.moduleName&&!!n.functionName}))),$a=n(16),Ka=n(2128),Ga=n(8),Ya=n(40),Ja=n(784),Xa=n.n(Ja),Za=n(430),Qa=n.n(Za),ec=n(484),tc=n.n(ec),nc=n(905),rc=n.n(nc),ac=n(572),cc=n.n(ac),ic=n(928),oc=n.n(ic),uc=n(318),sc=n(38),lc=Object(sc.a)();uc.GlobalWorkerOptions.workerSrc=lc+"pdf.worker.min.js";var dc=n(126),bc=n(321),jc=["image/png","image/jpeg","image/webp"],fc=function(e){return new Promise((function(t,n){var r=new Image;r.crossOrigin="anonymous",r.addEventListener("load",(function(){return t(r)})),r.addEventListener("error",(function(e){return n(e)})),r.src=e}))},Oc=function(){var e=Object(K.a)(Y.a.mark((function e(t,n){var r,a,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Blob([t.content],{type:t.mimeType}),a=URL.createObjectURL(r),e.prev=2,e.next=5,fc(a);case 5:c=e.sent,t.pages.push({getImageData:function(){var e=document.createElement("canvas"),t=e.getContext("2d");return e.width=c.naturalWidth,e.height=c.naturalHeight,t.drawImage(c,0,0),t.getImageData(0,0,c.naturalWidth,c.naturalHeight)},width:c.naturalWidth,height:c.naturalHeight,fileIndex:n,filePageNumber:0,pageIndex:0}),t.pageStates.push({rotate:0});case 8:return e.prev=8,URL.revokeObjectURL(a),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[2,,8,11]])})));return function(t,n){return e.apply(this,arguments)}}(),mc=function(){var e=Object(K.a)(Y.a.mark((function e(t,n){var r,a,c,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=new Qa.a({buffer:t.content}),a=function(e,a){r.setDirectory(e);var c={getImageData:function(){r.setDirectory(e);var t=r.readRGBAImage();return new ImageData(new Uint8ClampedArray(t),r.width(),r.height())},width:r.width(),height:r.height(),fileIndex:n,filePageNumber:e,pageIndex:0};t.pages.push(c),t.pageStates.push({rotate:0})},c=0,i=r.countDirectory();c<i;++c)a(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),hc=function(){var e=Object(K.a)(Y.a.mark((function e(t,n){var r,a,c,i,o,u,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Uint8Array(t.content),e.next=3,uc.getDocument(r).promise;case 3:for(a=e.sent,c=[],i=new Array(a.numPages),o=new Array(a.numPages),u=function(e){c.push(a.getPage(e+1).then(function(){var t=Object(K.a)(Y.a.mark((function t(r){var a,c;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=2*window.devicePixelRatio,c=r.getViewport({scale:a}),i[e]={getImageData:function(){var e=Object(K.a)(Y.a.mark((function e(){var t,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("canvas")).style.width="".concat(c.width/a,"px"),t.style.height="".concat(c.height/a,"px"),t.height=c.height,t.width=c.width,n=t.getContext("2d"),e.next=8,r.render({canvasContext:n,viewport:c}).promise;case 8:return e.abrupt("return",n.getImageData(0,0,t.width,t.height));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),width:c.width,height:c.height,fileIndex:n,filePageNumber:e,pageIndex:0},o[e]={rotate:0};case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},s=0;s<a.numPages;s++)u(s);return e.next=11,Promise.all(c);case 11:t.pages=i;case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pc=function(){var e=Object(K.a)(Y.a.mark((function e(t,n,r){var a,c,i,o,u,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.lastIndexOf("/"),i=c>=0?t.substring(c+1):t,o={url:t,status:"loaded",name:i,mimeType:r.headers["content-type"],content:r.data,pages:[],pageStartIndex:0,pageStates:[]},u=null===(a=r.headers)||void 0===a?void 0:a["content-disposition"],(s=u?/filename="?([^"]*?)"?(;|$)/g.exec(u):void 0)&&s.length>1&&(o.name=s[1]),o.mimeType&&!jc.includes(o.mimeType)){e.next=11;break}return e.next=9,Oc(o,n);case 9:case 14:e.next=19;break;case 11:if("image/tiff"!==o.mimeType){e.next=16;break}return e.next=14,mc(o,n);case 16:if("application/pdf"!==o.mimeType){e.next=19;break}return e.next=19,hc(o,n);case 19:return e.abrupt("return",o);case 20:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),vc=function(e,t){return Object(Ya.a)(e,(function(e){null===t||void 0===t||t.forEach((function(t,n){t.pages.forEach((function(t,n){var r,a=e[t.fileIndex];"loaded"===(null===a||void 0===a?void 0:a.status)&&(a.pageStates[t.filePageNumber].rotate=null!==(r=t.rotate)&&void 0!==r?r:0)}))}));var n,r=0,a=Object($.a)(e);try{for(a.s();!(n=a.n()).done;){var c=n.value;if("loaded"===c.status){c.pageStartIndex=r;var i,o=Object($.a)(c.pages);try{for(o.s();!(i=o.n()).done;){i.value.pageIndex=r++}}catch(u){o.e(u)}finally{o.f()}}}}catch(u){a.e(u)}finally{a.f()}}))},xc={height:170,width:170},gc=n(202),yc=Symbol("marker"),Cc=n(261),wc=n.n(Cc),kc=n(260),Ic=new(n(538).a)({allErrors:!0,addUsedSchema:!1,allowUnionTypes:!0,strict:"log"});Ic.addMetaSchema(Object(P.p)(["default"],kc)),wc()(Ic),Ic.addFormat("image",(function(){return!0})),Ic.addFormat("markdown",(function(){return!0})),Ic.addKeyword({keyword:"patternMask",type:"string",valid:!0,errors:!1});var Mc=function(e,t){var n=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(e),a=r.byteLength,c=a%3,i=a-c,o=0;o<i;o+=3){var u=r[o]<<16|r[o+1]<<8|r[o+2],s=(258048&u)>>12,l=(4032&u)>>6,d=63&u;t+=n[(16515072&u)>>18]+n[s]+n[l]+n[d]}if(1===c){var b=r[i],j=(3&b)<<4;t+=n[(252&b)>>2]+n[j]+"=="}else if(2===c){var f=r[i]<<8|r[i+1],O=(1008&f)>>4,m=(15&f)<<2;t+=n[(64512&f)>>10]+n[O]+n[m]+"="}return t}(e);return"data:".concat(t,";base64,").concat(n)};var Pc=function(){throw new Error("You forgot to wrap your component in <BatchProcessorContextProvider>.")},Sc={fileInfos:[],documents:[],documentInfos:[],unusedPages:[],loadingImages:!1,setCurrentDocumentLocation:Pc,updateCurrentDocument:Pc,updateBatch:Pc,movePage:Pc,findByPageIndex:Pc,deleteDocument:Pc,addDocument:Pc,updateDocument:Pc,getDocument:Pc,setCurrentDocumentEditionState:Pc,canModify:!0,getDisplayableDataUrl:Pc,rotateImage:Pc,rotateAllImages:Pc,getPageLocation:Pc,canOcr:!1,ocrImage:Pc},Dc=Object(c.createContext)(Sc),Lc=function(){var e=Object(K.a)(Y.a.mark((function e(t,n){var r,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tc.a.dereference(t,{resolve:{file:!1,custom:{order:1,canRead:function(e){return!!n[e.url.toLowerCase()]},read:function(e){return n[e.url.toLowerCase()]}}}});case 2:return r=e.sent,a=rc()(r,{ignoreAdditionalProperties:!0}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Tc=function(){var e=Object(K.a)(Y.a.mark((function e(t){var n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(P.m)((function(e){return e[0]}),Object(P.h)((function(e){return e.$id.toLowerCase()}),t)),e.next=3,Promise.all(t.map((function(e){return Lc(e,n)})));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nc=function(e,t){var n,r=Object($.a)(t);try{for(r.s();!(n=r.n()).done;){var a,c=n.value,i="loaded"===c.status?c.pages:[],o=Object($.a)(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;if(u.pageIndex===e)return u}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}},Ac=function(e,t,n){var r=e;return r&&(r+=","),r+=t.toString(),t!==n&&(r+="-".concat(n)),r},Ec=function(e){if(0===e.length)return"";for(var t=e.map((function(e){return e+1})),n=t[0],r=n,a="",c=1;c<t.length;c++){var i=t[c];i===r+1&&r>=n||i===r-1&&r<=n?r=i:(a=Ac(a,n,r),n=r=i)}return a=Ac(a,n,r)},Rc=function(e,t){var n=new Array(e.length);return t.forEach((function(t,r){"loaded"===t.status&&t.pages.forEach((function(t,a){var c=e.indexOf(t.pageIndex);c>=0&&(n[c]={fileIndex:r,filePageNumber:a})}))})),n},zc=function(e,t){return t&&!Ic.validate(t,e.data)&&Ic.errors?Object(gc.b)(Ic.errors):[]},Fc=function(e,t){for(var n=e+t;n<0;)n+=360;for(;n>=360;)n-=360;return n},Bc=function(e,t){var n,r=Fc(null!==(n=e.rotate)&&void 0!==n?n:0,t);0===r?delete e.rotate:e.rotate=r},Uc=function(e){var t=e.basePath,n=e.batch,r=e.documentSchemasSource,i=e.readonly,u=e.ocrFunction,s=e.children,d=!i,b=Object(c.useState)(n),f=Object(X.a)(b,1)[0],O=function(e){var t=e.moduleName,n=e.functionName,r=Object(Ha.a)().call,a=Object(J.a)("function/".concat(t,"/").concat(n),Object(K.a)(Y.a.mark((function e(){var a,c,i,o,u,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,r(t,n);case 3:if(c=e.sent,!Array.isArray(c)){e.next=25;break}i=Object($.a)(c),e.prev=6,i.s();case 8:if((o=i.n()).done){e.next=17;break}if((u=o.value).$id){e.next=13;break}return console.error("Document schema without $id property. It will be ignored."),e.abrupt("continue",15);case 13:"success"===(s=Object(gc.c)(u)).type?a.push(u):console.error("Error validating schema ".concat(null===u||void 0===u?void 0:u.$id,". It will be ignored."),s.errors);case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:if(!(a.length>0)){e.next=29;break}return e.next=28,Tc(a);case 28:a=e.sent;case 29:return e.abrupt("return",a);case 30:case"end":return e.stop()}}),e,null,[[6,19,22,25]])}))),{revalidateOnFocus:!1}),i=a.data,o=a.isValidating,u=a.error;return{documentSchemas:Object(c.useMemo)((function(){return null!==i&&void 0!==i?i:[]}),[i]),loading:o,error:u}}(r),m=O.documentSchemas,h=Object(l.f)().dispatch,p=function(e,t){var n=Object(bc.c)().hubBaseUrl,r=Object(dc.c)(),i=r.getConfiguredAxiosInstance,o=r.blobStorage_GetThumbnails,u=Object(c.useState)((function(){return e.fileUrls.map((function(e){var t=oc()(e);return t.is("relative")&&n&&(t=oc.a.joinPaths("BlobStorage",t).absoluteTo(n)),{url:t.valueOf(),status:"loading",name:t.filename()}}))})),s=Object(X.a)(u,2),l=s[0],d=s[1],b=Object(c.useState)(t&&e.fileUrls.length>0),j=Object(X.a)(b,2),f=j[0],O=j[1];return Object(c.useEffect)((function(){if(t){var r=cc.a.CancelToken.source(),c=cc.a.create({responseType:"arraybuffer",cancelToken:r.token}),u=i({responseType:"arraybuffer",cancelToken:r.token});return e.fileUrls.forEach((function(t,r){var i=t,s=oc()(t),l=c;s.is("relative")&&n&&(s=oc.a.joinPaths("BlobStorage",s),l=u),t=s.valueOf(),l.get(t).then((function(n){return pc(t,r,n).then((function(t){d((function(n){var a=Object(Ya.a)(n,(function(e){e[r]=t}));return a.every((function(e){return"loading"!==e.status}))&&(a=vc(a,e.documents),O(!1)),a})),o(Object(a.a)(Object(a.a)({path:i},xc),{},{format:"png"})).then((function(e){Object(P.k)(e)||d((function(t){return Object(Ya.a)(t,(function(t){var n=t[r];"loaded"===n.status&&(n.thumbnails=e)}))}))}))}))})).catch((function(n){d((function(a){var c=Object(Ya.a)(a,(function(e){e[r]=function(e,t){var n=e.lastIndexOf("/"),r=n>=0?e.substring(n+1):e,a={url:e,status:"failed",name:r,error:t.message};return t.response&&(a.error="Code: ".concat(t.response.status,"\nData: ").concat(t.response.data)),a}(t,n)}));return c.every((function(e){return"loading"!==e.status}))&&(c=vc(c,e.documents),O(!1)),c}))}))})),function(){r.cancel(),O(!1)}}d((function(e){return e.map((function(e){return{name:e.name,status:"loaded",url:e.url,content:new ArrayBuffer(0),pages:[],pageStartIndex:0,pageStates:[]}}))}))}),[o,t,i,n,e.documents,e.fileUrls]),{loadingFileInfos:f,fileInfos:l,setFileInfos:d}}(f,d),v=p.fileInfos,x=p.loadingFileInfos,g=p.setFileInfos,y=Object(c.useState)({documentIndex:f.documents.length>0?0:void 0}),C=Object(X.a)(y,2),w=C[0],k=C[1],I=Object(c.useState)([]),M=Object(X.a)(I,2),S=M[0],D=M[1],L=function(e){var t=T(),n=t.registerValidationProvider,r=t.unregisterValidationProvider,i=t.validationProviderUpdated,o=Object(c.useState)(),u=Object(X.a)(o,2),s=u[0],l=u[1];Object(c.useEffect)((function(){return n(e),function(){return r(e)}}),[e,n,r]),Object(c.useEffect)((function(){var t=(null!==s&&void 0!==s?s:[]).map((function(t){var n="".concat(e,".").concat(t.instancePath);return Object(a.a)(Object(a.a)({},t),{},{dataPath:n,instancePath:n})}));i(e,t)}),[s,e,i]);var d=Object(c.useCallback)((function(e){l((function(t){return Object(P.f)(t,e)?t:e}))}),[]);return Object(c.useMemo)((function(){return{updateErrors:d}}),[d])}(t),N=L.updateErrors,A=function(e,t){var n=Object(c.useState)([]),r=Object(X.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){i((function(n){for(var r=[],a=0;a<t.length;a++){var c=t[a];if("loaded"===c.status)for(var i=0;i<c.pageStates.length;i++){var o={fileIndex:a,filePageNumber:i},u=c.pageStates[i];Object(H.isPresent)(u.rotate)&&(o.rotate=u.rotate),r.push(o)}}var s,l=Object($.a)(e.documents.flatMap((function(e){return e.pages})));try{var d=function(){var e=s.value,t=r.findIndex((function(t){return!!t&&t.fileIndex===e.fileIndex&&t.filePageNumber===e.filePageNumber}));t>-1&&(r[t]=void 0)};for(l.s();!(s=l.n()).done;)d()}catch(j){l.e(j)}finally{l.f()}var b=r.filter(H.isPresent);return Object(P.f)(b,n)?n:b}))}),[e.documents,t]),a}(n,v),E=Object(Ha.a)().call,R=Object(c.useMemo)((function(){return n.documents.map((function(e,t){var n;return{schemaId:e.schemaId,action:e.action,errors:null!==(n=S[t])&&void 0!==n?n:[]}}))}),[n.documents,S]);Object(c.useEffect)((function(){if(m&&0!==f.documents.length){var e=f.documents.map((function(e){var t=m.find((function(t){return t.$id===e.schemaId}));return zc(e,t)}));D((function(t){return e.map((function(e,n){return t[n]?t[n]:e}))}))}}),[f,m]);var z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(c.useRef)(e),r=n.current;if(e!==r)if(r.length!==e.length)n.current=e;else if(t)for(var a=Object($a.a)(e),i=0;i<r.length;i++){var o=a.indexOf(r[i]);if(-1===o){n.current=e;break}a[o]=yc}else for(var u=0;u<r.length;u++)if(r[u]!==e[u]){n.current=e;break}return n.current}(n.documents.reduce((function(e,t,n){return"send"===t.action&&e.push(n),e}),[]),!0);Object(c.useEffect)((function(){var e=z.flatMap((function(e){var t,n;return null!==(t=null===(n=S[e])||void 0===n?void 0:n.map((function(t){var n="documents[".concat(e,"].data.").concat(t.instancePath);return Object(a.a)(Object(a.a)({},t),{},{instancePath:n,dataPath:n})})))&&void 0!==t?t:[]}));d&&N(e)}),[d,S,z,N]);var F=Object(c.useCallback)((function(e,n){var r="function"===typeof n?n:function(){return n};null===h||void 0===h||h(Object(o.Db)(Object(o.h)(t,e),r))}),[h]),B=Object(c.useMemo)((function(){return Object(H.isPresent)(w.documentIndex)?Object(P.b)(n.documents[w.documentIndex]):void 0}),[n.documents,w.documentIndex]),U=Object(c.useCallback)((function(e){var t=null!==e&&void 0!==e?e:{};k((function(e){return e.documentIndex!==t.documentIndex||e.pageIndex!==t.pageIndex?t:e}))}),[]),V=Object(c.useCallback)((function(e){var t=null===w||void 0===w?void 0:w.documentIndex;Object(H.isPresent)(t)&&F("documents[".concat(t,"]"),e)}),[null===w||void 0===w?void 0:w.documentIndex,F]),q=Object(H.isPresent)(w.documentIndex)?S[w.documentIndex]:void 0,_=Object(c.useMemo)((function(){if(B&&q)return{document:B,errors:q}}),[B,q]),W=Object(c.useCallback)((function(e){var t=w.documentIndex;D((function(n){var r,a=B?{document:B,errors:n[t]}:void 0,c="function"===typeof e?e(a):e,i=Object(P.f)(null===c||void 0===c?void 0:c.errors,null===a||void 0===a?void 0:a.errors),o=Object(P.f)(null===c||void 0===c?void 0:c.document,null===a||void 0===a?void 0:a.document);if(i&&o)return n;var u=null===c||void 0===c?void 0:c.document;return u&&!o&&V(u),Object(P.y)(t,null!==(r=null===c||void 0===c?void 0:c.errors)&&void 0!==r?r:[],n)}))}),[B,w.documentIndex,V]),G=Object(c.useCallback)((function(e,t){for(var r=0;r<n.documents.length;r++)for(var a=n.documents[r],c=0;c<a.pages.length;c++){var i=a.pages[c];if(i.fileIndex===e&&i.filePageNumber===t)return{documentIndex:r,documentOrder:c}}}),[n.documents]),Z=Object(c.useCallback)((function(e,t){var r=Nc(e,v),a=function(e,t){var n,r=Object($.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if("loaded"===a.status)for(var c=a.pages,i=0;i<c.length;i++)if(c[i].pageIndex===e)return a.pageStates[i]}}catch(o){r.e(o)}finally{r.f()}}(e,v);if(r&&a){var c=G(r.fileIndex,r.filePageNumber);if(c||t){var i=Object(Ya.a)(n.documents,(function(e){c&&e[c.documentIndex].pages.splice(c.documentOrder,1),t&&e[t.documentIndex].pages.splice(t.documentOrder,0,{fileIndex:r.fileIndex,filePageNumber:r.filePageNumber,rotate:a.rotate})}));F("documents",i)}}}),[n.documents,v,G,F]),Q=Object(c.useCallback)((function(e){return Nc(e,v)}),[v]),ee=Object(c.useCallback)((function(e){if(Object(H.isPresent)(n.documents[e])){var t=Object($a.a)(n.documents);t.splice(e,1),setTimeout((function(){return F("documents",t)}),0),D((function(t){return Object(P.r)(e,1,t)})),k((function(t){return t.documentIndex===e?{}:t}))}}),[n.documents,F]),te=Object(c.useCallback)((function(e){var t=n.documents.length,r=Object($a.a)(n.documents);if(D((function(e){return[].concat(Object($a.a)(e),[[]])})),e.pages.length>0){var a=e.pages.map((function(e){return G(e.fileIndex,e.filePageNumber)})).filter(H.isPresent);a.length>0&&(a=Object(P.t)([Object(P.e)((function(e){return e.documentIndex})),Object(P.e)((function(e){return e.documentOrder}))],a),r=Object(Ya.a)(r,(function(e){var t,n=Object($.a)(a);try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.documentIndex].pages.splice(r.documentOrder,1)}}catch(c){n.e(c)}finally{n.f()}})))}return r.push(e),F("documents",r),t}),[n.documents,G,F]),ne=Object(c.useCallback)((function(e,t){var r=Object($a.a)(n.documents),a=r[e].schemaId;if(t.pages.length>0){var c=t.pages.map((function(e){return G(e.fileIndex,e.filePageNumber)})).filter(H.isPresent).filter((function(t){return t.documentIndex!==e}));c.length>0&&(c=Object(P.t)([Object(P.e)((function(e){return e.documentIndex})),Object(P.e)((function(e){return e.documentOrder}))],c),r=Object(Ya.a)(r,(function(e){var t,n=Object($.a)(c);try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.documentIndex].pages.splice(r.documentOrder,1)}}catch(a){n.e(a)}finally{n.f()}})))}if(r[e]=t,F("documents",r),a!==t.schemaId){var i=null===m||void 0===m?void 0:m.find((function(e){return e.$id===t.schemaId})),o=zc(t,i);D((function(t){return Object(P.y)(e,o,t)}))}return e}),[n.documents,m,G,F]),re=Object(c.useCallback)((function(e){return n.documents[e]}),[n.documents]),ae=Object(c.useState)({}),ce=Object(X.a)(ae,2),ie=ce[0],oe=ce[1],ue=Object(c.useCallback)((function(e){var t=ie[e];if(!t){var n=e.indexOf(",");if(!e.startsWith("data:")||-1===n)return e;if("image/tiff"===e.substring(5,n).split(";")[0]){var r=function(e){for(var t=atob(e.split(",")[1]),n=new ArrayBuffer(t.length),r=new Uint8Array(n),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return n}(e),c=new Qa.a({buffer:r});t=c.toDataURL()}else t=e;oe((function(n){return Object(a.a)(Object(a.a)({},n),{},Object(Ga.a)({},e,t))}))}return t}),[ie]),se=Object(c.useCallback)((function(e,t){var r=-1,a=-1;g((function(n){return Object(Ya.a)(n,(function(n){for(var c=n.length-1;c>=0;c--){var i=n[c];if("loaded"===i.status&&i.pageStartIndex<=e){for(var o=0;o<i.pages.length;o++){var u=i.pages[o];if(e===u.pageIndex){var s=i.pageStates[o];s.rotate=Fc(s.rotate,t),r=u.fileIndex,a=u.filePageNumber;break}}break}}}))})),r>-1&&a>-1&&F("documents",Object(Ya.a)(n.documents,(function(e){var n,c=null===(n=e[r])||void 0===n?void 0:n.pages[a];c&&Bc(c,t)})))}),[n.documents,g,F]),le=Object(c.useCallback)((function(e){g((function(t){return Object(Ya.a)(t,(function(t){var n,r=Object($.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if("loaded"===a.status){var c,i=Object($.a)(a.pageStates);try{for(i.s();!(c=i.n()).done;){var o=c.value;o.rotate=Fc(o.rotate,e)}}catch(u){i.e(u)}finally{i.f()}}}}catch(u){r.e(u)}finally{r.f()}}))})),F("documents",Object(Ya.a)(n.documents,(function(t){var n,r=Object($.a)(t.flatMap((function(e){return e.pages})));try{for(r.s();!(n=r.n()).done;){var a=n.value;Bc(a,e)}}catch(c){r.e(c)}finally{r.f()}})))}),[n.documents,g,F]),de=Object(c.useCallback)(function(){var e=Object(K.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}throw new Error("OcrFunction not defined");case 2:return e.next=4,E(u.moduleName,u.functionName,{image:t});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[E,u]),be=Object(c.useMemo)((function(){return{fileInfos:v,documents:n.documents,documentSchemas:m,unusedPages:A,loadingImages:x,documentInfos:R,currentDocumentLocation:w,setCurrentDocumentLocation:U,currentDocument:B,updateCurrentDocument:V,updateBatch:F,movePage:Z,findByPageIndex:Q,deleteDocument:ee,addDocument:te,updateDocument:ne,getDocument:re,currentDocumentEditionState:_,setCurrentDocumentEditionState:W,canModify:d,getDisplayableDataUrl:ue,rotateImage:se,rotateAllImages:le,getPageLocation:G,canOcr:!!u,ocrImage:de}}),[te,n.documents,d,B,_,w,ee,R,m,v,ue,re,G,Q,W,U,x,Z,u,de,le,se,A,F,V,ne]);return Object(j.jsx)(Dc.Provider,{value:be,children:s})},Vc=function(){return Object(c.useContext)(Dc)},Hc=n(179),qc=n(68),_c=n(336),Wc=n.n(_c),$c=n(951),Kc=n.n($c),Gc=n(952),Yc=n.n(Gc),Jc=n(986),Xc=n(950),Zc=n.n(Xc),Qc=n(194),ei=n(326),ti=n(1090),ni=n(37),ri=["saveAsDraft","send","dontSend"];Object.freeze(ri);var ai,ci,ii,oi=n(197),ui=n(610),si=n(611),li=n(612),di=function(e){var t=Object(Ka.a)().t,n=Vc().documentSchemas,r=Object(c.useMemo)((function(){var e={};if(n){var t,r=Object($.a)(n);try{for(r.s();!(t=r.n()).done;){var a,c=t.value;c.$id&&(e[c.$id]={label:null!==(a=c.title)&&void 0!==a?a:c.$id,description:c.description})}}catch(i){r.e(i)}finally{r.f()}}return e}),[n]),i=Object(c.useMemo)((function(){var e=Object.keys(r);return Object(P.s)((function(e){return r[e].label}),e)}),[r]);return Object(j.jsxs)(d.a,{container:!0,spacing:3,children:[Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(li.a,{name:"schemaId",options:i,getOptionLabel:function(e){var t;return null===(t=r[e])||void 0===t?void 0:t.label},autoHighlight:!0,renderInput:function(e){return Object(j.jsx)(_n.a,Object(a.a)(Object(a.a)({},e),{},{label:t("DocumentType"),InputLabelProps:{required:!0},required:!0,autoFocus:!0,variant:"standard"}))},fullWidth:!0})}),Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(si.a,{name:"pages",label:t("Pages"),variant:"standard",fullWidth:!0})}),Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(si.a,{select:!0,name:"action",label:t("Action"),variant:"standard",fullWidth:!0,children:ri.map((function(e){return Object(j.jsx)(Lt.a,{value:e,children:t("RecognizedDocumentAction.".concat(e))},e)}))})})]})},bi="(\\d+(\\s*-\\s*\\d+)?)",ji="^\\s*".concat(bi,"(\\s*,\\s*").concat(bi,")*\\s*$"),fi=new RegExp(ji),Oi=function(e){var t=e.open,n=e.document,r=e.availablePageIndices,a=e.onChange,i=e.onClose,o=Object(Ka.a)().t,u=Vc(),s=u.documentSchemas,l=u.fileInfos,d=Object(c.useMemo)((function(){var e,t=n?function(e,t){return e.map((function(e){var n=t[e.fileIndex];return"loaded"===n.status?n.pages[e.filePageNumber].pageIndex:-1}))}(n.pages,l):r;return{schemaId:null===n||void 0===n?void 0:n.schemaId,pages:Ec(t),action:null!==(e=null===n||void 0===n?void 0:n.action)&&void 0!==e?e:"send"}}),[r,n,l]),b=Object(c.useRef)(),f=Object(c.useMemo)((function(){return function(e,t){return ti.c().shape({schemaId:ti.d().required().test({test:function(e){return!e||!("string"!==typeof e||!t.find((function(t){return t.$id===e})))||this.createError({path:this.path,message:ni.a.t("UnknownDocumentSchema",{schemaId:e})})}}),pages:ti.d().test({test:function(e){return!e||!("string"!==typeof e||!fi.test(e))||this.createError({path:this.path,message:ni.a.t("InvalidPageRange",{range:e})})}}),action:ti.d().required().oneOf(Object($a.a)(ri))})}(0,null!==s&&void 0!==s?s:[])}),[r,s]),O=Object(c.useCallback)((function(){var e=b.current;e&&Object(ui.a)(e)}),[]),m=Object(c.useCallback)(function(){var e=Object(K.a)(Y.a.mark((function e(t,r){var c,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c={schemaId:t.schemaId,pages:[],data:null===n||void 0===n?void 0:n.data,action:t.action},t.pages&&(u=t.pages,o=Xa()(u).map((function(e){return e-1})),c.pages=Rc(o,l)),null===a||void 0===a||a(c),null===i||void 0===i||i()}finally{r.setSubmitting(!1)}case 1:case"end":return e.stop()}var u}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[null===n||void 0===n?void 0:n.data,l,a,i]),h=Object(c.useCallback)((function(){null===i||void 0===i||i()}),[i]),p=Object(c.useCallback)(function(){var e=Object(K.a)(Y.a.mark((function e(t,n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"backdropClick"!==n&&(null===i||void 0===i||i());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[i]);return Object(j.jsxs)(Xe.a,{open:t,onClose:p,maxWidth:"sm",fullWidth:!0,children:[Object(j.jsx)(Ze.a,{children:o(n?"EditingDocument":"AddingDocument")}),Object(j.jsx)(Qe.a,{children:Object(j.jsx)(oi.a,{children:Object(j.jsx)(ei.b,{innerRef:function(e){return b.current=e},initialValues:d,onSubmit:m,validationSchema:f,validateOnChange:!0,validateOnBlur:!0,children:Object(j.jsx)(ei.a,{autoComplete:"off",children:Object(j.jsx)(di,{availablePageIndices:r})})})})}),Object(j.jsxs)(tt.a,{children:[Object(j.jsx)(nt.a,{onClick:O,color:"primary",children:o("Accept")}),Object(j.jsx)(nt.a,{onClick:h,color:"primary",children:o("Cancel")})]})]})},mi=n(2130),hi=function(e){return Object(j.jsxs)(mi.a,Object(a.a)(Object(a.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(j.jsx)("path",{d:"M808.3 950h-725C42.9 950 10 917.1 10 876.7V171.6c0-40.4 32.9-73.3 73.3-73.3h502.1c18.6 0 33.6 15.1 33.6 33.6 0 18.6-15.1 33.6-33.6 33.6H83.3c-3.4 0-6.1 2.7-6.1 6.1v705.1c0 3.4 2.7 6.1 6.1 6.1h724.9c3.4 0 6.1-2.7 6.1-6.1V492c0-18.6 15-33.6 33.6-33.6s33.6 15.1 33.6 33.6v384.7c.1 40.4-32.8 73.3-73.2 73.3z"}),Object(j.jsx)("path",{d:"M307.3 781.2c-16.1 0-31.1-8.1-40.1-21.7-8.9-13.5-10.5-30.4-4.1-45.3l83.4-196.8 431-431C801 62.9 832.3 50 865.5 50s64.5 13 88 36.5c48.5 48.6 48.5 127.5 0 176.1l-431 431-196.3 83.8c-6 2.5-12.4 3.8-18.9 3.8zm96-225.5-59.8 141.1 140.8-60.1L906 215c22.3-22.3 22.3-58.7 0-81-10.8-10.8-25.2-16.8-40.5-16.8s-29.7 6-40.5 16.8L403.3 555.7z"}),Object(j.jsx)("path",{d:"M398.4 502.3 530 633.8l-47.5 47.5-131.6-131.5 47.5-47.5zM800.2 100.5 931.8 232l-47.5 47.5L752.7 148l47.5-47.5z"})]}))},pi=n(1618),vi=function(e){return!!e&&Object(H.isPresent)(e.documentIndex)&&!Object(H.isPresent)(e.pageIndex)},xi=function(e){return!!e&&!Object(H.isPresent)(e.documentIndex)&&!Object(H.isPresent)(e.pageIndex)},gi=function(e){return!!e&&Object(H.isPresent)(e.pageIndex)},yi=function(e){var t=e.node;return gi(t)?"p-".concat(t.pageIndex):vi(t)?"d-".concat(t.documentIndex):"o"},Ci=function(e){return!gi(e)},wi=function(e){return gi(e.node)},ki=function(e){var t=e.node,n=e.nextParent,r=t;return!!n&&(!!Object(H.isPresent)(r.documentIndex)||!xi(n))},Ii=function(){var e=Vc(),t=e.documentSchemas,n=e.fileInfos,r=e.documentInfos,i=e.canModify,o=e.setCurrentDocumentLocation,u=e.getPageLocation,s=Object(c.useMemo)((function(){return[]}),[]),l=Object(c.useState)(s),d=Object(X.a)(l,2),b=d[0],f=d[1];return Object(c.useEffect)((function(){f((function(e){var c=i?function(e,t,n,r){var c=[],i=[];e.forEach((function(e,n){"loaded"===e.status&&e.pages.forEach((function(r,o){var u=ni.a.t("PageN",{index:r.pageIndex+1});if(e.thumbnails){var s=e.thumbnails[o],l=e.pageStates[o].rotate,d=Object(H.isPresent)(l)?{transform:"rotate(".concat(l,"deg)")}:void 0;u=Object(j.jsxs)(pi.a,{height:"100%",children:[Object(j.jsx)("img",{src:s,alt:" ",style:Object(a.a)(Object(a.a)({},d),{},{top:"0px",left:"30px",position:"absolute",height:"100%"})}),Object(j.jsx)(pi.a,{position:"absolute",bottom:8,right:8,children:u})]})}var b=t(n,o),f={title:u,pageIndex:r.pageIndex};if(Object(H.isPresent)(b)){f.documentIndex=b.documentIndex;var O=i[b.documentIndex];O||(i[b.documentIndex]=O=[]),O[b.documentOrder]=f}else c.push(f)}))}));var o=n.map((function(e,t){var n,a=null!==(n=i[t])&&void 0!==n?n:[],c=a.length,o=ni.a.t("DocumentN",{index:t+1,count:c}),u=e.schemaId;if(u){var s=null===r||void 0===r?void 0:r.find((function(e){return e.$id===u}));if(s){var l=s.title;if(!l){var d=u.lastIndexOf("/");(l=u.substring(d+1)).toLocaleLowerCase().endsWith(".json")&&(l=l.substring(0,l.length-5))}o=ni.a.t("NamedDocumentN",{title:l,index:t+1,count:c})}}return{documentIndex:t,title:o,action:e.action,errors:e.errors,children:a}}));return[].concat(Object($a.a)(o),[{title:ni.a.t("OrphanPages",{count:c.length}),children:c}])}(n,u,r,t):function(e,t){return e.map((function(n,r){var a=ni.a.t("DocumentN",{index:r+1}),c=e[r].schemaId;if(c){var i=null===t||void 0===t?void 0:t.find((function(e){return e.$id===c}));if(i){var o=i.title;if(!o){var u=c.lastIndexOf("/");(o=c.substring(u+1)).toLocaleLowerCase().endsWith(".json")&&(o=o.substring(0,o.length-5))}a="".concat(r+1," - ").concat(o)}}return{documentIndex:r,title:a,action:e[r].action,errors:e[r].errors,children:[]}}))}(r,t);if(e.length>0){for(var o=0;o<Math.min(c.length,e.length-1);o++)c[o].expanded=e[o].expanded;c[c.length-1].expanded=e[e.length-1].expanded}return s===e&&c.length>0&&(c[0].expanded=!0),c}))}),[i,r,t,n,u,s,o]),{treeData:b,setTreeData:f}},Mi=function(e){var t=e.node;return gi(t)&&"string"!==typeof t.title?Math.max(xc.height,xc.width)+62:62},Pi=function(){var e=Vc(),t=e.fileInfos,n=e.loadingImages,r=e.movePage,i=e.currentDocumentLocation,o=e.setCurrentDocumentLocation,u=e.canModify,s=e.unusedPages,l=e.addDocument,d=e.deleteDocument,b=e.updateDocument,j=e.getDocument,f=Ii(),O=f.treeData,m=f.setTreeData;Object(c.useEffect)((function(){if(!n&&u&&i&&Object(H.isPresent)(i.documentIndex)&&!Object(H.isPresent)(i.pageIndex)){var e,t=Object($.a)(O);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(vi(r)&&r.documentIndex===i.documentIndex&&Array.isArray(r.children)){var c=r.children[0];gi(c)&&o(Object(a.a)(Object(a.a)({},i),{},{pageIndex:c.pageIndex}))}}}catch(s){t.e(s)}finally{t.f()}}}),[u,i,n,o,O]);var h=Object(c.useMemo)((function(){return s.map((function(e){var n=t[e.fileIndex];if("loaded"===n.status)return n.pages[e.filePageNumber].pageIndex})).filter(H.isPresent)}),[t,s]),p=Object(c.useCallback)((function(e){!function(e){var t=e[e.length-1],n=t.children;xi(t)&&Array.isArray(n)&&n.sort(Object(P.c)((function(e,t){return e.pageIndex<t.pageIndex})))}(e),m(e)}),[m]),v=Object(c.useCallback)((function(e,t){var n=e,a=t;if(!xi(a)||Object(H.isPresent)(n.documentIndex))if(vi(a)){var c=a.documentIndex,i=a.children.findIndex((function(e){return e.pageIndex===n.pageIndex}));r(n.pageIndex,{documentIndex:c,documentOrder:i})}else xi(a)&&r(n.pageIndex)}),[r]),x=Object(c.useCallback)((function(e){var t=e,n=t.pageIndex;Object(H.isPresent)(n)||!Array.isArray(t.children)||Object(P.k)(t.children)||(n=t.children[0].pageIndex),o({documentIndex:t.documentIndex,pageIndex:n})}),[o]),g=Object(c.useCallback)((function(e){return i&&e.documentIndex===i.documentIndex&&(vi(e)||e.pageIndex===i.pageIndex)}),[i]),y=Object(c.useCallback)((function(e){e.data={};var t=l(e);o({documentIndex:t})}),[l,o]),C=Object(c.useCallback)((function(e,t){j(e).schemaId!==t.schemaId&&(t.data={}),b(e,t)}),[j,b]),w=Object(c.useCallback)((function(e){var n=h;if(Object(H.isPresent)(e)){var r=j(e).pages.map((function(e){var n=t[e.fileIndex];if("loaded"===n.status)return n.pages[e.filePageNumber].pageIndex})).filter(H.isPresent);r.push.apply(r,Object($a.a)(n)),n=r.sort()}return n}),[t,j,h]);return{treeData:O,unusedPageIndices:h,setTreeData:p,selectNode:x,moveNode:v,loadingImages:n,canModify:u,canNodeHaveChildren:Ci,getNodeKey:yi,canDragNode:wi,canDrop:ki,getRowHeight:Mi,isNodeSelected:g,addDocument:y,deleteDocument:d,updateDocument:C,getAvailablePageIndices:w}},Si=n(1654),Di=n(1653),Li=Object(z.a)((function(e){return Object(R.a)({tree:{"& .rstcustom__collapseButton":{color:"dark"===e.palette.mode?"white":void 0,backgroundImage:void 0},"& .rstcustom__expandButton":{color:"dark"===e.palette.mode?"white":void 0,backgroundImage:void 0},"& .rstcustom__collapseButton:focus, & .rst__expandButton:focus":{outline:"initial"},"& .rstcustom__highlight":{backgroundColor:"dark"===e.palette.mode?Si.a[700]:void 0}},node:{"& .rstcustom__rowContents":{cursor:"pointer",backgroundColor:e.palette.background.default,minWidth:Math.max(xc.height,xc.width,120)+30,justifyContent:"center",paddingLeft:30},"& .rstcustom__moveHandle":{backgroundColor:"dark"===e.palette.mode?Si.a[700]:void 0}},selectedNode:{"& .rstcustom__rowContents":{backgroundColor:e.palette.action.selected}}})})),Ti=function(e){var t,n,r=e.node,a=Object(Ka.a)().t,c="send"===r.action?Kc.a:"dontSend"===r.action?Yc.a:hi,i=(t=c,n=r.action,Object(Ce.a)(t)((function(e){var t=e.theme;return{marginLeft:5,verticalAlign:"bottom",color:"send"===n?Di.a[500]:"dontSend"===n?t.palette.error.main:void 0}})));return Object(j.jsx)(Me.a,{title:a("RecognizedDocumentAction.".concat(r.action)),children:Object(j.jsx)("span",{children:Object(j.jsx)(i,{})})})},Ni=Object(Ce.a)(d.a)({display:"flex"}),Ai=Object(Ce.a)(se.a,{shouldForwardProp:function(e){return"hasErrors"!==e}})((function(e){var t=e.theme;return{display:"block",wordWrap:"break-word",width:"175px",maxHeight:"40px",overflow:"hidden",whiteSpace:"normal",textDecoration:e.hasErrors?"underline wavy ".concat(t.palette.error.main):void 0}})),Ei=function(e){var t=e.node,n=e.canModify,r="send"===t.action&&t.errors.length>0&&n;return Object(j.jsxs)(Ni,{alignItems:"center",justifyContent:"center",alignContent:"stretch",children:[Object(j.jsx)(Ai,{noWrap:!1,variant:"body2",hasErrors:r,children:t.title}),Object(j.jsx)(Ti,{node:t})]})},Ri=function(e){var t=e.description,n=e.onClick,r=e.icon;return Object(j.jsx)(Me.a,{title:t,children:Object(j.jsx)(be.a,{size:"small",onClick:n,children:r})})},zi=function(e){var t=e.node,n=e.getAvailablePageIndices,r=e.onUpdateDocument,a=Object(Ka.a)().t,i=Object(c.useState)(),o=Object(X.a)(i,2),u=o[0],s=o[1],l=Vc().getDocument,d=Object(c.useMemo)((function(){return n(u)}),[u,n]),b=Object(c.useCallback)((function(e,t){s(t)}),[]),f=Object(c.useCallback)((function(e){null===r||void 0===r||r(u,e)}),[u,r]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ri,{description:a("Edit"),icon:Object(j.jsx)(Wc.a,{}),onClick:function(e){return b(e,t.documentIndex)}}),Object(H.isPresent)(u)&&Object(j.jsx)(Oi,{open:Object(H.isPresent)(u),document:l(u),availablePageIndices:d,onChange:f,onClose:function(){return s(void 0)}})]})},Fi=function(e){var t=e.node,n=e.onDeleteDocument,r=Object(Ka.a)().t,a=Object(Qc.c)(),i=Object(c.useCallback)(function(){var e=Object(K.a)(Y.a.mark((function e(c){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.stopPropagation(),e.next=3,a({description:r("ConfirmDeleteBatchDocument",{name:t.title})});case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:null===n||void 0===n||n(t.documentIndex);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,t.documentIndex,t.title,n,r]);return Object(j.jsx)(Ri,{description:r("Delete"),icon:Object(j.jsx)(he.a,{}),onClick:i})},Bi=function(e){var t=e.unusedPageIndices,n=e.onAddDocument,r=Object(Ka.a)().t,a=Object(c.useState)(!1),i=Object(X.a)(a,2),o=i[0],u=i[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Me.a,{title:r("AddDocument"),children:Object(j.jsx)(be.a,{onClick:function(){return u(!0)},size:"small",children:Object(j.jsx)(Se.a,{})})}),o&&Object(j.jsx)(Oi,{open:o,availablePageIndices:t,onChange:n,onClose:function(){return u(!1)}})]})},Ui=Object(Ce.a)(pn.a)((function(e){var t=e.theme;return{minHeight:"48px",paddingLeft:0,borderBottom:"solid 2px ".concat(t.palette.divider)}})),Vi=function(e){var t=Li(),n=Pi(),r=n.canModify,a=n.moveNode,i=n.setTreeData,o=n.selectNode,u=n.isNodeSelected,s=n.treeData,l=n.unusedPageIndices,d=n.loadingImages,b=n.getNodeKey,f=n.canDragNode,O=n.canDrop,m=n.canNodeHaveChildren,h=n.getRowHeight,p=n.addDocument,v=n.deleteDocument,x=n.updateDocument,g=n.getAvailablePageIndices,y=Object(c.useCallback)((function(e){var t=e.node,n=e.nextParentNode,r=e.prevTreeIndex,c=e.nextTreeIndex;n&&r!==c&&a(t,n)}),[a]),C=Object(c.useCallback)((function(e,t){var n,r,a=e.target;!0!==(null===(n=a.classList)||void 0===n?void 0:n.contains("rst__collapseButton"))&&!0!==(null===(r=a.classList)||void 0===r?void 0:r.contains("rst__expandButton"))&&o(t)}),[o]),w=Object(c.useCallback)((function(e){var n=e.node,a={onClick:function(t){return C(t,e.node)},className:Object(qc.default)(t.node,Object(Ga.a)({},t.selectedNode,u(n)))};if(vi(n)){if(r){var c=Object(j.jsx)(zi,{node:n,onUpdateDocument:x,getAvailablePageIndices:g}),i=Object(j.jsx)(Fi,{node:n,onDeleteDocument:v});a.buttons=[c,i]}a.title=function(){return Object(j.jsx)(Ei,{node:n,canModify:r})}}return a}),[r,t.node,t.selectedNode,v,g,C,u,x]);return d?null:Object(j.jsxs)(j.Fragment,{children:[r&&Object(j.jsx)(Ui,{children:Object(j.jsx)(Bi,{unusedPageIndices:l,onAddDocument:p})}),Object(j.jsx)(Jc.a,{treeData:s,onChange:i,onMoveNode:y,getNodeKey:b,canDrag:f,canDrop:O,canNodeHaveChildren:m,isVirtualized:!1,generateNodeProps:w,className:t.tree,rowHeight:h,theme:Zc.a})]})},Hi=n(953),qi=function(e){return Object(j.jsx)(mi.a,Object(a.a)(Object(a.a)({viewBox:"0 0 512 512"},e),{},{children:Object(j.jsx)("path",{d:"M9.5 1.4C2.3 4.6 0 9.7 0 22.6V32h32V0h-9.7c-5.9.1-11 .6-12.8 1.4zM62 16v16h29V0H62v16zM121 16v16h29V0h-29v16zM180 16v16h29V0h-29v16zM239 16v16h29V0h-29v16zM298 16v16h29V0h-29v16zM357 16v16h29V0h-29v16zM416 15.9V32h32.2l-.4-10.9c-.2-9.2-.6-11.4-2.4-13.7-4.4-6-6.7-6.9-18.5-7.2L416-.2v16.1zM0 76.5V91h32V62H0v14.5zM416 76.5V91h32V62h-32v14.5zM0 135.5V150h32v-29H0v14.5zM416 135.5V150h32v-29h-32v14.5zM0 194.5V209h32v-29H0v14.5zM416 194.5V209h32v-29h-32v14.5zM297.5 225.4c-4.1 1.8-8.3 6.9-9 10.9-.3 1.8-.4 62.2-.3 134.4.3 130.7.3 131.2 2.4 133.9 4.9 6.7 13 9.1 19.5 6 1.9-.9 20.5-15.3 41.4-32.1l38-30.4 54.8-.1c59.9 0 58.9.1 64-5.9 3-3.7 4.2-8.5 3.2-13.9-.6-3.3-11.6-14.6-99.3-102.6-57.7-57.7-100-99.4-101.9-100.2-4-1.7-8.9-1.7-12.8 0zM417.7 416l-39.4.5-3.9 3c-2.1 1.6-15 11.8-28.6 22.7-13.6 10.9-25 19.8-25.3 19.8-.3 0-.5-41.3-.5-91.7v-91.8l68.5 68.5 68.5 68.5-39.3.5zM0 253.5V268h32v-29H0v14.5zM416 253.5V268h32v-29h-32v14.5zM0 312.5V327h32v-29H0v14.5zM0 371.5V386h32v-29H0v14.5zM.2 426.9c.3 11.8 1.2 14.1 7.2 18.5 2.3 1.8 4.5 2.2 13.7 2.4l10.9.4V416H-.2l.4 10.9zM62 432v16h29v-32H62v16zM121 432v16h29v-32h-29v16zM180 432v16h29v-32h-29v16z"})}))},_i=n(954),Wi=n.n(_i),$i=n(964),Ki=n.n($i),Gi=function(){throw new Error("You forgot to wrap your component in <ImageCaptureContextProvider>.")},Yi="move",Ji={captureAvailable:!1,captureImage:Gi,clearCapture:Gi,setCurrentCropper:Gi,loadPage:Gi,releasePage:Gi,fitPage:Gi,fitWidth:Gi,zoomOut:Gi,zoomIn:Gi,dragMode:Yi,setDragMode:Gi,rotateTo:Gi,move:Gi},Xi=Object(c.createContext)(Ji),Zi=function(e){var t=e.outputImageFormat,n=e.children,r=Object(c.useState)(),a=Object(X.a)(r,2),i=a[0],o=a[1],u=Object(c.useState)(),s=Object(X.a)(u,2),l=s[0],d=s[1],b=Object(c.useState)(Yi),f=Object(X.a)(b,2),O=f[0],m=f[1],h=Object(c.useCallback)((function(e){if(i){var n=function(e,t){if("image/tiff"===t){var n=e.getContext("2d").getImageData(0,0,e.width,e.height),r=new Uint8Array(n.data.buffer),a=Wi.a.encodeImage(r,n.width,n.height);return Mc(a,"image/tiff")}return e.toDataURL()}(i.getCroppedCanvas(),null!==e&&void 0!==e?e:t);return i.clear(),o(void 0),n}}),[i,t]),p=Object(c.useCallback)((function(){null===l||void 0===l||l.clear(),o(void 0)}),[l]),v=Object(c.useCallback)((function(e,t){var n=e.getContext("2d");if(!n)return!1;n.putImageData(t,0,0);var r=new Ki.a(e,{dragMode:Yi,initialAspectRatio:Number.NaN,guides:!1,crop:function(){var e=null===r||void 0===r?void 0:r.getCropBoxData();e&&!Object(P.k)(e)&&o(r)},viewMode:1,autoCrop:!1,ready:function(){d(r)}});return r.clear(),m(Yi),!0}),[]),x=Object(c.useCallback)((function(){d((function(e){e&&e.destroy()})),o(void 0)}),[]),g=Object(c.useCallback)((function(){if(l){var e=l.getContainerData(),t=e.width,n=e.height,r=l.getImageData(),a=r.naturalHeight,c=r.naturalWidth,i=t/c,o=n/a,u=Math.min(i,o);l.zoomTo(u);var s=u===i?0:(t-c*u)/2,d=u===o?0:(n-a*u)/2;l.moveTo(s,d)}}),[l]),y=Object(c.useCallback)((function(){if(l){var e=l.getContainerData(),t=e.width,n=e.height,r=l.getImageData(),a=r.naturalHeight,c=t/r.naturalWidth,i=n/a,o=Math.min(c,i);l.zoomTo(c);var u=o===i?0:(n-a*o)/2;l.moveTo(0,u)}}),[l]),C=Object(c.useCallback)((function(){null===l||void 0===l||l.zoom(-.1)}),[l]),w=Object(c.useCallback)((function(){null===l||void 0===l||l.zoom(.1)}),[l]),k=Object(c.useCallback)((function(e){null===l||void 0===l||l.rotateTo(e)}),[l]),I=Object(c.useCallback)((function(e,t){null===l||void 0===l||l.move(e,t)}),[l]),M=Object(c.useCallback)((function(e){m(e),null===l||void 0===l||l.setDragMode(e)}),[l]),S=Object(c.useMemo)((function(){return{captureAvailable:!!i,captureImage:h,clearCapture:p,currentCropper:i,setCurrentCropper:o,loadPage:v,releasePage:x,fitPage:g,fitWidth:y,zoomOut:C,zoomIn:w,dragMode:O,setDragMode:M,rotateTo:k,move:I}}),[M,h,p,i,O,g,y,v,I,x,k,w,C]);return Object(j.jsx)(Xi.Provider,{value:S,children:n})},Qi=function(){return Object(c.useContext)(Xi)},eo=Object(Ce.a)("img")((function(e){return{marginTop:e.theme.spacing(2),width:"max-content",maxWidth:"100%"}})),to=Object(Ce.a)("img")((function(e){return{marginTop:e.theme.spacing(6),height:50}})),no=Object(l.l)((function(e){var t=e.uischema,n=e.config,r=e.id,a=e.data,i=e.visible,u=e.errors,s=e.label,l=e.required,d=e.description,f=e.path,O=e.handleChange,m=Object(Ka.a)().t,h=0===u.length,p=Object(Hi.merge)({},n,t.options),v=!Object(o.J)(i,null!==d&&void 0!==d?d:"",!1,p.showUnfocusedDescription),x=Vc().getDisplayableDataUrl,g=Qi(),y=g.captureAvailable,C=g.captureImage,w=Object(c.useCallback)((function(){if(y){var e=C();O(f,e)}}),[y,C,O,f]),k=Object(c.useCallback)((function(){O(f,void 0)}),[O,f]),I=v?d:h?null:u,M=v&&!h?u:null;return Object(j.jsx)(b.a,{xsUp:!i,children:Object(j.jsxs)(rn.a,{fullWidth:!p.trim,id:r,children:[Object(j.jsx)(zn.a,{htmlFor:r+"-input",error:!h,shrink:"string"===typeof a,children:Object(o.j)(s,!!l,p.hideRequiredAsterisk)}),Object(j.jsxs)("div",{children:["string"===typeof a&&Object(j.jsx)(eo,{src:x(a),alt:""}),"string"!==typeof a&&Object(j.jsx)(to,{src:"".concat(Object(sc.a)(),"images/image-placeholder.png"),alt:"placeholder"})]}),Object(j.jsxs)(pi.a,{marginLeft:-1.25,children:[Object(j.jsx)(Me.a,{title:m("CaptureCurrentSelection"),children:Object(j.jsx)("span",{children:Object(j.jsx)(be.a,{onClick:w,disabled:!y,size:"large",children:Object(j.jsx)(qi,{})})})}),Object(j.jsx)(Me.a,{title:m("Delete"),children:Object(j.jsx)(be.a,{onClick:k,size:"large",children:Object(j.jsx)(he.a,{})})})]}),Object(j.jsx)(de.a,{error:!h&&!v,children:I}),Object(j.jsx)(de.a,{error:!h,children:M})]})})})),ro=Object(o.wb)(4,Object(o.e)(o.G,(function(e,t,n){var r=o.d.schema(t,e.scope,n);return r&&"string"===r.type&&"image"===r.format}))),ao=n(987),co=function(e){return Object(ao.a)((function(t){return Object(j.jsx)(e,Object(I.a)({},t))}))}(Nt.a),io=i.a.memo((function(e){var t,n,r,a,i=Object(c.useState)(!1),o=Object(M.a)(i,2),u=o[0],s=o[1],l=e.data,d=e.config,b=e.className,f=e.id,O=e.enabled,m=e.uischema,h=e.isValid,p=e.path,v=e.handleChange,x=e.schema,g=e.muiInputProps,y=x.maxLength,C=Fe()({},d,m.options);a=C.restrict?{maxLength:y}:{};var w=Object(c.useMemo)((function(){return x.patternMask}),[x]);a=Fe()(a,g),C.trim&&void 0!==y&&(a.size=y);var k=Object(Xt.a)(),I=(null===(t=k.jsonforms)||void 0===t||null===(n=t.input)||void 0===n||null===(r=n.delete)||void 0===r?void 0:r.background)||k.palette.background.default,P=Object(c.useCallback)((function(e){v(p,e)}),[v,p]);return Object(j.jsx)(co,{mask:w,onAccept:P,type:"text",className:b,id:f,value:l,disabled:!O,autoFocus:C.focus,multiline:C.multi,fullWidth:!C.trim||void 0===y,inputProps:a,error:!h,onPointerEnter:function(){return s(!0)},onPointerLeave:function(){return s(!1)},endAdornment:Object(j.jsx)(Zt.a,{position:"end",style:{display:u&&O&&void 0!==l?"flex":"none",position:"absolute",right:0},children:Object(j.jsx)(be.a,{"aria-label":"Clear input field",onClick:function(){return v(p,void 0)},size:"large",children:Object(j.jsx)(en.a,{style:{background:I,borderRadius:"50%"}})})})})})),oo=Object(l.l)((function(e){return Object(j.jsx)(Fn,Object(I.a)(Object(I.a)({},e),{},{input:io}))})),uo=Object(o.wb)(4,Object(o.e)(o.G,(function(e,t,n){var r=o.d.schema(t,e.scope,n);return r&&"string"===r.type&&"string"===typeof r.patternMask}))),so=n(205),lo=(ai=function(e){var t=e.onWriteOcredData,n=ho(),r=n.getRootElement,a=n.setStatus,i=n.deactivateCurrentTool,o=Qi(),u=o.captureImage,s=o.setDragMode,l=Vc(),d=l.canModify,b=l.canOcr,j=l.ocrImage,f=r(),O=Object(c.useState)(!1),m=Object(X.a)(O,2),h=m[0],p=m[1],v=Object(Ka.a)().t,x=Object(so.a)();Object(c.useEffect)((function(){var e=function(e){"Escape"===e.key&&i()};return f.addEventListener("keyup",e,{capture:!0}),function(){f.removeEventListener("keyup",e,{capture:!0})}}),[i,f]),Object(c.useEffect)((function(){a(v("KeyboardOcrToolActiveStatus"))}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(K.a)(Y.a.mark((function e(){var n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u("image/png")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,j(n);case 6:r=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),x(v("TextRecognitionFunctionFailed"),e.t0),e.abrupt("return");case 13:return e.prev=13,e.next=16,navigator.clipboard.writeText(r);case 16:e.next=22;break;case 18:return e.prev=18,e.t1=e.catch(13),x(v("RecognizedTextCouldNotBeCopiedToClipboard"),e.t1),e.abrupt("return");case 22:t(r);case 23:case"end":return e.stop()}}),e,null,[[3,9],[13,18]])})));return function(){return e.apply(this,arguments)}}();h&&(p(!1),e().finally((function(){i()})))}),[u,i,j,t,x,h,v]);var g=Object(c.useCallback)((function(e){p(!0)}),[]),y=Object(c.useCallback)((function(e){if(e.target instanceof Node&&f.contains(e.target))return document.addEventListener("pointerup",g,{capture:!0,once:!0}),function(){document.removeEventListener("pointerup",g,{capture:!0})};i()}),[i,g,f]);return Object(c.useEffect)((function(){return s("crop"),document.addEventListener("pointerdown",y,{capture:!0,once:!0}),function(){document.removeEventListener("pointerdown",y,{capture:!0})}}),[y,s]),d&&b||i(),null},ci={toolType:"KeyboardOcrTool"},Object.assign(ai,ci)),bo=function(){throw new Error("You forgot to wrap your component in <ToolManager>.")},jo={deactivateCurrentTool:bo,getRootElement:bo,setStatus:bo,activateKeyboardOcrTool:bo},fo=Object(c.createContext)(jo),Oo=Object(Ce.a)("div")({position:"absolute",bottom:16,left:0,backgroundColor:"lightgray"}),mo=function(e){var t=e.children,n=Object(c.useRef)(null),r=Object(c.useState)(""),i=Object(X.a)(r,2),o=i[0],u=i[1],s=function(){var e,t=Object(c.useState)(),n=Object(X.a)(t,2),r=n[0],i=n[1],o=null!==(e=null===r||void 0===r?void 0:r.toolType)&&void 0!==e?e:c.Fragment,u=Object(c.useCallback)((function(e){if(!e)return i(void 0),!0;var t=e.toolType.canActivate;return!(t&&!t(e.args))&&(i(e),!0)}),[]);return{setActivationInfo:u,tool:Object(j.jsx)(o,Object(a.a)({},null===r||void 0===r?void 0:r.args))}}(),l=s.setActivationInfo,d=s.tool,b=Object(c.useCallback)((function(){l(void 0),u("")}),[l]),f=Object(c.useCallback)((function(e){return l({toolType:lo,args:{onWriteOcredData:e}})}),[l]),O=Object(c.useMemo)((function(){return{deactivateCurrentTool:b,getRootElement:function(){var e;return null!==(e=n.current)&&void 0!==e?e:document.createElement("div")},setStatus:u,activateKeyboardOcrTool:f}}),[f,b]);return Object(j.jsxs)(fo.Provider,{value:O,children:[Object(j.jsxs)(pi.a,{ref:n,position:"relative",children:[t,!!o&&Object(j.jsx)(Oo,{children:o})]}),d]})},ho=function(){return Object(c.useContext)(fo)},po=Object(Ce.a)(d.a)({maxHeight:"100%",width:"99%",overflowY:"auto",overflowX:"visible",paddingRight:15}),vo={restrict:!0},xo=["email","number","text"],go=function(e){var t=ho(),n=Object(c.useRef)(null);return Object(c.useEffect)((function(){function r(e){var n=e.target;if("INPUT"===(null===n||void 0===n?void 0:n.tagName)&&"a"===e.key.toLowerCase()&&e.ctrlKey&&xo.includes(n.type)){e.preventDefault(),e.stopPropagation();var r=n;t.activateKeyboardOcrTool((function(e){r.focus(),function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(Object.getOwnPropertyDescriptor(e,"value")||{}).set,a=Object.getPrototypeOf(e),c=(Object.getOwnPropertyDescriptor(a,"value")||{}).set;if(c&&r!==c)c.call(e,t);else{if(!r)throw new Error("The given element does not have a value setter");r.call(e,t)}n&&e.dispatchEvent(new Event("input",{bubbles:!0}))}(r,e)}))}}var a=n.current;return a&&e&&a.addEventListener("keyup",r,{capture:!0}),function(){a&&e&&a.removeEventListener("keyup",r,{capture:!0})}}),[t,e]),{editorRootElemRef:n}},yo=function(e){var t=Object(Ka.a)().t,n=function(){var e,t=Vc(),n=t.documentSchemas,r=t.currentDocument,i=t.currentDocumentEditionState,o=t.setCurrentDocumentEditionState,u=t.canModify,s=t.updateCurrentDocument,l=Object(c.useRef)(null===i||void 0===i?void 0:i.document.data),d=Object(c.useRef)(!1);Object(c.useMemo)((function(){l.current=null===i||void 0===i?void 0:i.document.data}),[null===i||void 0===i?void 0:i.document.data]);var b=Object(c.useMemo)((function(){var e={};if(n){var t,r=Object($.a)(n);try{for(r.s();!(t=r.n()).done;){var a,c=t.value;c.$id&&(e[c.$id]={label:null!==(a=c.title)&&void 0!==a?a:c.$id,description:c.description})}}catch(i){r.e(i)}finally{r.f()}}return e}),[n]),j=Object(c.useMemo)((function(){var e=Object.keys(b);return Object(P.s)((function(e){return b[e].label}),e)}),[b]),f=Object(c.useMemo)((function(){return[].concat(Object($a.a)(Ys),[{tester:ro,renderer:no},{tester:uo,renderer:oo}])}),[]),O=Object(c.useCallback)((function(e){var t,n;return null!==(t=null===(n=b[e])||void 0===n?void 0:n.label)&&void 0!==t?t:""}),[b]),m=Object(c.useCallback)((function(e){d.current=!!e.errors&&e.errors.length>0;var t=d.current&&e.errors?Object(gc.b)(e.errors):void 0;d.current||l.current===e.data||(l.current=e.data,d.current=!1),o((function(n){var r,c;return Object(P.f)(e.data,null===n||void 0===n?void 0:n.document)&&Object(P.f)(t,null===n||void 0===n?void 0:n.errors)?n:{document:Object(a.a)(Object(a.a)({},n.document),{},{data:null!==(r=e.data)&&void 0!==r?r:null===n||void 0===n||null===(c=n.document)||void 0===c?void 0:c.data}),errors:t}}))}),[o]),h=Object(c.useCallback)((function(e){var t=Object(a.a)(Object(a.a)({},r),{},{action:e});s(t)}),[r,s]),p=Object(c.useCallback)((function(e){if(e&&(null===r||void 0===r?void 0:r.schemaId)!==e){var t=Object(a.a)(Object(a.a)({},r),{},{schemaId:e,data:{}});s(t)}}),[r,s]),v=(null===i||void 0===i?void 0:i.document)&&(null===n||void 0===n?void 0:n.find((function(e){return e.$id===(null===i||void 0===i?void 0:i.document.schemaId)})));return{documentData:null!==(e=null===i||void 0===i?void 0:i.document.data)&&void 0!==e?e:{},labels:b,options:j,cells:Js,customRenderers:f,updateDocumentData:m,updateAction:h,updateSchemaId:p,schema:v,canEdit:u&&"dontSend"!==(null===i||void 0===i?void 0:i.document.action),getOptionLabel:O,schemaId:null===r||void 0===r?void 0:r.schemaId,action:null===r||void 0===r?void 0:r.action,canOcr:u&&!(null===i||void 0===i||!i.document),documentSelected:!!r}}(),r=n.updateAction,i=n.updateSchemaId,o=n.updateDocumentData,u=go(n.canOcr).editorRootElemRef,s=Object(c.useCallback)((function(e){r(e.target.value)}),[r]),b=Object(c.useCallback)((function(e,t){i(t)}),[i]);return n.documentSelected?Object(j.jsxs)(po,{container:!0,spacing:1,children:[Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(Bn.a,{value:n.schemaId,options:n.options,onChange:b,getOptionLabel:n.getOptionLabel,disableClearable:!0,autoHighlight:!0,renderInput:function(e){return Object(j.jsx)(_n.a,Object(a.a)(Object(a.a)({},e),{},{label:t("DocumentType"),InputLabelProps:{required:!0},required:!0,autoFocus:!0,variant:"standard"}))},fullWidth:!0})}),Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(_n.a,{select:!0,value:n.action,onChange:s,label:t("Action"),fullWidth:!0,variant:"standard",children:ri.map((function(e){return Object(j.jsx)(Lt.a,{value:e,children:t("RecognizedDocumentAction.".concat(e))},e)}))})}),!!n.schema&&Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)("div",{ref:u,children:Object(j.jsx)(l.c,{data:n.documentData,schema:n.schema,onChange:o,renderers:n.customRenderers,cells:n.cells,ajv:Ic,readonly:!n.canEdit,config:vo})})})]}):null},Co=n(1293),wo=n(1282),ko=n(2088),Io=n(1479),Mo=n(561),Po=n.n(Mo),So=n(965),Do=n.n(So),Lo=n(966),To=n.n(Lo),No=n(560),Ao=n.n(No),Eo=n(971),Ro=n.n(Eo),zo=n(972),Fo=n.n(zo),Bo=n(970),Uo=n.n(Bo),Vo=n(969),Ho=n.n(Vo),qo=n(968),_o=n.n(qo),Wo=n(967),$o=n.n(Wo),Ko=n(566),Go=n.n(Ko),Yo=n(567),Jo=n(327),Xo=n(266),Zo=function(e){return Object(j.jsx)(mi.a,Object(a.a)(Object(a.a)({viewBox:"0 0 1000 1000"},e),{},{children:Object(j.jsx)("path",{d:"M560.8 191.3v246.9h245V315.8L990 500 805.8 684.2V558.9h-245v246.9h123.4L500 990 315.8 805.8h122.5V558.9h-245v124.4L10 500l183.3-183.3v121.5h245V191.3H318.6L500 10l181.4 181.3H560.8z"})}))},Qo=function(e){return Object(j.jsxs)(mi.a,Object(a.a)(Object(a.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(j.jsx)("path",{d:"M458.3 948.4c125.9 0 239.5-51.9 321-135.4l-37.5-40.2c-72.2 75-173.6 121.7-285.9 121.7-219.2 0-396.9-177.7-396.9-396.9S236.7 100.7 455.9 100.7c207.6 0 377.8 159.5 395.2 362.6h-96.3l117.6 196L990 463.2h-85C886.3 232.9 693.6 51.6 458.3 51.6 210.7 51.6 10 252.4 10 500c0 247.6 200.7 448.4 448.3 448.4z"}),Object(j.jsx)("path",{d:"M 402.3 395.8 c -17.6 -17.8 -41.8 -26.8 -72 -26.8 c -1.3 0 -2.7 0 -4.1 0.1 h -0.1 c -31.8 1.5 -56.7 11.1 -73.8 28.5 c -17.1 17.4 -26.8 42.9 -28.7 75.7 v 0.7 c 1.4 30.5 10 54.2 25.5 70.5 c 15.6 16.4 38.2 25.4 67.3 26.9 h 0.5 c 27.3 -0.8 49.5 -9.4 66.3 -25.6 c -1.9 25.7 -6.9 45.7 -15 59.6 c -9.5 16.3 -23.1 24.2 -41.7 24.2 H 325 c -22.4 0 -36.9 -12.4 -44.3 -37.8 c -0.9 -2.9 -3.5 -4.9 -6.5 -4.9 c -0.5 0 -1 0 -1.4 0.2 l -38.4 8.3 c -1.8 0.4 -3.4 1.5 -4.3 3 c -1 1.6 -1.3 3.5 -0.8 5.2 c 5.9 23 16.9 40.7 32.7 52.4 c 15.7 11.6 36.5 17.5 61.6 17.5 h 1.9 c 37.2 0 65.6 -13.6 84.4 -40.4 c 18.2 -26.1 27.5 -65.3 27.5 -116.5 c 0.3 -27.7 -2.5 -51.8 -8.2 -71.7 c -5.8 -20.5 -14.9 -37 -26.9 -49.1 z m -21 81.8 c -2.6 31.4 -20.1 46.8 -55 48.6 c -31.1 -1.8 -46.4 -19.3 -48.1 -55.2 c 1.7 -35.9 17.5 -53.5 49.6 -55.2 c 17.7 0.5 30.6 5.6 39.4 15.6 c 8.9 10 13.6 25.6 14.1 46.2 z M 647 409.2 c -17.9 -26.1 -44.8 -39.7 -79.9 -40.2 h -0.4 c -35 1.5 -61.9 15.4 -80.1 41.5 c -17.6 25.4 -27 62.8 -28 111.2 v 0.2 c 0.5 48.9 9.6 86.5 27.3 111.7 c 18.2 25.9 45.4 39.2 80.9 39.7 h 1.9 c 35 0 61.7 -13.2 79.4 -39.1 c 17.1 -25.1 25.8 -62.9 25.8 -112.3 v -0.1 c -0.4 -49.4 -9.5 -87.3 -26.9 -112.6 z m -30.5 114 c 0 36.5 -4.4 64.1 -13.1 81.9 c -8 16.4 -19.5 24.4 -35.1 24.4 h -2.8 c -15.6 0 -27.1 -8 -35.1 -24.4 c -8.7 -17.8 -13 -45.3 -13 -81.8 c 0 -36.9 4.4 -64.8 13.1 -82.9 c 8 -16.7 19.5 -24.8 35.1 -24.8 h 1.6 c 0.8 0 1.5 -0.1 2.3 -0.1 c 10.1 0 18.3 3.3 24.9 10 c 15.3 15.4 22.7 48.3 22.1 97.7 z M 647.5 257.5 c -28.4 0 -51.4 23 -51.4 51.5 c 0 28.4 23 51.4 51.4 51.4 s 51.5 -23 51.5 -51.4 c -0.1 -28.5 -23.1 -51.5 -51.5 -51.5 z m 0 73.4 c -12.2 0 -22 -9.9 -22 -22.1 c 0 -12.2 9.9 -22.1 22 -22.1 c 12.2 0 22.1 9.9 22.1 22.1 c -0.1 12.3 -10 22.1 -22.1 22.1 z"})]}))},eu=function(e){return Object(j.jsxs)(mi.a,Object(a.a)(Object(a.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(j.jsx)("path",{d:"M541.7 948.4c-125.9 0-239.5-51.9-321-135.4l37.5-40.2c72.2 75 173.6 121.7 285.9 121.7 219.2 0 396.9-177.7 396.9-396.9S763.3 100.7 544.1 100.7c-207.6 0-377.8 159.5-395.2 362.6h96.3l-117.6 196L10 463.2h85C113.7 232.9 306.4 51.6 541.7 51.6 789.3 51.6 990 252.4 990 500c0 247.6-200.7 448.4-448.3 448.4z"}),Object(j.jsx)("path",{d:"M502.3 395.8c-17.6-17.8-41.8-26.8-72-26.8-1.3 0-2.7 0-4.1.1h-.1c-31.8 1.5-56.7 11.1-73.8 28.5-17.1 17.4-26.8 42.9-28.7 75.7v.7c1.4 30.5 10 54.2 25.5 70.5 15.6 16.4 38.2 25.4 67.3 26.9h.5c27.3-.8 49.5-9.4 66.3-25.6-1.9 25.7-6.9 45.7-15 59.6-9.5 16.3-23.1 24.2-41.7 24.2H425c-22.4 0-36.9-12.4-44.3-37.8-.9-2.9-3.5-4.9-6.5-4.9-.5 0-1 0-1.4.2l-38.4 8.3c-1.8.4-3.4 1.5-4.3 3-1 1.6-1.3 3.5-.8 5.2 5.9 23 16.9 40.7 32.7 52.4 15.7 11.6 36.5 17.5 61.6 17.5h1.9c37.2 0 65.6-13.6 84.4-40.4 18.2-26.1 27.5-65.3 27.5-116.5.3-27.7-2.5-51.8-8.2-71.7-5.8-20.5-14.9-37-26.9-49.1zm-21 81.8c-2.6 31.4-20.1 46.8-55 48.6-31.1-1.8-46.4-19.3-48.1-55.2 1.7-35.9 17.5-53.5 49.6-55.2 17.7.5 30.6 5.6 39.4 15.6 8.9 10 13.6 25.6 14.1 46.2zM747 409.2c-17.9-26.1-44.8-39.7-79.9-40.2h-.4c-35 1.5-61.9 15.4-80.1 41.5-17.6 25.4-27 62.8-28 111.2v.2c.5 48.9 9.6 86.5 27.3 111.7 18.2 25.9 45.4 39.2 80.9 39.7h1.9c35 0 61.7-13.2 79.4-39.1 17.1-25.1 25.8-62.9 25.8-112.3v-.1c-.4-49.4-9.5-87.3-26.9-112.6zm-30.5 114c0 36.5-4.4 64.1-13.1 81.9-8 16.4-19.5 24.4-35.1 24.4h-2.8c-15.6 0-27.1-8-35.1-24.4-8.7-17.8-13-45.3-13-81.8 0-36.9 4.4-64.8 13.1-82.9 8-16.7 19.5-24.8 35.1-24.8h1.6c.8 0 1.5-.1 2.3-.1 10.1 0 18.3 3.3 24.9 10 15.3 15.4 22.7 48.3 22.1 97.7zM747.5 257.5c-28.4 0-51.4 23-51.4 51.5 0 28.4 23 51.4 51.4 51.4s51.5-23 51.5-51.4c-.1-28.5-23.1-51.5-51.5-51.5zm0 73.4c-12.2 0-22-9.9-22-22.1 0-12.2 9.9-22.1 22-22.1 12.2 0 22.1 9.9 22.1 22.1-.1 12.3-10 22.1-22.1 22.1z"})]}))},tu=function(e){return Object(j.jsx)(mi.a,Object(a.a)(Object(a.a)({viewBox:"0 0 100 100"},e),{},{children:Object(j.jsx)("switch",{children:Object(j.jsxs)("g",{children:[Object(j.jsx)("path",{d:"M5273.1 2400.1v-2c0-2.8-5-4-9.7-4s-9.7 1.3-9.7 4v2c0 1.8.7 3.6 2 4.9l5 4.9c.3.3.4.6.4 1v6.4c0 .4.2.7.6.8l2.9.9c.5.1 1-.2 1-.8v-7.2c0-.4.2-.7.4-1l5.1-5c1.3-1.3 2-3.1 2-4.9zm-9.7-.1c-4.8 0-7.4-1.3-7.5-1.8.1-.5 2.7-1.8 7.5-1.8s7.3 1.3 7.5 1.8c-.2.5-2.7 1.8-7.5 1.8z"}),Object(j.jsx)("path",{d:"M5268.4 2410.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1h-4.3zM5272.7 2413.7h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1zM5272.7 2417h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1 0-.5-.4-1-1-1z"}),Object(j.jsx)("g",{children:Object(j.jsx)("path",{d:"M45.2 45.5H32.4v-5.2c0-.7-.4-1.3-1-1.5-.6-.3-1.3-.2-1.8.3l-10.7 9.7c-.4.3-.6.8-.6 1.2 0 .4.2.9.5 1.2l.1.1L29.6 61c.5.4 1.2.6 1.8.3.6-.3 1-.9 1-1.5v-5.2h12.8c.8 0 1.4-.6 1.4-1.4V47c0-.9-.7-1.5-1.4-1.5zM70.4 39.1c-.5-.4-1.2-.6-1.8-.3-.6.3-1 .9-1 1.5v5.2H54.8c-.8 0-1.4.6-1.4 1.4v6.2c0 .8.6 1.4 1.4 1.4h12.8v5.2c0 .5.2.9.5 1.2.1.1.3.3.5.3.6.3 1.3.2 1.8-.3l10.7-9.7c.4-.3.6-.8.6-1.2 0-.5-.2-.9-.6-1.2l-10.7-9.7zM10.9 28.7H4.2c-.9 0-1.7.8-1.7 1.7v39.2c0 .9.8 1.7 1.7 1.7h6.7c.9 0 1.7-.8 1.7-1.7V30.4c0-.9-.8-1.7-1.7-1.7zM95.8 28.7h-6.7c-.9 0-1.7.8-1.7 1.7v39.2c0 .9.8 1.7 1.7 1.7h6.7c.9 0 1.7-.8 1.7-1.7V30.4c0-.9-.8-1.7-1.7-1.7z"})})]})})}))},nu=function(e){return Object(j.jsx)(mi.a,Object(a.a)(Object(a.a)({viewBox:"0 0 24 24"},e),{},{children:Object(j.jsx)("path",{d:"M2 2v5h2V4h3V2H2zm15 0v2h3v3h2V2h-5zm-5.844 4.031L7 17h1.969l.906-2.563h4.25L15 17h2L12.844 6.031h-1.688zM12 8.375l1.594 4.531h-3.188L12 8.375zM2 17v5h5v-2H4v-3H2zm18 0v3h-3v2h5v-5h-2z"})}))},ru=["tooltip","children"],au=Object(z.a)((function(e){return Object(R.a)({textField:{width:"4ch"}})})),cu=Object(Ce.a)(pn.a)((function(e){var t=e.theme;return{minHeight:"48px",paddingLeft:0,borderBottom:"solid 2px ".concat(t.palette.divider)}})),iu=Object(Ce.a)("div")({position:"relative"}),ou=Object(Ce.a)(Go.a)((function(e){var t=e.theme;return{position:"absolute",fontSize:12,right:0,bottom:0,borderRadius:"50%",backgroundColor:t.palette.background.default,border:"solid 1px ".concat(t.palette.action.active)}})),uu=function(e){var t=e.tooltip,n=e.onClick,r=e.showEllipsis,a=e.disabled,c=e.children;return Object(j.jsx)(Me.a,{title:t,children:Object(j.jsxs)(iu,{children:[Object(j.jsx)(be.a,{onClick:n,size:"small",disabled:a,children:c}),r&&Object(j.jsx)(ou,{})]})})},su=Object(Ce.a)(wo.a)((function(e){var t=e.theme;return{"& > .MuiToggleButtonGroup-grouped":{margin:t.spacing(.5),border:"none","&:not(:first-child)":{borderRadius:t.shape.borderRadius},"&:first-child":{borderRadius:t.shape.borderRadius}}}})),lu=function(e){var t=e.tooltip,n=e.children,r=Object(ye.a)(e,ru);return Object(j.jsx)(Co.a,Object(a.a)(Object(a.a)({},r),{},{children:Object(j.jsx)(Me.a,{title:t,children:Object(j.jsx)(pi.a,{height:24,children:n})})}))},du=Object(Ce.a)("span")({display:"inline-block",marginTop:6}),bu=Object(Ce.a)("div")({width:"100%",height:"calc(100% - 48px)"}),ju=function(e){var t=e.currentPage,n=Object(c.useRef)(null),r=Qi(),a=r.loadPage,i=r.releasePage;return Object(c.useEffect)((function(){return t&&setTimeout((function(){var e=n.current;e&&Object(Xo.a)(t.getImageData()).then((function(t){a(e,t)}))}),0),function(){i()}}),[t,a,i]),Object(j.jsx)("canvas",{ref:n,width:t.width,height:t.height,style:{visibility:"hidden"}})},fu=function(e){var t=Object(Ka.a)().t,n=Vc(),r=n.canModify,a=n.rotateImage,i=n.rotateAllImages,o=n.canOcr,u=n.ocrImage,s=au(),l=Object(Yo.a)({}),d=l.width,b=l.height,f=l.ref,O=function(){var e=Vc(),t=e.currentDocument,n=e.currentDocumentLocation,r=e.setCurrentDocumentLocation,a=e.fileInfos,i=e.unusedPages,o=Object(c.useMemo)((function(){var e=[],n=[];if(t){var r,c=Object($.a)(t.pages);try{for(c.s();!(r=c.n()).done;){var o=r.value,u=a[o.fileIndex];"loaded"===u.status&&(e.push(u.pages[o.filePageNumber]),n.push(u.pageStates[o.filePageNumber]))}}catch(s){c.e(s)}finally{c.f()}}else a.forEach((function(t,r){"loaded"===t.status&&t.pageStates.forEach((function(a,c){var o=i.findIndex((function(e){return e.fileIndex===r&&e.filePageNumber===c}));o>-1&&(n.push(a),e.push(t.pages[c]))}))}));return[e,n]}),[t,a,i]),u=Object(X.a)(o,2),s=u[0],l=u[1],d=Object(c.useMemo)((function(){var e=null===n||void 0===n?void 0:n.pageIndex;if(!Object(H.isPresent)(e))return[void 0,void 0];var t=s.findIndex((function(t){return t.pageIndex===e}));return[null===n||void 0===n?void 0:n.documentIndex,t>=0?t:void 0]}),[null===n||void 0===n?void 0:n.documentIndex,null===n||void 0===n?void 0:n.pageIndex,s]),b=Object(X.a)(d,2),j=b[0],f=b[1],O=Object(c.useCallback)((function(){r({documentIndex:j,pageIndex:s[0].pageIndex})}),[j,s,r]),m=Object(c.useCallback)((function(){Object(H.isPresent)(f)&&0!==f&&r({documentIndex:j,pageIndex:s[f-1].pageIndex})}),[j,f,s,r]),h=Object(c.useCallback)((function(){!Object(H.isPresent)(f)||f+1>=s.length||r({documentIndex:j,pageIndex:s[f+1].pageIndex})}),[j,f,s,r]),p=Object(c.useCallback)((function(){0!==s.length&&r({documentIndex:j,pageIndex:s[s.length-1].pageIndex})}),[j,s,r]),v=Object(c.useCallback)((function(e){isNaN(e)||e<=0||e>s.length||r({documentIndex:j,pageIndex:s[e-1].pageIndex})}),[j,s,r]);return{currentPage:Object(H.isPresent)(f)?s[f]:void 0,currentPageState:Object(H.isPresent)(f)?l[f]:void 0,currentPageNumber:Object(H.isPresent)(f)?f+1:void 0,totalPages:s.length,gotoFirst:O,gotoPrev:m,gotoNext:h,gotoLast:p,gotoPage:v}}(),m=O.currentPageNumber,h=O.currentPage,p=O.currentPageState,v=O.totalPages,x=O.gotoFirst,g=O.gotoLast,y=O.gotoNext,C=O.gotoPage,w=O.gotoPrev,k=Object(c.useState)(null!==m&&void 0!==m?m:null),I=Object(X.a)(k,2),M=I[0],P=I[1],S=Qi(),D=S.captureAvailable,L=S.captureImage,T=S.clearCapture,N=S.fitPage,A=S.fitWidth,E=S.zoomIn,R=S.zoomOut,z=S.dragMode,F=S.setDragMode,B=S.rotateTo,U=S.move,V=Object(c.useState)(!1),q=Object(X.a)(V,2),_=q[0],W=q[1],G=Object(Jo.b)().enqueueSnackbar,J=Object(so.a)(),Z=function(){var e=Object(c.useState)(!1),t=Object(X.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(X.a)(a,2),o=i[0],u=i[1];return Object(c.useEffect)((function(){var e=function(e){"Shift"===e.key&&(e.location===KeyboardEvent.DOM_KEY_LOCATION_LEFT?r(!0):e.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT&&u(!0))},t=function(e){"Shift"===e.key&&(e.location===KeyboardEvent.DOM_KEY_LOCATION_LEFT?r(!1):e.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT&&u(!1))};return document.addEventListener("keydown",e,{capture:!0}),document.addEventListener("keyup",t,{capture:!0}),function(){document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("keyup",t,{capture:!0})}}),[]),n||o}();Object(c.useEffect)((function(){P(null!==m&&void 0!==m?m:null)}),[m]),Object(c.useEffect)((function(){p&&B(p.rotate)}),[p,B]);var Q=Object(c.useCallback)((function(e){var t=0,n=0;"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),T()):"ArrowUp"===e.key?n=-1:"ArrowDown"===e.key?n=1:"ArrowLeft"===e.key?t=-1:"ArrowRight"===e.key&&(t=1),0===t&&0===n||U(t,n)}),[T,U]),ee=Object(c.useCallback)((function(e){var t=e.target.value;if(Object(H.isPresent)(t)&&0!==t.length){var n=parseInt(t);isNaN(n)||P(n)}else P(null)}),[]),te=Object(c.useCallback)((function(e){"Enter"===e.key&&(e.preventDefault(),Object(H.isPresent)(M)&&!isNaN(M)&&C(M))}),[C,M]),ne=Object(c.useCallback)((function(e){e.currentTarget.focus()}),[]),re=Object(c.useCallback)((function(e,t){t&&F(t)}),[F]),ae=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?i(e):h&&a(h.pageIndex,e)}),[h,i,a]),ce=Object(c.useCallback)(Object(K.a)(Y.a.mark((function e(){var n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D&&o){e.next=2;break}return e.abrupt("return");case 2:if(n=L("image/png")){e.next=5;break}return e.abrupt("return");case 5:return W(!0),e.prev=6,e.prev=7,e.next=10,u(n);case 10:r=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),J(t("TextRecognitionFunctionFailed"),e.t0),e.abrupt("return");case 17:return e.prev=17,e.next=20,navigator.clipboard.writeText(r);case 20:e.next=26;break;case 22:return e.prev=22,e.t1=e.catch(17),J(t("RecognizedTextCouldNotBeCopiedToClipboard"),e.t1),e.abrupt("return");case 26:G(t("RecognizedTextCopiedToClipboard"),{variant:"success"});case 27:return e.prev=27,W(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[6,,27,30],[7,13],[17,22]])}))),[o,D,L,G,u,J,t]);return h?Object(j.jsxs)(j.Fragment,{children:[r&&Object(j.jsxs)(cu,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(_n.a,{value:null!==M&&void 0!==M?M:"",onChange:ee,onKeyDown:te,disabled:!Object(H.isPresent)(m),className:s.textField,inputProps:{style:{textAlign:"right"}},variant:"standard"}),Object(j.jsxs)(du,{children:["\xa0 / ",v," \xa0"]})]}),Object(j.jsx)(uu,{onClick:x,tooltip:t("GotoFirstPage"),children:Object(j.jsx)(Po.a,{})}),Object(j.jsx)(uu,{onClick:w,tooltip:t("GotoPrevPage"),children:Object(j.jsx)(Do.a,{})}),Object(j.jsx)(uu,{onClick:y,tooltip:t("GotoNextPage"),children:Object(j.jsx)(To.a,{})}),Object(j.jsx)(uu,{onClick:g,tooltip:t("GotoLastPage"),children:Object(j.jsx)(Ao.a,{})}),Object(j.jsx)(ko.a,{orientation:"vertical",flexItem:!0}),Object(j.jsxs)(su,{value:z,onChange:re,size:"small",exclusive:!0,children:[Object(j.jsx)(lu,{value:"crop",tooltip:t("Crop"),children:Object(j.jsx)(qi,{})}),Object(j.jsx)(lu,{value:"move",tooltip:t("Move"),children:Object(j.jsx)(Zo,{})})]}),Object(j.jsx)(ko.a,{orientation:"vertical",flexItem:!0}),Object(j.jsx)(uu,{onClick:N,tooltip:t("FitPage"),children:Object(j.jsx)($o.a,{})}),Object(j.jsx)(uu,{onClick:A,tooltip:t("FitWidth"),children:Object(j.jsx)(tu,{})}),Object(j.jsx)(uu,{onClick:R,tooltip:t("ZoomOut"),children:Object(j.jsx)(_o.a,{})}),Object(j.jsx)(uu,{onClick:E,tooltip:t("ZoomIn"),children:Object(j.jsx)(Ho.a,{})}),Object(j.jsx)(ko.a,{orientation:"vertical",flexItem:!0}),Object(j.jsx)(uu,{onClick:function(e){return ae(-90,e.shiftKey)},tooltip:t(Z?"RotateAll90Ccw":"Rotate90Ccw"),showEllipsis:Z,children:Object(j.jsx)(eu,{})}),Object(j.jsx)(uu,{onClick:function(e){return ae(90,e.shiftKey)},tooltip:t(Z?"RotateAll90Cw":"Rotate90Cw"),showEllipsis:Z,children:Object(j.jsx)(Qo,{})}),Object(j.jsx)(uu,{onClick:function(e){return ae(180,e.shiftKey)},tooltip:t(Z?"RotateAll180":"Rotate180"),showEllipsis:Z,children:Object(j.jsx)(Uo.a,{})}),Object(j.jsx)(uu,{onClick:function(e){return ae(-1,e.shiftKey)},tooltip:t(Z?"RotateAll1Ccw":"Rotate1Ccw"),showEllipsis:Z,children:Object(j.jsx)(Ro.a,{})}),Object(j.jsx)(uu,{onClick:function(e){return ae(1,e.shiftKey)},tooltip:t(Z?"RotateAll1Cw":"Rotate1Cw"),showEllipsis:Z,children:Object(j.jsx)(Fo.a,{})}),o&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ko.a,{orientation:"vertical",flexItem:!0}),Object(j.jsx)(uu,{onClick:ce,tooltip:t("OcrCapture"),disabled:!D||_,children:_?Object(j.jsx)(Io.a,{size:20}):Object(j.jsx)(nu,{})})]})]}),Object(j.jsx)(bu,{ref:f,onKeyDown:Q,tabIndex:-1,onClick:ne,children:Object(H.isPresent)(d)&&Object(H.isPresent)(b)&&!!h&&Object(j.jsx)(ju,{currentPage:h})})]}):null},Ou=Object(Ce.a)("div")((function(e){e.theme;return{height:"80vh",minWidth:900,display:"flex",flexDirection:"row"}})),mu=Object(Ce.a)("div",{shouldForwardProp:function(e){return"canModify"!==e}})((function(e){e.theme;return{flexGrow:1,overflow:"auto",width:e.canModify?"26%":"40%"}})),hu=Object(Ce.a)("div")((function(e){var t=e.theme;return{flexGrow:1,width:"41%",overflowY:"auto",borderLeft:"2px solid ".concat(t.palette.divider),paddingLeft:10}})),pu=Object(Ce.a)("div",{shouldForwardProp:function(e){return"canModify"!==e}})((function(e){var t=e.theme,n=e.canModify;return{flexGrow:1,overflow:"auto",borderLeft:"2px solid ".concat(t.palette.divider),paddingLeft:10,width:n?"32%":"59%"}})),vu=function(e){var t=Object(Ka.a)().t,n=Vc(),r=n.loadingImages,a=n.documentSchemas,c=n.canModify;return a?r?Object(j.jsx)(Hc.b,{children:t("LoadingImages")}):Object(j.jsx)(mo,{children:Object(j.jsxs)(Ou,{children:[Object(j.jsx)(mu,{canModify:c,children:Object(j.jsx)(Vi,{})}),c&&Object(j.jsx)(hu,{children:Object(j.jsx)(fu,{})}),Object(j.jsx)(pu,{canModify:c,children:Object(j.jsx)(yo,{})})]})}):null},xu=function(e){var t,n=Object(l.f)(),r=Object(o.hb)({jsonforms:Object(a.a)({},n)},e),i=r.data,u=r.path,s=r.visible,d=r.uischema,f=null===i||void 0===i?void 0:i.documents,O=Object(c.useMemo)((function(){return f?function(e){if(!Array.isArray(e))return[];for(var t=e,n=0;n<t.length;n++){var r=t[n];if(!Object(H.isPresent)(r.data)||!r.action){var c,i,o=Object(a.a)(Object(a.a)({},r),{},{data:null!==(c=r.data)&&void 0!==c?c:{},action:null!==(i=r.action)&&void 0!==i?i:"send"});t===e&&(t=Object($a.a)(e)),t[n]=o}}return t}(f):[]}),[f]);if(Object(c.useEffect)((function(){var e;O===f||Object(P.f)(O,f)||(null===(e=n.dispatch)||void 0===e||e.call(n,Object(o.Db)(Object(o.g)(u,"documents"),(function(){return O}))))}),[n,f,O,u]),O!==f&&!Object(P.f)(O,f))return null;if("ImageBatchRecognition"!==d.type)return null;var m=d;return Object(j.jsx)(b.a,{xsUp:!s,children:Object(j.jsx)(oi.a,{children:Object(j.jsx)(Uc,{basePath:u,batch:i,documentSchemasSource:m.documentSchemasSource,readonly:null!==(t=m.readonly)&&void 0!==t&&t,ocrFunction:m.ocrFunction,children:Object(j.jsx)(Zi,{outputImageFormat:m.outputImageFormat,children:Object(j.jsx)(vu,{})})})})})},gu=Object(o.wb)(3,Object(o.Cb)("ImageBatchRecognition")),yu=n(219),Cu=function(e,t,n){var r=null===e||void 0===e?void 0:e[t],a=Object(c.useMemo)((function(){if(r)return Object(yu.a)(r,"schema for data path ".concat(n))}),[n,r]),i=Object(c.useMemo)((function(){if(0===n.length)return["",""];var e=n.split(".");return[e.slice(0,-1).join("."),e[e.length-1]]}),[n]),u=Object(M.a)(i,2),s=u[0],d=u[1],b=Object(l.f)(),j=Object(o.x)({jsonforms:b}),f=o.d.data(j,s),O=b.core.schema,m=Object(c.useCallback)((function(t){if(a&&e&&r)return a(t,{instancePath:n,parentData:f,parentDataProperty:d,rootData:j,schema:r,parentSchema:e,rootSchema:O})}),[a,f,d,n,j,O,e,r]);return a?m:void 0},wu=function(e,t,n,r){var a=Cu(e,n,r);if(a){var c=a(t);if("boolean"===typeof c)return c;if(Object(H.isPresent)(c))throw new Error("".concat(n," expression for ").concat(r," must evaluate to a boolean value"))}else;},ku=function(e){var t=Object(l.f)(),n=Object(o.x)({jsonforms:t}),r=e.split(".").slice(0,-1).join(".");return{parentDataPath:r,parentData:o.d.data(n,r)}},Iu=function(e){return function(t){var n=t.required,r=t.visible,a=t.enabled,i=t.uischema,u=t.schema,s=t.path,d=function(e){var t=Object(l.f)();return Object(c.useMemo)((function(){var n=Object(o.A)({jsonforms:t}),r=e.scope.split("/").slice(0,-2).join("/");return o.d.schema(n,r,n)}),[t,e.scope])}(i),b=ku(t.path),f=b.parentDataPath,O=b.parentData;if(d){var m=Cu(d,"nfRequired",f);if(m){var h=m(O);if(Array.isArray(h)){var p=t.path.split("."),v=p[p.length-1];n=h.includes(v)}}}var x=wu(u,O,"nfHidden",s);Object(H.isPresent)(x)&&(r=!x);var g=wu(u,O,"nfDisabled",s);return Object(H.isPresent)(g)&&(a=!g),Object(j.jsx)(e,Object(I.a)(Object(I.a)({},t),{},{required:n,visible:r,enabled:a}))}},Mu=function(e){var t,n=e.options,r=e.uischema,a=e.schema,i=e.path,u=e.data,s=Object(l.f)(),d=Cu(a,"nfEnum",i),b=Cu(a,"nfConst",i);return Object(c.useMemo)((function(){if(Array.isArray(n))return n;if(d){var e=d(u);if(Array.isArray(e))return e.map((function(e){var t;return Object(o.r)(e,null===(t=s.i18n)||void 0===t?void 0:t.translate,Object(o.z)(a,r,i))}))}if(b){var t,c=b(u);if(Object(H.isPresent)(c))return[Object(o.r)(c,null===(t=s.i18n)||void 0===t?void 0:t.translate,Object(o.z)(a,r,i))]}return n}),[b,null===(t=s.i18n)||void 0===t?void 0:t.translate,u,d,n,i,a,r])},Pu=function(e){return function(t){var n=Mu(t),r=Object(c.useMemo)((function(){return Iu(e)}),[]);return Object(j.jsx)(r,Object(I.a)(Object(I.a)({},t),{},{options:n}))}},Su=function(e){return function(t){var n=Object(c.useMemo)((function(){return Iu(e)}),[]);return Object(j.jsx)(n,Object(I.a)({},t))}},Du=function(e){return function(t){var n=Object(c.useMemo)((function(){return Iu(e)}),[]);return Object(j.jsx)(n,Object(I.a)({},t))}},Lu=function(e){return function(t){return Object(j.jsx)(e,Object(I.a)({},t))}},Tu=function(e){return function(t){return Object(j.jsx)(e,Object(I.a)({},t))}},Nu=Object(c.createContext)({arraySchema:{}}),Au=function(e){return function(t){var n=t.schema,r=t.uischema,a=Object(l.f)(),c=r,i=o.d.schema(n||a.core.schema,c.scope,a.core.schema);return Object(j.jsx)(Nu.Provider,{value:{arraySchema:i},children:Object(j.jsx)(e,Object(I.a)({},t))})}},Eu=function(e){return function(t){var n=t.minItems,r=t.schema,a=t.data,i=t.path,u=t.uischema,s=t.rootSchema,l=t.visible,d=t.enabled,b=Object(c.useContext)(Nu).arraySchema,f=Cu(r,"nfMinItems",i),O=Object(c.useMemo)((function(){return f?f(a):n}),[a,n,f]),m=ku(t.path),h=m.parentDataPath,p=m.parentData,v=wu(b,p,"nfHidden",h);Object(H.isPresent)(v)&&(l=!v);var x=wu(b,p,"nfDisabled",h);Object(H.isPresent)(x)&&(d=!x);var g=Object(c.useMemo)((function(){var e=u;return o.d.schema(s,e.scope,s)}),[s,u]),y=Object(c.useMemo)((function(){return function(t){return Object(j.jsx)(e,Object(I.a)(Object(I.a)({},t),{},{schema:r}))}}),[r]),C=Object(c.useMemo)((function(){return Du(y)}),[y]);return Object(j.jsx)(C,Object(I.a)(Object(I.a)({},t),{},{minItems:O,schema:g,visible:l,enabled:d}))}},Ru=function(e,t,n){var r=Cu(e,"nfMaxLength",n);return Object(c.useMemo)((function(){return r?r(t):e.maxLength}),[t,r,e.maxLength])},zu=function(e){return function(t){var n=t.visible,r=t.enabled,a=t.schema,c=t.path,i=ku(t.path).parentData,o=wu(a,i,"nfHidden",c);Object(H.isPresent)(o)&&(n=!o);var u=wu(a,i,"nfDisabled",c);return Object(H.isPresent)(u)&&(r=!u),Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)(e,Object(I.a)(Object(I.a)({},t),{},{enabled:r}))})}},Fu=function(e){return function(t){var n=t.schema,r=t.data,a=t.path,i=Ru(n,r,a),o=Object(c.useMemo)((function(){return Object(I.a)(Object(I.a)({},n),{},{maxLength:i})}),[i,n]),u=Object(c.useMemo)((function(){return zu(e)}),[]);return Object(j.jsx)(u,Object(I.a)(Object(I.a)({},t),{},{schema:o}))}},Bu=function(e){return function(t){var n,r=Object(l.f)(),a=T().processAjvErrors,c=null===(n=r.core)||void 0===n?void 0:n.errors;return c&&a(c),Object(j.jsx)(e,Object(I.a)({},t))}},Uu=Object(o.e)(Object(o.Cb)("Control"),Object(o.vb)(Object(o.yb)((function(e){return e.hasOwnProperty("enum")})),Object(o.yb)((function(e){return e.hasOwnProperty("nfEnum")})),Object(o.yb)((function(e){return e.hasOwnProperty("const")})),Object(o.yb)((function(e){return e.hasOwnProperty("nfConst")})))),Vu=Object(o.wb)(2,Uu),Hu=Object(o.wb)(2,Uu),qu=Object(o.wb)(20,Object(o.e)(Uu,Object(o.ub)("format","radio"))),_u=Object(o.e)(Object(o.Cb)("Control"),Object(o.vb)(Object(o.Ab)("number"),Object(o.Ab)("integer")),Object(o.yb)((function(e){return(e.hasOwnProperty("maximum")||e.hasOwnProperty("nfMaximum"))&&(e.hasOwnProperty("minimum")||e.hasOwnProperty("nfMinimum"))&&e.hasOwnProperty("default")})),Object(o.ub)("slider",!0)),Wu=Object(o.wb)(4,_u),$u=Object(z.a)((function(e){return Object(R.a)({boundary:{border:"red solid 1px",padding:2}})})),Ku=function(e,t){return function(n){var r=$u();return Object(j.jsxs)("div",{className:r.boundary,children:[Object(j.jsx)("div",{children:t}),Object(j.jsx)(e,Object(a.a)({},n))]})}},Gu=function(e,t){return function(n){var r=$u();return Object(j.jsxs)("div",{className:r.boundary,children:[Object(j.jsx)("div",{children:t}),Object(j.jsx)(e,Object(a.a)({},n))]})}},Yu=n(29),Ju=n(1223),Xu=n(1543),Zu=n(1611),Qu=n(1722),es=n(1123),ts=function(e){if("string"===typeof e)return e.replaceAll(/[a-zA-Z0-9]/g,"_")};!function(e){e[e.DateTime=0]="DateTime",e[e.Date=1]="Date",e[e.Time=2]="Time"}(ii||(ii={}));var ns=function(e,t,n){return function(r){r&&!isNaN(r.getTime())?t(e,Object(Qu.a)(r,{representation:n===ii.DateTime?"complete":n===ii.Date?"date":"time"})):t(e,void 0)}},rs=function(e){if("string"!==typeof e)return null;var t=Object(es.default)(e);return isNaN(t.getTime())?null:t},as=function(e){var t,n,r=e.id,a=e.errors,i=e.uischema,o=e.enabled,u=e.path,s=e.handleChange,l=e.data,d=e.config,b=Object(Ka.a)().t,f=Fe()({},d,i.options),O=0===a.length,m=null!==(t=f.dateFormat)&&void 0!==t?t:b("DATE_FORMAT"),h=Object(c.useMemo)((function(){return ts(m)}),[m]),p=Object(c.useMemo)((function(){return ns(u,s,ii.Date)}),[u,s]),v=Object(c.useMemo)((function(){return{cancelButtonLabel:f.cancelLabel,clearButtonLabel:f.clearLabel,okButtonLabel:f.okLabel}}),[f.cancelLabel,f.clearLabel,f.okLabel]);return Object(j.jsx)(Ju.a,{dateAdapter:Zu.a,localeText:v,children:Object(j.jsx)(Xu.a,{value:rs(l),onChange:p,inputFormat:m,mask:h,views:null!==(n=f.views)&&void 0!==n?n:["year","month","day"],disabled:!o,renderInput:function(e){return Object(j.jsx)(_n.a,Object(I.a)(Object(I.a)({},e),{},{id:r+"-input",autoFocus:f.focus,error:!O,fullWidth:!0,inputProps:Object(I.a)(Object(I.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:l?{shrink:!0}:void 0,variant:"standard"}))},componentsProps:{actionBar:{actions:["clear"]}}})})},cs=Object(o.wb)(4,o.H),is=(Object(l.j)(as),n(1546)),os=function(e){var t,n,r=e.id,a=e.errors,i=e.uischema,o=e.enabled,u=e.path,s=e.handleChange,l=e.data,d=e.config,b=Object(Ka.a)().t,f=Fe()({},d,i.options),O=0===a.length,m=null!==(t=f.dateTimeFormat)&&void 0!==t?t:b("DATETIME_FORMAT"),h=Object(c.useMemo)((function(){return ts(m)}),[m]),p=Object(c.useMemo)((function(){return ns(u,s,ii.DateTime)}),[u,s]),v=Object(c.useMemo)((function(){return{cancelButtonLabel:f.cancelLabel,clearButtonLabel:f.clearLabel,okButtonLabel:f.okLabel}}),[f.cancelLabel,f.clearLabel,f.okLabel]);return Object(j.jsx)(Ju.a,{dateAdapter:Zu.a,localeText:v,children:Object(j.jsx)(is.a,{value:rs(l),onChange:p,inputFormat:m,mask:h,ampm:!!f.ampm,views:null!==(n=f.views)&&void 0!==n?n:["year","month","day","hours","minutes","seconds"],disabled:!o,renderInput:function(e){return Object(j.jsx)(_n.a,Object(I.a)(Object(I.a)({},e),{},{id:r+"-input",autoFocus:f.focus,error:!O,fullWidth:!f.trim,inputProps:Object(I.a)(Object(I.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:l?{shrink:!0}:void 0,variant:"standard"}))},componentsProps:{actionBar:{actions:["clear"]}}})})},us=Object(o.wb)(4,o.I),ss=(Object(l.j)(os),n(979)),ls=n.n(ss),ds=n(1494),bs=(n(530),n(531),n(974)),js=Object(sc.a)(),fs=n(975),Os=(n(977),n(978)),ms=n.n(Os),hs=["foreignObject"];function ps(e,t){return ms.a.sanitize(e,Object(a.a)({ADD_TAGS:hs,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","link","title","object","base"]},t))}var vs,xs=["theme","customHTMLSanitizer"],gs=function(e,t){var n=e.theme,r=e.customHTMLSanitizer,i=Object(ye.a)(e,xs),o=Object(Xt.a)(),u=Object(c.useRef)(null);Object(c.useImperativeHandle)(t,(function(){return{getInstance:function(){return u.current.getInstance()},getRootElement:function(){return u.current.getRootElement()}}}),[]);var s=Object(Ka.a)().i18n,l=null!==n&&void 0!==n?n:o.palette.mode;return Object(j.jsx)(fs.a,Object(a.a)(Object(a.a)({ref:u},i),{},{language:s.language,theme:l,customHTMLSanitizer:null!==r&&void 0!==r?r:ps}))},ys=Object(c.forwardRef)(gs),Cs=n(988),ws=void 0,ks=function(){return{toHTMLRenderers:{mermaid:function(e){var t,n="";return Cs.a.render("mermaid",null!==(t=e.literal)&&void 0!==t?t:"",(function(e){n=e})),[{type:"openTag",tagName:"div",outerNewLine:!0,classNames:["mermaid"]},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]}}}},Is=Object(z.a)((function(e){return Object(R.a)({dialogPaper:{height:"90vh"}})})),Ms=Object(Ce.a)(Qe.a)({height:"100%",overflowY:"hidden"}),Ps={"image/jpeg":"jpg","image/gif":"gif","image/png":"png","image/bmp":"bmp","image/tiff":"tif"},Ss=function(){var e=Object(K.a)(Y.a.mark((function e(t){var n,r,a,c,i,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="","name"in t&&(r=t.name.lastIndexOf("."))>0&&(n=t.name.substring(r)),n||(a=Ps[t.type])&&(n=".".concat(a)),u=void 0,c=new bs.ParallelHasher(js+"md5_worker.js",u),i="",e.prev=5,e.next=8,c.hash(t);case 8:i=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),i=Object(ds.a)();case 14:return o="img_".concat(i).concat(n),e.abrupt("return",o);case 16:case"end":return e.stop()}var u}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),Ds=function(e){var t=e.open,n=e.defaultValue,r=e.title,i=e.onChange,o=e.onClose,u=Object(Ka.a)().t,s=function(){var e=Object(dc.c)(),t=e.blobStorage_IsSupported,n=e.blobStorage_WriteFiles,r=e.blobStorage_List,a=e.blobStorage_GetSignedUrl,i=Object(c.useCallback)(function(){var e=Object(K.a)(Y.a.mark((function e(c){var i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Promise((function(e,i){var o=new FileReader;o.onloadend=Object(K.a)(Y.a.mark((function u(){var s,l,d,b,j,f,O;return Y.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if("string"===typeof(s=o.result)){u.next=4;break}return i("Invalid image"),u.abrupt("return");case 4:return u.next=6,t();case 6:if(!u.sent){u.next=43;break}return l="mdimages/",u.next=10,Ss(c);case 10:return d=u.sent,u.prev=12,u.next=15,r({path:l,filePrefix:d});case 15:if(!((b=u.sent).length>0)){u.next=23;break}return u.next=20,a(b[0].name);case 20:return j=u.sent,e(j),u.abrupt("return");case 23:u.next=27;break;case 25:u.prev=25,u.t0=u.catch(12);case 27:return f=s.split(",")[1],u.prev=28,u.next=31,n({path:l,files:[{fileName:d,base64:f}]});case 31:return u.next=33,a(l+d);case 33:O=u.sent,e(O),u.next=41;break;case 37:return u.prev=37,u.t1=u.catch(28),i(u.t1),u.abrupt("return");case 41:u.next=44;break;case 43:e(s);case 44:case"end":return u.stop()}}),u,null,[[12,25],[28,37]])}))),o.readAsDataURL(c)})),e.abrupt("return",i);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,t,r,n]);return{addImageBlob:i}}(),l=s.addImageBlob,d=function(){var e=Object(Ka.a)().t,t=Object(Qc.c)();return Object(c.useCallback)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object(a.a)({title:e("ThereArePendingChanges"),description:e("ChangesWillBeLost_Continue")},n);return t(r)}),[t,e])}(),b=Is(),f=Object(c.useRef)(null),O=Object(c.useMemo)((function(){return n||""}),[n]),m=Object(Xt.a)(),h=Object(c.useMemo)((function(){var e={addImageBlobHook:function(){var e=Object(K.a)(Y.a.mark((function e(t,n){var r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:r=e.sent,n(r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};return e}),[l]),p=Object(c.useState)(O),v=Object(X.a)(p,2),x=v[0],g=v[1],y=Object(c.useCallback)((function(e){var t,n=null===(t=f.current)||void 0===t?void 0:t.getInstance().getMarkdown();g(null!==n&&void 0!==n?n:"")}),[]),C=Object(c.useCallback)(Object(K.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0===x.trim().length?void 0:x,null===i||void 0===i||i(t),o();case 3:case"end":return e.stop()}}),e)}))),[x,i,o]),w=Object(c.useCallback)(Object(K.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=O!==x,!e.t0){e.next=5;break}return e.next=4,d();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:o();case 8:case"end":return e.stop()}}),e)}))),[x,O,d,o]),k=Object(c.useCallback)(function(){var e=Object(K.a)(Y.a.mark((function e(t,n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=O!==x,!e.t0){e.next=5;break}return e.next=4,d();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:"backdropClick"!==n&&(null===o||void 0===o||o());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[x,O,d,o]);return Object(c.useEffect)((function(){var e;e=m.palette.mode,ws!==e&&(ws=e,"dark"===e?Cs.a.initialize({darkMode:!0,theme:"dark"}):Cs.a.initialize({darkMode:!1,theme:"forest"}))}),[m]),Object(j.jsxs)(Xe.a,{open:t,onClose:k,maxWidth:"xl",fullWidth:!0,classes:{paper:b.dialogPaper},children:[!!r&&Object(j.jsx)(Ze.a,{children:r}),Object(j.jsx)(Ms,{children:Object(j.jsx)(ys,{ref:f,initialValue:O,previewStyle:"vertical",height:"100%",initialEditType:"markdown",useCommandShortcut:!0,hooks:h,onChange:y,plugins:[ks]})}),Object(j.jsxs)(tt.a,{children:[Object(j.jsx)(nt.a,{onClick:C,color:"primary",children:u("Accept")}),Object(j.jsx)(nt.a,{onClick:w,color:"primary",children:u("Cancel")})]})]})},Ls=Object(l.l)((function(e){var t=e.uischema,n=e.config,r=e.data,a=e.visible,i=e.label,u=e.required,s=e.description,l=e.path,d=e.handleChange,f=Object(Ka.a)().t,O=Fe()({},n,t.options),m=!Object(o.J)(a,null!==s&&void 0!==s?s:"",!1,O.showUnfocusedDescription),h=Object(c.useState)(!1),p=Object(M.a)(h,2),v=p[0],x=p[1],g=Object(c.useCallback)((function(){x(!0)}),[x]),y=m?s:null,C=Object(o.j)(i,!!u,O.hideRequiredAsterisk);return Object(j.jsxs)(b.a,{xsUp:!a,children:[Object(j.jsxs)(zn.a,{children:[C,"  ",Object(j.jsx)(Me.a,{title:f("Edit"),children:Object(j.jsx)(be.a,{onClick:g,children:Object(j.jsx)(ls.a,{})})})]}),y&&Object(j.jsx)(de.a,{children:y}),v&&Object(j.jsx)(Ds,{open:v,defaultValue:r,title:i,onClose:function(){return x(!1)},onChange:function(e){return d(l,null!==e&&void 0!==e?e:void 0)}})]})})),Ts=Object(o.wb)(4,Object(o.e)(o.G,(function(e,t,n){var r=o.d.schema(t,e.scope,n);return r&&"string"===r.type&&"markdown"===r.format}))),Ns=function(e){var t,n,r=e.description,a=e.id,i=e.errors,u=e.label,s=e.uischema,l=e.visible,d=e.enabled,f=e.required,O=e.path,m=e.handleChange,h=e.data,p=e.config,v=Wt(),x=Object(M.a)(v,3),g=x[0],y=x[1],C=x[2],w=Object(Ka.a)().t,k=0===i.length,P=Fe()({},p,s.options),S=!Object(o.J)(l,r,g,P.showUnfocusedDescription),D=null!==(t=P.dateFormat)&&void 0!==t?t:w("DATE_FORMAT"),L=Object(c.useMemo)((function(){return ts(D)}),[D]),T=S?r:k?null:i,N=S&&!k?i:null,A=Object(c.useMemo)((function(){return ns(O,m,ii.Date)}),[O,m]),E=Object(c.useMemo)((function(){return{cancelButtonLabel:P.cancelLabel,clearButtonLabel:P.clearLabel,okButtonLabel:P.okLabel}}),[P.cancelLabel,P.clearLabel,P.okLabel]);return Object(j.jsxs)(b.a,{xsUp:!l,children:[Object(j.jsx)(Ju.a,{dateAdapter:Zu.a,localeText:E,children:Object(j.jsx)(Xu.a,{label:u,value:rs(h),onChange:A,inputFormat:D,mask:L,views:null!==(n=P.views)&&void 0!==n?n:["year","month","day"],disabled:!d,renderInput:function(e){return Object(j.jsx)(_n.a,Object(I.a)(Object(I.a)({},e),{},{id:a+"-input",required:f&&!P.hideRequiredAsterisk,autoFocus:P.focus,error:!k,fullWidth:!P.trim,inputProps:Object(I.a)(Object(I.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:h?{shrink:!0}:void 0,onFocus:y,onBlur:C,variant:"standard"}))},componentsProps:{actionBar:{actions:["clear"]}}})}),Object(j.jsx)(de.a,{error:!k&&!S,children:T}),Object(j.jsx)(de.a,{error:!k,children:N})]})},As=Object(o.wb)(4,o.H),Es=(Object(l.l)(Ns),function(e){var t,n,r=e.id,a=e.description,i=e.errors,u=e.label,s=e.uischema,l=e.visible,d=e.enabled,f=e.required,O=e.path,m=e.handleChange,h=e.data,p=e.config,v=Wt(),x=Object(M.a)(v,3),g=x[0],y=x[1],C=x[2],w=Object(Ka.a)().t,k=Fe()({},p,s.options),P=0===i.length,S=!Object(o.J)(l,a,g,k.showUnfocusedDescription),D=null!==(t=k.dateTimeFormat)&&void 0!==t?t:w("DATETIME_FORMAT"),L=Object(c.useMemo)((function(){return ts(D)}),[D]),T=S?a:P?null:i,N=S&&!P?i:null,A=Object(c.useMemo)((function(){return ns(O,m,ii.DateTime)}),[O,m]),E=Object(c.useMemo)((function(){return{cancelButtonLabel:k.cancelLabel,clearButtonLabel:k.clearLabel,okButtonLabel:k.okLabel}}),[k.cancelLabel,k.clearLabel,k.okLabel]);return Object(j.jsxs)(b.a,{xsUp:!l,children:[Object(j.jsx)(Ju.a,{dateAdapter:Zu.a,localeText:E,children:Object(j.jsx)(is.a,{label:u,value:rs(h),onChange:A,inputFormat:D,mask:L,ampm:!!k.ampm,views:null!==(n=k.views)&&void 0!==n?n:["year","month","day","hours","minutes","seconds"],disabled:!d,renderInput:function(e){return Object(j.jsx)(_n.a,Object(I.a)(Object(I.a)({},e),{},{id:r+"-input",required:f&&!k.hideRequiredAsterisk,autoFocus:k.focus,error:!P,fullWidth:!k.trim,inputProps:Object(I.a)(Object(I.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:h?{shrink:!0}:void 0,onFocus:y,onBlur:C,variant:"standard"}))},componentsProps:{actionBar:{actions:["clear"]}}})}),Object(j.jsx)(de.a,{error:!P&&!S,children:T}),Object(j.jsx)(de.a,{error:!P,children:N})]})}),Rs=Object(o.wb)(2,o.I),zs=(Object(l.l)(Es),n(1552)),Fs=function(e){var t,n,r=e.id,a=e.description,i=e.errors,u=e.label,s=e.uischema,l=e.visible,d=e.enabled,f=e.required,O=e.path,m=e.handleChange,h=e.data,p=e.config,v=Wt(),x=Object(M.a)(v,3),g=x[0],y=x[1],C=x[2],w=Object(Ka.a)().t,k=Fe()({},p,s.options),P=0===i.length,S=!Object(o.J)(l,a,g,k.showUnfocusedDescription),D=null!==(t=k.timeFormat)&&void 0!==t?t:w("TIME_FORMAT"),L=Object(c.useMemo)((function(){return ts(D)}),[D]),T=S?a:P?null:i,N=S&&!P?i:null,A=Object(c.useMemo)((function(){return ns(O,m,ii.Time)}),[O,m]),E=Object(c.useMemo)((function(){return{cancelButtonLabel:k.cancelLabel,clearButtonLabel:k.clearLabel,okButtonLabel:k.okLabel}}),[k.cancelLabel,k.clearLabel,k.okLabel]);return Object(j.jsx)(b.a,{xsUp:!l,children:Object(j.jsxs)(Ju.a,{dateAdapter:Zu.a,localeText:E,children:[Object(j.jsx)(zs.a,{label:u,value:rs(h),onChange:A,inputFormat:D,mask:L,ampm:!!k.ampm,views:null!==(n=k.views)&&void 0!==n?n:["hours","minutes","seconds"],disabled:!d,renderInput:function(e){return Object(j.jsx)(_n.a,Object(I.a)(Object(I.a)({},e),{},{id:r+"-input",required:f&&!k.hideRequiredAsterisk,autoFocus:k.focus,error:!P,fullWidth:!k.trim,inputProps:Object(I.a)(Object(I.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:h?{shrink:!0}:void 0,onFocus:y,onBlur:C,variant:"standard"}))},componentsProps:{actionBar:{actions:["clear"]}}}),Object(j.jsx)(de.a,{error:!P&&!S,children:T}),Object(j.jsx)(de.a,{error:!P,children:N})]})})},Bs=Object(o.wb)(4,o.X),Us=(Object(l.l)(Fs),n(1280)),Vs=[n(980)],Hs=Object(P.m)((function(e){return e[0]}),Object(P.h)((function(e){return e.$id}),Vs)),qs={resolve:{nimflow:{order:1,canRead:function(e){return!!Hs[e.url]},read:function(e){return Object(P.p)(["$id"],Hs[e.url])}}}},_s=function(e){return tc.a.dereference(e,qs)},Ws=["context","bindContext","uiSchemaLibrary","schema","onChange","config","ajv"],$s=function(e){var t=e.context,n=e.bindContext,r=e.uiSchemaLibrary,i=e.schema,o=e.onChange,u=e.config,s=e.ajv,d=void 0===s?gc.a:s,b=Object(ye.a)(e,Ws),f=function(e){var t=Object(Us.a)(Object(K.a)(Y.a.mark((function t(){var n;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,_s(e);case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),[e]);return{resolvedSchema:t.value,loading:t.loading,error:t.error}}(i),O=f.resolvedSchema,m=f.loading,h=f.error,p=Object(c.useState)(),v=Object(X.a)(p,2),x=v[0],g=v[1],y=Object(c.useState)([]),C=Object(X.a)(y,2),w=C[0],k=C[1],I=Object(c.useState)(),M=Object(X.a)(I,2),S=M[0],D=M[1],T=Object(c.useMemo)((function(){var e;return Object(a.a)(Object(a.a)({},u),{},{restrict:null===(e=null===u||void 0===u?void 0:u.restrict)||void 0===e||e})}),[u]),N=Object(c.useCallback)((function(e){g(e)}),[]),A=Object(c.useCallback)((function(e){k(e)}),[]);if(Object(c.useEffect)((function(){if(x||0!==w.length){var e=function(e,t){var n={data:void 0};return t.length>0||null!==e&&void 0!==e&&e.errors&&e.errors.length>0?(n.errors=null!==e&&void 0!==e&&e.errors?[].concat(Object($a.a)(e.errors),Object($a.a)(t)):t,n.errors=Object(P.t)([Object(P.c)((function(e,t){var n,r;return e.instancePath<t.instancePath||e.instancePath===t.instancePath&&(null!==(n=e.message)&&void 0!==n?n:"")<(null!==(r=t.message)&&void 0!==r?r:"")}))],n.errors)):n.data=null===e||void 0===e?void 0:e.data,n}(x,w);D((function(t){return Object(P.f)(t,e)?t:e}))}}),[w,x]),Object(c.useEffect)((function(){S&&(null===o||void 0===o||o(S))}),[S,o]),m)return Object(j.jsx)(Hc.b,{});if(h)throw h;return Object(j.jsx)(L,{context:t,bindContext:n,uiSchemaLibrary:r,onErrorsChange:A,children:Object(j.jsx)(l.c,Object(a.a)({renderers:Ys,cells:Js,schema:O,onChange:N,config:T,ajv:d},b))})},Ks=[{tester:dn,renderer:Au(Object(l.i)(Eu(at))),name:"MaterialArrayControlRenderer"},{tester:Dn,renderer:Object(l.l)(Iu(Sn)),name:"MaterialBooleanControl"},{tester:En,renderer:Object(l.l)(Iu(An)),name:"MaterialBooleanToggleControl"},{tester:$n,renderer:Object(l.l)(Iu(Wn)),name:"MaterialNativeControl"},{tester:Vu,renderer:Object(l.o)(Pu(Vn)),name:"MaterialEnumControl"},{tester:xr,renderer:Object(l.l)(Iu(vr)),name:"MaterialIntegerControl"},{tester:Cr,renderer:Object(l.l)(Iu(yr)),name:"MaterialNumberControl"},{tester:Ir,renderer:Object(l.l)(function(e){return function(t){var n=t.schema,r=t.data,a=t.path,i=t.handleChange,o=Ru(n,r,a),u=Object(c.useMemo)((function(){return Object(I.a)(Object(I.a)({},n),{},{maxLength:o})}),[o,n]),s=Object(c.useCallback)((function(e,t){""===t&&(t=void 0),i(e,t)}),[i]),l=Object(c.useMemo)((function(){return Iu(e)}),[]);return Object(j.jsx)(l,Object(I.a)(Object(I.a)({},t),{},{schema:u,handleChange:s}))}}(kr)),name:"MaterialTextControl"},{tester:Wu,renderer:Object(l.l)(function(e){return function(t){var n=t.schema,r=t.path,a=t.data,i=Cu(n,"nfMinimum",r),o=Cu(n,"nfMaximum",r),u=Cu(n,"nfMultipleOf",r),s=Object(c.useMemo)((function(){return i?i(a):n.minimum}),[a,i,n.minimum]),l=Object(c.useMemo)((function(){return o?o(a):n.maximum}),[a,o,n.maximum]),d=Object(c.useMemo)((function(){return u?u(a):n.multipleOf}),[a,u,n.multipleOf]),b=Object(c.useMemo)((function(){return Object(I.a)(Object(I.a)({},n),{},{minimum:s,maximum:l,multipleOf:d})}),[l,s,d,n]),f=Object(c.useMemo)((function(){return Iu(e)}),[]);return Object(j.jsx)(f,Object(I.a)(Object(I.a)({},t),{},{schema:b}))}}(lr)),name:"MaterialSliderControl"},{tester:ot,renderer:Object(l.m)(Du(it)),name:"MaterialObjectRenderer"},{tester:lt,renderer:Object(l.g)(function(e){return function(t){var n=Object(c.useMemo)((function(){return Tu(e)}),[]);return Object(j.jsx)(n,Object(I.a)({},t))}}(st)),name:"MaterialAllOfRenderer"},{tester:Ct,renderer:Object(l.h)(function(e){return function(t){var n=Object(c.useMemo)((function(){return Tu(e)}),[]);return Object(j.jsx)(n,Object(I.a)({},t))}}(yt)),name:"MaterialAnyOfRenderer"},{tester:It,renderer:Object(l.u)(function(e){return function(t){var n=Object(c.useMemo)((function(){return Tu(e)}),[]);return Object(j.jsx)(n,Object(I.a)({},t))}}(kt)),name:"MaterialOneOfRenderer"},{tester:qu,renderer:Object(l.o)(Pu(mr)),name:"MaterialRadioGroupControl"},{tester:Br,renderer:Object(l.t)(Su(Fr)),name:"MaterialOneOfRadioGroupControl"},{tester:Rr,renderer:Object(l.t)(Su(Er)),name:"MaterialOneOfEnumControl"},{tester:Jr,renderer:Object(l.p)(Lu(Gr)),name:"MaterializedGroupLayoutRenderer"},{tester:g,renderer:Object(l.p)(Lu(y)),name:"MaterialHorizontalLayoutRenderer"},{tester:p,renderer:Object(l.p)(Lu(v)),name:"MaterialVerticalLayoutRenderer"},{tester:Qr,renderer:Object(l.p)(h(Lu(ea))),name:"MaterialCategorizationLayoutRenderer"},{tester:Ua,renderer:Object(l.p)(h(Lu(Va))),name:"MaterialCategorizationStepperLayoutRenderer"},{tester:ma,renderer:Au(Object(l.i)(Eu(Oa))),name:"MaterialArrayLayoutRenderer"},{tester:bn,renderer:Object(l.p)(Lu(jn)),name:"MaterialLabelRenderer"},{tester:Mn,renderer:Object(l.i)(Eu(In)),name:"MaterialListWithDetailRenderer"},{tester:Nr,renderer:Object(l.l)(function(e){return function(t){var n=t.schema,r=t.data,a=t.path,i=n.anyOf.find((function(e){return void 0!==e.enum&&("string"===e.type||void 0===e.type)})),o=function(e){return e.find((function(e){return"string"===e.type&&void 0===e.enum}))}(n.anyOf),u=Cu(i,"nfEnum",a),s=Cu(o,"nfMaxLength",a),l=Object(c.useMemo)((function(){if(!u)return i;var e=u(r);return Object(I.a)(Object(I.a)({},i),{},{enum:e})}),[r,i,u]),d=Object(c.useMemo)((function(){if(!s)return o;var e=s(r);return Object(I.a)(Object(I.a)({},i),{},{maxLength:e})}),[r,i,s,o]),b=Object(c.useMemo)((function(){return i===l&&o===d?n:Object(I.a)(Object(I.a)({},n),{},{anyOf:n.anyOf.map((function(e){return e===i?l:e===o?d:e}))})}),[i,l,d,n,o]),f=Object(c.useMemo)((function(){return Iu(e)}),[]);return Object(j.jsx)(f,Object(I.a)(Object(I.a)({},t),{},{schema:b}))}}(Lr)),name:"MaterialAnyOfStringOrEnumControl"},{tester:sn,renderer:Object(l.r)(function(e){return function(t){var n,r=t.options,a=t.uischema,i=t.schema,u=t.path,s=t.data,d=Object(l.f)(),b=Cu(i,"nfEnum",u),f=Object(c.useMemo)((function(){if(Array.isArray(r)||!b)return r;var e=b(s);return Array.isArray(e)?e.map((function(e){var t;return Object(o.r)(e,null===(t=d.i18n)||void 0===t?void 0:t.translate,Object(o.z)(i,a,u))})):r}),[null===(n=d.i18n)||void 0===n?void 0:n.translate,s,b,r,u,i,a]),O=Object(c.useMemo)((function(){return Iu(e)}),[]);return Object(j.jsx)(O,Object(I.a)(Object(I.a)({},t),{},{options:f}))}}(un)),name:"MaterialEnumArrayRenderer"}],Gs=[{tester:va,cell:Object(l.j)(zu(pa))},{tester:ga,cell:Object(l.j)(zu(xa)),name:"MaterialBooleanToggleCell"},{tester:Ca,cell:Object(l.j)(zu(ya)),name:"MaterialDateCell"},{tester:Hu,cell:Object(l.n)(function(e){return function(t){var n=Mu(t),r=Object(c.useMemo)((function(){return zu(e)}),[]);return Object(j.jsx)(r,Object(I.a)(Object(I.a)({},t),{},{options:n}))}}(wa)),name:"MaterialEnumCell"},{tester:Ia,cell:Object(l.j)(zu(ka)),name:"MaterialIntegerCell"},{tester:Pa,cell:Object(l.j)(zu(Ma)),name:"MaterialNumberCell"},{tester:Da,cell:Object(l.j)(Fu(Sa)),name:"MaterialNumberFormatCell"},{tester:Ta,cell:Object(l.s)(function(e){return function(t){var n=Object(c.useMemo)((function(){return zu(e)}),[]);return Object(j.jsx)(n,Object(I.a)({},t))}}(La)),name:"MaterialOneOfEnumCell"},{tester:Aa,cell:Object(l.j)(Fu(Na)),name:"MaterialTextCell"},{tester:Ra,cell:Object(l.j)(zu(Ea)),name:"MaterialTimeCell"}],Ys=[].concat(Ks,[{tester:E,renderer:A,name:"MarkdownRenderer"},{tester:U,renderer:B,name:"PdfRenderer"},{tester:W,renderer:_,name:"UseRenderer"},{tester:Wa,renderer:_a,name:"DynamicSelectionRenderer"},{tester:gu,renderer:xu,name:"ImageBatchRecognitionRenderer"},{tester:Ts,renderer:Ls,name:"MarkdownControlRenderer"},{tester:Rs,renderer:Object(l.l)(Iu(Es)),name:"DateTimeControl"},{tester:As,renderer:Object(l.l)(Iu(Ns)),name:"DateControl"},{tester:Bs,renderer:Object(l.l)(Iu(Fs)),name:"TimeControl"}]),Js=[].concat(Gs,[{tester:cs,cell:Object(l.j)(zu(as)),name:"DateCell"},{tester:us,cell:Object(l.j)(zu(os)),name:"DateTimeCell"}]),Xs=Object(r.a)(Ys);try{for(Xs.s();!(vs=Xs.n()).done;){var Zs=vs.value;Zs.renderer=Bu(Zs.renderer)}}catch(cl){Xs.e(cl)}finally{Xs.f()}if(Yu.e){var Qs,el=Object(r.a)(Ys);try{for(el.s();!(Qs=el.n()).done;){var tl=Qs.value;tl.renderer=Ku(tl.renderer,tl.name)}}catch(cl){el.e(cl)}finally{el.f()}var nl,rl=Object(r.a)(Js);try{for(rl.s();!(nl=rl.n()).done;){var al=nl.value;al.cell=Gu(al.cell,al.name)}}catch(cl){rl.e(cl)}finally{rl.f()}}},610:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(92),a=function e(t){var n={};if(t)for(var a=function(){var a=i[c];Array.isArray(t[a])?t[a].forEach((function(t,c){var i=n[a];Object(r.isPresent)(i)||(n[a]=i=[]),i[c]=e(t)})):"object"===typeof t[a]&&null!==t[a]?n[a]=e(t[a]):n[a]=!0},c=0,i=Object.keys(t);c<i.length;c++)a();return n},c=function(e){return e.validateForm().then((function(t){Object.keys(t).length>0?e.setTouched(a(t)):e.handleSubmit()}))}},611:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(5),a=n(4),c=n(28),i=n(1),o=n(1485),u=n(326),s=n(92),l=n(30),d=["name","debounce","onChange","onBlur","helperText","error","disabled","controlValueAdapter"],b=function(e){var t=e.name,n=e.debounce,b=e.onChange,j=e.onBlur,f=e.helperText,O=(e.error,e.disabled),m=e.controlValueAdapter,h=Object(c.a)(e,d),p=Object(u.d)().isSubmitting,v=Object(u.c)({name:t}),x=Object(a.a)(v,3),g=x[0],y=x[1],C=x[2],w=y.error,k=y.touched&&!!w,I=Object(i.useState)(g.value),M=Object(a.a)(I,2),P=M[0],S=M[1],D=Object(i.useState)(),L=Object(a.a)(D,2),T=L[0],N=L[1];Object(i.useEffect)((function(){S(g.value)}),[g.value]);var A=Object(i.useCallback)((function(e){var t=e.target.value;C.setValue(m?m(t):t),null===b||void 0===b||b(e)}),[m,C,b]),E=Object(i.useCallback)((function(e){S((function(t){var n=e.target.value;return n||t})),Object(s.isPresent)(n)?(e.persist(),T&&clearTimeout(T),N(setTimeout((function(){return A(e)}),n))):A(e)}),[A,n,T]),R=Object(i.useCallback)((function(e){g.onBlur(e),null===j||void 0===j||j(e)}),[g,j]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(o.a,Object(r.a)(Object(r.a)({},g),{},{value:null!==P&&void 0!==P?P:"",onChange:E,onBlur:R,error:k,helperText:k?w:f,disabled:null!==O&&void 0!==O?O:p},h))})}},612:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(5),a=n(4),c=n(28),i=n(1),o=n(2121),u=n(326),s=n(30),l=["name","controlValueAdapter","onChange","onBlur","renderInput","multiple","loading","disabled"],d=function(e){var t=e.name,n=e.controlValueAdapter,d=e.onChange,b=e.onBlur,j=e.renderInput,f=e.multiple,O=e.loading,m=e.disabled,h=Object(c.a)(e,l),p=Object(u.d)(),v=p.isSubmitting,x=p.setFieldTouched,g=Object(u.c)({name:t}),y=Object(a.a)(g,3),C=y[0],w=y[1],k=y[2],I=w.error,M=w.touched&&!!I,P=Object(i.useCallback)((function(e,t,r,a){var c=n?n(t):t;k.setValue(null!==c&&void 0!==c?c:void 0),null===d||void 0===d||d(e,t,r,a)}),[n,k,d]),S=Object(i.useCallback)((function(e){x(C.name),C.onBlur(e),null===b||void 0===b||b(e)}),[C,b,x]),D=Object(i.useCallback)((function(e){return j?j(Object(r.a)(Object(r.a)({},e),{},{error:M,helperText:M?I:void 0})):null}),[I,j,M]),L=Object(i.useMemo)((function(){return n?e.options.find((function(e){return n(e)===C.value})):C.value}),[n,C.value,e.options]);return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(o.a,Object(r.a)(Object(r.a)({},C),{},{value:null!==L&&void 0!==L?L:null,onChange:P,onBlur:S,renderInput:D,disabled:null!==m&&void 0!==m?m:v,loading:O||v,multiple:f},h))})}},697:function(e){e.exports=JSON.parse('{"$schema":"http://nimflow.com/schemas/nf-json-schema.json","$id":"http://nimflow.com/schemas/nf-json-schema.json","title":"Json schema meta schema with Nimflow extensions","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/core":true,"https://json-schema.org/draft/2019-09/vocab/applicator":true,"https://json-schema.org/draft/2019-09/vocab/validation":true,"https://json-schema.org/draft/2019-09/vocab/meta-data":true,"https://json-schema.org/draft/2019-09/vocab/format":true,"https://json-schema.org/draft/2019-09/vocab/content":true,"https://nimflow.com/schemas/nf-json-schema-vocabulary.json":true},"$recursiveAnchor":true,"anyOf":[{"$ref":"https://json-schema.org/draft/2019-09/schema"}],"type":"object","properties":{"nfCalculatedValue":{"$recursiveRef":"#"},"nfValidate":{"anyOf":[{"$recursiveRef":"#"},{"$ref":"#/$defs/schemaArray"}]},"nfMultipleOf":{"$recursiveRef":"#"},"nfMaximum":{"$recursiveRef":"#"},"nfExclusiveMaximum":{"$recursiveRef":"#"},"nfMinimum":{"$recursiveRef":"#"},"nfExclusiveMinimum":{"$recursiveRef":"#"},"nfMaxLength":{"$recursiveRef":"#"},"nfMinLength":{"$recursiveRef":"#"},"nfPattern":{"$recursiveRef":"#"},"nfMaxItems":{"$recursiveRef":"#"},"nfMinItems":{"$recursiveRef":"#"},"nfUniqueItems":{"$recursiveRef":"#"},"nfMaxProperties":{"$recursiveRef":"#"},"nfMinProperties":{"$recursiveRef":"#"},"nfRequired":{"$recursiveRef":"#"},"nfConst":{"$recursiveRef":"#"},"nfEnum":{"$recursiveRef":"#"},"nfHidden":{"$recursiveRef":"#"},"nfDisabled":{"$recursiveRef":"#"},"nfExpr":{"type":"string"},"nfMessage":{"type":"string"},"nfInstancePath":{"type":"string","pattern":"^#?(/[^/]+)+$","description":"JSON Pointer to the field associated with the validation. If the path starts with # it is considered an absolute path, otherwise it is relative to the current location"},"nfData":{}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$recursiveRef":"#"}}}}')},698:function(e,t,n){var r={"./ar/index":[1156,25],"./ca/index":[1157,26],"./cs/index":[1158,27],"./de/index":[1159,28],"./en/index":[381],"./es/index":[1160,29],"./fi/index":[1161,30],"./fr/index":[1162,31],"./hu/index":[1163,32],"./id/index":[1164,33],"./it/index":[1165,34],"./ja/index":[1166,35],"./ko/index":[1167,36],"./nb/index":[1168,37],"./nl/index":[1169,38],"./pl/index":[1170,39],"./pt-BR/index":[1171,40],"./ru/index":[1172,41],"./sk/index":[1173,42],"./sv/index":[1174,43],"./th/index":[1175,44],"./zh-TW/index":[1177,45],"./zh/index":[1176,46]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(a,7)}))}a.keys=function(){return Object.keys(r)},a.id=698,e.exports=a},787:function(e,t){},789:function(e,t){},799:function(e,t){},801:function(e,t){},826:function(e,t){},827:function(e,t){},832:function(e,t){},834:function(e,t){},841:function(e,t){},860:function(e,t){},894:function(e,t){},931:function(e,t){},932:function(e,t){},933:function(e,t){},934:function(e,t){},935:function(e,t){},980:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://nimflow.com/schemas/recognized-image-batch.schema.json","type":"object","title":"Recognized image batch schema","allOf":[{"$ref":"#/definitions/RecognizedImageBatch"}],"definitions":{"RecognizedImageBatch":{"type":"object","properties":{"fileUrls":{"type":"array","items":{"type":"string"}},"documents":{"type":"array","items":{"$ref":"#/definitions/Document"}}},"required":["fileUrls"]},"Document":{"type":"object","properties":{"schemaId":{"type":"string"},"pages":{"type":"array","items":{"$ref":"#/definitions/PageImageLocation"}},"action":{"type":"string","enum":["saveAsDraft","send","dontSend"]},"data":true},"required":["schemaId","action"]},"PageImageLocation":{"type":"object","properties":{"fileIndex":{"type":"integer"},"filePageNumber":{"type":"integer"}},"required":["fileIndex","filePageNumber"]}}}')}}]);
//# sourceMappingURL=16.5c472a25.chunk.js.map