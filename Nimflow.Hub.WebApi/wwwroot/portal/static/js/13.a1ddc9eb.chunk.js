(this["webpackJsonpnimflow-portal"]=this["webpackJsonpnimflow-portal"]||[]).push([[13],{121:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n(33),c=n(430),i=n.n(c),o=n(268);i.a.registerHelper("translate",(function(e,t){var n={ns:o.b};return"object"===typeof t&&"hash"in t&&(n=Object(a.a)(Object(a.a)({},n),t.hash)),r.a.t(e,n)}));var s=function(e,t,n,a){return function(e,t){return i.a.compile(e,t)}(e,n)(t,a)}},123:function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return y}));var a=n(15),r=n(2497),c=(n(2383),n(2451),n(247),n(81),["MilestoneReached","MilestoneCleared"]),i=["TaskCreated","TaskUpdated","TaskArchived","ResponseSent"],o=["ActionDispatched","ContextsRecalculationCompleted","ContextRecalculationError"].concat(i,c);["RequestProcessed"].concat(Object(a.a)(o),["CustomEvent"]);function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.settings;return!n&&t&&(e.settings=n={}),n}function u(e){var t,n=null===(t=s(e))||void 0===t?void 0:t.commandText;return Object(r.a)(n)?e.name:n}function l(e){var t,n=null===(t=s(e))||void 0===t?void 0:t.actionInProgressText;return n||e.name}var d={id:"string",typeName:"string",reference:"string",state:"record",dateCreated:"dateTime",dateModified:"dateTime",version:"string",contextTypeVersion:"number",milestones:"array",tags:"array",metrics:"array"},f={id:"string",contextId:"string",contextTypeName:"string",contextReference:"string",typeName:"string",title:"string",data:"record",labels:"array",dateCreated:"dateTime",dateUpdated:"dateTime",assignedTo:"string",status:"string",archived:"boolean",dueDate:"string",importance:"number",focused:"boolean"},b={event:"string",timestamp:"dateTime",requestTypeName:"string",contextTypeName:"string",sentBy:"string",reference:"string",subject:"string",contextIsNew:"boolean",action:"string",message:"string",dueDate:"dateTime",taskTypeName:"string",assignedTo:"string",importance:"number",responseTypeName:"string",oldImportance:"number",oldLabels:"array",oldDueDate:"dateTime",oldAssignedTo:"string",milestoneName:"string",value:"dateTime",tags:"array",metrics:"array"},j=function(e){var t=["string","number","boolean","dateTime"];return Object.keys(e).filter((function(n){return t.includes(e[n])})).sort()},v=function(e){return Object.keys(e).filter((function(t){return"array"===e[t]})).sort()},p=function(e){return Object.keys(e).filter((function(t){return"record"===e[t]})).sort()},O=j(d),m=v(d),h=p(d),g=([].concat(Object(a.a)(O),Object(a.a)(m),Object(a.a)(h)),j(f)),x=(v(f),p(f)),y=([].concat(Object(a.a)(g),Object(a.a)(x)),j(b)),k=v(b);[].concat(Object(a.a)(y),Object(a.a)(k))},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(4),r=n(6),c=n(10),i=n(11),o=n(3),s=n(927),u=n(2454),l=n(2455),d=n(2456),f=n(186),b=n.n(f),j=n(31),v=function(e){var t=e.error,n=e.stack;return Object(j.jsxs)(u.a,{children:[Object(j.jsx)(d.a,{expandIcon:Object(j.jsx)(b.a,{}),children:Object(j.jsx)(s.a,{variant:"h5",color:"error",children:t})}),Object(j.jsx)(l.a,{children:Object(j.jsx)("pre",{children:n})})]})},p=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(r.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log({error:e,errorInfo:t}),this.setState({errorInfo:t})}},{key:"render",value:function(){var e,t,n=this.state,a=n.hasError,r=n.error,c=n.errorInfo;return a?Object(j.jsx)(v,{error:null!==(e=null===r||void 0===r?void 0:r.message)&&void 0!==e?e:"",stack:null!==(t=null===c||void 0===c?void 0:c.componentStack)&&void 0!==t?t:""}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(o.Component)},160:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return j}));var a=n(441),r=n.n(a),c=n(561),i=n.n(c),o=n(287),s=n.n(o),u=n(33),l=s.a;function d(e){n(327)("./".concat(e,"/index")).then((function(e){"function"===typeof(null===e||void 0===e?void 0:e.default)&&(l=e.default)})).catch((function(){var t=e.indexOf("-");t>0&&d(e.substring(0,t))}))}u.a.language&&d(u.a.language),u.a.on("languageChanged",(function(e){d(e)}));var f=new r.a({allErrors:!0,addUsedSchema:!1});i()(f),f.addKeyword({keyword:"markdownDescription",schemaType:"string",valid:!0});var b=function(e){var t;return f.validateSchema(e)?{type:"success"}:(f.errors&&l&&l(f.errors),{type:"failure",errors:null!==(t=f.errors)&&void 0!==t?t:[]})},j=function(e){return l&&l(e),e}},180:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(3),r=n(935),c=n(245),i=n(2495),o=n(147),s=n(276),u=n(354),l=n(31),d=function(){var e=Object(i.a)().t,t=Object(c.b)().enqueueSnackbar,n=Object(o.b)();return Object(a.useCallback)((function(a,c,i){var o,d,f=null!==(o=null===i||void 0===i?void 0:i.variant)&&void 0!==o?o:"error",b=null!==(d=null===i||void 0===i?void 0:i.dialogTitle)&&void 0!==d?d:e("Error");if(Object(u.b)(c)&&"string"===typeof a){var j,v=!1===(null===(j=window.navigator)||void 0===j?void 0:j.onLine);a=e(v?"BrowserOfflineMessage":"NetworkErrorMessage",{message:a})}t(a,{variant:f,action:Object(l.jsx)(r.a,{onClick:function(){n({title:b,description:Object(l.jsx)(s.a,{error:c})})},children:e("ShowDetails")})})}),[n,t,e])}},181:function(e,t,n){"use strict";var a=n(73),r=n(76);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(3)),i=(0,a(n(77)).default)(c.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");t.default=i},216:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return i}));var a=["second","minute","hour","day","week","month","year"],r=["\u79d2","\u5206\u949f","\u5c0f\u65f6","\u5929","\u5468","\u4e2a\u6708","\u5e74"],c={},i=function(e,t){c[e]=t},o=function(e){return c[e]||c.en_US},s=[60,60,24,7,365/7/12,12];function u(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function l(e,t){for(var n=e<0?1:0,a=e=Math.abs(e),r=0;e>=s[r]&&r<s.length;r++)e/=s[r];return(e=Math.floor(e))>(0===(r*=2)?9:1)&&(r+=1),t(e,r,a)[n].replace("%s",e.toString())}function d(e,t){return(+(t?u(t):new Date)-+u(e))/1e3}var f=function(e,t,n){return l(d(e,n&&n.relativeDate),o(t))},b="timeago-id";function j(e){return parseInt(e.getAttribute(b))}var v={},p=function(e){clearTimeout(e),delete v[e]};function O(e,t,n,a){p(j(e));var r=a.relativeDate,c=a.minInterval,i=d(t,r);e.innerText=l(i,n);var o=setTimeout((function(){O(e,t,n,a)}),Math.min(1e3*Math.max(function(e){for(var t=1,n=0,a=Math.abs(e);e>=s[n]&&n<s.length;n++)e/=s[n],t*=s[n];return a=(a%=t)?t-a:t,Math.ceil(a)}(i),c||1),2147483647));v[o]=0,function(e,t){e.setAttribute(b,t)}(e,o)}function m(e){e?p(j(e)):Object.keys(v).forEach(p)}function h(e,t,n){var a=e.length?e:[e];return a.forEach((function(e){O(e,function(e){return e.getAttribute("datetime")}(e),o(t),n||{})})),a}i("en_US",(function(e,t){if(0===t)return["just now","right now"];var n=a[Math.floor(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]})),i("zh_CN",(function(e,t){if(0===t)return["\u521a\u521a","\u7247\u523b\u540e"];var n=r[~~(t/2)];return[e+" "+n+"\u524d",e+" "+n+"\u540e"]}))},243:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h}));var a=n(216);function r(e,t,n,a,r){var c=r%10,i=a;return 1===r?i=e:1===c&&r>20?i=t:c>1&&c<5&&(r>20||r<10)&&(i=n),i}var c=r.bind(null,"\u0441\u0435\u043a\u0443\u043d\u0434\u0443","%s \u0441\u0435\u043a\u0443\u043d\u0434\u0443","%s \u0441\u0435\u043a\u0443\u043d\u0434\u044b","%s \u0441\u0435\u043a\u0443\u043d\u0434"),i=r.bind(null,"\u043c\u0438\u043d\u0443\u0442\u0443","%s \u043c\u0438\u043d\u0443\u0442\u0443","%s \u043c\u0438\u043d\u0443\u0442\u044b","%s \u043c\u0438\u043d\u0443\u0442"),o=r.bind(null,"\u0447\u0430\u0441","%s \u0447\u0430\u0441","%s \u0447\u0430\u0441\u0430","%s \u0447\u0430\u0441\u043e\u0432"),s=r.bind(null,"\u0434\u0435\u043d\u044c","%s \u0434\u0435\u043d\u044c","%s \u0434\u043d\u044f","%s \u0434\u043d\u0435\u0439"),u=r.bind(null,"\u043d\u0435\u0434\u0435\u043b\u044e","%s \u043d\u0435\u0434\u0435\u043b\u044e","%s \u043d\u0435\u0434\u0435\u043b\u0438","%s \u043d\u0435\u0434\u0435\u043b\u044c"),l=r.bind(null,"\u043c\u0435\u0441\u044f\u0446","%s \u043c\u0435\u0441\u044f\u0446","%s \u043c\u0435\u0441\u044f\u0446\u0430","%s \u043c\u0435\u0441\u044f\u0446\u0435\u0432"),d=r.bind(null,"\u0433\u043e\u0434","%s \u0433\u043e\u0434","%s \u0433\u043e\u0434\u0430","%s \u043b\u0435\u0442"),f=n(33),b="en_US",j=["en_US","zh_CN"],v=function(e,t){Object(a.c)(e,t),j.push(e)};function p(e){if(j.includes(e))b=e;else{var t=e.indexOf("_");t>0?p(e.substring(0,t)):b="en_US"}}function O(e){"en"===e&&(e="en_US"),p(e=e.replace("-","_"))}v("de",(function(e,t){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][t]})),v("es",(function(e,t){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 d\xeda","en 1 d\xeda"],["hace %s d\xedas","en %s d\xedas"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 a\xf1o","en 1 a\xf1o"],["hace %s a\xf1os","en %s a\xf1os"]][t]})),v("fr",(function(e,t){return[["\xe0 l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][t]})),v("it",(function(e,t){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][t]})),v("pt_BR",(function(e,t){return[["agora mesmo","agora"],["h\xe1 %s segundos","em %s segundos"],["h\xe1 um minuto","em um minuto"],["h\xe1 %s minutos","em %s minutos"],["h\xe1 uma hora","em uma hora"],["h\xe1 %s horas","em %s horas"],["h\xe1 um dia","em um dia"],["h\xe1 %s dias","em %s dias"],["h\xe1 uma semana","em uma semana"],["h\xe1 %s semanas","em %s semanas"],["h\xe1 um m\xeas","em um m\xeas"],["h\xe1 %s meses","em %s meses"],["h\xe1 um ano","em um ano"],["h\xe1 %s anos","em %s anos"]][t]})),v("ru",(function(e,t){switch(t){case 0:return["\u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e","\u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434"];case 1:return[c(e)+" \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+c(e)];case 2:case 3:return[i(e)+" \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+i(e)];case 4:case 5:return[o(e)+" \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+o(e)];case 6:return["\u0432\u0447\u0435\u0440\u0430","\u0437\u0430\u0432\u0442\u0440\u0430"];case 7:return[s(e)+" \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+s(e)];case 8:case 9:return[u(e)+" \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+u(e)];case 10:case 11:return[l(e)+" \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+l(e)];case 12:case 13:return[d(e)+" \u043d\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+d(e)];default:return["",""]}})),f.a.language&&O(f.a.language),f.a.on("languageChanged",(function(e){O(e)}));var m=function(e,t){return Object(a.b)(e,b,t)},h=function(e,t){return Object(a.d)(e,b,t)}},2474:function(e,t,n){"use strict";n.r(t),n.d(t,"TeamTasksViewer",(function(){return u}));var a=n(478),r=n(31),c=[5,10,20,100],i=[{field:"title"},{field:"typeName"},{field:"contextTypeName"},{field:"contextReference"},{field:"dueDate"},{field:"status"},{field:"assignedTo"}],o={currentPage:0,pageSize:10},s={archived:{type:"boolean",value:!1}},u=function(){return Object(r.jsx)(a.a,{columns:i,initialState:o,pageSizeOptions:c,allowTaskReassignment:!0,enforcedFilter:s})};t.default=u},320:function(e,t,n){"use strict";n(0);var a=n(18),r=n(1),c=n(2),i=n(3),o=n(136),s=n(251),u=n.n(s),l=n(931),d=n(992),f=n(1301),b=n(934),j=n(991),v=n(207),p=n.n(v),O=n(323),m=n.n(O),h=n(372),g=n.n(h),x=n(424),y=n.n(x),k=n(425),C=n.n(k),w=n(278),I=n.n(w),S=n(133),P=n.n(S),T=n(257),N=n.n(T),R=n(322),M=n.n(R),A=n(258),D=n.n(A),z=n(259),E=n.n(z),L=n(324),F=n.n(L),U=n(321),B=n.n(U),_=n(419),W=n.n(_),V=n(325),$=n.n(V),H=n(33),G=n(2488),J=n(31),K=["forwardedRef"],q={Add:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(p.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Check:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(g.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Clear:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(I.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Delete:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(P.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),DetailPanel:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(C.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Edit:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(N.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Export:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(B.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Filter:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(M.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),FirstPage:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(D.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),LastPage:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(E.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),NextPage:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(C.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),PreviousPage:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(y.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),ResetSearch:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(I.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Search:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(W.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),SortArrow:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(i.forwardRef)((function(e,t){return Object(J.jsx)(F.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),ViewColumn:Object(i.forwardRef)((function(e,t){return Object(J.jsx)($.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))}))},Y=function e(t,n){for(var a={},c=0,i=Object.entries(t);c<i.length;c++){var o=Object(r.a)(i[c],2),s=o[0],u=o[1];"object"===typeof u?(n.push(s),a[s]=e(u,n),n.pop()):a[s]=H.a.t("".concat(n.join("."),".").concat(s))}return a}({body:{emptyDataSourceMessage:"",filterRow:{filterTooltip:""},editRow:{saveTooltip:"",cancelTooltip:"",deleteText:""},addTooltip:"",deleteTooltip:"",editTooltip:""},header:{actions:""},grouping:{groupedBy:"",placeholder:""},pagination:{firstTooltip:"",firstAriaLabel:"",previousTooltip:"",previousAriaLabel:"",nextTooltip:"",nextAriaLabel:"",labelDisplayedRows:"",labelRowsPerPage:"",lastTooltip:"",lastAriaLabel:"",labelRowsSelect:""},toolbar:{addRemoveColumns:"",nRowsSelected:function(e){return""},showColumnsTitle:"",showColumnsAriaLabel:"",exportTitle:"",exportAriaLabel:"",searchTooltip:"",searchPlaceholder:""}},["MaterialTable"]),Z={padding:0,width:24,marginLeft:24},Q=function(e){var t=e.forwardedRef,n=Object(a.a)(e,K);return Object(J.jsxs)(l.a,{error:Boolean(n.error),ref:t,component:"fieldset",children:[Object(J.jsx)(d.a,{children:Object(J.jsx)(j.a,{label:"",control:Object(J.jsx)(f.a,Object(c.a)(Object(c.a)({},n),{},{value:String(n.value),checked:Boolean(n.value),onChange:function(e){return n.onChange(e.target.checked)},style:Z,color:"default",inputProps:{"aria-label":n.columnDef.title}}))})}),Object(J.jsx)(b.a,{children:n.helperText})]})},X=function(e){return"boolean"===e.columnDef.type?Object(J.jsx)(Q,Object(c.a)({},e)):Object(J.jsx)(s.MTableEditField,Object(c.a)({},e))},ee={EditField:function(e){return Object(J.jsx)(X,Object(c.a)({},e))}};t.a=function(e){var t=Object(o.a)(),n=Object(i.useMemo)((function(){return e.icons?Object(c.a)(Object(c.a)({},q),e.icons):q}),[e.icons]),a=Object(i.useMemo)((function(){return e.localization?Object(c.a)(Object(c.a)({},Y),e.localization):Y}),[e.localization]),r=Object(i.useMemo)((function(){var n=function(e){return{actionsCellStyle:{color:e.palette.text.secondary},actionsColumnIndex:-1,padding:"dense"}}(t);return e.options&&(n=Object(G.a)(n,e.options)),n}),[t,e.options]),s=Object(i.useMemo)((function(){return e.components?Object(c.a)(Object(c.a)({},ee),e.components):ee}),[e.components]);return Object(J.jsx)(u.a,Object(c.a)(Object(c.a)({},e),{},{icons:n,options:r,components:s,localization:a}))}},321:function(e,t,n){"use strict";var a=n(73),r=n(76);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(3)),i=(0,a(n(77)).default)(c.createElement("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");t.default=i},322:function(e,t,n){"use strict";var a=n(73),r=n(76);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(3)),i=(0,a(n(77)).default)(c.createElement("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList");t.default=i},324:function(e,t,n){"use strict";var a=n(73),r=n(76);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(3)),i=(0,a(n(77)).default)(c.createElement("path",{d:"M19 13H5v-2h14v2z"}),"Remove");t.default=i},325:function(e,t,n){"use strict";var a=n(73),r=n(76);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(3)),i=(0,a(n(77)).default)(c.createElement("path",{d:"M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z"}),"ViewColumn");t.default=i},327:function(e,t,n){var a={"./ar/index":[636,22],"./ca/index":[637,23],"./cs/index":[638,24],"./de/index":[639,25],"./en/index":[287],"./es/index":[640,26],"./fr/index":[641,27],"./hu/index":[642,28],"./id/index":[643,29],"./it/index":[644,30],"./ja/index":[645,31],"./ko/index":[646,32],"./nb/index":[647,33],"./nl/index":[648,34],"./pl/index":[649,35],"./pt-BR/index":[650,36],"./ru/index":[651,37],"./sk/index":[652,38],"./sv/index":[653,39],"./th/index":[654,40],"./zh-TW/index":[656,41],"./zh/index":[655,42]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(r,7)}))}r.keys=function(){return Object.keys(a)},r.id=327,e.exports=r},328:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n(2),r=n(81),c=n(2468),i=function(e,t){var n,i=null===(n=e.definitions)||void 0===n?void 0:n[t];if(!Object(r.isPresent)(i))throw new Error("Invalid definition ".concat(t));if("boolean"===typeof i)throw new Error("Invalid definition ".concat(t));var o=Object(c.a)(i);return delete o.definitions,e=Object(a.a)(Object(a.a)({},e),o)},o=function(e,t,n){if(e.jsonSchema){var a=JSON.parse(e.jsonSchema),r=e.tasks.find((function(e){return e.name===t})),c=null===r||void 0===r?void 0:r.validResponses.find((function(e){return e.name===n})),o=null===c||void 0===c?void 0:c.payloadSchemaDefinitionName;if(o)return i(a,o)}},s=function(e,t){if(e.jsonSchema){var n=JSON.parse(e.jsonSchema),a=e.actions.find((function(e){return e.name===t})),r=null===a||void 0===a?void 0:a.payloadSchemaDefinitionName;if(r)return i(n,r)}}},339:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://nimflow.com/schemas/recognized-image-batch.schema.json","type":"object","title":"Recognized image batch schema","allOf":[{"$ref":"#/definitions/RecognizedImageBatch"}],"definitions":{"RecognizedImageBatch":{"type":"object","properties":{"fileUrls":{"type":"array","items":{"type":"string"}},"documents":{"type":"array","items":{"$ref":"#/definitions/Document"}}},"required":["fileUrls"]},"Document":{"type":"object","properties":{"schemaId":{"type":"string"},"pages":{"type":"array","items":{"$ref":"#/definitions/PageImageLocation"}},"action":{"type":"string","enum":["saveAsDraft","send","dontSend"]},"data":true},"required":["schemaId","action"]},"PageImageLocation":{"type":"object","properties":{"fileIndex":{"type":"integer"},"filePageNumber":{"type":"integer"}},"required":["fileIndex","filePageNumber"]}}}')},341:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(3),r=n(216),c=n(243),i=n(31),o=function(e){var t=e.datetime,n=e.live,o=e.opts,s=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e,a=s.current;if(a)return!1!==n&&(a.setAttribute("datetime",""+((e=t)instanceof Date?e.getTime():e)),Object(c.b)(a,o)),function(){return Object(r.a)(a)}}),[t,n,o]),Object(i.jsx)("time",{ref:s,children:Object(c.a)(t,o)})}},347:function(e,t,n){"use strict";n.d(t,"a",(function(){return rr})),n.d(t,"c",(function(){return cr})),n.d(t,"b",(function(){return ir}));var a=n(15),r=n(179),c=n(589),i=n(3),o=n.n(i),s=n(1303),u=n(299),l=n(75),d=n(71),f=n(19),b=n(2),j=n(1),v=n(2447),p=n(31),O=function(){throw new Error("You forgot to wrap your component in <JsonFormsContextProvider>.")},m=Object(i.createContext)({context:{},bindContext:!0,uiSchemaLibrary:{},registerValidationProvider:O,unregisterValidationProvider:O,validationProviderUpdated:O}),h=function(e){var t=e.context,n=e.bindContext,a=e.uiSchemaLibrary,r=e.children,c=e.onErrorsChange,o=Object(i.useState)({}),s=Object(j.a)(o,2),u=s[0],l=s[1];Object(i.useEffect)((function(){var e=Object.values(u).flatMap((function(e){return e}));null===c||void 0===c||c(e)}),[u,c]);var d=Object(i.useCallback)((function(e){l((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(f.a)({},e,[]))}))}),[]),O=Object(i.useCallback)((function(e){l((function(t){return Object(v.a)([e],t)}))}),[]),h=Object(i.useCallback)((function(e,t){l((function(n){return e in n?Object(b.a)(Object(b.a)({},n),{},Object(f.a)({},e,t)):n}))}),[]);return Object(p.jsx)(m.Provider,{value:{context:null!==t&&void 0!==t?t:{},bindContext:null===n||void 0===n||n,uiSchemaLibrary:null!==a&&void 0!==a?a:{},registerValidationProvider:d,unregisterValidationProvider:O,validationProviderUpdated:h},children:r})},g=function(){return Object(i.useContext)(m)},x=n(121),y=Object(d.withJsonFormsLayoutProps)((function(e){var t=e.uischema,n=e.visible,a=e.data,r=e.path,c=g(),o=c.bindContext,l=c.context,d=Object(i.useMemo)((function(){var e=t;if(e||"text"in e){var n={data:a,path:r};return o&&Object.assign(n,l),Object(x.a)(e.text,n)}}),[t,a,r,o,l]);return d?Object(p.jsx)(s.a,{xsUp:!n,children:Object(p.jsx)("div",{children:Object(p.jsx)(u.a,{children:d})})}):null})),k=Object(l.rankWith)(3,Object(l.uiTypeIs)("Markdown")),C=n(912),w=n(909),I=Object(C.a)((function(e){return Object(w.a)({viewer:{width:"100%",minHeight:"800px"}})})),S=Object(d.withJsonFormsLayoutProps)((function(e){var t=I(),n=e.uischema,a=e.visible,r=e.data,c=e.path,o=g(),u=o.bindContext,l=o.context,d=Object(i.useMemo)((function(){var e=n;if(e||"url"in e){var t={data:r,path:c};return u&&Object.assign(t,l),Object(x.a)(e.url,t)}}),[n,r,c,u,l]);return d?Object(p.jsx)(s.a,{xsUp:!a||!d,children:Object(p.jsx)("object",{data:d,type:"application/pdf",className:t.viewer,children:Object(p.jsx)("embed",{src:d,type:"application/pdf"})})}):null})),P=Object(l.rankWith)(3,Object(l.uiTypeIs)("Pdf")),T=n(18),N=n(0),R=n(81),M=["uischema","schema","path","renderers"],A=Object(d.withJsonFormsLayoutProps)((function(e){var t=e.uischema,n=e.schema,a=e.path,r=e.renderers,c=Object(T.a)(e,M),o=Object(d.useJsonForms)().core,s=g().uiSchemaLibrary,u="Use"===t.type?t:void 0,f=u?s[u.name]:void 0,j=u?l.Resolve.schema(n,u.scope):void 0,v=Object(i.useMemo)((function(){if(r&&f&&j)return function(e,t){var n,a=-1,r=void 0,c=Object(N.a)(e);try{for(c.s();!(n=c.n()).done;){var i=n.value,o=t(i);o>a&&(a=o,r=i)}}catch(s){c.e(s)}finally{c.f()}return r}(r,(function(e){return e.tester(f,j)}))}),[f,r,j]);if(!f||!u||!j)return null;var O=Object(l.composeWithUi)(u,a),m=l.Resolve.data(null===o||void 0===o?void 0:o.data,O);if(Object(R.isPresent)(v)&&-1!==v.tester(f,j)){var h=v.renderer;return Object(p.jsx)(h,Object(b.a)({uischema:f,schema:j,path:O,data:m,renderers:r},c))}return Object(p.jsx)(d.UnknownRenderer,{type:"renderer"})})),D=Object(l.rankWith)(3,Object(l.uiTypeIs)("Use")),z=n(5),E=n.n(z),L=n(32),F=n(99),U=n(224),B=n(199),_=Object(d.withJsonFormsControlProps)((function(e){var t=e.uischema.options.optionsSource,n=t.moduleName,a=t.functionName,c=Object(U.a)().call,o=Object(F.a)("function/".concat(n,"/").concat(a),Object(L.a)(E.a.mark((function e(){var t,r,i,o,s,u,l,d,f;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,c(n,a);case 3:if(r=e.sent,Array.isArray(r)){i=Object(N.a)(r);try{for(i.s();!(o=i.n()).done;)s=o.value,u=void 0,l=void 0,Object(B.a)(s)?(u=s.value,"string"===typeof s.label&&(l=s.label)):u=s,Object(R.isPresent)(u)&&(f={label:null!==(d=l)&&void 0!==d?d:"string"===typeof u?u:JSON.stringify(u),value:u},t.push(f))}catch(b){i.e(b)}finally{i.f()}}return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),{fallbackData:[],revalidateOnMount:!0,revalidateOnFocus:!1}).data,s=Object(i.useMemo)((function(){return Object(b.a)(Object(b.a)({},e),{},{options:o})}),[e,o]);return Object(p.jsx)(r.MaterialInputControl,Object(b.a)(Object(b.a)({},s),{},{input:r.MuiSelect}))})),W=Object(l.rankWith)(3,Object(l.and)(l.isControl,(function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.optionsSource;return!!n&&!!n.moduleName&&!!n.functionName}))),V=n(230),$=n(2495),H=n(1300),G=n(36),J=n(2487),K=n(2469),q=n(591),Y=n.n(q),Z=n(292),Q=n.n(Z),X=n(222),ee=n.n(X),te=n(673),ne=n(610),ae=n.n(ne),re=n(97),ce=n(166),ie=n(2497),oe=["image/png","image/jpeg","image/webp"],se=function(e){return new Promise((function(t,n){var a=new Image;a.crossOrigin="anonymous",a.addEventListener("load",(function(){return t(a)})),a.addEventListener("error",(function(e){return n(e)})),a.src=e}))},ue=function(){var e=Object(L.a)(E.a.mark((function e(t,n){var a,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Blob([t.content],{type:t.mimeType}),r=URL.createObjectURL(a),e.prev=2,e.next=5,se(r);case 5:c=e.sent,t.pages.push({getImageData:function(){var e=document.createElement("canvas"),t=e.getContext("2d");return e.width=c.naturalWidth,e.height=c.naturalHeight,t.drawImage(c,0,0),t.getImageData(0,0,c.naturalWidth,c.naturalHeight)},width:c.naturalWidth,height:c.naturalHeight,fileIndex:n,filePageNumber:0,pageIndex:0}),t.pageStates.push({rotate:0});case 8:return e.prev=8,URL.revokeObjectURL(r),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[2,,8,11]])})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(L.a)(E.a.mark((function e(t,n){var a,r,c,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=new Q.a({buffer:t.content}),r=function(e,r){a.setDirectory(e);var c={getImageData:function(){a.setDirectory(e);var t=a.readRGBAImage();return new ImageData(new Uint8ClampedArray(t),a.width(),a.height())},width:a.width(),height:a.height(),fileIndex:n,filePageNumber:e,pageIndex:0};t.pages.push(c),t.pageStates.push({rotate:0})},c=0,i=a.countDirectory();c<i;++c)r(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=Object(L.a)(E.a.mark((function e(t,n){var a,r,c,i,o,s,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Uint8Array(t.content),e.next=3,te.a.getDocument(a).promise;case 3:for(r=e.sent,c=[],i=new Array(r.numPages),o=new Array(r.numPages),s=function(e){c.push(r.getPage(e+1).then(function(){var t=Object(L.a)(E.a.mark((function t(a){var r,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=2*window.devicePixelRatio,c=a.getViewport({scale:r}),i[e]={getImageData:function(){var e=Object(L.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("canvas")).style.width="".concat(c.width/r,"px"),t.style.height="".concat(c.height/r,"px"),t.height=c.height,t.width=c.width,n=t.getContext("2d"),e.next=8,a.render({canvasContext:n,viewport:c}).promise;case 8:return e.abrupt("return",n.getImageData(0,0,t.width,t.height));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),width:c.width,height:c.height,fileIndex:n,filePageNumber:e,pageIndex:0},o[e]={rotate:0};case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},u=0;u<r.numPages;u++)s(u);return e.next=11,Promise.all(c);case 11:t.pages=i;case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fe=function(){var e=Object(L.a)(E.a.mark((function e(t,n,a){var r,c,i,o,s,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.lastIndexOf("/"),i=c>=0?t.substring(c+1):t,o={url:t,status:"loaded",name:i,mimeType:a.headers["content-type"],content:a.data,pages:[],pageStartIndex:0,pageStates:[]},s=null===(r=a.headers)||void 0===r?void 0:r["content-disposition"],(u=s?/filename="?([^"]*?)"?(;|$)/g.exec(s):void 0)&&u.length>1&&(o.name=u[1]),o.mimeType&&!oe.includes(o.mimeType)){e.next=11;break}return e.next=9,ue(o,n);case 9:e.next=19;break;case 11:if("image/tiff"!==o.mimeType){e.next=16;break}return e.next=14,le(o,n);case 14:e.next=19;break;case 16:if("application/pdf"!==o.mimeType){e.next=19;break}return e.next=19,de(o,n);case 19:return e.abrupt("return",o);case 20:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),be=function(e,t){return Object(G.a)(e,(function(e){null===t||void 0===t||t.forEach((function(t,n){t.pages.forEach((function(t,a){var r=e[t.fileIndex];if("loaded"===(null===r||void 0===r?void 0:r.status)){var c,i=r.pageStates[t.filePageNumber];i.documentIndex=n,i.documentOrder=a,i.rotate=null!==(c=t.rotate)&&void 0!==c?c:0}}))}));var n,a=0,r=Object(N.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;if("loaded"===c.status){c.pageStartIndex=a;var i,o=Object(N.a)(c.pages);try{for(o.s();!(i=o.n()).done;){i.value.pageIndex=a++}}catch(s){o.e(s)}finally{o.f()}}}}catch(s){r.e(s)}finally{r.f()}}))},je={height:170,width:170},ve=n(160),pe=Symbol("marker"),Oe=Object(l.createAjv)({allErrors:!0,addUsedSchema:!1,useDefaults:!0});Oe.addFormat("image",(function(){return!0})),Oe.addKeyword("patternMask",{type:"string",valid:!0,errors:!1});var me=function(e,t){var n=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(e),r=a.byteLength,c=r%3,i=r-c,o=0;o<i;o+=3){var s=a[o]<<16|a[o+1]<<8|a[o+2],u=(258048&s)>>12,l=(4032&s)>>6,d=63&s;t+=n[(16515072&s)>>18]+n[u]+n[l]+n[d]}if(1===c){var f=a[i],b=(3&f)<<4;t+=n[(252&f)>>2]+n[b]+"=="}else if(2===c){var j=a[i]<<8|a[i+1],v=(1008&j)>>4,p=(15&j)<<2;t+=n[(64512&j)>>10]+n[v]+n[p]+"="}return t}(e);return"data:".concat(t,";base64,").concat(n)};var he=function(){throw new Error("You forgot to wrap your component in <BatchProcessorContextProvider>.")},ge={fileInfos:[],documentInfos:[],loadingImages:!1,setCurrentDocumentLocation:he,updateCurrentDocument:he,updateBatch:he,movePage:he,findByPageIndex:he,deleteDocument:he,addDocument:he,updateDocument:he,getDocument:he,setCurrentDocumentEditionState:he,canModify:!0,getDisplayableDataUrl:he,rotateImage:he,rotateAllImages:he},xe=Object(i.createContext)(ge),ye=function(e,t){var n,a=Object(N.a)(t);try{for(a.s();!(n=a.n()).done;){var r,c=n.value,i="loaded"===c.status?c.pages:[],o=Object(N.a)(i);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s.pageIndex===e)return s}}catch(u){o.e(u)}finally{o.f()}}}catch(u){a.e(u)}finally{a.f()}},ke=function(e){return Y()(e).map((function(e){return e-1}))},Ce=function(e,t,n){var a=e;return a&&(a+=","),a+=t.toString(),t!==n&&(a+="-".concat(n)),a},we=function(e){if(0===e.length)return"";for(var t=e.map((function(e){return e+1})),n=t[0],a=n,r="",c=1;c<t.length;c++){var i=t[c];i===a+1&&a>=n||i===a-1&&a<=n?a=i:(r=Ce(r,n,a),n=a=i)}return r=Ce(r,n,a)},Ie=function(e,t){var n=new Array(e.length);return t.forEach((function(t,a){"loaded"===t.status&&t.pages.forEach((function(t,r){var c=e.indexOf(t.pageIndex);c>=0&&(n[c]={fileIndex:a,filePageNumber:r})}))})),n},Se=function(e,t){return t&&!Oe.validate(t,e.data)&&Oe.errors?Object(ve.a)(Oe.errors.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{instancePath:e.dataPath})}))):[]},Pe=function(e,t){for(var n=e+t;n<0;)n+=360;for(;n>=360;)n-=360;return n},Te=function(e,t){var n,a=Pe(null!==(n=e.rotate)&&void 0!==n?n:0,t);0===a?delete e.rotate:e.rotate=a},Ne=function(e){var t=e.basePath,n=e.batch,r=e.documentSchemasSource,c=e.readonly,o=e.children,s=!c,u=Object(i.useState)(n),v=Object(j.a)(u,1)[0],O=function(e){var t=e.moduleName,n=e.functionName,a=Object(U.a)().call,r=Object(F.a)("function/".concat(t,"/").concat(n),Object(L.a)(E.a.mark((function e(){var r,c,i,o,s,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,a(t,n);case 3:if(c=e.sent,Array.isArray(c)){i=Object(N.a)(c);try{for(i.s();!(o=i.n()).done;)s=o.value,"success"===(u=Object(ve.b)(s)).type?r.push(s):console.error("Error validating schema ".concat(null===s||void 0===s?void 0:s.$id,". It will be ignored."),u.errors)}catch(l){i.e(l)}finally{i.f()}}return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),{revalidateOnFocus:!1}),c=r.data,o=r.isValidating,s=r.error;return{documentSchemas:Object(i.useMemo)((function(){return null!==c&&void 0!==c?c:[]}),[c]),loading:o,error:s}}(r).documentSchemas,m=Object(d.useJsonForms)().dispatch,h=function(e,t){var n=Object(ce.c)().hubBaseUrl,a=Object(re.c)(),r=a.getConfiguredAxiosInstance,c=a.blobStorage_GetThumbnails,o=Object(i.useState)((function(){return e.fileUrls.map((function(e){var t=ae()(e);return t.is("relative")&&n&&(t=ae.a.joinPaths("BlobStorage",t).absoluteTo(n)),{url:t.valueOf(),status:"loading",name:t.filename()}}))})),s=Object(j.a)(o,2),u=s[0],l=s[1],d=Object(i.useState)(t&&e.fileUrls.length>0),f=Object(j.a)(d,2),v=f[0],p=f[1];return Object(i.useEffect)((function(){if(t){var a=ee.a.CancelToken.source(),i=ee.a.create({responseType:"arraybuffer",cancelToken:a.token}),o=r({responseType:"arraybuffer",cancelToken:a.token});return e.fileUrls.forEach((function(t,a){var r=t,s=ae()(t),u=i;s.is("relative")&&n&&(s=ae.a.joinPaths("BlobStorage",s),u=o),t=s.valueOf(),u.get(t).then((function(n){return fe(t,a,n).then((function(t){l((function(n){var r=Object(G.a)(n,(function(e){e[a]=t}));return r.every((function(e){return"loading"!==e.status}))&&(r=be(r,e.documents),p(!1)),r})),c(Object(b.a)(Object(b.a)({path:r},je),{},{format:"png"})).then((function(e){Object(ie.a)(e)||l((function(t){return Object(G.a)(t,(function(t){var n=t[a];"loaded"===n.status&&(n.thumbnails=e)}))}))}))}))})).catch((function(n){l((function(r){var c=Object(G.a)(r,(function(e){e[a]=function(e,t){var n=e.lastIndexOf("/"),a=n>=0?e.substring(n+1):e,r={url:e,status:"failed",name:a,error:t.message};return t.response&&(r.error="Code: ".concat(t.response.status,"\nData: ").concat(t.response.data)),r}(t,n)}));return c.every((function(e){return"loading"!==e.status}))&&(c=be(c,e.documents),p(!1)),c}))}))})),function(){a.cancel(),p(!1)}}l((function(e){return e.map((function(e){return{name:e.name,status:"loaded",url:e.url,content:new ArrayBuffer(0),pages:[],pageStartIndex:0,pageStates:[]}}))}))}),[c,t,r,n,e.documents,e.fileUrls]),{loadingFileInfos:v,fileInfos:u,setFileInfos:l}}(v,s),x=h.fileInfos,y=h.loadingFileInfos,k=h.setFileInfos,C=Object(i.useState)({documentIndex:v.documents.length>0?0:void 0}),w=Object(j.a)(C,2),I=w[0],S=w[1],P=Object(i.useState)([]),T=Object(j.a)(P,2),M=T[0],A=T[1],D=function(e){var t=g(),n=t.registerValidationProvider,a=t.unregisterValidationProvider,r=t.validationProviderUpdated,c=Object(i.useState)(),o=Object(j.a)(c,2),s=o[0],u=o[1];Object(i.useEffect)((function(){return n(e),function(){return a(e)}}),[e,n,a]),Object(i.useEffect)((function(){var t=(null!==s&&void 0!==s?s:[]).map((function(t){var n="".concat(e,".").concat(t.dataPath);return Object(b.a)(Object(b.a)({},t),{},{dataPath:n,instancePath:n})}));r(e,t)}),[s,e,r]);var l=Object(i.useCallback)((function(e){u((function(t){return Object(H.a)(t,e)?t:e}))}),[]);return Object(i.useMemo)((function(){return{updateErrors:l}}),[l])}(t).updateErrors,z=Object(i.useMemo)((function(){return n.documents.map((function(e,t){var n;return{schemaId:e.schemaId,action:e.action,errors:null!==(n=M[t])&&void 0!==n?n:[]}}))}),[n.documents,M]);Object(i.useEffect)((function(){if(O&&0!==v.documents.length){var e=v.documents.map((function(e){var t=O.find((function(t){return t.$id===e.schemaId}));return Se(e,t)}));A((function(t){return e.map((function(e,n){return t[n]?t[n]:e}))}))}}),[v,O]);var B=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(i.useRef)(e),r=n.current;if(e!==r)if(r.length!==e.length)n.current=e;else if(t)for(var c=Object(a.a)(e),o=0;o<r.length;o++){var s=c.indexOf(r[o]);if(-1===s){n.current=e;break}c[s]=pe}else for(var u=0;u<r.length;u++)if(r[u]!==e[u]){n.current=e;break}return n.current}(n.documents.reduce((function(e,t,n){return"send"===t.action&&e.push(n),e}),[]),!0);Object(i.useEffect)((function(){var e=B.flatMap((function(e){var t,n;return null!==(t=null===(n=M[e])||void 0===n?void 0:n.map((function(t){var n="documents[".concat(e,"].data.").concat(t.instancePath);return Object(b.a)(Object(b.a)({},t),{},{instancePath:n,dataPath:n})})))&&void 0!==t?t:[]}));s&&D(e)}),[s,M,B,D]);var _=Object(i.useCallback)((function(e,n){var a="function"===typeof n?n:function(){return n};null===m||void 0===m||m(Object(l.update)(Object(V.compose)(t,e),a))}),[m]),W=Object(i.useMemo)((function(){return Object(R.isPresent)(I.documentIndex)?n.documents[I.documentIndex]:void 0}),[n.documents,I.documentIndex]),$=Object(i.useCallback)((function(e){var t=null!==e&&void 0!==e?e:{};S((function(e){return e.documentIndex!==t.documentIndex||e.pageIndex!==t.pageIndex?t:e}))}),[]),q=Object(i.useCallback)((function(e){var t=null===I||void 0===I?void 0:I.documentIndex;Object(R.isPresent)(t)&&_("documents[".concat(t,"]"),e)}),[null===I||void 0===I?void 0:I.documentIndex,_]),Y=Object(R.isPresent)(I.documentIndex)?M[I.documentIndex]:void 0,Z=Object(i.useMemo)((function(){if(W&&Y)return{document:W,errors:Y}}),[W,Y]),X=Object(i.useCallback)((function(e){var t=I.documentIndex;A((function(n){var a,r=W?{document:W,errors:n[t]}:void 0,c="function"===typeof e?e(r):e,i=Object(H.a)(null===c||void 0===c?void 0:c.errors,null===r||void 0===r?void 0:r.errors),o=Object(H.a)(null===c||void 0===c?void 0:c.document,null===r||void 0===r?void 0:r.document);if(i&&o)return n;var s=null===c||void 0===c?void 0:c.document;return s&&!o&&q(s),Object(J.a)(t,null!==(a=null===c||void 0===c?void 0:c.errors)&&void 0!==a?a:[],n)}))}),[W,I.documentIndex,q]),te=Object(i.useCallback)((function(e,t){var a=Object(G.a)({fileInfos:x,docs:n.documents},(function(n){var a=ye(e,n.fileInfos),r=function(e,t){var n,a=Object(N.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;if("loaded"===r.status)for(var c=r.pages,i=0;i<c.length;i++)if(c[i].pageIndex===e)return r.pageStates[i]}}catch(o){a.e(o)}finally{a.f()}}(e,n.fileInfos);if(a&&r){var c,i=[],o=[],s=[],u=[],l=r.documentIndex===(null===t||void 0===t?void 0:t.documentIndex),d=Object(N.a)(n.fileInfos);try{for(d.s();!(c=d.n()).done;){var f=c.value;if("loaded"===f.status)for(var b=0;b<f.pageStates.length;b++){var j=f.pageStates[b],v=j.documentOrder;Object(R.isPresent)(r.documentIndex)&&j.documentIndex===r.documentIndex&&(s[v]=j,i[v]=f.pages[b]),Object(R.isPresent)(t)&&j.documentIndex===t.documentIndex&&!l&&(u[v]=j,o[v]=f.pages[b])}}}catch(k){d.e(k)}finally{d.f()}var p=r.documentIndex;if(Object(R.isPresent)(p)){var O=n.docs[p];i.splice(r.documentOrder,1),s.splice(r.documentOrder,1),l?(i.splice(t.documentOrder,0,a),s.splice(t.documentOrder,0,r)):(r.documentIndex=void 0,r.documentOrder=void 0);for(var m=0;m<s.length;m++)s[m].documentOrder=m;O&&(O.pages=i.map((function(e){return{fileIndex:e.fileIndex,filePageNumber:e.filePageNumber}})))}if(Object(R.isPresent)(t)&&!l){var h=t.documentIndex,g=t.documentOrder,x=n.docs[h];o.splice(g,0,a),u.splice(g,0,r),r.documentIndex=h,r.documentOrder=g;for(var y=0;y<u.length;y++)u[y].documentOrder=y;x&&(x.pages=o.map((function(e){return{fileIndex:e.fileIndex,filePageNumber:e.filePageNumber}})))}}}));k(a.fileInfos),_("documents",a.docs)}),[n.documents,x,k,_]),ne=Object(i.useCallback)((function(e){return ye(e,x)}),[x]),oe=Object(i.useCallback)((function(e){if(Object(R.isPresent)(n.documents[e])){var t=Object(a.a)(n.documents);t.splice(e,1),setTimeout((function(){return _("documents",t)}),0),A((function(t){return Object(K.a)(e,1,t)})),k((function(t){return Object(G.a)(t,(function(t){var n,a=Object(N.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;if("loaded"===r.status){var c,i=Object(N.a)(r.pageStates);try{for(i.s();!(c=i.n()).done;){var o=c.value;o.documentIndex===e&&(o.documentIndex=void 0,o.documentOrder=void 0)}}catch(s){i.e(s)}finally{i.f()}}}}catch(s){a.e(s)}finally{a.f()}}))})),S((function(t){return t.documentIndex===e?{}:t}))}}),[n.documents,k,_]),se=Object(i.useCallback)((function(e){var t=n.documents.length,r=[].concat(Object(a.a)(n.documents),[e]);return _("documents",r),A((function(e){return[].concat(Object(a.a)(e),[[]])})),e.pages.length>0&&k((function(n){return Object(G.a)(n,(function(n){e.pages.forEach((function(e,a){var r=n[e.fileIndex];if("loaded"===(null===r||void 0===r?void 0:r.status)){var c=r.pageStates[e.filePageNumber];c&&(c.documentIndex=t,c.documentOrder=a)}}))}))})),t}),[n.documents,k,_]),ue=Object(i.useCallback)((function(e,t){var r=Object(a.a)(n.documents),c=r[e].schemaId,i=r[e].pages;r[e]=t,_("documents",r);var o=t.pages;if(i!==o&&k((function(t){return Object(G.a)(t,(function(t){var n,a=Object(N.a)(i.filter(R.isPresent));try{for(a.s();!(n=a.n()).done;){var r=n.value,c=t[r.fileIndex];if("loaded"===c.status){var s=c.pageStates[r.filePageNumber];s.documentIndex=void 0,s.documentOrder=void 0}}}catch(b){a.e(b)}finally{a.f()}for(var u=0;u<o.length;u++){var l=o[u];if(l){var d=t[l.fileIndex];if("loaded"===d.status){var f=d.pageStates[l.filePageNumber];f.documentIndex=e,f.documentOrder=u}}}}))})),c!==t.schemaId){var s=null===O||void 0===O?void 0:O.find((function(e){return e.$id===t.schemaId})),u=Se(t,s);A((function(t){return Object(J.a)(e,u,t)}))}return e}),[n.documents,O,k,_]),le=Object(i.useCallback)((function(e){return n.documents[e]}),[n.documents]),de=Object(i.useState)({}),Oe=Object(j.a)(de,2),me=Oe[0],he=Oe[1],ge=Object(i.useCallback)((function(e){var t=me[e];if(!t){var n=e.indexOf(",");if(!e.startsWith("data:")||-1===n)return e;if("image/tiff"===e.substring(5,n).split(";")[0]){var a=function(e){for(var t=atob(e.split(",")[1]),n=new ArrayBuffer(t.length),a=new Uint8Array(n),r=0;r<t.length;r++)a[r]=t.charCodeAt(r);return n}(e),r=new Q.a({buffer:a});t=r.toDataURL()}else t=e;he((function(n){return Object(b.a)(Object(b.a)({},n),{},Object(f.a)({},e,t))}))}return t}),[me]),ke=Object(i.useCallback)((function(e,t){var a=-1,r=-1;k((function(n){return Object(G.a)(n,(function(n){for(var c=n.length-1;c>=0;c--){var i=n[c];if("loaded"===i.status&&i.pageStartIndex<=e){for(var o=0;o<i.pages.length;o++){var s=i.pages[o];if(e===s.pageIndex){var u=i.pageStates[o];u.rotate=Pe(u.rotate,t),a=s.fileIndex,r=s.filePageNumber;break}}break}}}))})),a>-1&&r>-1&&_("documents",Object(G.a)(n.documents,(function(e){var n,c=null===(n=e[a])||void 0===n?void 0:n.pages[r];c&&Te(c,t)})))}),[n.documents,k,_]),Ce=Object(i.useCallback)((function(e){k((function(t){return Object(G.a)(t,(function(t){var n,a=Object(N.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;if("loaded"===r.status){var c,i=Object(N.a)(r.pageStates);try{for(i.s();!(c=i.n()).done;){var o=c.value;o.rotate=Pe(o.rotate,e)}}catch(s){i.e(s)}finally{i.f()}}}}catch(s){a.e(s)}finally{a.f()}}))})),_("documents",Object(G.a)(n.documents,(function(t){var n,a=Object(N.a)(t.flatMap((function(e){return e.pages})));try{for(a.s();!(n=a.n()).done;){var r=n.value;Te(r,e)}}catch(c){a.e(c)}finally{a.f()}})))}),[n.documents,k,_]),we=Object(i.useMemo)((function(){return{fileInfos:x,documentSchemas:O,loadingImages:y,documentInfos:z,currentDocumentLocation:I,setCurrentDocumentLocation:$,currentDocument:W,updateCurrentDocument:q,updateBatch:_,movePage:te,findByPageIndex:ne,deleteDocument:oe,addDocument:se,updateDocument:ue,getDocument:le,currentDocumentEditionState:Z,setCurrentDocumentEditionState:X,canModify:s,getDisplayableDataUrl:ge,rotateImage:ke,rotateAllImages:Ce}}),[se,s,W,Z,I,oe,z,O,x,ge,le,ne,X,$,y,te,Ce,ke,_,q,ue]);return Object(p.jsx)(xe.Provider,{value:we,children:o})},Re=function(){return Object(i.useContext)(xe)},Me=n(114),Ae=n(68),De=n(926),ze=n(949),Ee=n(970),Le=n(133),Fe=n.n(Le),Ue=n(207),Be=n.n(Ue),_e=n(257),We=n.n(_e),Ve=n(615),$e=n.n(Ve),He=n(616),Ge=n.n(He),Je=n(33),Ke=n(2471),qe=n(672),Ye=n(613),Ze=n.n(Ye),Qe=n(461),Xe=n.n(Qe),et=n(147),tt=n(2419),nt=n(2435),at=n(2425),rt=n(2424),ct=n(935),it=n(929),ot=n(960),st=n(2417),ut=n(1923),lt=n(2470),dt=n(193),ft=n(674),bt=["saveAsDraft","send","dontSend"];Object.freeze(bt);var jt,vt=n(139),pt=function e(t){var n={};if(t)for(var a=function(){var a=c[r];Array.isArray(t[a])?t[a].forEach((function(t,r){var c=n[a];Object(R.isPresent)(c)||(n[a]=c=[]),c[r]=e(t)})):"object"===typeof t[a]&&null!==t[a]?n[a]=e(t[a]):n[a]=!0},r=0,c=Object.keys(t);r<c.length;r++)a();return n},Ot=["name","debounce","onChange","onBlur","helperText","error","disabled","controlValueAdapter"],mt=function(e){var t=e.name,n=e.debounce,a=e.onChange,r=e.onBlur,c=e.helperText,o=(e.error,e.disabled),s=e.controlValueAdapter,u=Object(T.a)(e,Ot),l=Object(dt.d)().isSubmitting,d=Object(dt.c)({name:t}),f=Object(j.a)(d,3),v=f[0],O=f[1],m=f[2],h=O.error,g=O.touched&&!!h,x=Object(i.useState)(v.value),y=Object(j.a)(x,2),k=y[0],C=y[1],w=Object(i.useState)(),I=Object(j.a)(w,2),S=I[0],P=I[1];Object(i.useEffect)((function(){C(v.value)}),[v.value]);var N=Object(i.useCallback)((function(e){var t=e.target.value;m.setValue(s?s(t):t),null===a||void 0===a||a(e)}),[s,m,a]),M=Object(i.useCallback)((function(e){C((function(t){var n=e.target.value;return n||t})),Object(R.isPresent)(n)?(e.persist(),S&&clearTimeout(S),P(setTimeout((function(){return N(e)}),n))):N(e)}),[N,n,S]),A=Object(i.useCallback)((function(e){v.onBlur(e),null===r||void 0===r||r(e)}),[v,r]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(it.a,Object(b.a)(Object(b.a)({},v),{},{value:null!==k&&void 0!==k?k:"",onChange:M,onBlur:A,error:g,helperText:g?h:c,disabled:null!==o&&void 0!==o?o:l},u))})},ht=n(1317),gt=["name","controlValueAdapter","onChange","onBlur","renderInput","multiple","loading","disabled"],xt=function(e){var t,n=e.name,a=e.controlValueAdapter,r=e.onChange,c=e.onBlur,o=e.renderInput,s=e.multiple,u=e.loading,l=e.disabled,d=Object(T.a)(e,gt),f=Object(dt.d)(),v=f.isSubmitting,O=f.setFieldTouched,m=Object(dt.c)({name:n}),h=Object(j.a)(m,3),g=h[0],x=h[1],y=h[2],k=x.error,C=x.touched&&!!k,w=Object(i.useCallback)((function(e,t,n,c){var i=a?a(t):t;y.setValue(null!==i&&void 0!==i?i:void 0),null===r||void 0===r||r(e,t,n,c)}),[a,y,r]),I=Object(i.useCallback)((function(e){O(g.name),g.onBlur(e),null===c||void 0===c||c(e)}),[g,c,O]),S=Object(i.useCallback)((function(e){return o?o(Object(b.a)(Object(b.a)({},e),{},{error:C,helperText:C?k:void 0})):null}),[k,o,C]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(ht.a,Object(b.a)(Object(b.a)({},g),{},{value:null!==(t=g.value)&&void 0!==t?t:null,onChange:w,onBlur:I,renderInput:S,disabled:null!==l&&void 0!==l?l:v,loading:u||v,multiple:s},d))})},yt=Object(C.a)((function(e){return Object(w.a)({dialogPaper:{},dialogContent:{}})})),kt=function(e){var t=Object($.a)().t,n=Re().documentSchemas,a=Object(i.useMemo)((function(){var e={};if(n){var t,a=Object(N.a)(n);try{for(a.s();!(t=a.n()).done;){var r,c=t.value;c.$id&&(e[c.$id]={label:null!==(r=c.title)&&void 0!==r?r:c.$id,description:c.description})}}catch(i){a.e(i)}finally{a.f()}}return e}),[n]),r=Object(i.useMemo)((function(){var e=Object.keys(a);return Object(ut.a)((function(e){return a[e].label}),e)}),[a]);return Object(p.jsxs)(st.a,{container:!0,spacing:3,children:[Object(p.jsx)(st.a,{item:!0,xs:12,children:Object(p.jsx)(xt,{name:"schemaId",options:r,getOptionLabel:function(e){var t;return null===(t=a[e])||void 0===t?void 0:t.label},renderInput:function(e){return Object(p.jsx)(it.a,Object(b.a)(Object(b.a)({},e),{},{label:t("DocumentType"),InputLabelProps:{required:!0},required:!0,autoFocus:!0}))},fullWidth:!0})}),Object(p.jsx)(st.a,{item:!0,xs:12,children:Object(p.jsx)(mt,{name:"pages",label:t("Pages"),fullWidth:!0})}),Object(p.jsx)(st.a,{item:!0,xs:12,children:Object(p.jsx)(mt,{select:!0,name:"action",label:t("Action"),fullWidth:!0,children:bt.map((function(e){return Object(p.jsx)(ot.a,{value:e,children:t("RecognizedDocumentAction.".concat(e))},e)}))})})]})},Ct="(\\d+(\\s*-\\s*\\d+)?)",wt="^\\s*".concat(Ct,"(\\s*,\\s*").concat(Ct,")*\\s*$"),It=new RegExp(wt),St=function(e){var t=e.open,n=e.document,r=e.availablePageIndices,c=e.onChange,o=e.onClose,s=Object($.a)().t,u=yt(),l=Re(),d=l.documentSchemas,f=l.fileInfos,b=Object(i.useMemo)((function(){var e,t=n?function(e,t){return e.map((function(e){var n=t[e.fileIndex];return"loaded"===n.status?n.pages[e.filePageNumber].pageIndex:-1}))}(n.pages,f):r;return{schemaId:null===n||void 0===n?void 0:n.schemaId,pages:we(t),action:null!==(e=null===n||void 0===n?void 0:n.action)&&void 0!==e?e:"send"}}),[r,n,f]),j=Object(i.useRef)(),v=Object(i.useMemo)((function(){return function(e,t){return ft.a().shape({schemaId:ft.b().required().test({test:function(e){return!e||!("string"!==typeof e||!t.find((function(t){return t.$id===e})))||this.createError({path:this.path,message:Je.a.t("UnknownDocumentSchema",{schemaId:e})})}}),pages:ft.b().test({test:function(t){if(!t)return!0;if("string"!==typeof t||!It.test(t))return this.createError({path:this.path,message:Je.a.t("InvalidPageRange",{range:t})});var n=ke(t),a=Object(lt.a)(n,e);return!(a.length>0)||(a.sort(),this.createError({path:this.path,message:Je.a.t("PagesAlreadyUsedInOtherDocuments",{pages:a.map((function(e){return e+1})).join(", ")})}))}}),action:ft.b().required().oneOf(Object(a.a)(bt))})}(r,null!==d&&void 0!==d?d:[])}),[r,d]),O=Object(i.useCallback)((function(){var e=j.current;e&&function(e){e.validateForm().then((function(t){Object.keys(t).length>0?e.setTouched(pt(t)):e.handleSubmit()}))}(e)}),[]),m=Object(i.useCallback)(function(){var e=Object(L.a)(E.a.mark((function e(t,a){var r,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r={schemaId:t.schemaId,pages:[],data:null===n||void 0===n?void 0:n.data,action:t.action},t.pages&&(i=ke(t.pages),r.pages=Ie(i,f)),null===c||void 0===c||c(r),null===o||void 0===o||o()}finally{a.setSubmitting(!1)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[null===n||void 0===n?void 0:n.data,f,c,o]),h=Object(i.useCallback)((function(){null===o||void 0===o||o()}),[o]),g=Object(i.useCallback)(function(){var e=Object(L.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"backdropClick"!==n&&(null===o||void 0===o||o());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[o]);return Object(p.jsxs)(tt.a,{open:t,onClose:g,maxWidth:"sm",fullWidth:!0,classes:{paper:u.dialogPaper},children:[Object(p.jsx)(rt.a,{children:s(n?"EditingDocument":"AddingDocument")}),Object(p.jsx)(at.a,{className:u.dialogContent,children:Object(p.jsx)(vt.a,{children:Object(p.jsx)(dt.b,{innerRef:function(e){return j.current=e},initialValues:b,onSubmit:m,validationSchema:v,validateOnChange:!0,validateOnBlur:!0,children:Object(p.jsx)(dt.a,{autoComplete:"off",children:Object(p.jsx)(kt,{availablePageIndices:r})})})})}),Object(p.jsxs)(nt.a,{children:[Object(p.jsx)(ct.a,{onClick:O,color:"primary",children:s("Accept")}),Object(p.jsx)(ct.a,{onClick:h,color:"primary",children:s("Cancel")})]})]})},Pt=n(2414),Tt=function(e){return Object(p.jsxs)(Pt.a,Object(b.a)(Object(b.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(p.jsx)("path",{d:"M808.3 950h-725C42.9 950 10 917.1 10 876.7V171.6c0-40.4 32.9-73.3 73.3-73.3h502.1c18.6 0 33.6 15.1 33.6 33.6 0 18.6-15.1 33.6-33.6 33.6H83.3c-3.4 0-6.1 2.7-6.1 6.1v705.1c0 3.4 2.7 6.1 6.1 6.1h724.9c3.4 0 6.1-2.7 6.1-6.1V492c0-18.6 15-33.6 33.6-33.6s33.6 15.1 33.6 33.6v384.7c.1 40.4-32.8 73.3-73.2 73.3z"}),Object(p.jsx)("path",{d:"M307.3 781.2c-16.1 0-31.1-8.1-40.1-21.7-8.9-13.5-10.5-30.4-4.1-45.3l83.4-196.8 431-431C801 62.9 832.3 50 865.5 50s64.5 13 88 36.5c48.5 48.6 48.5 127.5 0 176.1l-431 431-196.3 83.8c-6 2.5-12.4 3.8-18.9 3.8zm96-225.5-59.8 141.1 140.8-60.1L906 215c22.3-22.3 22.3-58.7 0-81-10.8-10.8-25.2-16.8-40.5-16.8s-29.7 6-40.5 16.8L403.3 555.7z"}),Object(p.jsx)("path",{d:"M398.4 502.3 530 633.8l-47.5 47.5-131.6-131.5 47.5-47.5zM800.2 100.5 931.8 232l-47.5 47.5L752.7 148l47.5-47.5z"})]}))},Nt=n(927),Rt=Object(C.a)((function(e){return Object(w.a)({toolbar:{minHeight:"48px",paddingLeft:0,borderBottom:"solid 2px ".concat(e.palette.divider)},tree:{"& .rst__collapseButton":{backgroundColor:"dark"===e.palette.type?e.palette.background.paper:void 0,backgroundImage:"dark"===e.palette.type?"url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjgiIGZpbGw9Im5vbmUiLz48ZyBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS45IiA+PHBhdGggZD0iTTQuNSA5aDkiLz48L2c+Cjwvc3ZnPg==)":void 0},"& .rst__expandButton":{backgroundColor:"dark"===e.palette.type?e.palette.background.paper:void 0,backgroundImage:"dark"===e.palette.type?"url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjgiIGZpbGw9Im5vbmUiLz48ZyBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS45IiA+PHBhdGggZD0iTTQuNSA5aDkiLz48cGF0aCBkPSJNOSA0LjV2OSIvPjwvZz4KPC9zdmc+)":void 0},"& .rst__collapseButton:focus, & .rst__expandButton:focus":{boxShadow:"dark"===e.palette.type?"0 0 0 1px #000":void 0,outline:"initial"}},node:{"& .rst__rowContents":{cursor:"pointer",backgroundColor:e.palette.background.default,minWidth:Math.max(je.height,je.width,120)+30,justifyContent:"center"},"& .rstcustom__rowContents":{paddingLeft:30},"& .rst__moveHandle":{backgroundColor:"dark"===e.palette.type?e.palette.background.paper:void 0}},selectedNode:{"& .rst__rowContents":{backgroundColor:e.palette.action.selected}},actionIcon:{marginLeft:5,verticalAlign:"bottom"},sendActionIcon:{marginLeft:5,color:Xe.a[500],verticalAlign:"bottom"},document:{display:"block",wordWrap:"break-word",width:"175px",maxHeight:"40px",overflow:"hidden",whiteSpace:"normal"},documentWithErrors:{textDecoration:"underline wavy ".concat(e.palette.error.main)},documentTitle:{display:"flex"}})})),Mt=function(e){return!!e&&Object(R.isPresent)(e.documentIndex)&&!Object(R.isPresent)(e.pageIndex)},At=function(e){return!!e&&!Object(R.isPresent)(e.documentIndex)&&!Object(R.isPresent)(e.pageIndex)},Dt=function(e){return!!e&&Object(R.isPresent)(e.pageIndex)},zt=function(e){var t=e.node;return Dt(t)?"p-".concat(t.pageIndex):Mt(t)?"d-".concat(t.documentIndex):"o"},Et=function(e){return!Dt(e)},Lt=function(e){return Dt(e.node)},Ft=function(e){var t=e.node,n=e.nextParent,a=t;return!!n&&(!!Object(R.isPresent)(a.documentIndex)||!At(n))},Ut=function(){var e=Re(),t=e.documentSchemas,n=e.fileInfos,r=e.documentInfos,c=e.canModify,o=e.setCurrentDocumentLocation,s=Object(i.useState)([]),u=Object(j.a)(s,2),l=u[0],d=u[1];return Object(i.useEffect)((function(){d((function(e){var i=c?function(e,t,n){var r,c=[],i=[],o=Object(N.a)(e);try{var s=function(){var e=r.value;if("loaded"!==e.status)return"continue";e.pages.forEach((function(t,n){var a=e.pageStates[n],r=Je.a.t("PageN",{index:t.pageIndex+1});if(e.thumbnails){var o=e.thumbnails[n],s=e.pageStates[n].rotate,u=Object(R.isPresent)(s)?{transform:"rotate(".concat(s,"deg)")}:void 0;r=Object(p.jsxs)("div",{style:{height:"100%"},children:[Object(p.jsx)("img",{src:o,alt:" ",style:Object(b.a)(Object(b.a)({},u),{},{top:"0px",left:"30px",position:"absolute",height:"100%"})}),Object(p.jsx)("div",{style:{position:"absolute",bottom:"8px",right:"8px"},children:r})]})}var l=a.documentIndex,d={title:r,pageIndex:t.pageIndex,documentIndex:l};if(Object(R.isPresent)(l)&&Object(R.isPresent)(a.documentOrder)){var f=i[l];f||(i[l]=f=[]),f[a.documentOrder]=d}else c.push(d)}))};for(o.s();!(r=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}return[].concat(Object(a.a)(i.map((function(e,a){var r=Je.a.t("DocumentN",{index:a+1}),c=t[a].schemaId;if(c){var i=null===n||void 0===n?void 0:n.find((function(e){return e.$id===c}));if(i){var o=i.title;if(!o){var s=c.lastIndexOf("/");(o=c.substring(s+1)).toLocaleLowerCase().endsWith(".json")&&(o=o.substring(0,o.length-5))}r="".concat(a+1," - ").concat(o)}}return{documentIndex:a,title:r,action:t[a].action,errors:t[a].errors,children:null!==e&&void 0!==e?e:[]}}))),[{title:Je.a.t("OrphanPages"),children:c}])}(n,r,t):function(e,t){return e.map((function(n,a){var r=Je.a.t("DocumentN",{index:a+1}),c=e[a].schemaId;if(c){var i=null===t||void 0===t?void 0:t.find((function(e){return e.$id===c}));if(i){var o=i.title;if(!o){var s=c.lastIndexOf("/");(o=c.substring(s+1)).toLocaleLowerCase().endsWith(".json")&&(o=o.substring(0,o.length-5))}r="".concat(a+1," - ").concat(o)}}return{documentIndex:a,title:r,action:e[a].action,errors:e[a].errors,children:[]}}))}(r,t);if(e.length>0){for(var o=0;o<Math.min(i.length,e.length-1);o++)i[o].expanded=e[o].expanded;i[i.length-1].expanded=e[e.length-1].expanded}return i}))}),[c,r,t,n,o]),{treeData:l,setTreeData:d}},Bt=function(e){var t=e.node,n=Object($.a)().t,a=Rt(),r="send"===t.action?Object(p.jsx)($e.a,{className:a.sendActionIcon}):"dontSend"===t.action?Object(p.jsx)(Ge.a,{className:a.actionIcon,color:"error"}):Object(p.jsx)(Tt,{className:a.actionIcon});return Object(p.jsx)(ze.a,{title:n("RecognizedDocumentAction.".concat(t.action)),children:Object(p.jsx)("span",{children:r})})},_t=function(e){var t=e.node,n=e.canModify,a=Rt(),r="send"===t.action&&t.errors.length>0&&n?Object(Ae.default)(a.document,a.documentWithErrors):a.document;return Object(p.jsxs)(st.a,{className:a.documentTitle,alignItems:"center",justifyContent:"center",alignContent:"stretch",children:[Object(p.jsx)(Nt.a,{noWrap:!1,variant:"body2",className:r,children:t.title}),Object(p.jsx)(Bt,{node:t})]})},Wt=function(e){var t=e.description,n=e.onClick,a=e.icon;return Object(p.jsx)(ze.a,{title:t,children:Object(p.jsx)(De.a,{size:"small",onClick:n,children:a})})},Vt=function(e){var t=e.node,n=e.unusedPageIndices,r=Object($.a)().t,c=Object(i.useState)(),o=Object(j.a)(c,2),s=o[0],u=o[1],l=Re(),d=l.updateDocument,f=l.getDocument,b=l.fileInfos,v=Object(i.useMemo)((function(){var e=n;if(Object(R.isPresent)(s)){var t=f(s).pages.map((function(e){var t=b[e.fileIndex];if("loaded"===t.status)return t.pages[e.filePageNumber].pageIndex})).filter(R.isPresent);t.push.apply(t,Object(a.a)(e)),e=t.sort()}return e}),[s,b,f,n]),O=Object(i.useCallback)((function(e,t){u(t)}),[]),m=Object(i.useCallback)((function(e){f(s).schemaId!==e.schemaId&&(e.data={}),d(s,e)}),[s,f,d]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Wt,{description:r("Edit"),icon:Object(p.jsx)(We.a,{}),onClick:function(e){return O(e,t.documentIndex)}}),Object(R.isPresent)(s)&&Object(p.jsx)(St,{open:Object(R.isPresent)(s),document:f(s),availablePageIndices:v,onChange:m,onClose:function(){return u(void 0)}})]})},$t=function(e){var t=e.node,n=Object($.a)().t,a=Object(et.c)(),r=Re().deleteDocument,c=Object(i.useCallback)(function(){var e=Object(L.a)(E.a.mark((function e(t,c,i){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,a({description:n("ConfirmDeleteBatchDocument",{name:i})});case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:r(c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[a,r,n]);return Object(p.jsx)(Wt,{description:n("Delete"),icon:Object(p.jsx)(Fe.a,{}),onClick:function(e){return c(e,t.documentIndex,t.title)}})},Ht=function(e){var t=e.unusedPageIndices,n=Object($.a)().t,a=Object(i.useState)(!1),r=Object(j.a)(a,2),c=r[0],o=r[1],s=Re(),u=s.setCurrentDocumentLocation,l=s.addDocument,d=Object(i.useCallback)((function(){o(!0)}),[]),f=Object(i.useCallback)((function(e){e.data={};var t=l(e);u({documentIndex:t})}),[l,u]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ze.a,{title:n("AddDocument"),children:Object(p.jsx)(De.a,{onClick:d,size:"small",children:Object(p.jsx)(Be.a,{})})}),c&&Object(p.jsx)(St,{open:c,availablePageIndices:t,onChange:f,onClose:function(){return o(!1)}})]})},Gt=function(e){var t=e.node;return Dt(t)&&"string"!==typeof t.title?Math.max(je.height,je.width)+62:62},Jt=function(e){var t=Rt(),n=Re(),a=n.fileInfos,r=n.loadingImages,c=n.movePage,o=n.currentDocumentLocation,s=n.setCurrentDocumentLocation,u=n.canModify,l=Ut(),d=l.treeData,j=l.setTreeData;Object(i.useEffect)((function(){if(!r&&u&&o&&Object(R.isPresent)(o.documentIndex)&&!Object(R.isPresent)(o.pageIndex)){var e,t=Object(N.a)(d);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(Mt(n)&&n.documentIndex===o.documentIndex&&Array.isArray(n.children)){var a=n.children[0];Dt(a)&&s(Object(b.a)(Object(b.a)({},o),{},{pageIndex:a.pageIndex}))}}}catch(c){t.e(c)}finally{t.f()}}}),[u,o,r,s,d]);var v=Object(i.useMemo)((function(){return a.flatMap((function(e){var t=[];return"loaded"===e.status&&e.pageStates.forEach((function(n,a){Object(R.isPresent)(n.documentOrder)||t.push(e.pages[a].pageIndex)})),t}))}),[a]),O=Object(i.useCallback)((function(e){!function(e){var t=e[e.length-1],n=t.children;At(t)&&Array.isArray(n)&&n.sort(Object(Ke.a)((function(e,t){return e.pageIndex<t.pageIndex})))}(e),j(e)}),[j]),m=Object(i.useCallback)((function(e){var t=e.node,n=e.nextParentNode,a=e.prevTreeIndex,r=e.nextTreeIndex;if(n&&a!==r){var i=t,o=n;if(!At(o)||Object(R.isPresent)(i.documentIndex))if(Mt(o)){var s=o.documentIndex,u=o.children.findIndex((function(e){return e.pageIndex===i.pageIndex}));c(i.pageIndex,{documentIndex:s,documentOrder:u})}else At(o)&&c(i.pageIndex)}}),[c]),h=Object(i.useCallback)((function(e,t){var n,a,r=e.target;if(!0!==(null===(n=r.classList)||void 0===n?void 0:n.contains("rst__collapseButton"))&&!0!==(null===(a=r.classList)||void 0===a?void 0:a.contains("rst__expandButton"))){var c=t,i=c.pageIndex;Object(R.isPresent)(i)||!Array.isArray(c.children)||Object(ie.a)(c.children)||(i=c.children[0].pageIndex),s({documentIndex:c.documentIndex,pageIndex:i})}}),[s]),g=Object(i.useCallback)((function(e){var n=e.node,a=o&&n.documentIndex===o.documentIndex&&(Mt(n)||n.pageIndex===o.pageIndex),r={onClick:function(t){return h(t,e.node)},className:Object(Ae.default)(t.node,Object(f.a)({},t.selectedNode,a))};if(Mt(n)){if(u){var c=Object(p.jsx)(Vt,{node:n,unusedPageIndices:v}),i=Object(p.jsx)($t,{node:n});r.buttons=[c,i]}r.title=function(){return Object(p.jsx)(_t,{node:n,canModify:u})}}return r}),[u,t.node,t.selectedNode,o,h,v]);return r?null:Object(p.jsxs)(p.Fragment,{children:[u&&Object(p.jsx)(Ee.a,{className:t.toolbar,children:Object(p.jsx)(Ht,{unusedPageIndices:v})}),Object(p.jsx)(qe.a,{treeData:d,onChange:O,onMoveNode:m,getNodeKey:zt,canDrag:Lt,canDrop:Ft,canNodeHaveChildren:Et,isVirtualized:!1,generateNodeProps:g,className:t.tree,rowHeight:Gt,theme:Ze.a})]})},Kt=n(931),qt=n(934),Yt=n(2429),Zt=n(336),Qt=n(38),Xt=function(e){return Object(p.jsx)(Pt.a,Object(b.a)(Object(b.a)({viewBox:"0 0 512 512"},e),{},{children:Object(p.jsx)("path",{d:"M9.5 1.4C2.3 4.6 0 9.7 0 22.6V32h32V0h-9.7c-5.9.1-11 .6-12.8 1.4zM62 16v16h29V0H62v16zM121 16v16h29V0h-29v16zM180 16v16h29V0h-29v16zM239 16v16h29V0h-29v16zM298 16v16h29V0h-29v16zM357 16v16h29V0h-29v16zM416 15.9V32h32.2l-.4-10.9c-.2-9.2-.6-11.4-2.4-13.7-4.4-6-6.7-6.9-18.5-7.2L416-.2v16.1zM0 76.5V91h32V62H0v14.5zM416 76.5V91h32V62h-32v14.5zM0 135.5V150h32v-29H0v14.5zM416 135.5V150h32v-29h-32v14.5zM0 194.5V209h32v-29H0v14.5zM416 194.5V209h32v-29h-32v14.5zM297.5 225.4c-4.1 1.8-8.3 6.9-9 10.9-.3 1.8-.4 62.2-.3 134.4.3 130.7.3 131.2 2.4 133.9 4.9 6.7 13 9.1 19.5 6 1.9-.9 20.5-15.3 41.4-32.1l38-30.4 54.8-.1c59.9 0 58.9.1 64-5.9 3-3.7 4.2-8.5 3.2-13.9-.6-3.3-11.6-14.6-99.3-102.6-57.7-57.7-100-99.4-101.9-100.2-4-1.7-8.9-1.7-12.8 0zM417.7 416l-39.4.5-3.9 3c-2.1 1.6-15 11.8-28.6 22.7-13.6 10.9-25 19.8-25.3 19.8-.3 0-.5-41.3-.5-91.7v-91.8l68.5 68.5 68.5 68.5-39.3.5zM0 253.5V268h32v-29H0v14.5zM416 253.5V268h32v-29h-32v14.5zM0 312.5V327h32v-29H0v14.5zM0 371.5V386h32v-29H0v14.5zM.2 426.9c.3 11.8 1.2 14.1 7.2 18.5 2.3 1.8 4.5 2.2 13.7 2.4l10.9.4V416H-.2l.4 10.9zM62 432v16h29v-32H62v16zM121 432v16h29v-32h-29v16zM180 432v16h29v-32h-29v16z"})}))},en=n(295),tn=n.n(en),nn=function(){throw new Error("You forgot to wrap your component in <ImageCaptureContextProvider>.")},an={captureAvailable:!1,captureImage:nn,setCurrentCropper:nn},rn=Object(i.createContext)(an),cn=function(e){var t=e.outputImageFormat,n=e.children,a=Object(i.useState)(),r=Object(j.a)(a,2),c=r[0],o=r[1],s=Object(i.useCallback)((function(){if(c){var e=function(e,t){if("image/tiff"===t){var n=e.getContext("2d").getImageData(0,0,e.width,e.height),a=new Uint8Array(n.data.buffer),r=tn.a.encodeImage(a,n.width,n.height);return me(r,"image/tiff")}return e.toDataURL()}(c.getCroppedCanvas(),t);return c.clear(),o(void 0),e}}),[c,t]),u=Object(i.useMemo)((function(){return{captureAvailable:!!c,captureImage:s,setCurrentCropper:o}}),[s,c]);return Object(p.jsx)(rn.Provider,{value:u,children:n})},on=function(){return Object(i.useContext)(rn)},sn=Object(C.a)((function(e){return Object(w.a)({image:{marginTop:e.spacing(2),width:"max-content",maxWidth:"100%"},imagePlaceholder:{marginTop:e.spacing(6),height:50},imageActions:{marginLeft:-10}})})),un=Object(d.withJsonFormsControlProps)((function(e){var t=e.uischema,n=e.config,a=e.id,r=e.data,c=e.visible,o=e.errors,u=e.label,d=e.required,f=e.description,b=e.path,j=e.handleChange,v=Object($.a)().t,O=sn(),m=0===o.length,h=Object(Zt.merge)({},n,t.options),g=!Object(l.isDescriptionHidden)(c,null!==f&&void 0!==f?f:"",!1,h.showUnfocusedDescription),x=Re().getDisplayableDataUrl,y=on(),k=y.captureAvailable,C=y.captureImage,w=Object(i.useCallback)((function(){if(k){var e=C();j(b,e)}}),[k,C,j,b]),I=Object(i.useCallback)((function(){j(b,void 0)}),[j,b]),S=g?f:m?null:o,P=g&&!m?o:null;return Object(p.jsx)(s.a,{xsUp:!c,children:Object(p.jsxs)(Kt.a,{fullWidth:!h.trim,id:a,children:[Object(p.jsx)(Yt.a,{htmlFor:a+"-input",error:!m,shrink:"string"===typeof r,children:Object(l.computeLabel)(Object(l.isPlainLabel)(u)?u:u.default,!!d,h.hideRequiredAsterisk)}),Object(p.jsxs)("div",{children:["string"===typeof r&&Object(p.jsx)("img",{src:x(r),alt:"",className:O.image}),"string"!==typeof r&&Object(p.jsx)("img",{src:"".concat(Object(Qt.a)(),"images/image-placeholder.png"),alt:"placeholder",className:O.imagePlaceholder})]}),Object(p.jsxs)("div",{className:O.imageActions,children:[Object(p.jsx)(ze.a,{title:v("CaptureCurrentSelection"),children:Object(p.jsx)("span",{children:Object(p.jsx)(De.a,{onClick:w,disabled:!k,children:Object(p.jsx)(Xt,{})})})}),Object(p.jsx)(ze.a,{title:v("Delete"),children:Object(p.jsx)(De.a,{onClick:I,children:Object(p.jsx)(Fe.a,{})})})]}),Object(p.jsx)(qt.a,{error:!m&&!g,children:S}),Object(p.jsx)(qt.a,{error:!m,children:P})]})})})),ln=Object(l.rankWith)(4,Object(l.and)(l.isControl,(function(e,t){var n=l.Resolve.schema(t,e.scope);return n&&"string"===n.type&&"image"===n.format}))),dn=n(675),fn=n(98),bn=n.n(fn),jn=n(136),vn=n(930),pn=n(948),On=n(450),mn=n.n(On),hn=(jt=vn.a,Object(dn.a)((function(e){return Object(p.jsx)(jt,Object(b.a)({},e))}))),gn=o.a.memo((function(e){var t,n,a,r,c=Object(i.useState)(!1),o=Object(j.a)(c,2),s=o[0],u=o[1],l=e.data,d=e.config,f=e.className,b=e.id,v=e.enabled,O=e.uischema,m=e.isValid,h=e.path,g=e.handleChange,x=e.schema,y=e.muiInputProps,k=x.maxLength,C=bn()({},d,O.options);r=C.restrict?{maxLength:k}:{};var w=Object(i.useMemo)((function(){return x.patternMask}),[x]);r=bn()(r,y),C.trim&&void 0!==k&&(r.size=k);var I=Object(jn.a)(),S=(null===(t=I.jsonforms)||void 0===t||null===(n=t.input)||void 0===n||null===(a=n.delete)||void 0===a?void 0:a.background)||I.palette.background.default,P=Object(i.useCallback)((function(e){g(h,e)}),[g,h]);return Object(p.jsx)(hn,{mask:w,onAccept:P,type:"text",className:f,id:b,value:l,disabled:!v,autoFocus:C.focus,multiline:C.multi,fullWidth:!C.trim||void 0===k,inputProps:r,error:!m,onPointerEnter:function(){return u(!0)},onPointerLeave:function(){return u(!1)},endAdornment:Object(p.jsx)(pn.a,{position:"end",style:{display:s&&v&&void 0!==l?"flex":"none",position:"absolute",right:0},children:Object(p.jsx)(De.a,{"aria-label":"Clear input field",onClick:function(){return g(h,void 0)},children:Object(p.jsx)(mn.a,{style:{background:S,borderRadius:"50%"}})})})})}),d.areEqual),xn=Object(d.withJsonFormsControlProps)((function(e){return Object(p.jsx)(r.MaterialInputControl,Object(b.a)(Object(b.a)({},e),{},{input:gn}))})),yn=Object(l.rankWith)(4,Object(l.and)(l.isControl,(function(e,t){var n=l.Resolve.schema(t,e.scope);return n&&"string"===n.type&&"string"===typeof n.patternMask}))),kn=Object(C.a)((function(e){return Object(w.a)({content:{maxHeight:"100%",width:"99%",overflowY:"auto",overflowX:"visible"}})})),Cn=function(e){var t,n=Re(),r=n.documentSchemas,c=n.currentDocument,o=n.currentDocumentEditionState,s=n.setCurrentDocumentEditionState,u=n.canModify,l=n.updateCurrentDocument,f=kn(),j=Object($.a)().t,v=Object(i.useRef)(null===o||void 0===o?void 0:o.document.data),O=Object(i.useRef)(!1);Object(i.useMemo)((function(){v.current=null===o||void 0===o?void 0:o.document.data}),[null===o||void 0===o?void 0:o.document.data]);var m=Object(i.useMemo)((function(){var e={};if(r){var t,n=Object(N.a)(r);try{for(n.s();!(t=n.n()).done;){var a,c=t.value;c.$id&&(e[c.$id]={label:null!==(a=c.title)&&void 0!==a?a:c.$id,description:c.description})}}catch(i){n.e(i)}finally{n.f()}}return e}),[r]),h=Object(i.useMemo)((function(){var e=Object.keys(m);return Object(ut.a)((function(e){return m[e].label}),e)}),[m]),g=Object(i.useMemo)((function(){return[].concat(Object(a.a)(cr),[{tester:ln,renderer:un},{tester:yn,renderer:xn}])}),[]),x=Object(i.useCallback)((function(e){O.current=!!e.errors&&e.errors.length>0;var t=O.current?Object(ve.a)(e.errors.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{instancePath:e.dataPath})}))):void 0;O.current||v.current===e.data||(v.current=e.data,O.current=!1),s((function(n){var a,r;return Object(H.a)(e.data,null===n||void 0===n?void 0:n.document)&&Object(H.a)(t,null===n||void 0===n?void 0:n.errors)?n:{document:Object(b.a)(Object(b.a)({},n.document),{},{data:null!==(a=e.data)&&void 0!==a?a:null===n||void 0===n||null===(r=n.document)||void 0===r?void 0:r.data}),errors:t}}))}),[s]),y=Object(i.useCallback)((function(e){var t=Object(b.a)(Object(b.a)({},c),{},{action:e.target.value});l(t)}),[c,l]),k=Object(i.useCallback)((function(e,t){if(t&&(null===c||void 0===c?void 0:c.schemaId)!==t){var n=Object(b.a)(Object(b.a)({},c),{},{schemaId:t,data:{}});l(n)}}),[c,l]);if(!(null===o||void 0===o?void 0:o.document))return null;var C=null===r||void 0===r?void 0:r.find((function(e){return e.$id===(null===o||void 0===o?void 0:o.document.schemaId)}));return Object(p.jsxs)(st.a,{container:!0,spacing:1,className:f.content,children:[Object(p.jsx)(st.a,{item:!0,xs:12,children:Object(p.jsx)(ht.a,{value:null===c||void 0===c?void 0:c.schemaId,options:h,onChange:k,getOptionLabel:function(e){var t;return null===(t=m[e])||void 0===t?void 0:t.label},disableClearable:!0,renderInput:function(e){return Object(p.jsx)(it.a,Object(b.a)(Object(b.a)({},e),{},{label:j("DocumentType"),InputLabelProps:{required:!0},required:!0,autoFocus:!0}))},fullWidth:!0})}),Object(p.jsx)(st.a,{item:!0,xs:12,children:Object(p.jsx)(it.a,{select:!0,value:null===c||void 0===c?void 0:c.action,onChange:y,label:j("Action"),fullWidth:!0,children:bt.map((function(e){return Object(p.jsx)(ot.a,{value:e,children:j("RecognizedDocumentAction.".concat(e))},e)}))})}),Object(p.jsx)(st.a,{item:!0,xs:12,children:Object(p.jsx)(d.JsonForms,{data:null!==(t=null===o||void 0===o?void 0:o.document.data)&&void 0!==t?t:{},schema:C,onChange:x,renderers:g,cells:ir,ajv:Oe,readonly:!u||"dontSend"===(null===o||void 0===o?void 0:o.document.action)})})]})},wn=n(2434),In=n(2439),Sn=n(617),Pn=n.n(Sn),Tn=n(297),Nn=n.n(Tn),Rn=n(2490),Mn=n(618),An=n.n(Mn),Dn=n(1973),zn=[n(339)],En=Object(Dn.a)((function(e){return e[0]}),Object(Rn.a)((function(e){return e.$id}),zn)),Ln={resolve:{nimflow:{order:1,canRead:function(e){return!!En[e.url]},read:function(e){return Object(v.a)(["$id"],En[e.url])}}}},Fn=function(e){return An.a.dereference(e,Ln)},Un=function(e){return function(e){return"object"===typeof e&&"then"in e}(e)?e:Promise.resolve(e)},Bn=Object(C.a)((function(e){return Object(w.a)({dialogPaper:{height:"90vh"},dialogContent:{display:"grid",gridTemplateColumns:"auto ".concat(400,"px"),gridTemplateRows:"auto",rowGap:"5px",height:"100%",overflowY:"hidden"},imagePane:{gridRow:"1 / 2",gridColumn:"1 / 2",overflow:"auto"},listPane:{gridRow:"1 / 2",gridColumn:"2 / 3",overflow:"auto",borderLeft:"solid 2px ".concat(e.palette.divider),paddingLeft:10},cropper:{height:"100%",width:"100%"},cropperDisabled:{"& .cropper-crop-box":{display:"none"},"& .cropper-drag-box":{opacity:0}},imageItem:{width:"100%",position:"relative"},imageTitle:{textDecoration:"underline"},image:{maxWidth:"100%",marginTop:10,marginBottom:10},imagePlaceholder:{marginTop:10,height:50},imageActions:{marginLeft:-10},deleteButton:{},grow:{flexGrow:1},degreesEdit:{marginLeft:20,width:"5em"}})})),_n=function(e){var t=null===e||void 0===e?void 0:e.current;return null===t||void 0===t?void 0:t.cropper},Wn=function e(t,n,r,c,i,o){if("string"!==n.type||"image"!==n.format){if(!(o.includes(t)||"array"!==n.type&&"object"!==n.type))if("array"===n.type&&Array.isArray(t)&&"object"===typeof n.items){var s;if(Array.isArray(n.items)){var u=n.items.filter(B.b);if(1!==u.length)return;s=u[0]}else s=n.items;o.push(t);for(var l=0;l<t.length;l++)try{c.push(l),i.push(l.toString()),e(t[l],s,r,c,i,o)}finally{c.pop(),i.pop()}}else if("object"===n.type&&(Object(B.b)(t)||!Object(R.isPresent)(t))){if(t){o.push(t);for(var d=0,f=Object.entries(t);d<f.length;d++){var b,v,p=Object(j.a)(f[d],2),O=p[0],m=p[1],h=null!==(b=null===(v=n.properties)||void 0===v?void 0:v[O])&&void 0!==b?b:n.additionalProperties;if("object"===typeof h)try{var g;c.push(O),i.push(null!==(g=h.title)&&void 0!==g?g:O),e(m,h,r,c,i,o)}finally{c.pop(),i.pop()}}}if(n.properties)for(var x=0,y=Object.entries(n.properties);x<y.length;x++){var k=Object(j.a)(y[x],2),C=k[0],w=k[1];if("object"===typeof w&&(!t||!(C in t)))try{var I;c.push(C),i.push(null!==(I=w.title)&&void 0!==I?I:C),e(void 0,w,r,c,i,o)}finally{c.pop(),i.pop()}}}}else{var S=c.map((function(e){return e.toString()})).join(".");if(-1===r.findIndex((function(e){return e.id===S}))){var P=i.join(" -> ");r.push({id:S,path:Object(a.a)(c),title:P,value:t,originalValue:t})}}},Vn=function(e,t){var n=[];return Wn(e,t,n,[],[],[]),n},$n=function(e,t){Object(R.isPresent)(t.value)&&!e&&(e={});for(var n=e,a=0;a<t.path.length-1;a++){var r=t.path[a],c=n[r];if(!n){if(!t.value)return e;n[r]=c={}}n=c}if(Object(R.isPresent)(n)){var i=t.path[t.path.length-1];Object(R.isPresent)(t.value)?n[i]=t.value:delete n[i]}return e},Hn=function(e){var t=e.open,n=e.pageIndex,r=e.onClose,c=e.outputImageFormat,o=Re(),s=o.findByPageIndex,u=o.getDisplayableDataUrl,l=Object($.a)().t,d=Bn(),f=Object(i.useState)(180),v=Object(j.a)(f,2),O=v[0],m=v[1],h=Object(i.useRef)(null),g=Object(i.useState)(!1),x=Object(j.a)(g,2),y=x[0],k=x[1],C=function(){var e=Re(),t=e.documentSchemas,n=e.currentDocumentEditionState,r=e.setCurrentDocumentEditionState,c=Object(i.useState)([]),o=Object(j.a)(c,2),s=o[0],u=o[1];Object(F.a)(["documentSchema/".concat(null===n||void 0===n?void 0:n.document.schemaId),document],Object(L.a)(E.a.mark((function e(){var a,r,c,i,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===n||void 0===n?void 0:n.document.schemaId,r=null===t||void 0===t?void 0:t.find((function(e){return e.$id===a}))){e.next=4;break}return e.abrupt("return",void 0);case 4:return e.next=6,Fn(r);case 6:return c=e.sent,i=Pn()(c,{ignoreAdditionalProperties:!0}),o=Vn(null===n||void 0===n?void 0:n.document.data,i),u(o),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)}))),{revalidateOnFocus:!1});var l=Object(i.useCallback)((function(e,t){u((function(n){var r=Object(a.a)(n);return r[t]=Object(b.a)(Object(b.a)({},n[t]),{},{value:e}),r}))}),[u]),d=Object(i.useCallback)((function(e){u((function(t){var n,r=Object(a.a)(t);return null===(n=r[e])||void 0===n||delete n.value,r}))}),[u]),f=Object(i.useCallback)((function(){var e=s.filter((function(e){return e.originalValue!==e.value}));r((function(t){if(e.length>0&&t.document){var n=Object(G.a)(t.document.data,(function(t){var n,a=Object(N.a)(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(0===r.path.length)return r.value;t=$n(t,r)}}catch(c){a.e(c)}finally{a.f()}return t})),a=Object(b.a)(Object(b.a)({},t.document),{},{data:n});return Object(b.a)(Object(b.a)({},t),{},{document:a})}}))}),[s,r]);return{imageFields:s,setImageAt:l,deleteImageAt:d,applyImagesToDocument:f}}(),w=C.imageFields,I=C.setImageAt,S=C.deleteImageAt,P=C.applyImagesToDocument,T=Object(i.useMemo)((function(){return s(n)}),[s,n]),R=Object(i.useCallback)((function(){var e=_n(h);e&&e.clear(),k(!1)}),[]),M=Object(i.useCallback)((function(){P(),null===r||void 0===r||r()}),[P,r]),A=Object(i.useCallback)((function(){null===r||void 0===r||r()}),[r]),D=Object(i.useCallback)((function(e,t){"backdropClick"!==t&&(null===r||void 0===r||r())}),[r]),z=Object(i.useCallback)((function(e){y&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),R())}),[y,R]),U=Object(i.useCallback)((function(e){var t=_n(h);if(t){var n=function(e,t){if("image/tiff"===t){var n=e.getContext("2d").getImageData(0,0,e.width,e.height),a=new Uint8Array(n.data.buffer),r=tn.a.encodeImage(a,n.width,n.height);return me(r,"image/tiff")}return e.toDataURL()}(t.getCroppedCanvas(),c);R(),I(n,e)}}),[R,c,I]);Object(i.useEffect)((function(){var e=void 0;return T&&setTimeout((function(){var t=h.current;if(t){var n=t.getContext("2d");n&&Un(T.getImageData()).then((function(a){n.putImageData(a,0,0),(e=new Nn.a(t,{dragMode:"crop",initialAspectRatio:Number.NaN,guides:!1,crop:function(){var t,n=null===(t=e)||void 0===t?void 0:t.getCropBoxData();n&&!Object(ie.a)(n)&&k(!0)},viewMode:1,autoCrop:!1})).clear()}))}}),0),function(){var t;null===(t=e)||void 0===t||t.destroy()}}),[T]);var B=Object(i.useCallback)((function(e){var t=parseInt(e.target.value);isNaN(t)||m(t)}),[]),_=Object(i.useCallback)((function(){var e=_n(h);e&&!isNaN(O)&&e.rotate(O)}),[O]);return Object(p.jsxs)(tt.a,{open:t,onClose:D,maxWidth:"lg",fullWidth:!0,classes:{paper:d.dialogPaper},onKeyDown:z,children:[Object(p.jsx)(rt.a,{children:l("ExtractingImages")}),Object(p.jsxs)(at.a,{className:d.dialogContent,children:[Object(p.jsx)("div",{className:d.imagePane,children:!!T&&Object(p.jsx)("canvas",{ref:h,width:T.width,height:T.height,style:{visibility:"hidden"}})}),Object(p.jsx)("div",{className:d.listPane,children:Object(p.jsx)(wn.a,{children:w.map((function(e,t){return Object(p.jsx)(In.a,{children:Object(p.jsxs)("div",{className:d.imageItem,children:[Object(p.jsx)(Nt.a,{variant:"subtitle1",className:d.imageTitle,children:e.title}),e.value&&Object(p.jsx)("img",{src:u(e.value),alt:"",className:d.image}),!e.value&&Object(p.jsx)("img",{src:"".concat(Object(Qt.a)(),"images/image-placeholder.png"),alt:"placeholder",className:d.imagePlaceholder}),Object(p.jsxs)("div",{className:d.imageActions,children:[Object(p.jsx)(ze.a,{title:l("CaptureCurrentSelection"),children:Object(p.jsx)("span",{children:Object(p.jsx)(De.a,{onClick:function(){return U(t)},disabled:!y,children:Object(p.jsx)(Xt,{})})})}),Object(p.jsx)(ze.a,{title:l("Delete"),children:Object(p.jsx)(De.a,{onClick:function(){return S(t)},children:Object(p.jsx)(Fe.a,{})})})]})]})},t)}))})})]}),Object(p.jsxs)(nt.a,{children:[Object(p.jsx)(it.a,{type:"number",value:O,onChange:B,className:d.degreesEdit}),Object(p.jsx)(ct.a,{onClick:_,color:"primary",children:l("Rotate")}),Object(p.jsx)("div",{className:d.grow}),Object(p.jsx)(ct.a,{onClick:M,color:"primary",children:l("Accept")}),Object(p.jsx)(ct.a,{onClick:A,color:"primary",children:l("Cancel")})]})]})},Gn=n(70),Jn=n(2472),Kn=n(2501),qn=n(2442),Yn=n(258),Zn=n.n(Yn),Qn=n(621),Xn=n.n(Qn),ea=n(622),ta=n.n(ea),na=n(259),aa=n.n(na),ra=n(627),ca=n.n(ra),ia=n(628),oa=n.n(ia),sa=n(626),ua=n.n(sa),la=n(625),da=n.n(la),fa=n(624),ba=n.n(fa),ja=n(623),va=n.n(ja),pa=n(340),Oa=n.n(pa),ma=n(391),ha=function(e){return Object(p.jsx)(Pt.a,Object(b.a)(Object(b.a)({viewBox:"0 0 1000 1000"},e),{},{children:Object(p.jsx)("path",{d:"M560.8 191.3v246.9h245V315.8L990 500 805.8 684.2V558.9h-245v246.9h123.4L500 990 315.8 805.8h122.5V558.9h-245v124.4L10 500l183.3-183.3v121.5h245V191.3H318.6L500 10l181.4 181.3H560.8z"})}))},ga=function(e){return Object(p.jsxs)(Pt.a,Object(b.a)(Object(b.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(p.jsx)("path",{d:"M458.3 948.4c125.9 0 239.5-51.9 321-135.4l-37.5-40.2c-72.2 75-173.6 121.7-285.9 121.7-219.2 0-396.9-177.7-396.9-396.9S236.7 100.7 455.9 100.7c207.6 0 377.8 159.5 395.2 362.6h-96.3l117.6 196L990 463.2h-85C886.3 232.9 693.6 51.6 458.3 51.6 210.7 51.6 10 252.4 10 500c0 247.6 200.7 448.4 448.3 448.4z"}),Object(p.jsx)("path",{d:"M 402.3 395.8 c -17.6 -17.8 -41.8 -26.8 -72 -26.8 c -1.3 0 -2.7 0 -4.1 0.1 h -0.1 c -31.8 1.5 -56.7 11.1 -73.8 28.5 c -17.1 17.4 -26.8 42.9 -28.7 75.7 v 0.7 c 1.4 30.5 10 54.2 25.5 70.5 c 15.6 16.4 38.2 25.4 67.3 26.9 h 0.5 c 27.3 -0.8 49.5 -9.4 66.3 -25.6 c -1.9 25.7 -6.9 45.7 -15 59.6 c -9.5 16.3 -23.1 24.2 -41.7 24.2 H 325 c -22.4 0 -36.9 -12.4 -44.3 -37.8 c -0.9 -2.9 -3.5 -4.9 -6.5 -4.9 c -0.5 0 -1 0 -1.4 0.2 l -38.4 8.3 c -1.8 0.4 -3.4 1.5 -4.3 3 c -1 1.6 -1.3 3.5 -0.8 5.2 c 5.9 23 16.9 40.7 32.7 52.4 c 15.7 11.6 36.5 17.5 61.6 17.5 h 1.9 c 37.2 0 65.6 -13.6 84.4 -40.4 c 18.2 -26.1 27.5 -65.3 27.5 -116.5 c 0.3 -27.7 -2.5 -51.8 -8.2 -71.7 c -5.8 -20.5 -14.9 -37 -26.9 -49.1 z m -21 81.8 c -2.6 31.4 -20.1 46.8 -55 48.6 c -31.1 -1.8 -46.4 -19.3 -48.1 -55.2 c 1.7 -35.9 17.5 -53.5 49.6 -55.2 c 17.7 0.5 30.6 5.6 39.4 15.6 c 8.9 10 13.6 25.6 14.1 46.2 z M 647 409.2 c -17.9 -26.1 -44.8 -39.7 -79.9 -40.2 h -0.4 c -35 1.5 -61.9 15.4 -80.1 41.5 c -17.6 25.4 -27 62.8 -28 111.2 v 0.2 c 0.5 48.9 9.6 86.5 27.3 111.7 c 18.2 25.9 45.4 39.2 80.9 39.7 h 1.9 c 35 0 61.7 -13.2 79.4 -39.1 c 17.1 -25.1 25.8 -62.9 25.8 -112.3 v -0.1 c -0.4 -49.4 -9.5 -87.3 -26.9 -112.6 z m -30.5 114 c 0 36.5 -4.4 64.1 -13.1 81.9 c -8 16.4 -19.5 24.4 -35.1 24.4 h -2.8 c -15.6 0 -27.1 -8 -35.1 -24.4 c -8.7 -17.8 -13 -45.3 -13 -81.8 c 0 -36.9 4.4 -64.8 13.1 -82.9 c 8 -16.7 19.5 -24.8 35.1 -24.8 h 1.6 c 0.8 0 1.5 -0.1 2.3 -0.1 c 10.1 0 18.3 3.3 24.9 10 c 15.3 15.4 22.7 48.3 22.1 97.7 z M 647.5 257.5 c -28.4 0 -51.4 23 -51.4 51.5 c 0 28.4 23 51.4 51.4 51.4 s 51.5 -23 51.5 -51.4 c -0.1 -28.5 -23.1 -51.5 -51.5 -51.5 z m 0 73.4 c -12.2 0 -22 -9.9 -22 -22.1 c 0 -12.2 9.9 -22.1 22 -22.1 c 12.2 0 22.1 9.9 22.1 22.1 c -0.1 12.3 -10 22.1 -22.1 22.1 z"})]}))},xa=function(e){return Object(p.jsxs)(Pt.a,Object(b.a)(Object(b.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(p.jsx)("path",{d:"M541.7 948.4c-125.9 0-239.5-51.9-321-135.4l37.5-40.2c72.2 75 173.6 121.7 285.9 121.7 219.2 0 396.9-177.7 396.9-396.9S763.3 100.7 544.1 100.7c-207.6 0-377.8 159.5-395.2 362.6h96.3l-117.6 196L10 463.2h85C113.7 232.9 306.4 51.6 541.7 51.6 789.3 51.6 990 252.4 990 500c0 247.6-200.7 448.4-448.3 448.4z"}),Object(p.jsx)("path",{d:"M502.3 395.8c-17.6-17.8-41.8-26.8-72-26.8-1.3 0-2.7 0-4.1.1h-.1c-31.8 1.5-56.7 11.1-73.8 28.5-17.1 17.4-26.8 42.9-28.7 75.7v.7c1.4 30.5 10 54.2 25.5 70.5 15.6 16.4 38.2 25.4 67.3 26.9h.5c27.3-.8 49.5-9.4 66.3-25.6-1.9 25.7-6.9 45.7-15 59.6-9.5 16.3-23.1 24.2-41.7 24.2H425c-22.4 0-36.9-12.4-44.3-37.8-.9-2.9-3.5-4.9-6.5-4.9-.5 0-1 0-1.4.2l-38.4 8.3c-1.8.4-3.4 1.5-4.3 3-1 1.6-1.3 3.5-.8 5.2 5.9 23 16.9 40.7 32.7 52.4 15.7 11.6 36.5 17.5 61.6 17.5h1.9c37.2 0 65.6-13.6 84.4-40.4 18.2-26.1 27.5-65.3 27.5-116.5.3-27.7-2.5-51.8-8.2-71.7-5.8-20.5-14.9-37-26.9-49.1zm-21 81.8c-2.6 31.4-20.1 46.8-55 48.6-31.1-1.8-46.4-19.3-48.1-55.2 1.7-35.9 17.5-53.5 49.6-55.2 17.7.5 30.6 5.6 39.4 15.6 8.9 10 13.6 25.6 14.1 46.2zM747 409.2c-17.9-26.1-44.8-39.7-79.9-40.2h-.4c-35 1.5-61.9 15.4-80.1 41.5-17.6 25.4-27 62.8-28 111.2v.2c.5 48.9 9.6 86.5 27.3 111.7 18.2 25.9 45.4 39.2 80.9 39.7h1.9c35 0 61.7-13.2 79.4-39.1 17.1-25.1 25.8-62.9 25.8-112.3v-.1c-.4-49.4-9.5-87.3-26.9-112.6zm-30.5 114c0 36.5-4.4 64.1-13.1 81.9-8 16.4-19.5 24.4-35.1 24.4h-2.8c-15.6 0-27.1-8-35.1-24.4-8.7-17.8-13-45.3-13-81.8 0-36.9 4.4-64.8 13.1-82.9 8-16.7 19.5-24.8 35.1-24.8h1.6c.8 0 1.5-.1 2.3-.1 10.1 0 18.3 3.3 24.9 10 15.3 15.4 22.7 48.3 22.1 97.7zM747.5 257.5c-28.4 0-51.4 23-51.4 51.5 0 28.4 23 51.4 51.4 51.4s51.5-23 51.5-51.4c-.1-28.5-23.1-51.5-51.5-51.5zm0 73.4c-12.2 0-22-9.9-22-22.1 0-12.2 9.9-22.1 22-22.1 12.2 0 22.1 9.9 22.1 22.1-.1 12.3-10 22.1-22.1 22.1z"})]}))},ya=function(e){return Object(p.jsx)(Pt.a,Object(b.a)(Object(b.a)({viewBox:"0 0 100 100"},e),{},{children:Object(p.jsx)("switch",{children:Object(p.jsxs)("g",{children:[Object(p.jsx)("path",{d:"M5273.1 2400.1v-2c0-2.8-5-4-9.7-4s-9.7 1.3-9.7 4v2c0 1.8.7 3.6 2 4.9l5 4.9c.3.3.4.6.4 1v6.4c0 .4.2.7.6.8l2.9.9c.5.1 1-.2 1-.8v-7.2c0-.4.2-.7.4-1l5.1-5c1.3-1.3 2-3.1 2-4.9zm-9.7-.1c-4.8 0-7.4-1.3-7.5-1.8.1-.5 2.7-1.8 7.5-1.8s7.3 1.3 7.5 1.8c-.2.5-2.7 1.8-7.5 1.8z"}),Object(p.jsx)("path",{d:"M5268.4 2410.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1h-4.3zM5272.7 2413.7h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1zM5272.7 2417h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1 0-.5-.4-1-1-1z"}),Object(p.jsx)("g",{children:Object(p.jsx)("path",{d:"M45.2 45.5H32.4v-5.2c0-.7-.4-1.3-1-1.5-.6-.3-1.3-.2-1.8.3l-10.7 9.7c-.4.3-.6.8-.6 1.2 0 .4.2.9.5 1.2l.1.1L29.6 61c.5.4 1.2.6 1.8.3.6-.3 1-.9 1-1.5v-5.2h12.8c.8 0 1.4-.6 1.4-1.4V47c0-.9-.7-1.5-1.4-1.5zM70.4 39.1c-.5-.4-1.2-.6-1.8-.3-.6.3-1 .9-1 1.5v5.2H54.8c-.8 0-1.4.6-1.4 1.4v6.2c0 .8.6 1.4 1.4 1.4h12.8v5.2c0 .5.2.9.5 1.2.1.1.3.3.5.3.6.3 1.3.2 1.8-.3l10.7-9.7c.4-.3.6-.8.6-1.2 0-.5-.2-.9-.6-1.2l-10.7-9.7zM10.9 28.7H4.2c-.9 0-1.7.8-1.7 1.7v39.2c0 .9.8 1.7 1.7 1.7h6.7c.9 0 1.7-.8 1.7-1.7V30.4c0-.9-.8-1.7-1.7-1.7zM95.8 28.7h-6.7c-.9 0-1.7.8-1.7 1.7v39.2c0 .9.8 1.7 1.7 1.7h6.7c.9 0 1.7-.8 1.7-1.7V30.4c0-.9-.8-1.7-1.7-1.7z"})})]})})}))},ka=Object(C.a)((function(e){return Object(w.a)({toolbar:{minHeight:"48px",paddingLeft:0,borderBottom:"solid 2px ".concat(e.palette.divider)},listContainer:{width:"100%",height:"calc(100% - 48px)"},cropper:{height:"100%",width:"100%"},cropperDisabled:{"& .cropper-crop-box":{display:"none"},"& .cropper-drag-box":{opacity:0}},imageItem:{width:"100%",position:"relative"},image:{maxWidth:"100%",marginTop:10,marginBottom:10},imagePlaceholder:{marginTop:10,height:50},imageActions:{marginLeft:-10},grow:{flexGrow:1},textField:{width:"4ch"},totalPages:{display:"inline-block",marginTop:6},fixHeight:{height:24},toolbarButtonContainer:{position:"relative"},ellipsis:{position:"absolute",fontSize:12,right:0,bottom:0,borderRadius:"50%",backgroundColor:e.palette.background.default,border:"solid 1px ".concat(e.palette.action.active)}})})),Ca=Object(Gn.a)((function(e){return{grouped:{margin:e.spacing(.5),border:"none","&:not(:first-child)":{borderRadius:e.shape.borderRadius},"&:first-child":{borderRadius:e.shape.borderRadius}}}}))(Kn.a),wa=function(e){var t=e.tooltip,n=e.onClick,a=e.showEllipsis,r=e.children,c=ka();return Object(p.jsx)(ze.a,{title:t,children:Object(p.jsxs)("div",{className:c.toolbarButtonContainer,children:[Object(p.jsx)(De.a,{onClick:n,size:"small",children:r}),a&&Object(p.jsx)(Oa.a,{className:c.ellipsis})]})})},Ia=function(e){var t=Object($.a)().t,n=Re(),a=n.canModify,r=n.rotateImage,c=n.rotateAllImages,o=ka(),s=Object(ma.a)({}),u=s.width,l=s.height,d=s.ref,f=Object(i.useRef)(null),b=function(){var e=Re(),t=e.currentDocument,n=e.currentDocumentLocation,a=e.setCurrentDocumentLocation,r=e.fileInfos,c=Object(i.useMemo)((function(){var e=[],n=[];if(t){var a,c=Object(N.a)(t.pages);try{for(c.s();!(a=c.n()).done;){var i=a.value,o=r[i.fileIndex];"loaded"===o.status&&(e.push(o.pages[i.filePageNumber]),n.push(o.pageStates[i.filePageNumber]))}}catch(d){c.e(d)}finally{c.f()}}else{var s,u=Object(N.a)(r);try{var l=function(){var t=s.value;"loaded"===t.status&&t.pageStates.forEach((function(a,r){Object(R.isPresent)(a.documentIndex)||(n.push(a),e.push(t.pages[r]))}))};for(u.s();!(s=u.n()).done;)l()}catch(d){u.e(d)}finally{u.f()}}return[e,n]}),[t,r]),o=Object(j.a)(c,2),s=o[0],u=o[1],l=Object(i.useMemo)((function(){var e=null===n||void 0===n?void 0:n.pageIndex;if(!Object(R.isPresent)(e))return[void 0,void 0];var t=s.findIndex((function(t){return t.pageIndex===e}));return[null===n||void 0===n?void 0:n.documentIndex,t>=0?t:void 0]}),[null===n||void 0===n?void 0:n.documentIndex,null===n||void 0===n?void 0:n.pageIndex,s]),d=Object(j.a)(l,2),f=d[0],b=d[1],v=Object(i.useCallback)((function(){a({documentIndex:f,pageIndex:s[0].pageIndex})}),[f,s,a]),p=Object(i.useCallback)((function(){Object(R.isPresent)(b)&&0!==b&&a({documentIndex:f,pageIndex:s[b-1].pageIndex})}),[f,b,s,a]),O=Object(i.useCallback)((function(){!Object(R.isPresent)(b)||b+1>=s.length||a({documentIndex:f,pageIndex:s[b+1].pageIndex})}),[f,b,s,a]),m=Object(i.useCallback)((function(){0!==s.length&&a({documentIndex:f,pageIndex:s[s.length-1].pageIndex})}),[f,s,a]),h=Object(i.useCallback)((function(e){isNaN(e)||e<=0||e>s.length||a({documentIndex:f,pageIndex:s[e-1].pageIndex})}),[f,s,a]);return{currentPage:Object(R.isPresent)(b)?s[b]:void 0,currentPageState:Object(R.isPresent)(b)?u[b]:void 0,currentPageNumber:Object(R.isPresent)(b)?b+1:void 0,totalPages:s.length,gotoFirst:v,gotoPrev:p,gotoNext:O,gotoLast:m,gotoPage:h}}(),v=b.currentPageNumber,O=b.currentPage,m=b.currentPageState,h=b.totalPages,g=b.gotoFirst,x=b.gotoLast,y=b.gotoNext,k=b.gotoPage,C=b.gotoPrev,w=Object(i.useState)(null!==v&&void 0!==v?v:null),I=Object(j.a)(w,2),S=I[0],P=I[1],T=on().setCurrentCropper,M=Object(i.useState)(),A=Object(j.a)(M,2),D=A[0],z=A[1],E=Object(i.useState)("crop"),L=Object(j.a)(E,2),F=L[0],U=L[1],B=Object(i.useState)(!1),_=Object(j.a)(B,2),W=_[0],V=_[1],H=Object(i.useState)(!1),G=Object(j.a)(H,2),J=G[0],K=G[1];Object(i.useEffect)((function(){var e=function(e){"Shift"===e.key&&(e.location===KeyboardEvent.DOM_KEY_LOCATION_LEFT?V(!0):e.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT&&K(!0))},t=function(e){"Shift"===e.key&&(e.location===KeyboardEvent.DOM_KEY_LOCATION_LEFT?V(!1):e.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT&&K(!1))};return document.addEventListener("keydown",e,{capture:!0}),document.addEventListener("keyup",t,{capture:!0}),function(){document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("keyup",t,{capture:!0})}}),[]),Object(i.useEffect)((function(){P(null!==v&&void 0!==v?v:null)}),[v]);var q=Object(i.useCallback)((function(){null===D||void 0===D||D.clear(),T(void 0)}),[D,T]);Object(i.useEffect)((function(){var e=void 0;return O&&setTimeout((function(){var t=f.current;if(t){var n=t.getContext("2d");n&&Un(O.getImageData()).then((function(a){n.putImageData(a,0,0),(e=new Nn.a(t,{dragMode:"crop",initialAspectRatio:Number.NaN,guides:!1,crop:function(){var t,n=null===(t=e)||void 0===t?void 0:t.getCropBoxData();n&&!Object(ie.a)(n)&&T(e)},viewMode:1,autoCrop:!1,ready:function(){z(e)}})).clear(),U("crop")}))}}),0),function(){var t;z(void 0),T(void 0),null===(t=e)||void 0===t||t.destroy()}}),[O,T]);var Y=Object(i.useMemo)((function(){if(!Object(R.isPresent)(u)||!Object(R.isPresent)(l)||!Object(R.isPresent)(O))return[1,1,1];var e=u/O.width,t=l/O.height;return[Math.min(e,t),e,t]}),[u,l,O]),Z=Object(j.a)(Y,3),Q=Z[0],X=Z[1],ee=Z[2];Object(i.useEffect)((function(){m&&(null===D||void 0===D||D.rotateTo(m.rotate))}),[D,m]);var te=Object(i.useCallback)((function(e){var t=0,n=0;"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),q()):"ArrowUp"===e.key?n=-1:"ArrowDown"===e.key?n=1:"ArrowLeft"===e.key?t=-1:"ArrowRight"===e.key&&(t=1),0===t&&0===n||null===D||void 0===D||D.move(t,n)}),[q,D]),ne=Object(i.useCallback)((function(e){var t=e.target.value;if(Object(R.isPresent)(t)&&0!==t.length){var n=parseInt(t);isNaN(n)||P(n)}else P(null)}),[]),ae=Object(i.useCallback)((function(e){"Enter"===e.key&&(e.preventDefault(),Object(R.isPresent)(S)&&!isNaN(S)&&k(S))}),[k,S]),re=Object(i.useCallback)((function(e){e.currentTarget.focus()}),[]),ce=Object(i.useCallback)((function(e,t){t&&(null===D||void 0===D||D.setDragMode(t),U(t))}),[D]),oe=Object(i.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?c(e):O&&r(O.pageIndex,e)}),[O,c,r]),se=Object(i.useCallback)((function(){if(D){D.zoomTo(Q);var e=Q===X?0:(u-O.width*Q)/2,t=Q===ee?0:(l-O.height*Q)/2;D.moveTo(e,t)}}),[D,O,ee,Q,X,l,u]),ue=Object(i.useCallback)((function(){if(D){D.zoomTo(X);var e=Q===ee?0:(l-O.height*Q)/2;D.moveTo(0,e)}}),[D,O,ee,Q,X,l]),le=Object(i.useCallback)((function(){null===D||void 0===D||D.zoom(-.1)}),[D]),de=Object(i.useCallback)((function(){null===D||void 0===D||D.zoom(.1)}),[D]);if(!O)return null;var fe=W||J;return Object(p.jsxs)(p.Fragment,{children:[a&&Object(p.jsxs)(Ee.a,{className:o.toolbar,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)(it.a,{value:null!==S&&void 0!==S?S:"",onChange:ne,onKeyDown:ae,disabled:!Object(R.isPresent)(v),className:o.textField,inputProps:{style:{textAlign:"right"}}}),Object(p.jsxs)("span",{className:o.totalPages,children:["\xa0 / ",h," \xa0"]})]}),Object(p.jsx)(wa,{onClick:g,tooltip:t("GotoFirstPage"),children:Object(p.jsx)(Zn.a,{})}),Object(p.jsx)(wa,{onClick:C,tooltip:t("GotoPrevPage"),children:Object(p.jsx)(Xn.a,{})}),Object(p.jsx)(wa,{onClick:y,tooltip:t("GotoNextPage"),children:Object(p.jsx)(ta.a,{})}),Object(p.jsx)(wa,{onClick:x,tooltip:t("GotoLastPage"),children:Object(p.jsx)(aa.a,{})}),Object(p.jsx)(qn.a,{orientation:"vertical",flexItem:!0}),Object(p.jsxs)(Ca,{value:F,onChange:ce,size:"small",exclusive:!0,children:[Object(p.jsx)(Jn.a,{value:"crop",children:Object(p.jsx)(ze.a,{title:t("Crop"),children:Object(p.jsx)("div",{className:o.fixHeight,children:Object(p.jsx)(Xt,{})})})}),Object(p.jsx)(Jn.a,{value:"move",children:Object(p.jsx)(ze.a,{title:t("Move"),children:Object(p.jsx)("div",{className:o.fixHeight,children:Object(p.jsx)(ha,{})})})})]}),Object(p.jsx)(qn.a,{orientation:"vertical",flexItem:!0}),Object(p.jsx)(wa,{onClick:se,tooltip:t("FitPage"),children:Object(p.jsx)(va.a,{})}),Object(p.jsx)(wa,{onClick:ue,tooltip:t("FitWidth"),children:Object(p.jsx)(ya,{})}),Object(p.jsx)(wa,{onClick:le,tooltip:t("ZoomOut"),children:Object(p.jsx)(ba.a,{})}),Object(p.jsx)(wa,{onClick:de,tooltip:t("ZoomIn"),children:Object(p.jsx)(da.a,{})}),Object(p.jsx)(qn.a,{orientation:"vertical",flexItem:!0}),Object(p.jsx)(wa,{onClick:function(e){return oe(-90,e.shiftKey)},tooltip:t(fe?"RotateAll90Ccw":"Rotate90Ccw"),showEllipsis:fe,children:Object(p.jsx)(xa,{})}),Object(p.jsx)(wa,{onClick:function(e){return oe(90,e.shiftKey)},tooltip:t(fe?"RotateAll90Cw":"Rotate90Cw"),showEllipsis:fe,children:Object(p.jsx)(ga,{})}),Object(p.jsx)(wa,{onClick:function(e){return oe(180,e.shiftKey)},tooltip:t(fe?"RotateAll180":"Rotate180"),showEllipsis:fe,children:Object(p.jsx)(ua.a,{})}),Object(p.jsx)(wa,{onClick:function(e){return oe(-1,e.shiftKey)},tooltip:t(fe?"RotateAll1Ccw":"Rotate1Ccw"),showEllipsis:fe,children:Object(p.jsx)(ca.a,{})}),Object(p.jsx)(wa,{onClick:function(e){return oe(1,e.shiftKey)},tooltip:t(fe?"RotateAll1Cw":"Rotate1Cw"),showEllipsis:fe,children:Object(p.jsx)(oa.a,{})})]}),Object(p.jsx)("div",{ref:d,className:o.listContainer,onKeyDown:te,tabIndex:-1,onClick:re,children:Object(R.isPresent)(u)&&Object(R.isPresent)(l)&&!!O&&Object(p.jsx)("canvas",{ref:f,width:O.width,height:O.height,style:{visibility:"hidden"}})})]})},Sa=Object(C.a)((function(e){return Object(w.a)({content:{height:"75vh",minWidth:900,display:"flex",flexDirection:"row"},treePane:{flexGrow:1,overflow:"auto",width:function(e){return e.canModify?"26%":"40%"}},imageListPane:{flexGrow:1,width:"41%",overflowY:"auto",borderLeft:"2px solid ".concat(e.palette.divider),paddingLeft:10},editorPane:{width:function(e){return e.canModify?"32%":"59%"},flexGrow:1,overflow:"auto",borderLeft:"2px solid ".concat(e.palette.divider),paddingLeft:10}})})),Pa=function(e){var t=e.outputImageFormat,n=Object($.a)().t,a=Re(),r=a.loadingImages,c=a.documentSchemas,o=a.canModify,s=Sa({canModify:o}),u=Object(i.useState)(),l=Object(j.a)(u,2),d=l[0],f=l[1],b=Object(i.useCallback)((function(){f(void 0)}),[]);return c?r?Object(p.jsx)(Me.b,{children:n("LoadingImages")}):Object(p.jsxs)("div",{className:s.content,children:[Object(p.jsx)("div",{className:s.treePane,children:Object(p.jsx)(Jt,{})}),o&&Object(p.jsx)("div",{className:s.imageListPane,children:Object(p.jsx)(Ia,{})}),Object(p.jsx)("div",{className:s.editorPane,children:Object(p.jsx)(Cn,{})}),Object(R.isPresent)(d)&&Object(p.jsx)(Hn,{open:Object(R.isPresent)(d),pageIndex:d,onClose:b,outputImageFormat:t})]}):null},Ta=function(e){var t,n=Object(d.useJsonForms)(),r=Object(l.mapStateToControlProps)({jsonforms:Object(b.a)({},n)},e),c=r.data,o=r.path,u=r.visible,f=r.uischema,j=null===c||void 0===c?void 0:c.documents,v=Object(i.useMemo)((function(){return j?function(e){if(!Array.isArray(e))return[];for(var t=e,n=0;n<t.length;n++){var r=t[n];if(!Object(R.isPresent)(r.data)||!r.action){var c,i,o=Object(b.a)(Object(b.a)({},r),{},{data:null!==(c=r.data)&&void 0!==c?c:{},action:null!==(i=r.action)&&void 0!==i?i:"send"});t===e&&(t=Object(a.a)(e)),t[n]=o}}return t}(j):[]}),[j]);if(Object(i.useEffect)((function(){var e;v===j||Object(H.a)(v,j)||(null===(e=n.dispatch)||void 0===e||e.call(n,Object(l.update)(Object(V.compose)(o,"documents"),(function(){return v}))))}),[n,j,v,o]),v!==j&&!Object(H.a)(v,j))return null;if("ImageBatchRecognition"!==f.type)return null;var O=f;return Object(p.jsx)(s.a,{xsUp:!u,children:Object(p.jsx)(vt.a,{children:Object(p.jsx)(Ne,{basePath:o,batch:c,documentSchemasSource:O.documentSchemasSource,readonly:null!==(t=O.readonly)&&void 0!==t&&t,children:Object(p.jsx)(cn,{outputImageFormat:O.outputImageFormat,children:Object(p.jsx)(Pa,{outputImageFormat:O.outputImageFormat})})})})})},Na=Object(l.rankWith)(3,Object(l.uiTypeIs)("ImageBatchRecognition")),Ra=n(4),Ma=n(6),Aa=n(10),Da=n(11),za=n(232),Ea=n.n(za),La=n(233),Fa=n.n(La),Ua=n(234),Ba=n.n(Ua),_a=n(736),Wa=n(516),Va=n(2473),$a=function(e){Object(Aa.a)(n,e);var t=Object(Da.a)(n);function n(){return Object(Ra.a)(this,n),t.apply(this,arguments)}return Object(Ma.a)(n,[{key:"render",value:function(){var e=this.props,t=e.description,n=e.id,a=e.errors,r=e.label,c=e.uischema,i=e.visible,o=e.enabled,u=e.required,d=e.path,f=e.handleChange,b=e.data,j=e.config,v=r,O=0===a.length,m=bn()({},j,c.options),h=!Object(l.isDescriptionHidden)(i,null!==t&&void 0!==t?t:"",this.state.isFocused,m.showUnfocusedDescription),g=Object(l.isPlainLabel)(r)?r:v;return Object(p.jsx)(s.a,{xsUp:!i,children:Object(p.jsx)(_a.b,{id:n+"-input",label:Object(l.computeLabel)(g,null!==u&&void 0!==u&&u,m.hideRequiredAsterisk),error:!O,fullWidth:!m.trim,helperText:O?h?t:" ":a,InputLabelProps:{shrink:!0},value:b?Object(Wa.default)(b):null,onChange:function(e){return f(d,e&&!isNaN(e.valueOf())?Object(Va.a)(e,{representation:"date"}):"")},format:Je.a.t("DATE_FORMAT"),clearable:!0,disabled:!o,autoFocus:m.focus,onFocus:this.onFocus,onBlur:this.onBlur,okLabel:Je.a.t("OK"),cancelLabel:Je.a.t("Cancel"),clearLabel:Je.a.t("Clear"),leftArrowIcon:Object(p.jsx)(Ea.a,{}),rightArrowIcon:Object(p.jsx)(Fa.a,{}),keyboardIcon:Object(p.jsx)(Ba.a,{}),InputProps:{}})})}}]),n}(d.Control),Ha=Object(l.rankWith)(10,l.isDateControl),Ga=Object(d.withJsonFormsControlProps)($a),Ja=n(381),Ka=n.n(Ja),qa=n(451),Ya=n.n(qa),Za=n(739),Qa=function(e){Object(Aa.a)(n,e);var t=Object(Da.a)(n);function n(){return Object(Ra.a)(this,n),t.apply(this,arguments)}return Object(Ma.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.description,a=e.errors,r=e.label,c=e.uischema,i=e.visible,o=e.enabled,u=e.required,d=e.path,f=e.handleChange,b=e.data,j=e.config,v=bn()({},j,c.options),O=0===a.length;return Object(p.jsx)(s.a,{xsUp:!i,children:Object(p.jsx)(Za.b,{id:t+"-input",label:Object(l.computeLabel)(Object(l.isPlainLabel)(r)?r:r.default,null!==u&&void 0!==u&&u,v.hideRequiredAsterisk),error:!O,fullWidth:!v.trim,onFocus:this.onFocus,onBlur:this.onBlur,helperText:O?n:a,InputLabelProps:{shrink:!0},value:b||null,onChange:function(e){return f(d,e&&!isNaN(e.valueOf())?e.toISOString():"")},format:Je.a.t("DATETIME_FORMAT"),clearable:!0,disabled:!o,autoFocus:v.focus,okLabel:Je.a.t("OK"),cancelLabel:Je.a.t("Cancel"),clearLabel:Je.a.t("Clear"),leftArrowIcon:Object(p.jsx)(Ea.a,{}),rightArrowIcon:Object(p.jsx)(Fa.a,{}),dateRangeIcon:Object(p.jsx)(Ka.a,{}),keyboardIcon:Object(p.jsx)(Ba.a,{}),timeIcon:Object(p.jsx)(Ya.a,{}),InputProps:{}})})}}]),n}(d.Control),Xa=Object(l.rankWith)(10,l.isDateTimeControl),er=Object(d.withJsonFormsControlProps)(Qa),tr=n(2492),nr=n(2436),ar=["context","bindContext","uiSchemaLibrary","schema","onChange"],rr=function(e){var t=e.context,n=e.bindContext,r=e.uiSchemaLibrary,c=e.schema,o=e.onChange,s=Object(T.a)(e,ar),u=function(e){var t=Object(tr.a)(Object(L.a)(E.a.mark((function t(){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,Fn(e);case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),[e]);return{resolvedSchema:t.value,loading:t.loading,error:t.error}}(c),l=u.resolvedSchema,f=u.loading,v=u.error,O=Object(i.useState)(),m=Object(j.a)(O,2),g=m[0],x=m[1],y=Object(i.useState)([]),k=Object(j.a)(y,2),C=k[0],w=k[1],I=Object(i.useState)(),S=Object(j.a)(I,2),P=S[0],N=S[1],R=Object(i.useCallback)((function(e){x(e)}),[]),M=Object(i.useCallback)((function(e){w(e)}),[]);if(Object(i.useEffect)((function(){if(g||0!==C.length){var e=function(e,t){var n={data:void 0};return t.length>0||(null===e||void 0===e?void 0:e.errors)&&e.errors.length>0?(n.errors=n.errors?[].concat(Object(a.a)(n.errors),Object(a.a)(t)):t,n.errors=Object(nr.a)([Object(Ke.a)((function(e,t){var n,a;return e.dataPath<t.dataPath||e.dataPath===t.dataPath&&(null!==(n=e.message)&&void 0!==n?n:"")<(null!==(a=t.message)&&void 0!==a?a:"")}))],n.errors)):n.data=null===e||void 0===e?void 0:e.data,n}(g,C);N((function(t){return Object(H.a)(t,e)?t:e}))}}),[C,g]),Object(i.useEffect)((function(){P&&(null===o||void 0===o||o(P))}),[P,o]),f)return Object(p.jsx)(Me.a,{});if(v)throw v;return Object(p.jsx)(h,{context:t,bindContext:n,uiSchemaLibrary:r,onErrorsChange:M,children:Object(p.jsx)(d.JsonForms,Object(b.a)({renderers:cr,cells:ir,schema:l,onChange:R},s))})},cr=[].concat(Object(a.a)(c.extendedMaterialRenderers),[{tester:k,renderer:y},{tester:P,renderer:S},{tester:D,renderer:A},{tester:W,renderer:_},{tester:Na,renderer:Ta},{tester:Ha,renderer:Ga},{tester:Xa,renderer:er}]),ir=r.materialCells},392:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n(5),r=n.n(a),c=n(32),i=n(1),o=n(2456),s=n(186),u=n.n(s),l=n(2454),d=n(2497),f=n(3),b=n.n(f),j=n(2495),v=n(927),p=n(2455),O=n(341),m=n(2439),h=n(2440),g=n(97),x=n(117),y=n(223),k=n(393),C=n(516),w=n(31),I=function(e){var t=e.taskId,n=e.activityName,a=e.otherUsers,s=e.warning,I=Object(j.a)().t,S=Object(f.useState)([]),P=Object(i.a)(S,2),T=P[0],N=P[1],R=Object(g.c)().tasks_GetUserTaskLastKnownActivityRecords,M=Object(x.c)().authenticatedUser,A=Object(y.c)().isFeatureSupported,D=Object(f.useCallback)(Object(c.a)(r.a.mark((function e(){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(y.a.UserTasksActivityTracking)){e.next=2;break}return e.abrupt("return",[]);case 2:return e.prev=2,e.next=5,R({taskId:t});case 5:return c=e.sent,e.abrupt("return",c.filter((function(e){return(!n||e.activityName===n)&&(!a||e.userId!==(null===M||void 0===M?void 0:M.sub)&&e.email!==(null===M||void 0===M?void 0:M.email))&&Object(k.a)(new Date,Object(C.default)(e.timestamp))<=60})));case 9:return e.prev=9,e.t0=e.catch(2),console.error("Error trying to record user task activity."),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),[A,R,t,n,a,null===M||void 0===M?void 0:M.sub,null===M||void 0===M?void 0:M.email]);return Object(f.useEffect)((function(){Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t||N([]),e.next=3,D();case 3:n=e.sent,N(n);case 5:case"end":return e.stop()}}),e)})))()}),[t,N,D]),T&&!Object(d.a)(T)&&Object(w.jsxs)(l.a,{defaultExpanded:!0,children:[Object(w.jsx)(o.a,{expandIcon:Object(w.jsx)(u.a,{}),children:Object(w.jsx)(v.a,{variant:"h5",color:s?"error":"inherit",children:s?"".concat(I("Warning"),": ").concat(I("AnotherUserCouldBeWorkingOnTheSameTask")):I("RecentUserTaskActivityRecords")})}),Object(w.jsx)(p.a,{children:T.map((function(e){var t;return Object(w.jsx)(b.a.Fragment,{children:Object(w.jsx)(m.a,{children:Object(w.jsx)(h.a,{primary:null!==(t=e.email)&&void 0!==t?t:e.userId,secondary:Object(w.jsx)(O.a,{datetime:e.timestamp})})})},e.id)}))})]})||null}},393:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(426),r=n(80);function c(e,t){Object(r.a)(2,arguments);var n=Object(a.a)(e,t)/6e4;return n>0?Math.floor(n):Math.ceil(n)}},440:function(e,t,n){"use strict";n.r(t),n.d(t,"TasksViewResponseEditorModal",(function(){return R}));var a=n(2),r=n(5),c=n.n(r),i=n(32),o=n(1),s=n(3),u=n(912),l=n(909),d=n(2419),f=n(2435),b=n(2425),j=n(2424),v=n(927),p=n(935),O=n(2495),m=n(2468),h=n(245),g=n(2492),x=n(97),y=n(160),k=n(328),C=n(123),w=n(114),I=n(347),S=n(180),P=n(392),T=n(31),N=Object(u.a)((function(e){return Object(l.a)({dialogPaper:{minHeight:"98%",minWidth:"98%"},dialogContent:{},grow:{flexGrow:1},content:{padding:"8px 24px","&:first-child":{paddingTop:20}}})}));var R=function(e){var t=e.task,n=e.contextType,r=e.responseType,u=e.open,l=e.taskGroupSize,R=void 0===l?1:l,M=e.onAddResponse,A=e.onClose,D=N(),z=Object(O.a)().t,E=Object(h.b)().enqueueSnackbar,L=Object(S.a)(),F=Object(x.c)().tasks_BuildInitialResponsePayload,U=Object(s.useState)(),B=Object(o.a)(U,2),_=B[0],W=B[1],V=Object(s.useState)(),$=Object(o.a)(V,2),H=$[0],G=$[1],J=Object(s.useRef)(),K=Object(g.a)(Object(i.a)(c.a.mark((function e(){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},!(null===r||void 0===r?void 0:r.jsInitialPayloadBuilder)){e.next=14;break}return e.prev=2,e.next=5,F({contextId:t.contextId,contextTypeName:t.contextTypeName,responseTypeName:r.name,taskTypeName:t.typeName});case 5:(a=e.sent).defined&&(n=a.payload),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(2),Z(z("ServerErrorInitializingResponsePayload"),e.t0),A(!0),e.abrupt("return");case 14:W(n);case 15:case"end":return e.stop()}}),e,null,[[2,9]])}))),[]),q=K.loading,Y=K.error,Z=Object(s.useCallback)((function(e,t){!function(e){var t;if(null==(null===e||void 0===e?void 0:e.response))return!1;var n=null===(t=JSON.parse(null===e||void 0===e?void 0:e.response))||void 0===t?void 0:t.detail;return"string"===typeof n&&n.startsWith("Active")}(t)?L(e,t):E(z("TaskIsNoLongerActive"),{variant:"warning",action:Object(T.jsx)(p.a,{onClick:function(){A(!0)},children:z("Refresh")})})}),[E,z,A,L]),Q=Object(s.useCallback)(Object(i.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&!(J.current&&J.current.length>0)){e.next=2;break}return e.abrupt("return");case 2:n="".concat(t.title,": ").concat(Object(C.h)(r)),M(_,H).catch((function(e){Z(z("ErrorSendingResponse",{description:n}),e)})),A(!1);case 5:case"end":return e.stop()}}),e)}))),[t,r,M,_,A,Z,H,z]),X=Object(s.useCallback)((function(e){e.errors&&e.errors.length>0?Object(y.a)(e.errors.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{instancePath:e.dataPath})}))):W(e.data),J.current=Object(m.a)(e.errors)}),[W]),ee=Object(s.useMemo)((function(){if(t&&n)return Object(k.b)(n,t.typeName,r.name)}),[t,n,r]),te=Object(s.useMemo)((function(){var e;if(t&&n){var a=r?null===(e=Object(C.i)(r))||void 0===e?void 0:e.uiSchema:void 0;return a?JSON.parse(a):void 0}}),[t,n,r]),ne=Object(s.useMemo)((function(){if(t&&_)return{task:t,payload:_}}),[t,_]);Object(s.useEffect)((function(){q||G(new Date)}),[q]);var ae=Object(s.useCallback)((function(e,t){"backdropClick"!==t&&A(!1)}),[A]),re=Object(s.useMemo)((function(){var e,t=null===(e=Object(C.i)(n))||void 0===e?void 0:e.uiSchemaCommon;if(t)return JSON.parse(t)}),[n]);return q?Object(T.jsx)(w.a,{}):Y||!_?null:Object(T.jsxs)(d.a,{open:u,onClose:ae,maxWidth:"xl",fullWidth:!0,classes:{paper:D.dialogPaper},children:[Object(T.jsxs)(j.a,{disableTypography:!0,children:[Object(T.jsxs)(v.a,{component:"h2",variant:"h6",children:[null===t||void 0===t?void 0:t.title," ",R>1?z("AndNOtherResponses",{othersCount:R-1}):""]}),Object(T.jsx)(v.a,{variant:"subtitle1",children:Object(C.g)(r)})]}),Object(T.jsxs)(b.a,{className:D.dialogContent,children:[q&&Object(T.jsx)(w.a,{}),!!t&&!q&&!Y&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(P.a,{taskId:null===t||void 0===t?void 0:t.id,otherUsers:!0,warning:!0,activityName:"UserStartedNewTaskResponse"}),Object(T.jsx)(I.a,{schema:ee,uischema:te,data:_,onChange:X,context:ne,uiSchemaLibrary:re})]})]}),Object(T.jsxs)(f.a,{children:[!!t&&Object(T.jsx)(p.a,{onClick:Q,disabled:q||!!Y,color:"primary",children:z("Accept")}),Object(T.jsx)(p.a,{onClick:function(){return A(!1)},color:"primary",children:z("Cancel")})]})]})};t.default=R},458:function(e,t){},463:function(e,t,n){"use strict";var a=n(73),r=n(76);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(3)),i=(0,a(n(77)).default)(c.createElement("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"}),"AssignmentInd");t.default=i},464:function(e,t,n){"use strict";var a=n(73),r=n(76);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(3)),i=(0,a(n(77)).default)(c.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=i},465:function(e,t,n){"use strict";var a=n(73),r=n(76);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(3)),i=(0,a(n(77)).default)(c.createElement("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");t.default=i},466:function(e,t,n){"use strict";var a=n(73),r=n(76);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(3)),i=(0,a(n(77)).default)(c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=i},467:function(e,t,n){"use strict";var a=n(73),r=n(76);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(3)),i=(0,a(n(77)).default)(c.createElement("path",{d:"M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7z"}),"KeyboardReturn");t.default=i},478:function(e,t,n){"use strict";n.d(t,"a",(function(){return nn}));var a=n(2),r=n(5),c=n.n(r),i=n(32),o=n(1),s=n(18),u=n(3),l=n.n(u),d=n(912),f=n(909),b=n(926),j=n(949),v=n(181),p=n.n(v),O=n(2495),m=n(0),h=n(15),g=n(19),x=n(99),y=n(35),k=n(2383),C=n(1300),w=n(81),I=n(97),S=n(123),P=n(121),T=n(201),N=n(117),R=n(31),M=function(){throw new Error("You forgot to wrap your component in <TasksViewTaskServiceProvider>.")},A={task:{},addResponse:M,refreshTasks:M,taskBlocked:!1},D=Object(u.createContext)(A),z=Object(y.c)({key:"taskBlockedState",default:!1}),E=(D.Consumer,n(423)),L=n(250),F=n(223),U=function(){throw new Error("You forgot to wrap your component in <TasksViewServiceProvider>.")},B=Object.freeze({data:[],page:0,totalCount:0,activityRecords:[]}),_=Object.freeze({}),W={data:B,contextTypes:_,currentState:{currentPage:0,pageSize:0},updateTask:U,refreshTasks:U,addResponse:U,setCurrentState:U,canCreateReponses:U,canReassignUsers:U,canCreateResponsesTo:U,getColumnCandidates:U,taskResponseStarted:U,taskResponseClosed:U},V=Object(u.createContext)(W),$=function e(t,n){switch(t.type){case"or":case"and":return Object(g.a)({},"$".concat(t.type),t.filters.map((function(t){return e(t,n)})));case"boolean":case"textMatch":case"selection":return Object(w.isPresent)(t.value)?{$eq:["$".concat(n),t.value]}:{$in:[{$type:"$".concat(n)},["missing","null"]]};case"prefixTextMatch":return{$regexMatch:{input:"$".concat(n),regex:"^".concat(t.prefix,".*")}};case"dateRange":var a=[];return Object(w.isPresent)(t.from)&&a.push(Object(g.a)({},t.includeFrom?"$gte":"$gt",["$".concat(n),{$dateFromString:{dateString:t.from}}])),Object(w.isPresent)(t.to)&&a.push({$lt:["$".concat(n),{$dateFromString:{dateString:t.includeTo?(c=new Date(t.to),new Date(c.getFullYear(),c.getMonth(),c.getDate(),24)).toISOString():t.to}}]}),a;case"numberRange":var r=[];return Object(w.isPresent)(t.from)&&r.push(Object(g.a)({},t.includeFrom?"$gte":"$gt",["$".concat(n),t.from])),Object(w.isPresent)(t.to)&&r.push(Object(g.a)({},t.includeTo?"$lte":"$lt",["$".concat(n),t.to])),r;default:return}var c},H=function(e){for(var t=[],n=0,a=Object.entries(e);n<a.length;n++){var r=Object(o.a)(a[n],2),c=r[0],i=r[1];if(i){var s=$(i,c);Array.isArray(s)?t.push.apply(t,Object(h.a)(s)):t.push(s)}}return{$match:{$expr:1===t.length?t[0]:{$and:t}}}},G=function(e,t){var n=[{$set:{id:"$_id"}},{$unset:"_id"}];t&&n.push(H(t)),e.filters&&Object.keys(e.filters).length>0&&n.push(H(e.filters)),e.sortInfo&&n.push({$sort:Object(g.a)({},e.sortInfo.column,"desc"===e.sortInfo.direction?-1:1)});var a=[];return e.currentPage>0&&a.push({$skip:e.currentPage*e.pageSize}),a.push({$limit:e.pageSize}),n.push({$facet:{data:a,totalCount:[{$count:"count"}]}}),n.push({$project:{data:1,totalCount:{$arrayElemAt:[{$map:{input:"$totalCount",as:"cnt",in:"$$cnt.count"}},0]}}}),n},J=function(e){var t=e.initialState,n=e.enforcedFilter,r=Object(I.c)(),s=r.tasks_Aggregate,l=r.tasks_Update,d=r.tasks_AddResponse,f=r.contextTypes_FindOne,b=r.tasks_RecordActivity,j=r.tasks_GetUserTaskLastKnownActivityRecords,v=Object(N.c)().authenticatedUser,p=Object(u.useRef)([]),O=Object(u.useState)(t),h=Object(o.a)(O,2),g=h[0],S=h[1],P=Object(u.useRef)(B),T=Object(u.useRef)(_),M=Object(E.a)().can,A=Object(u.useState)(0),D=Object(o.a)(A,2),U=D[0],W=D[1],$=Object(F.c)().isFeatureSupported,J=Object(x.a)(["/Tasks/Search",g],Object(i.a)(c.a.mark((function e(){var t,a,r,i,o,u,l,d,b,v,p,O,h,x;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=G(g,n),e.next=3,s({stages:t});case 3:if(a=e.sent,r=a[0],i=r.data,o=r.totalCount,!$(F.a.UserTasksActivityTracking)){e.next=11;break}return e.next=8,j({});case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=[];case 12:return u=e.t0,l={data:i,page:g.currentPage,totalCount:o,activityRecords:u},d=Object(k.a)(i.map((function(e){return e.contextTypeName}))),e.next=17,Promise.allSettled(d.map((function(e){return f({name:e})})));case 17:b=e.sent,v={},p=Object(m.a)(b);try{for(p.s();!(O=p.n()).done;)"fulfilled"===(h=O.value).status&&(x=h.value)&&(v[x.name]=x)}catch(c){p.e(c)}finally{p.f()}return P.current=l,T.current=v,e.abrupt("return",{data:l,contextTypes:v});case 24:case"end":return e.stop()}}),e)}))),{revalidateOnFocus:!1}),K=J.data,q=(K=void 0===K?{}:K).data,Y=K.contextTypes,Z=J.mutate,Q=Object(u.useCallback)(Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:return t=e.sent,S((function(e){return Object(a.a)({},e)})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),[Z]),X=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,i,s,u,d,f,b,j,v,O,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(e){for(var t=0,a=Object.entries(n);t<a.length;t++){var r=Object(o.a)(a[t],2),c=r[0],i=r[1];if(!Object(C.a)(e[c],i))return!0}return!1},i=!1,Z((function(e){if(e){var c=e.data.data.map((function(e){return e.id!==t.id?e:(i=r(e),Object(a.a)(Object(a.a)({},e),n))}));return i?Object(a.a)(Object(a.a)({},e),{},{data:Object(a.a)(Object(a.a)({},e.data),{},{data:c})}):e}}),!1),i){e.next=5;break}return e.abrupt("return");case 5:for(s={},u={},d=0,f=Object.entries(n);d<f.length;d++)b=Object(o.a)(f[d],2),j=b[0],v=b[1],(Object(w.isPresent)(v)?s:u)[j]=null!==v&&void 0!==v?v:"";O=[],Object.keys(s).length>0&&O.push({$set:s}),Object.keys(u).length>0&&O.push({$unset:u}),m=l({id:t.id,update:O,returnTask:!0}),p.current.push(m),m.finally((function(){var e=p.current.indexOf(m);e>=-1&&p.current.splice(e,1)})).then((function(e){e.task&&!r(e.task)||Z(),W((function(e){return e+1}))})).catch((function(){return Z()}));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[Z,l]),ee=Object(y.d)((function(e){var t=e.set;return function(){var e=Object(i.a)(c.a.mark((function e(n,a,r,i){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(z(n.id),!0),e.prev=1,e.next=4,d({contextId:n.contextId,contextTypeName:n.contextTypeName,taskTypeName:n.typeName,responseTypeName:a.name,payload:r,startedOn:null===i||void 0===i?void 0:i.toISOString(),sentOn:(new Date).toISOString(),sentBy:null===v||void 0===v?void 0:v.name});case 4:return e.next=6,Q();case 6:return e.prev=6,t(z(n.id),!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[1,,6,9]])})));return function(t,n,a,r){return e.apply(this,arguments)}}()}),[Q,d,null===v||void 0===v?void 0:v.name]),te=Object(u.useCallback)((function(){return M([L.b.sendTaskResponses])}),[M]),ne=Object(u.useCallback)((function(){return M([L.b.manageTasks,L.b.readUsers])}),[M]),ae=Object(u.useCallback)((function(e){return te()&&(e.assignedTo===(null===v||void 0===v?void 0:v.name)||e.assignedTo===(null===v||void 0===v?void 0:v.email)||"*"===e.assignedTo)}),[te,v]),re=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t,a){var r,i,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.filterCandidates,!Array.isArray(r)){e.next=3;break}return e.abrupt("return",r);case 3:return i=[],o=!!a&&Object.keys(a).length>0,(n||o)&&(i.push({$set:{name:"$_id"}},{$unset:"_id"}),n&&i.push(H(n)),o&&i.push(H(a))),i.push({$group:{_id:"$"+t.field,value:{$sum:1}}},{$set:{name:"$_id"}},{$unset:"_id"},{$sort:{name:1}}),e.next=9,s({stages:i});case 9:return u=e.sent,U.toString(),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,U,s]),ce=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($(F.a.UserTasksActivityTracking)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,b({taskId:t.id,activityName:"UserStartedNewTaskResponse",responseTypeName:n.name});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("Error trying to record user task activity.");case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}(),[$,b]),ie=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($(F.a.UserTasksActivityTracking)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,b({taskId:t.id,activityName:"UserClosedTaskResponse",responseTypeName:n.name});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("Error trying to record user task activity.");case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}(),[$,b]),oe=Object(u.useMemo)((function(){return{data:null!==q&&void 0!==q?q:P.current,contextTypes:null!==Y&&void 0!==Y?Y:T.current,updateTask:X,refreshTasks:Q,addResponse:ee,currentState:g,setCurrentState:S,canCreateReponses:te,canReassignUsers:ne,canCreateResponsesTo:ae,getColumnCandidates:re,taskResponseStarted:ce,taskResponseClosed:ie}}),[ee,te,ae,ne,Y,g,q,re,Q,X,ce,ie]);return Object(R.jsx)(V.Provider,{value:oe,children:e.children})},K=(V.Consumer,function(){return Object(u.useContext)(V)}),q=n(251),Y=n(713),Z=n(960),Q=n(2440),X=n(2446),ee=n(464),te=n.n(ee),ne=n(465),ae=n.n(ne),re=n(467),ce=n.n(re),ie=n(340),oe=n.n(ie),se=n(466),ue=n.n(se),le=n(33),de=n(34),fe=Object(de.a)((function(e,t){var n,a=Number(t),r=0;if(a<0||isNaN(a))throw new RangeError("n must be a non-negative number");for(n=new Array(a);r<a;)n[r]=e(r),r+=1;return n})),be=n(279),je=function(e){var t=new Date(e);return t.getFullYear()<=1?"":Intl.DateTimeFormat(void 0,{dateStyle:"short",timeStyle:"short"}).format(t)},ve=n(320),pe=n(147),Oe=n(2468),me=n(509),he=n(200),ge=Object(he.a)(Object(me.a)("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)})))(0,-1),xe=n(2496),ye=function(){throw new Error("You forgot to wrap your component in <TasksViewGroupServiceProvider>.")},ke={representativeTask:{},tasks:[],addResponse:ye,updateAssignedTo:ye},Ce=Object(u.createContext)(ke),we=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.jsInitialPayloadBuilder){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.next=4,a({contextId:t.contextId,contextTypeName:t.contextTypeName,responseTypeName:n.name,taskTypeName:t.typeName});case 4:if(!(r=e.sent).defined){e.next=7;break}return e.abrupt("return",r.payload);case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ie=function e(t,n,a,r){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!c.includes(n))if(c.push(n),t===n)r.push(a);else if("object"===typeof n&&null!==n&&"object"===typeof t&&null!==t)for(var i=0,o=Object.keys(n);i<o.length;i++){var s=o[i];e(t[s],n[s],[].concat(Object(h.a)(a),[s]),r,c)}},Se=function(e,t,n){var a,r=Object(Oe.a)(e),c=Object(m.a)(n);try{for(c.s();!(a=c.n()).done;){var i,o,s=a.value,u=t,l=r,d=Object(m.a)(ge(s));try{for(d.s();!(o=d.n()).done;){var f,b=o.value;l=r[b],u=null===(f=u)||void 0===f?void 0:f[b]}}catch(j){d.e(j)}finally{d.f()}l[Object(xe.a)(s)]=null===(i=u)||void 0===i?void 0:i[Object(xe.a)(s)]}}catch(j){c.e(j)}finally{c.f()}return r},Pe=function(e){var t=e.tasks,n=e.children,a=Object(I.c)(),r=a.tasks_AddResponse,s=a.tasks_BuildInitialResponsePayload,l=a.tasks_UpdateMany,d=Object(N.c)().authenticatedUser,f=K().refreshTasks,b=Object(u.useMemo)((function(){if(0===t.length)throw new Error("tasks.length === 0");return t[0]}),[t]),j=function(e){var t=Object(I.c)().contextTypes_FindOne,n=Object(x.a)("/ContextType/".concat(e),Object(i.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t({name:e});case 2:return a=n.sent,n.abrupt("return",a);case 4:case"end":return n.stop()}}),n)}))),{revalidateOnFocus:!1}),a=n.data,r=n.isValidating,o=n.mutate,s=n.error;return Object(u.useMemo)((function(){return{contextType:a,isValidating:r,error:s,mutate:o}}),[a,r,o,s])}(b.contextTypeName).contextType,v=Object(u.useMemo)((function(){var e,t=null===j||void 0===j?void 0:j.tasks.find((function(e){return e.name===b.typeName})),n=[];if(t){var a,r=null===(a=Object(S.i)(t))||void 0===a?void 0:a.taskDetailsTemplate;r&&(e=Object(P.a)(r,{task:b})),t.validResponses&&(n=t.validResponses)}return[n,e]}),[j,b]),p=Object(o.a)(v,2),O=p[0],h=p[1],g=Object(y.d)((function(e){var n=e.set;return function(){var e=Object(i.a)(c.a.mark((function e(a,o){var u,l,j,v,p,O,h,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){return(l=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(t,a,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},u=function(e){return l.apply(this,arguments)},e.next=4,u(b);case 4:j=e.sent,Ie(o,j,[],v=[]),p=[],O=Object(m.a)(t),e.prev=9,g=c.a.mark((function e(){var t,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=h.value)!==b&&0!==v.length){e.next=5;break}e.t0=o,e.next=12;break;case 5:return e.t1=Se,e.t2=o,e.next=9,u(t);case 9:e.t3=e.sent,e.t4=v,e.t0=(0,e.t1)(e.t2,e.t3,e.t4);case 12:i=e.t0,n(z(t.id),!0),s=r({contextId:t.contextId,contextTypeName:t.contextTypeName,taskTypeName:t.typeName,responseTypeName:a.name,payload:i,sentBy:null===d||void 0===d?void 0:d.name}).catch((function(e){throw n(z(t.id),!1),e})),p.push(s);case 16:case"end":return e.stop()}}),e)})),O.s();case 12:if((h=O.n()).done){e.next=16;break}return e.delegateYield(g(),"t0",14);case 14:e.next=12;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(9),O.e(e.t1);case 21:return e.prev=21,O.f(),e.finish(21);case 24:return e.next=26,Promise.allSettled(p);case 26:f();case 27:case"end":return e.stop()}}),e,null,[[9,18,21,24]])})));return function(t,n){return e.apply(this,arguments)}}()}),[b,s,f,t,r,d]),k=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n?a.push({$set:{assignedTo:n}}):a.push({$unset:{assignedTo:""}}),e.next=4,l({filter:{_id:{$in:t.map((function(e){return e.id}))}},update:a,returnTasks:!1});case 4:f();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f,t,l]),C={representativeTask:b,tasks:t,contextType:j,responses:O,taskDetails:h,addResponse:g,updateAssignedTo:k};return Object(R.jsx)(Ce.Provider,{value:C,children:n})},Te=Ce.Consumer,Ne=n(1314),Re=n(517),Me=n.n(Re),Ae=["response","title","icon"],De=function(e){var t=e.response,n=e.title,r=e.icon,c=Object(s.a)(e,Ae);return Object(R.jsx)(Ne.a,Object(a.a)({icon:null!==r&&void 0!==r?r:Object(R.jsx)(Me.a,{}),label:null!==n&&void 0!==n?n:Object(S.h)(t)},c))},ze=n(440),Ee=Object(d.a)((function(e){return Object(f.a)({responses:{textAlign:"center",marginBottom:10,marginLeft:10},response:{marginRight:5}})})),Le=function(e){var t=e.taskGroupService,n=e.onResponsesAdded,a=Ee(),r=t.representativeTask,s=t.tasks,l=t.responses,d=t.contextType,f=t.addResponse,b=Object(u.useContext)(D).refreshTasks,j=Object(u.useState)(),v=Object(o.a)(j,2),p=v[0],O=v[1],m=Object(u.useCallback)((function(e){O(e)}),[]),h=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(void 0),!t){e.next=4;break}return e.next=4,b();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[b]),g=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(p,t);case 2:null===n||void 0===n||n();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f,n,p]);return l&&d?Object(R.jsxs)("div",{className:a.responses,children:[null===l||void 0===l?void 0:l.map((function(e,t){return Object(R.jsx)(De,{response:e,onClick:function(){return m(e)},className:a.response,variant:"outlined"},t)})),!!p&&Object(R.jsx)(ze.TasksViewResponseEditorModal,{task:r,contextType:d,responseType:p,open:!!p,taskGroupSize:s.length,onAddResponse:g,onClose:h})]}):null},Fe=function(e){var t=e.data,n=e.onResponsesAdded;return Object(R.jsx)(Pe,{tasks:t,children:Object(R.jsx)(Te,{children:function(e){return Object(R.jsx)(Le,{taskGroupService:e,onResponsesAdded:n})}})})},Ue=n(180),Be=n(935),_e=n(2419),We=n(2435),Ve=n(2425),$e=n(2424),He=n(2417),Ge=n(2429),Je=n(463),Ke=n.n(Je),qe=n(1309),Ye=n(1317),Ze=n(929),Qe=["value","onChange","onBlur","users","digitalWorkers","renderInput","freeSolo"],Xe="13rem",et=Object(d.a)((function(e){return Object(f.a)({small:{width:e.spacing(3),height:e.spacing(3)},view:{width:Xe,borderRadius:e.shape.borderRadius,padding:e.spacing(1),overflowX:"hidden","&:hover":{borderWidth:1,borderStyle:"solid",borderColor:e.palette.divider}},textFieldRoot:{width:Xe,"& .MuiInput-root":{fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit"}},container:{position:"relative","&:hover .clear-button":{visibility:"visible"}},clearButton:{position:"absolute",left:-40,top:0,visibility:"hidden"}})}));function tt(e){if(e)switch(e.type){case"any-user":return"*";case"digital-worker":return"dw:".concat(e.digitalWorker.id);case"user":return e.user.email;case"unknown":return e.id}}var nt=function(e){var t;switch(null===e||void 0===e?void 0:e.type){case"any-user":return le.a.t("AnyUser");case"digital-worker":return e.digitalWorker.name;case"user":return null!==(t=e.user.fullName)&&void 0!==t?t:e.user.email;case"unknown":return e.id}return""},at=function(e){var t,n,a=e.taskAssignment,r=e.onClick,c=et();return Object(R.jsxs)(He.a,{container:!0,spacing:1,alignItems:"center",onClick:r,wrap:"nowrap",children:["user"===a.type&&Object(R.jsx)(He.a,{item:!0,children:Object(R.jsx)(j.a,{title:null!==(t=a.user.email)&&void 0!==t?t:"",children:Object(R.jsx)(qe.a,{alt:a.user.fullName,src:null===(n=a.user.props)||void 0===n?void 0:n.Picture,className:c.small})})}),Object(R.jsx)(He.a,{item:!0,xs:!0,children:nt(a)})]})},rt=l.a.forwardRef((function(e,t){var n=e.value,r=e.onChange,c=(e.onBlur,e.users),i=e.digitalWorkers,o=e.renderInput,l=e.freeSolo,d=Object(s.a)(e,Qe),f=et(),b=Object(u.useMemo)((function(){var e=[];if(c){var t=c.filter((function(e){return e.id&&e.email})).map((function(e){return{type:"user",user:e}}));e.push.apply(e,Object(h.a)(t))}if(i){var n=i.filter((function(e){return e.id})).map((function(e){return{type:"digital-worker",digitalWorker:e}}));e.push.apply(e,Object(h.a)(n))}return e.unshift({type:"any-user"}),e}),[c,i]),j=Object(u.useMemo)((function(){return b.find((function(e){switch(e.type){case"any-user":return"any-user"===(null===n||void 0===n?void 0:n.type);case"digital-worker":return"digital-worker"===(null===n||void 0===n?void 0:n.type)&&e.digitalWorker.id===n.digitalWorker.id;case"user":return"user"===(null===n||void 0===n?void 0:n.type)&&e.user.id===n.user.id}return!1}))}),[b,n]),v=Object(u.useCallback)((function(e){e.preventDefault();var t=e.target;setTimeout((function(){return t.setSelectionRange(0,t.value.length)}),0)}),[]);return Object(R.jsx)(Ye.a,Object(a.a)({ref:t,freeSolo:null===l||void 0===l||l,blurOnSelect:!0,options:null!==b&&void 0!==b?b:[],value:j,onChange:function(e,t,n){var a;"object"===typeof t&&"select-option"===n&&(null===r||void 0===r||r(null!==(a=t)&&void 0!==a?a:void 0))},getOptionLabel:function(e){var t;return null!==(t=nt(e))&&void 0!==t?t:""},filterOptions:function(e,t){var n,a=(n=t.inputValue,n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")).toLowerCase();return a?e.filter((function(e){return function(e,t){switch(e.type){case"any-user":return"*"===t;case"digital-worker":var n=e.digitalWorker.name;return n&&n.includes(t);case"user":var a=e.user.fullName,r=e.user.email;return a&&a.includes(t)||r&&r.includes(t)}return!1}(e,a)})):e},renderInput:null!==o&&void 0!==o?o:function(e){return Object(R.jsx)(Ze.a,Object(a.a)(Object(a.a)({},e),{},{autoFocus:!0,margin:"dense",onFocus:v,classes:{root:f.textFieldRoot}}))},renderOption:function(e){return Object(R.jsx)(at,{taskAssignment:e})}},d))})),ct=["data","users","digitalWorkers","onAssignmentChange"],it=Object(d.a)((function(e){return Object(f.a)({grow:{flexGrow:1},assignmentEditorContainer:{justifyContent:"center"}})})),ot=function(e){var t=e.taskGroupService,n=e.users,a=e.digitalWorkers,r=e.open,s=e.onClose,l=e.onChange,d=it(),f=Object(O.a)().t,b=t.updateAssignedTo,j=Object(u.useState)(),v=Object(o.a)(j,2),p=v[0],m=v[1],h=Object(Ue.a)(),g=Object(u.useCallback)((function(e){m(e)}),[]),x=Object(u.useCallback)(Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b(tt(p));case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),h(f("CouldNotAssignUser"),e.t0),e.abrupt("return");case 9:null===l||void 0===l||l(tt(p)),s();case 11:case"end":return e.stop()}}),e,null,[[0,5]])}))),[l,s,h,p,f,b]),y=Object(u.useCallback)(Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b(void 0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),h(f("CouldNotClearAssignments"),e.t0),e.abrupt("return");case 9:null===l||void 0===l||l(void 0),s();case 11:case"end":return e.stop()}}),e,null,[[0,5]])}))),[l,s,h,f,b]),k=Object(u.useCallback)((function(e,t){"backdropClick"!==t&&(null===s||void 0===s||s())}),[s]);return Object(R.jsxs)(_e.a,{open:r,onClose:k,maxWidth:"sm",fullWidth:!0,children:[Object(R.jsx)($e.a,{children:f("AssigningUser")}),Object(R.jsx)(Ve.a,{className:d.assignmentEditorContainer,children:Object(R.jsxs)(He.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:[Object(R.jsx)(He.a,{item:!0,children:Object(R.jsx)(Ge.a,{children:f("User")})}),Object(R.jsx)(He.a,{item:!0,xs:6,children:Object(R.jsx)(rt,{users:n,digitalWorkers:a,value:p,onChange:g})})]})}),Object(R.jsxs)(We.a,{children:[Object(R.jsx)(Be.a,{onClick:y,color:"primary",children:f("ClearAssignments")}),Object(R.jsx)("div",{className:d.grow}),Object(R.jsx)(Be.a,{onClick:x,color:"primary",disabled:!p,children:f("Accept")}),Object(R.jsx)(Be.a,{onClick:s,color:"primary",children:f("Cancel")})]})]})},st=function(e){var t=e.data,n=e.users,r=e.digitalWorkers,c=e.onAssignmentChange,i=Object(s.a)(e,ct),l=Object(O.a)().t,d=Object(u.useState)(!1),f=Object(o.a)(d,2),b=f[0],j=f[1],v=Object(u.useCallback)((function(){j(!0)}),[]),p=Object(u.useCallback)((function(){j(!1)}),[]),m=Object(u.useCallback)((function(e){null===c||void 0===c||c(e)}),[c]);return Object(R.jsx)(Pe,{tasks:t,children:Object(R.jsx)(Te,{children:function(e){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Ne.a,Object(a.a)({icon:Object(R.jsx)(Ke.a,{}),label:l("AssignUser"),clickable:!0,onClick:v,variant:"outlined"},i)),b&&Object(R.jsx)(ot,{taskGroupService:e,users:n,digitalWorkers:r,open:b,onClose:p,onChange:m})]})}})})},ut=n(2415),lt=n(278),dt=n.n(lt),ft=["value","onChange","users","digitalWorkers"],bt=Object(d.a)((function(e){return Object(f.a)({view:{width:"13rem",borderRadius:e.shape.borderRadius,padding:e.spacing(1),overflowX:"hidden",borderWidth:1,borderStyle:"solid",borderColor:"transparent","&:hover":{borderColor:e.palette.divider}},container:{position:"relative","&:hover .clear-button":{visibility:"visible"}},clearButton:{position:"absolute",left:-40,top:0,visibility:"hidden"}})})),jt=function(e){var t=e.value,n=e.onChange,r=e.users,l=e.digitalWorkers,d=Object(s.a)(e,ft),f=Object(O.a)().t,j=bt(),v=Object(pe.c)(),p=Object(u.useState)(!1),m=Object(o.a)(p,2),h=m[0],g=m[1],x=Object(u.useMemo)((function(){return t?function(e,t,n){if("*"===e)return{type:"any-user"};if(e.startsWith("dw:")){var a=e.substring(3),r=null===n||void 0===n?void 0:n.find((function(e){return e.id===a}));if(r)return{type:"digital-worker",digitalWorker:r}}else{var c=null===t||void 0===t?void 0:t.find((function(t){return t.id===e||t.email===e}));if(c)return{type:"user",user:c}}return e?{type:"unknown",id:e}:void 0}(t,r,l):void 0}),[t,r,l]),y=Object(u.useCallback)((function(){g(!0)}),[g]),k=Object(u.useCallback)((function(){g(!1)}),[g]),C=Object(u.useCallback)((function(e){"Escape"===e.key&&g(!1)}),[g]),w=Object(u.useCallback)((function(e){g(!1),null===n||void 0===n||n(e?tt(e):void 0)}),[n]),I=Object(u.useCallback)(Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),t=nt(x),e.next=4,v({description:f("ConfirmClearAssignment",{name:t})});case 4:e.sent&&(null===n||void 0===n||n(void 0));case 6:case"end":return e.stop()}}),e)}))),[n,x,v,f]);return h?Object(R.jsx)(ut.a,{onClickAway:k,children:Object(R.jsx)(rt,Object(a.a)({value:x,onChange:w,users:r,digitalWorkers:l,onKeyUp:C,disableClearable:!0},d))}):Object(R.jsxs)("div",{className:j.container,children:[Object(R.jsx)("div",{className:j.view,children:Object(R.jsx)(at,{taskAssignment:null!==x&&void 0!==x?x:{type:"unknown",id:null!==t&&void 0!==t?t:"\xa0"},onClick:y})}),!!t&&Object(R.jsx)(b.a,{onClick:I,className:"".concat(j.clearButton," clear-button"),children:Object(R.jsx)(dt.a,{})})]})},vt=n(68),pt=n(993),Ot=["family","className"],mt=function(e){switch(e){case"Outlined":return"material-icons-outlined";case"Rounded":return"material-icons-round";case"Sharp":return"material-icons-sharp";case"Two tone":return"material-icons-two-tone";default:return}},ht=function(e){var t=e.family,n=e.className,r=Object(s.a)(e,Ot);return Object(R.jsx)(pt.a,Object(a.a)({className:Object(vt.default)(mt(t),n)},r))},gt=n(268),xt=n(114),yt=n(393),kt=n(516),Ct=n(243),wt={padding:"dense",showSelectAllCheckbox:!1,search:!1},It=function(e){var t,n={currentPage:e.page,pageSize:e.pageSize};if(e.filters&&e.filters.length>0){n.filters={};var a,r=Object(m.a)(e.filters);try{for(r.s();!(a=r.n()).done;){var c=a.value;n.filters[c.column.field]=null===c||void 0===c?void 0:c.value}}catch(i){r.e(i)}finally{r.f()}}return(null===(t=e.orderBy)||void 0===t?void 0:t.field)&&(n.sortInfo={column:e.orderBy.field,direction:e.orderDirection}),n},St=function(e){return function(t,n){Array.isArray(n)&&(n=n[0]),e(n)}},Pt=function(){return Object(R.jsx)(te.a,{})},Tt=function(){return Object(R.jsx)(ae.a,{})},Nt=Object(u.lazy)((function(){return n.e(21).then(n.bind(null,2477))})),Rt=l.a.memo((function(e){var t=e.columns,n=e.pageSizeOptions,r=e.initialState,s=e.allowResponseCreation,l=e.allowTaskReassignment,d=e.allowFocusing,f=e.onResponseRequested,b=K(),j=b.data,v=b.contextTypes,g=b.canCreateResponsesTo,y=b.currentState,k=b.setCurrentState,w=b.refreshTasks,M=b.updateTask,A=Object(O.a)().t,D=Object(Ue.a)(),z=Object(u.useRef)(),E=Object(u.useState)(),F=Object(o.a)(E,2),U=F[0],_=F[1],W=Object(u.useRef)(),V=Object(u.useRef)(),$=Object(u.useRef)(),H=Object(u.useRef)(),G=Object(u.useCallback)((function(e){_(e),W.current=e}),[]),J=Object(pe.c)(),ee=function(e){var t=Object(I.c)().users_GetUsersWithPermission,n=Object(T.a)(t,L.b.readTasks,e),a=Object(x.a)(n,Object(i.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",[]);case 2:return n.next=4,t({action:L.b.readTasks,pageSize:100,pageNumber:0});case 4:return a=n.sent,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})))),r=a.data,o=a.isValidating,s=a.mutate,l=a.error;return Object(u.useMemo)((function(){return{users:null!==r&&void 0!==r?r:[],isValidating:o,error:l,mutate:s}}),[r,o,s,l])}(l).users,te=function(e){var t=Object(I.c)().digitalWorkers_SearchData,n=Object(T.a)(t,e),a=Object(x.a)(n,Object(i.a)(c.a.mark((function n(){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",[]);case 2:return n.next=4,t({active:!0});case 4:return a=n.sent,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})))),r=a.data,o=a.isValidating,s=a.mutate,l=a.error;return Object(u.useMemo)((function(){return{digitalWorkers:null!==r&&void 0!==r?r:[],isValidating:o,error:l,mutate:s}}),[r,o,s,l])}(l).digitalWorkers,ne=Object(u.useState)(),ae=Object(o.a)(ne,2),re=ae[0],ie=ae[1],se=function(){var e=Object(be.usePopupState)({variant:"popover",popupId:"actionMenu"}),t=Object(u.useState)(),n=Object(o.a)(t,2),a=n[0],r=n[1],c=Object(u.useState)(),i=Object(o.a)(c,2),s=i[0],l=i[1],d=Object(u.useCallback)((function(t,n,a){for(var c=t.target;c&&!(c instanceof HTMLElement);)c=c.parentNode;if(c){var i=a.tasks.find((function(e){return e.name===n.typeName}));(null===i||void 0===i?void 0:i.validResponses)&&l(i.validResponses),r(n),setTimeout((function(){e.open(c)}),0)}}),[e]),f=Object(u.useCallback)((function(){e.close(),r(void 0),l(void 0)}),[e]);return{popupState:e,openMenu:d,closeMenu:f,currentTask:a,responseTypes:s}}(),de=se.popupState,Oe=se.openMenu,me=se.closeMenu,he=se.currentTask,ge=se.responseTypes,xe=Object(N.c)().authenticatedUser,ye=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(t,{assignedTo:n});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),D(A("TaskAssignmentFailed"),e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),[D,A,M]),ke=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(t,{focused:!t.focused});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),D(A("TaskAssignmentFailed"),e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[D,A,M]),Ce=Object(u.useMemo)((function(){return t.map((function(e){var t,n,a,c={field:e.field,title:null!==(t=e.title)&&void 0!==t?t:A(e.field.toUpperCase()[0]+e.field.substring(1)),sorting:"focused"!==e.field&&(null===(n=e.allowSorting)||void 0===n||n),hidden:e.hidden};return"dueDate"===e.field&&(c.render=function(e){return e.dueDate?je(e.dueDate):""}),"dateCreated"===e.field&&(c.render=function(e){return e.dateCreated?je(e.dateCreated):""}),"assignedTo"===e.field&&l&&(c.render=function(e){return Object(R.jsx)(jt,{value:e.assignedTo,users:ee,digitalWorkers:te,onChange:function(t){return ye(e,t)}})}),"typeName"===e.field&&(c.render=function(e){return A(e.typeName,{ns:gt.b})}),"contextTypeName"===e.field&&(c.render=function(e){return A(e.contextTypeName,{ns:gt.b})}),(null===r||void 0===r||null===(a=r.sortInfo)||void 0===a?void 0:a.column)===e.field&&(c.defaultSort=r.sortInfo.direction),c}))}),[l,t,te,ye,r.sortInfo,A,ee]);Object(u.useEffect)((function(){Object(C.a)(H.current,y.filters)||(H.current=y.filters,t.forEach((function(e,t){var n,a;null===(n=z.current)||void 0===n||n.onFilterChange(t,null===(a=y.filters)||void 0===a?void 0:a[e.field])})))}),[t,y.filters]),Object(u.useEffect)((function(){var e;(V.current=j,$.current)?$.current(j):null===(e=z.current)||void 0===e||e.onQueryChange()}),[j]);var we=Object(u.useCallback)((function(e,t){if(0===e.length)G(void 0),W.current=void 0;else{var n={taskTypeName:e[0].typeName,contextTypeName:e[0].contextTypeName,selectedTasks:e};G(n)}}),[G]),Ie=Object(u.useCallback)((function(){G(void 0)}),[G]),Se=Object(u.useCallback)((function(e,t){G(void 0)}),[G]),Pe=Object(u.useCallback)((function(e){}),[]),Te=Object(u.useCallback)((function(e){ie(e)}),[]),Ne=Object(u.useCallback)((function(e){if(me(),he){var t=v[he.contextTypeName];null===f||void 0===f||f(t,he,e)}}),[me,v,he,f]),Re=Object(u.useMemo)((function(){var e={onChange:function(e,t){var n=z.current,a=null===n||void 0===n?void 0:n.dataManager;a&&(0===a.selectedCount&&s?J({title:null,description:le.a.t("SelectAtLeastOneRowToDetermineType"),cancellationButtonProps:{style:{display:"none"}}}):(a.changeAllSelected(t),n.setState(a.getRenderState(),(function(){return n.onSelectionChange()}))))}};return Object(a.a)(Object(a.a)({},wt),{},{selectionProps:function(e){if(!s)return{};var t=W.current,n=!!t&&(t.taskTypeName!==e.typeName||t.contextTypeName!==e.contextTypeName)||!g(e);return e.tableData.disabled=n,{disabled:n}},headerSelectionProps:e,selection:s||l,showSelectAllCheckbox:s||l,pageSizeOptions:n,pageSize:y.pageSize,initialPage:r.currentPage})}),[s,l,n,y.pageSize,r.currentPage,g,J]),Me=Object(u.useMemo)((function(){var e,t=[(e=function(){return w()},{icon:p.a,tooltip:le.a.t("RefreshData"),isFreeAction:!0,onClick:e})];return d&&t.push({action:function(e){return function(e,t){return{icon:e.focused?Tt:Pt,tooltip:le.a.t(e.focused?"Unfocus":"Focus"),onClick:St(t)}}(e,(function(){return ke(e)}))},position:"row"}),s&&(t.push({action:function(e){return function(e,t,n,a,r){var c,i,o=null===t||void 0===t?void 0:t.tasks.find((function(t){return t.name===e.typeName})),s=o?null===(c=Object(S.i)(o))||void 0===c?void 0:c.taskDetailsTemplate:void 0,u=void 0,l=null!==(i=null===n||void 0===n?void 0:n.filter((function(t){return t.taskId===e.id&&"UserStartedNewTaskResponse"===t.activityName&&t.userId!==(null===a||void 0===a?void 0:a.sub)&&t.email!==(null===a||void 0===a?void 0:a.email)&&Object(yt.a)(new Date,Object(kt.default)(t.timestamp))<=60})))&&void 0!==i?i:[];return s?u=Object(P.a)(s.trimStart().split("\n")[0],{task:e,activityRecords:l}):l.length>0&&(u=l.map((function(e){return"".concat(e.email,": ").concat(Object(Ct.a)(e.timestamp))})).join("; ")),{icon:function(){return Object(R.jsx)(ue.a,{color:0===l.length?"action":"error"})},tooltip:u,onClick:St(r),disabled:!u}}(e,v[e.contextTypeName],j.activityRecords,xe,(function(){Te(e)}))},position:"row"}),t.push.apply(t,Object(h.a)(fe((function(e){return{action:function(t){var n=v[t.contextTypeName];return function(e,t,n,a){var r,c=null===t||void 0===t?void 0:t.tasks.find((function(t){return t.name===e.typeName})),i=null===c||void 0===c?void 0:c.validResponses.filter((function(e){var t;return!!(null===(t=Object(S.i)(e))||void 0===t?void 0:t.icon)}))[n],o=i?null===(r=Object(S.i)(i))||void 0===r?void 0:r.icon:void 0;return{icon:function(){return Object(R.jsx)(ht,{family:null===o||void 0===o?void 0:o.family,children:null===o||void 0===o?void 0:o.name})},tooltip:i?Object(S.h)(i):"",onClick:St((function(e){return a(e,i)})),position:"row",hidden:!i}}(t,n,e,(function(e,t){null===f||void 0===f||f(n,e,t)}))},position:"row"}}),3))),t.push({action:function(e){return function(e,t,n){var a=null===t||void 0===t?void 0:t.tasks.find((function(t){return t.name===e.typeName})),r=!1,c=!1;if(a){var i,o=Object(m.a)(a.validResponses);try{for(o.s();!(i=o.n()).done;){var s,u=i.value;(null===(s=Object(S.i)(u))||void 0===s?void 0:s.icon)?r=!0:c=!0}}catch(l){o.e(l)}finally{o.f()}}return{icon:r?oe.a:ce.a,tooltip:le.a.t(r?"MoreResponses":"SendResponse"),onClick:function(e,a){return n(e,Array.isArray(a)?a[0]:a,t)},position:"row",hidden:!c}}(e,v[e.contextTypeName],(function(e,t,n){Oe(e,t,n)}))},position:"row"})),t}),[d,s,xe,v,j.activityRecords,ke,Te,f,Oe,w]),Ae=Object(u.useMemo)((function(){return{Container:function(e){return Object(R.jsx)("div",Object(a.a)({},e))},Actions:function(e){return U&&Array.isArray(e.data)?Object(R.jsxs)(R.Fragment,{children:[l&&Object(R.jsx)(st,Object(a.a)({onAssignmentChange:Ie,users:ee,digitalWorkers:te},e)),s&&Object(R.jsx)(Fe,Object(a.a)({onResponsesAdded:Ie},e))]}):Object(R.jsx)(q.MTableActions,Object(a.a)({},e))},Toolbar:function(e){return U&&Array.isArray(e.data)?Object(R.jsx)(q.MTableToolbar,Object(a.a)({},e)):Object(R.jsx)("div",{})}}}),[s,l,Ie,te,U,ee]),De=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,k((function(e){var n=It(t);return n.filters=e.filters,(a=!Object(C.a)(e,n))?n:e})),!a){e.next=4;break}return e.abrupt("return",new Promise((function(e,t){$.current=function(t){e(t),$.current=void 0}})));case 4:return e.abrupt("return",Promise.resolve(null!==(n=V.current)&&void 0!==n?n:B));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k]),ze=Object(u.useMemo)((function(){return!!ge&&ge.some((function(e){var t;return!!(null===(t=Object(S.i)(e))||void 0===t?void 0:t.icon)}))}),[ge]);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(ve.a,{tableRef:z,columns:Ce,data:De,options:Re,title:" ",components:Ae,actions:Me,onSelectionChange:we,onPageChange:Se,onRowsPerPageChange:Pe}),Object(R.jsx)(Y.a,Object(a.a)(Object(a.a)({},Object(be.bindMenu)(de)),{},{children:null===ge||void 0===ge?void 0:ge.map((function(e){var t,n,a=null===(t=Object(S.i)(e))||void 0===t?void 0:t.icon;return Object(R.jsxs)(Z.a,{onClick:function(){return Ne(e)},children:[ze&&Object(R.jsx)(X.a,{children:Object(R.jsx)(ht,{fontSize:"small",family:null===a||void 0===a?void 0:a.family,children:null===a||void 0===a?void 0:a.name})}),Object(R.jsx)(Q.a,{primary:null!==(n=Object(S.h)(e))&&void 0!==n?n:""})]},e.name)}))})),!!re&&Object(R.jsx)(u.Suspense,{fallback:Object(R.jsx)(xt.a,{}),children:Object(R.jsx)(Nt,{open:!!re,task:re,contextType:v[re.contextTypeName],onClose:function(){return ie(void 0)}})})]})})),Mt=n(948),At=n(139),Dt=Object(d.a)((function(e){return Object(f.a)({size:{width:"7em"}})})),zt=n(2414),Et=function(e){return Object(R.jsx)(zt.a,Object(a.a)(Object(a.a)({viewBox:"0 0 247.46 247.46"},e),{},{children:Object(R.jsx)("path",{d:"M246.744,13.984c-1.238-2.626-3.881-4.301-6.784-4.301H7.5c-2.903,0-5.545,1.675-6.784,4.301\r c-1.238,2.626-0.85,5.73,0.997,7.97l89.361,108.384v99.94c0,2.595,1.341,5.005,3.545,6.373c1.208,0.749,2.579,1.127,3.955,1.127\r c1.137,0,2.278-0.259,3.33-0.78l50.208-24.885c2.551-1.264,4.165-3.863,4.169-6.71l0.098-75.062l89.366-108.388\r C247.593,19.714,247.982,16.609,246.744,13.984z M143.097,122.873c-1.105,1.34-1.711,3.023-1.713,4.761l-0.096,73.103\r l-35.213,17.453v-90.546c0-1.741-0.605-3.428-1.713-4.771L23.404,24.682h200.651L143.097,122.873z"})}))};function Lt(e,t,n){void 0===t&&(t=0),void 0===n&&(n=[]);var a=function(e,t){void 0===t&&(t=0);var n=Object(u.useRef)(!1),a=Object(u.useRef)(),r=Object(u.useRef)(e),c=Object(u.useCallback)((function(){return n.current}),[]),i=Object(u.useCallback)((function(){n.current=!1,a.current&&clearTimeout(a.current),a.current=setTimeout((function(){n.current=!0,r.current()}),t)}),[t]),o=Object(u.useCallback)((function(){n.current=null,a.current&&clearTimeout(a.current)}),[]);return Object(u.useEffect)((function(){r.current=e}),[e]),Object(u.useEffect)((function(){return i(),o}),[t]),[c,o,i]}(e,t),r=a[0],c=a[1],i=a[2];return Object(u.useEffect)(i,n),[r,c]}var Ft=function(e){var t=e.value,n=e.onChange,a=Object(u.useState)("textMatch"===(null===t||void 0===t?void 0:t.type)?t.value:void 0),r=Object(o.a)(a,2),c=r[0],i=r[1],s=Object(u.useRef)(!1),l=Object(u.useRef)();Object(u.useEffect)((function(){var e;l.current&&!s.current&&(null===t||void 0===t?void 0:t.value)!==c&&(i(null===t||void 0===t?void 0:t.value),l.current.value=null!==(e=null===t||void 0===t?void 0:t.value)&&void 0!==e?e:"")}),[c,t]),Lt((function(){s.current=!1,null===n||void 0===n||n(c?{type:"textMatch",value:c}:void 0)}),2e3,[c,n]);var d=Object(u.useCallback)((function(e){s.current=!0,i(e.target.value)}),[]);return Object(R.jsx)(Ze.a,{value:c,onChange:d,inputRef:l})},Ut=["value","onChange"],Bt=function(e){var t=e.value,n=e.onChange,r=Object(s.a)(e,Ut),c=Object(u.useMemo)((function(){if(t)return{type:"textMatch",value:t.prefix}}),[t]),i=Object(u.useCallback)((function(e){var t=void 0;e&&(t={type:"prefixTextMatch",prefix:e.value}),null===n||void 0===n||n(t)}),[n]);return Object(R.jsx)(Ft,Object(a.a)({value:c,onChange:i},r))},_t=n(413),Wt=function(e){switch(null===e||void 0===e?void 0:e.type){case"boolean":return le.a.t(e.value?"Yes":"No");case"textMatch":return e.value;case"selection":return null!==e.value?e.value:le.a.t("NullValueText");case"prefixTextMatch":return"".concat(e.prefix,"*");case"dateRange":var t="";return Object(w.isPresent)(e.from)?(t+=e.includeFrom?"[":"(",t+=Object(_t.default)(Object(kt.default)(e.from),le.a.t("DATE_FORMAT"))):t+="(-\u221e",t+=", ",Object(w.isPresent)(e.to)?(t+=Object(_t.default)(Object(kt.default)(e.to),le.a.t("DATE_FORMAT")),t+=e.includeTo?"]":")"):t+="\u221e)",t;case"numberRange":var n="";return Object(w.isPresent)(e.from)?(n+=e.includeFrom?"[":"(",n+=e.from):n+="(-\u221e",n+=", ",Object(w.isPresent)(e.to)?(n+=e.to,n+=e.includeTo?"]":")"):n+="\u221e)",n;default:return"??"}},Vt=function(e){var t=e.field,n=e.title,r=e.value,c=e.onClearFilter,i=e.size,o=e.variant,l=Object(s.a)(e,["field","title","value","onClearFilter","size","variant"]),d=Object(u.useCallback)((function(){null===c||void 0===c||c(t)}),[t,c]);return Object(R.jsx)(Ne.a,Object(a.a)({onDelete:d,label:"".concat(n,": ").concat(Wt(r)),size:null!==i&&void 0!==i?i:"small",variant:null!==o&&void 0!==o?o:"outlined"},l))},$t=Object(u.lazy)((function(){return Promise.all([n.e(15),n.e(19)]).then(n.bind(null,2499))})),Ht=Object(u.lazy)((function(){return Promise.all([n.e(4),n.e(20)]).then(n.bind(null,2478))})),Gt={width:20,height:20},Jt=Object(d.a)((function(e){return Object(f.a)({filter:{marginRight:20},filterIconContainer:{position:"relative"},filteringActiveIcon:{position:"absolute",fontSize:12,right:-5,top:-20},filterAppliedIcon:Object(a.a)({fontSize:"1rem",verticalAlign:"text-bottom"},Gt),clearIconContainer:{position:"relative"},clearButton:{position:"absolute",right:-35},appliedFilterMarker:Object(a.a)({display:"inline-block"},Gt),appliedFilterMarkerClearButton:Object(a.a)({padding:0},Gt),chip:{marginRight:5}})})),Kt={contextReference:Bt,title:Bt,assignedTo:Ht,dueDate:$t,contextTypeName:Ht,typeName:Ht,focused:function(e){var t=e.value,n=e.onChange,a=Object(O.a)().t,r=Dt(),c="boolean"===(null===t||void 0===t?void 0:t.type)?!0===t.value?1:0:void 0,i=Object(u.useCallback)((function(e){var t=e.target.value;null===n||void 0===n||n(1===t?{type:"boolean",value:!0}:0===t?{type:"boolean",value:!1}:void 0)}),[n]);return Object(R.jsxs)(Ze.a,{select:!0,value:c,onChange:i,className:r.size,children:[Object(R.jsx)(Z.a,{value:void 0,children:"\xa0"}),Object(R.jsx)(Z.a,{value:1,children:a("Yes")}),Object(R.jsx)(Z.a,{value:0,children:a("No")})]})},status:Ht,dateCreated:$t},qt=function(e){var t,n;return null!==(t=null!==(n=e.title)&&void 0!==n?n:le.a.t(e.field.toUpperCase()[0]+e.field.substring(1)))&&void 0!==t?t:""},Yt=function(e){var t,n=e.columns,r=Jt(),s=K(),l=s.currentState,d=s.setCurrentState,f=s.getColumnCandidates,b=Object(u.useState)(n[0]),j=Object(o.a)(b,2),v=j[0],p=j[1],O=Object(u.useCallback)((function(e){var t;p(null!==(t=n.find((function(t){return t.field===e.target.value})))&&void 0!==t?t:n[0])}),[n]),m=Object(u.useCallback)((function(e,t){d((function(n){var r=n.filters;Object(w.isPresent)(t)?r=Object(a.a)(Object(a.a)({},r),{},Object(g.a)({},e,t)):Object(w.isPresent)(r)&&delete r[e];var c=Object(a.a)(Object(a.a)({},n),{},{filters:r});return Object(w.isPresent)(r)&&0===Object.keys(r).length&&delete c.filters,c}))}),[d]),h=Object(u.useCallback)((function(e){m(v.field,e)}),[m,v.field]),x=Object(u.useCallback)((function(e){m(e,void 0),v.field}),[m,v]),y=Object(u.useRef)({}),k=Object(u.useMemo)((function(){var e,t=Object(a.a)({},null!==(e=l.filters)&&void 0!==e?e:{});return delete t[v.field],Object(C.a)(y.current,t)||(y.current=t),y.current}),[l.filters,v.field]),I=Object(u.useCallback)(Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,f(v,k);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),[f,v,k]),S=Kt[v.field],P=null!==(t=l.filters)&&void 0!==t?t:{},T=P[v.field],N=Object(u.useMemo)((function(){return{startAdornment:Object(R.jsx)(Mt.a,{position:"start",className:r.filterIconContainer,children:Object(R.jsx)(Et,{fontSize:"small"})})}}),[r]);return Object(R.jsxs)(He.a,{container:!0,spacing:3,alignItems:"flex-start",children:[Object(R.jsx)(He.a,{item:!0,xs:12,children:n.filter((function(e){return e.field in P})).map((function(e){return Object(R.jsx)(Vt,{title:qt(e),field:e.field,value:P[e.field],onClearFilter:x,className:r.chip},e.field)}))}),Object(R.jsx)(He.a,{item:!0,xs:2,children:Object(R.jsx)(Ze.a,{select:!0,value:v.field,onChange:O,fullWidth:!0,InputProps:N,className:r.filter,children:n.map((function(e){return Object(R.jsx)(Z.a,{value:e.field,children:qt(e)},e.field)}))})}),Object(R.jsx)(He.a,{item:!0,xs:10,children:Object(R.jsx)(At.a,{children:Object(R.jsx)(u.Suspense,{fallback:Object(R.jsx)(xt.a,{}),children:!!S&&Object(R.jsx)(S,{column:v,value:T,onChange:h,getCandidates:I})})})})]})},Zt=["onStateChanged","allowResponseCreation","allowTaskReassignment"],Qt=["initialState","pageSizeOptions","allowResponseCreation","allowTaskReassignment","allowFocusing","enforcedFilter"],Xt=Object(d.a)((function(e){return Object(f.a)({root:{position:"relative"},refreshButton:{position:"absolute",right:10,top:10}})})),en=Object(u.lazy)((function(){return Promise.resolve().then(n.bind(null,440))})),tn=function(e){var t=e.onStateChanged,n=e.allowResponseCreation,r=e.allowTaskReassignment,l=Object(s.a)(e,Zt),d=Object(O.a)().t,f=Xt(),v=K(),m=v.addResponse,h=v.refreshTasks,g=v.currentState,x=v.canCreateReponses,y=v.canReassignUsers,k=v.taskResponseStarted,C=v.taskResponseClosed,w=Object(u.useState)(),I=Object(o.a)(w,2),S=I[0],P=I[1];Object(u.useEffect)((function(){null===t||void 0===t||t(g)}),[g,t]);var T=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P({contextType:t,task:n,responseType:a}),e.next=3,k(n,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[k]),N=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m(S.task,S.responseType,t,n);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[m,S]),M=Object(u.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===S||void 0===S?void 0:S.task)){e.next=3;break}return e.next=3,C(S.task,S.responseType);case 3:if(P(void 0),!t){e.next=7;break}return e.next=7,h();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h,null===S||void 0===S?void 0:S.responseType,null===S||void 0===S?void 0:S.task,C]),A=Object(u.useMemo)((function(){return n&&x()}),[x,n]),D=Object(u.useMemo)((function(){return r&&y()}),[y,r]);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:f.root,children:Object(R.jsx)(j.a,{title:d("RefreshData"),children:Object(R.jsx)(b.a,{className:f.refreshButton,onClick:h,children:Object(R.jsx)(p.a,{})})})}),Object(R.jsx)(Yt,Object(a.a)({},l)),Object(R.jsx)("div",{style:{height:10}}),Object(R.jsx)(Rt,Object(a.a)({allowResponseCreation:A,allowTaskReassignment:D,onResponseRequested:T},l)),!!S&&Object(R.jsx)(u.Suspense,{fallback:null,children:Object(R.jsx)(en,{task:S.task,contextType:S.contextType,responseType:S.responseType,open:!!S,onAddResponse:N,onClose:M})})]})},nn=function(e){var t=e.initialState,n=e.pageSizeOptions,r=e.allowResponseCreation,c=void 0!==r&&r,i=e.allowTaskReassignment,o=void 0!==i&&i,l=e.allowFocusing,d=void 0!==l&&l,f=e.enforcedFilter,b=Object(s.a)(e,Qt),j=Object(u.useMemo)((function(){var e=n;return e&&0!==e.length||(e=[5,10,20,100]),e}),[n]),v=Object(u.useMemo)((function(){return Object(a.a)({currentPage:0,pageSize:j[0]},t)}),[t,j]);return Object(R.jsx)(J,{initialState:v,enforcedFilter:f,children:Object(R.jsx)(tn,Object(a.a)({pageSizeOptions:j,initialState:v,allowResponseCreation:c,allowTaskReassignment:o,allowFocusing:d},b))})}},575:function(e,t){},577:function(e,t){},578:function(e,t){},592:function(e,t){},593:function(e,t){},596:function(e,t){},597:function(e,t){},598:function(e,t){},599:function(e,t){},600:function(e,t){},602:function(e,t){},604:function(e,t){},605:function(e,t){},606:function(e,t){},607:function(e,t){},608:function(e,t){},620:function(e,t){}}]);
//# sourceMappingURL=13.a1ddc9eb.chunk.js.map