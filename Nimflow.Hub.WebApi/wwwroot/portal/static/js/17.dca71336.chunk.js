(this["webpackJsonpnimflow-portal"]=this["webpackJsonpnimflow-portal"]||[]).push([[17],{1031:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n(5),r=n(91),c=n(34),i=function(e,t){var n,i=null===(n=e.definitions)||void 0===n?void 0:n[t];if(!Object(r.isPresent)(i))throw new Error("Invalid definition ".concat(t));if("boolean"===typeof i)throw new Error("Invalid definition ".concat(t));var o=Object(c.b)(i);return delete o.definitions,e=Object(a.a)(Object(a.a)({},e),o)},o=function(e,t,n){if(e.jsonSchema){var a=JSON.parse(e.jsonSchema),r=e.tasks.find((function(e){return e.name===t})),c=null===r||void 0===r?void 0:r.validResponses.find((function(e){return e.name===n})),o=null===c||void 0===c?void 0:c.payloadSchemaDefinitionName;if(o)return i(a,o)}},s=function(e,t){if(e.jsonSchema){var n=JSON.parse(e.jsonSchema),a=e.actions.find((function(e){return e.name===t})),r=null===a||void 0===a?void 0:a.payloadSchemaDefinitionName;if(r)return i(n,r)}}},184:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(5),r=n(37),c=n(577),i=n.n(c),o=n(630);i.a.registerHelper("translate",(function(e,t){var n={ns:o.b};return"object"===typeof t&&"hash"in t&&(n=Object(a.a)(Object(a.a)({},n),t.hash)),r.a.t(e,n)}));var s=function(e,t,n,a){var r=function(e,t){return i.a.compile(e,t)}(e,n);return r(t,a)}},200:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(3),r=n(2),c=n(7),i=n(10),o=n(1),s=n(1285),u=n(1973),l=n(1975),d=n(1974),b=n(325),j=n.n(b),f=n(30),m=function(e){var t=e.error,n=e.stack;return Object(f.jsxs)(u.a,{children:[Object(f.jsx)(d.a,{expandIcon:Object(f.jsx)(j.a,{}),children:Object(f.jsx)(s.a,{variant:"h5",color:"error",children:t})}),Object(f.jsx)(l.a,{children:Object(f.jsx)("pre",{children:n})})]})},O=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(r.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log({error:e,errorInfo:t}),this.setState({errorInfo:t})}},{key:"render",value:function(){var e,t,n=this.state,a=n.hasError,r=n.error,c=n.errorInfo;return a?Object(f.jsx)(m,{error:null!==(e=null===r||void 0===r?void 0:r.message)&&void 0!==e?e:"",stack:null!==(t=null===c||void 0===c?void 0:c.componentStack)&&void 0!==t?t:""}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(o.Component)},203:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return f}));var a=n(260),r=n(261),c=n.n(r),i=n(266),o=n(37),s=n(34),u=n(538),l=i.default;function d(e){n(700)("./".concat(e)).then((function(e){"function"===typeof(null===e||void 0===e?void 0:e.default)&&(l=e.default)})).catch((function(){var t=e.indexOf("-");t>0&&d(e.substring(0,t))}))}o.a.language&&d(o.a.language),o.a.on("languageChanged",(function(e){d(e)}));var b=new u.a({allErrors:!0,addUsedSchema:!1,allowUnionTypes:!0,strict:"log"});b.addMetaSchema(Object(s.p)(["default"],a)),c()(b),b.addFormat("markdown",(function(){return!0}));var j=function(e){var t;return b.validateSchema(e)?{type:"success"}:(b.errors&&l&&l(b.errors),{type:"failure",errors:null!==(t=b.errors)&&void 0!==t?t:[]})},f=function(e){return l&&l(e),e}},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1),r=n(1599),c=n(328),i=n(2107),o=n(198),s=n(557),u=n(998),l=n(30),d=function(){var e=Object(i.a)().t,t=Object(c.b)().enqueueSnackbar,n=Object(o.b)();return Object(a.useCallback)((function(a,c,i){var o,d,b=null!==(o=null===i||void 0===i?void 0:i.variant)&&void 0!==o?o:"error",j=null!==(d=null===i||void 0===i?void 0:i.dialogTitle)&&void 0!==d?d:e("Error");if(Object(u.b)(c)&&"string"===typeof a){var f,m=!1===(null===(f=window.navigator)||void 0===f?void 0:f.onLine);a=e(m?"BrowserOfflineMessage":"NetworkErrorMessage",{message:a})}t(a,{variant:b,action:Object(l.jsx)(r.a,{onClick:function(){n({title:j,description:Object(l.jsx)(s.a,{error:c})})},children:e("ShowDetails")})})}),[n,t,e])}},2095:function(e,t,n){"use strict";n.r(t),n.d(t,"DispatchActionStepper",(function(){return Oe}));var a=n(4),r=n(1),c=n(2094),i=n(2050),o=n(2104),s=n(1258),u=n(1263),l=n(1250),d=n(2107),b=n(5),j=n(28),f=n(1284),m=n(30),O=["children","className"],h=Object(c.a)((function(e){return Object(i.a)({paper:{padding:e.spacing(2),color:e.palette.text.secondary}})})),p=function(e){var t=e.children,n=e.className,a=Object(j.a)(e,O),r=h();return Object(m.jsx)(f.a,Object(b.a)(Object(b.a)({className:"".concat(r.paper," ").concat(n),elevation:3},a),{},{children:t}))},v=n(1501),x=n(1285),g=["children"],y=function(e){var t=e.children,n=Object(j.a)(e,g);return Object(m.jsx)(x.a,Object(b.a)(Object(b.a)({variant:"h5"},n),{},{children:t}))},C=["title","actions"],k=Object(c.a)((function(e){return Object(i.a)({grow:{flexGrow:1},actionToolbarButtons:{display:"flex"}})})),w=function(e){var t=e.title,n=e.actions,a=Object(j.a)(e,C),r=k();return Object(m.jsxs)(v.a,Object(b.a)(Object(b.a)({variant:"dense"},a),{},{children:[t&&Object(m.jsx)(y,{children:t}),Object(m.jsx)("div",{className:r.grow}),n&&Object(m.jsx)("div",{className:r.actionToolbarButtons,children:n})]}))},I=n(36),M=n(11),P=n.n(M),S=n(139),D=n(34),L=n(1460),T=n(2118),N=n(2106),A=n(1488),E=n(2119),R=n(2072),z=n(2096),F=n(1006),B=n.n(F),U=n(126),V=n(2109),H=function(e){return Object(m.jsxs)(V.a,Object(b.a)(Object(b.a)({viewBox:"0 0 64 64"},e),{},{children:[Object(m.jsx)("path",{d:"M58 13H6c-1.103 0-2-.897-2-2s.897-2 2-2h52c1.103 0 2 .897 2 2S59.103 13 58 13zM6 10c-.552 0-1 .449-1 1s.448 1 1 1h52c.552 0 1-.449 1-1s-.448-1-1-1H6zM36.5 20h-9c-1.379 0-2.5-1.122-2.5-2.5s1.121-2.5 2.5-2.5h9c1.379 0 2.5 1.122 2.5 2.5S37.879 20 36.5 20zM27.5 16c-.827 0-1.5.673-1.5 1.5s.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5S37.327 16 36.5 16H27.5zM18.497 45h-6c-1.379 0-2.5-1.122-2.5-2.5s1.121-2.5 2.5-2.5h6c1.379 0 2.5 1.122 2.5 2.5S19.876 45 18.497 45zM12.497 41c-.827 0-1.5.673-1.5 1.5s.673 1.5 1.5 1.5h6c.827 0 1.5-.673 1.5-1.5s-.673-1.5-1.5-1.5H12.497zM51.497 45h-6c-1.379 0-2.5-1.122-2.5-2.5s1.121-2.5 2.5-2.5h6c1.379 0 2.5 1.122 2.5 2.5S52.876 45 51.497 45zM45.497 41c-.827 0-1.5.673-1.5 1.5s.673 1.5 1.5 1.5h6c.827 0 1.5-.673 1.5-1.5s-.673-1.5-1.5-1.5H45.497zM29.5 28h-10c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h10c.276 0 .5.224.5.5v4C30 27.776 29.776 28 29.5 28zM20 27h9v-3h-9V27zM44.5 28h-10c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h10c.276 0 .5.224.5.5v4C45 27.776 44.776 28 44.5 28zM35 27h9v-3h-9V27zM29.5 36h-8c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h8c.276 0 .5.224.5.5v4C30 35.776 29.776 36 29.5 36zM22 35h7v-3h-7V35zM43.5 36h-8c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h8c.276 0 .5.224.5.5v4C44 35.776 43.776 36 43.5 36zM36 35h7v-3h-7V35z"}),Object(m.jsx)("path",{d:"M56.5,48h-49C7.224,48,7,47.776,7,47.5v-35C7,12.224,7.224,12,7.5,12h49c0.276,0,0.5,0.224,0.5,0.5v35    C57,47.776,56.776,48,56.5,48z M8,47h48V13H8V47z"}),Object(m.jsx)("rect",{width:"1",height:"3",x:"31.5",y:"6.5"}),Object(m.jsx)("path",{d:"M32 7c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2S33.103 7 32 7zM32 4c-.552 0-1 .449-1 1s.448 1 1 1 1-.449 1-1S32.552 4 32 4zM21.5 61h-4c-.152 0-.297-.069-.392-.188-.095-.12-.13-.275-.096-.424l3-13C20.065 47.161 20.268 47 20.5 47h4c.152 0 .297.069.392.188.095.12.13.275.096.424l-3 13C21.935 60.839 21.732 61 21.5 61zM18.129 60h2.974l2.769-12h-2.974L18.129 60zM46.5 61h-4c-.232 0-.435-.161-.487-.388l-3-13c-.034-.148.001-.304.096-.424C39.203 47.069 39.348 47 39.5 47h4c.232 0 .435.161.487.388l3 13c.034.148-.001.304-.096.424C46.797 60.931 46.652 61 46.5 61zM42.897 60h2.974l-2.769-12h-2.974L42.897 60z"}),Object(m.jsx)("path",{d:"M41.974 56H22.026l.922-4h18.104L41.974 56zM23.282 55h17.436l-.461-2H23.743L23.282 55zM15.48 37.008c-.128 0-.256-.049-.354-.146l-3.008-3.008c-.195-.195-.195-.512 0-.707l3.008-3.008c.195-.195.512-.195.707 0l3.008 3.008c.195.195.195.512 0 .707l-3.008 3.008C15.736 36.959 15.608 37.008 15.48 37.008zM13.18 33.5l2.301 2.301 2.301-2.301-2.301-2.301L13.18 33.5zM32.48 46.008c-.128 0-.256-.049-.354-.146l-3.008-3.008c-.195-.195-.195-.512 0-.707l3.008-3.008c.195-.195.512-.195.707 0l3.008 3.008c.195.195.195.512 0 .707l-3.008 3.008C32.736 45.959 32.608 46.008 32.48 46.008zM30.18 42.5l2.301 2.301 2.301-2.301-2.301-2.301L30.18 42.5zM32 22c-.276 0-.5-.224-.5-.5v-2c0-.276.224-.5.5-.5s.5.224.5.5v2C32.5 21.776 32.276 22 32 22z"}),Object(m.jsx)("path",{d:"M39.5 24c-.276 0-.5-.224-.5-.5V22H25v1.5c0 .276-.224.5-.5.5S24 23.776 24 23.5v-2c0-.276.224-.5.5-.5h15c.276 0 .5.224.5.5v2C40 23.776 39.776 24 39.5 24zM15.5 31c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5h4c.276 0 .5.224.5.5S19.776 26 19.5 26H16v4.5C16 30.776 15.776 31 15.5 31zM32.48 39.992c-.234.01-.501-.225-.5-.501L31.998 34H29.5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h3c.133 0 .261.053.354.147S33 33.369 33 33.501l-.02 5.992C32.979 39.77 32.756 39.992 32.48 39.992z"}),Object(m.jsx)("path",{d:"M32.52 39.992c-.275 0-.499-.223-.5-.499L32 33.501c0-.133.052-.26.146-.354S32.367 33 32.5 33h3c.276 0 .5.224.5.5S35.776 34 35.5 34h-2.498l.018 5.491c.001.276-.223.5-.498.501C32.521 39.992 32.521 39.992 32.52 39.992zM15.5 41c-.276 0-.5-.224-.5-.5v-3.992c0-.276.224-.5.5-.5s.5.224.5.5V40.5C16 40.776 15.776 41 15.5 41zM39.5 32c-.276 0-.5-.224-.5-.5v-3.992c0-.276.224-.5.5-.5s.5.224.5.5V31.5C40 31.776 39.776 32 39.5 32zM21.5 34h-3.012c-.276 0-.5-.224-.5-.5s.224-.5.5-.5H21.5c.276 0 .5.224.5.5S21.776 34 21.5 34zM29.5 43h-9.012c-.276 0-.5-.224-.5-.5s.224-.5.5-.5H29.5c.276 0 .5.224.5.5S29.776 43 29.5 43zM43.497 43h-8.009c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8.009c.276 0 .5.224.5.5S43.773 43 43.497 43z"}),Object(m.jsxs)("g",{children:[Object(m.jsx)("defs",{children:Object(m.jsx)("rect",{id:"SVGID_1_",width:"675.5",height:"132.688",x:"-1235.486",y:"289.422"})}),Object(m.jsx)("clipPath",{id:"SVGID_2_",children:Object(m.jsx)("use",{overflow:"visible",href:"#SVGID_1_"})})]})]}))},q=n(1485),_=n(1599),W=Object(c.a)((function(e){return Object(i.a)({button:{marginRight:e.spacing(1)},content:{maxHeight:"60vh",overflowY:"auto"}})})),$=function(e){var t=e.onNext,n=e.onBack,a=e.onSkip,r=e.nextActionCaption,c=e.children,i=W(),s=Object(d.a)().t;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{container:!0,children:Object(m.jsx)(o.a,{item:!0,xs:12,className:i.content,children:c})}),Object(m.jsx)(o.a,{container:!0,children:Object(m.jsxs)(o.a,{item:!0,xs:12,children:[Object(m.jsx)(_.a,{disabled:!n,onClick:n,className:i.button,children:s("Back")}),!!a&&Object(m.jsx)(_.a,{onClick:a,className:i.button,children:s("Skip")}),!!t&&Object(m.jsx)(_.a,{onClick:t,className:i.button,children:null!==r&&void 0!==r?r:s("Next")})]})})]})},K=Object(c.a)((function(e){return Object(i.a)({root:{flexGrow:1}})})),G=function(e,t){if(!e)return[];if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)||e.description&&e.description.includes(n)}))},Y=n(91),J=Object(c.a)((function(e){return Object(i.a)({root:{flexGrow:1,width:"100%",marginTop:"20px",marginBottom:"20px"}})})),X=n(1031),Z=n(203),Q=n(211),ee=n(569),te=Object(c.a)((function(e){return Object(i.a)({root:{flexGrow:1,width:"100%",marginBottom:"20px"},textField:{width:"100%"},content:{padding:"8px 24px","&:first-child":{paddingTop:20}}})})),ne=n(1259),ae=n(1597),re=n(1828),ce=n.n(re),ie=n(1827),oe=n.n(ie),se=n(1632),ue=n(183),le=n(557),de=Object(c.a)((function(e){return Object(i.a)({button:{marginRight:e.spacing(1)},icon:{textAlign:"center"}})})),be=function(e){var t=e.icon,n=e.title,a=e.details,r=de();return Object(m.jsx)(ae.a,{pt:"50px",pb:"50px",maxHeight:"60vh",children:Object(m.jsxs)(o.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:4,children:[!!t&&Object(m.jsx)(o.a,{item:!0,xs:12,className:r.icon,children:t}),Object(m.jsx)(o.a,{item:!0,xs:12,children:Object(m.jsx)(x.a,{variant:"h4",align:"center",children:n})}),!!a&&Object(m.jsx)(o.a,{item:!0,xs:12,children:"string"===typeof a?Object(m.jsx)(x.a,{variant:"h6",align:"center",children:a}):Object(m.jsx)("div",{children:a})})]})})},je=function(e){var t=e.action,n=e.onDispatchCompleted,a=e.onBack,r=de(),c=Object(d.a)().t,i=Object(U.c)().contexts_DispatchAction,s=Object(ne.a)(Object(I.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[i,t]),u=s.loading,l=s.value,b=s.error;return u?Object(m.jsx)(ue.b,{children:c("ExecutingAction")}):Object(m.jsxs)(m.Fragment,{children:[!b&&Object(m.jsx)(be,{icon:Object(m.jsx)(oe.a,{style:{color:se.a[500],fontSize:60}}),title:c("ActionCompleted"),details:c("DispatchActionResult",{id:null===l||void 0===l?void 0:l.contextId})}),!!b&&Object(m.jsx)(be,{icon:Object(m.jsx)(ce.a,{color:"error",style:{fontSize:60}}),title:c("ActionFailed"),details:Object(m.jsx)(le.a,{error:b})}),Object(m.jsx)(o.a,{container:!0,children:Object(m.jsxs)(o.a,{item:!0,xs:12,children:[!!b&&Object(m.jsx)(_.a,{onClick:a,className:r.button,children:c("Back")}),Object(m.jsx)(_.a,{onClick:n,className:r.button,children:c("Ok")})]})})]})},fe=Object(c.a)((function(e){return Object(i.a)({root:{width:"100%"},button:{marginRight:e.spacing(1)},content:{maxHeight:"60vh",overflowY:"auto"}})})),me=[function(e){var t=e.value,n=e.onNext,c=K(),i=Object(r.useState)(""),o=Object(a.a)(i,2),s=o[0],u=o[1],l=function(e){var t=Object(U.c)().contextTypes_Search,n=Object(S.a)("/ContextTypes/Search",Object(I.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({limit:100});case 2:return n=e.sent,e.abrupt("return",Object(D.s)((function(e){return e.name}),n));case 4:case"end":return e.stop()}}),e)})))),a=n.data,c=n.error,i=n.isValidating,o=n.mutate;return Object(r.useMemo)((function(){return{data:G(a,e),isValidating:i,error:c,mutate:o}}),[a,e,i,c,o])}(s),d=l.data,b=l.error,j=l.isValidating,f=Object(r.useCallback)((function(e){t.contextTypeName===e?n(t):n({contextTypeName:e})}),[t,n]);return Object(m.jsxs)($,{children:[Object(m.jsx)(w,{actions:Object(m.jsx)(q.a,{value:s,onChange:u})}),Object(m.jsx)(T.a,{className:c.root,style:{maxHeight:"400",overflowY:"auto"},children:d.map((function(e,t){return Object(m.jsxs)(N.a,{children:[Object(m.jsx)(R.a,{children:Object(m.jsx)(H,{})}),Object(m.jsx)(A.a,{primary:e.name,secondary:e.description}),Object(m.jsx)(E.a,{children:Object(m.jsx)(L.a,{edge:"end",onClick:function(){return f(e.name)},size:"large",children:Object(m.jsx)(B.a,{})})})]},e.name)}))}),!j&&!!b&&Object(m.jsx)(z.a,{severity:"error",children:b.toString()})]})},function(e){var t=e.value,n=e.onBack,a=e.onNext,c=J(),i=function(e){var t=Object(U.c)().contextTypes_FindOne,n=Object(S.a)("/ContextType/".concat(e),Object(I.a)(P.a.mark((function n(){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t({name:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{revalidateOnFocus:!1}),a=n.data,c=n.error,i=n.isValidating,o=n.mutate;return Object(r.useMemo)((function(){return{contextType:a,isValidating:i,error:c,mutate:o}}),[a,i,o,c])}(t.contextTypeName),s=i.contextType,u=i.error,l=i.isValidating,d=Object(r.useMemo)((function(){return s?s.initialActions.map((function(e){return s.actions.find((function(t){return t.name===e}))})).filter(Y.isPresent):[]}),[s]),b=Object(r.useCallback)((function(e){t.action===e?a(t):a({contextTypeName:t.contextTypeName,action:e})}),[t,a]);return!l&&u?Object(m.jsx)(z.a,{severity:"error",children:u.toString()}):l||!s?null:Object(m.jsx)($,{onBack:n,children:Object(m.jsx)(o.a,{container:!0,direction:"column",alignItems:"center",spacing:3,className:c.root,children:d.map((function(e){return Object(m.jsx)(o.a,{item:!0,xs:10,children:Object(m.jsx)(_.a,{variant:"outlined",onClick:function(){return b(e.name)},children:e.name})},e.name)}))})})},function(e){var t,n=e.value,c=e.onBack,i=e.onNext,s=te(),u=Object(d.a)().t,l=function(e){var t=Object(U.c)().contextTypes_FindOne,n=Object(S.a)("/ContextType/".concat(e),Object(I.a)(P.a.mark((function n(){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t({name:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{revalidateOnFocus:!1}),a=n.data,c=n.error,i=n.isValidating,o=n.mutate;return Object(r.useMemo)((function(){return{contextType:a,isValidating:i,error:c,revalidate:o}}),[a,i,o,c])}(n.contextTypeName),j=l.contextType,f=l.error,O=l.isValidating,h=Object(r.useState)({reference:n.reference,contextId:n.contextId}),p=Object(a.a)(h,2),v=p[0],x=p[1],g=Object(r.useState)(null!==(t=n.payload)&&void 0!==t?t:{}),y=Object(a.a)(g,2),C=y[0],k=y[1],w=Object(r.useRef)(),M=Object(r.useRef)(),L=Object(r.useMemo)((function(){return null===j||void 0===j?void 0:j.actions.find((function(e){return e.name===n.action}))}),[j,n]),T=Object(r.useCallback)((function(){L&&j&&(w.current&&w.current.length>0||M.current&&M.current.length>0||i(Object(b.a)(Object(b.a)(Object(b.a)({},n),v),{},{payload:C})))}),[i,L,j,v,C,n]),N=Object(r.useMemo)((function(){return{type:"object",properties:{reference:{type:"string"}},required:["reference"]}}),[]),A=Object(r.useMemo)((function(){return function(e,t){if(e&&t&&e.payloadSchemaDefinitionName)return Object(X.a)(t,e.name)}(L,j)}),[L,j]),E=Object(r.useMemo)((function(){var e,t=L?null===(e=Object(Q.i)(L))||void 0===e?void 0:e.uiSchema:void 0;if(t)return JSON.parse(t)}),[L]),R=Object(r.useCallback)((function(e){e.errors&&e.errors.length>0?(Object(Z.b)(e.errors),w.current=Object(D.b)(e.errors)):(x(e.data),w.current=void 0)}),[x]),F=Object(r.useCallback)((function(e){e.errors&&e.errors.length>0?(Object(Z.b)(e.errors),M.current=Object(D.b)(e.errors)):(k(e.data),M.current=void 0)}),[k]),B=Object(r.useMemo)((function(){var e;if(j){var t=null===(e=Object(Q.i)(j))||void 0===e?void 0:e.uiSchemaCommon;if(t)return JSON.parse(t)}}),[j]);return!O&&f?Object(m.jsx)(z.a,{severity:"error",children:f.toString()}):j&&L?Object(m.jsx)($,{onBack:c,onNext:T,nextActionCaption:u("ExecuteAction"),children:Object(m.jsxs)(o.a,{container:!0,spacing:2,className:s.root,children:[Object(m.jsx)(o.a,{item:!0,xs:12,className:s.content,children:Object(m.jsx)(ee.a,{schema:N,data:v,onChange:R,uiSchemaLibrary:B})}),Object(m.jsx)(o.a,{item:!0,xs:12,className:s.content,children:!!A&&Object(m.jsx)(ee.a,{schema:A,uischema:E,data:C,onChange:F,uiSchemaLibrary:B})})]})}):null}],Oe=function(){var e=Object(d.a)().t,t=fe(),n=Object(r.useState)(0),c=Object(a.a)(n,2),i=c[0],b=c[1],j=Object(r.useState)({}),f=Object(a.a)(j,2),O=f[0],h=f[1],v=Object(r.useMemo)((function(){return[i>0?e("SelectedContextType",{name:O.contextTypeName}):e("SelectContextType"),i>1?e("SelectedActionType",{name:O.action}):e("SelectActionType"),e("CompleteActionData")]}),[i,O,e]),x=Object(r.useCallback)((function(e){h(e),b((function(e){return e+1}))}),[b]),g=Object(r.useCallback)((function(){b((function(e){return e+1}))}),[b]),y=Object(r.useCallback)((function(){b((function(e){return e-1}))}),[b]),C=Object(r.useCallback)((function(){b(0),h({})}),[]),k=function(){var e=me[i];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(s.a,{activeStep:i,alternativeLabel:!0,children:v.map((function(e,t){return Object(m.jsx)(u.a,{children:Object(m.jsx)(l.a,{children:e})},t)}))}),!!e&&Object(m.jsx)(e,{value:O,onNext:x,onBack:y,onSkip:g})]})};return Object(m.jsx)(o.a,{container:!0,spacing:3,justifyContent:"center",children:Object(m.jsx)(o.a,{item:!0,xs:9,children:Object(m.jsxs)(p,{className:t.root,children:[Object(m.jsx)(w,{title:e("DispatchingAction")}),i<3?Object(m.jsx)(k,{}):Object(m.jsx)(je,{action:O,onDispatchCompleted:C,onBack:y})]})})})};t.default=Oe},211:function(e,t,n){"use strict";n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return j})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return C}));var a=n(174),r=n(34),c=(n(546),n(91),["MilestoneReached","MilestoneCleared"]),i=["TaskCreated","TaskUpdated","TaskArchived","ResponseSent"],o=["ActionDispatched","ContextsRecalculationCompleted","ContextRecalculationError"].concat(i,c),s=["CollectionDocumentAdded","CollectionDocumentsAdded","CollectionDocumentRemoved","CollectionDocumentsRemoved","CollectionDocumentUpdated","CollectionDocumentReplaced"];["RequestProcessed"].concat(Object(a.a)(o),["CustomEvent","BlobStorageUpdated"],s);function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.settings;return!n&&t&&(e.settings=n={}),n}function l(e){var t,n=null===(t=u(e))||void 0===t?void 0:t.commandText;return Object(r.k)(n)?e.name:n}function d(e){var t,n=null===(t=u(e))||void 0===t?void 0:t.actionInProgressText;return n||e.name}var b={id:"string",typeName:"string",reference:"string",state:"record",dateCreated:"dateTime",dateModified:"dateTime",version:"string",contextTypeVersion:"number",milestones:"array",tags:"array",metrics:"array"},j={id:"string",contextId:"string",contextTypeName:"string",contextReference:"string",typeName:"string",title:"string",data:"record",labels:"array",dateCreated:"dateTime",dateUpdated:"dateTime",assignedTo:"string",assignedToRole:"string",status:"string",archived:"boolean",startDate:"string",startBeforeDate:"string",dueDate:"string",importance:"number",focused:"boolean"},f={event:"string",timestamp:"dateTime",requestTypeName:"string",subject:"string",sentBy:"string",contextTypeName:"string",reference:"string",contextIsNew:"boolean",action:"string",message:"string",innerMessage:"string",startDate:"dateTime",dueDate:"dateTime",taskTypeName:"string",assignedTo:"string",importance:"number",responseTypeName:"string",sentOn:"dateTime",startedOn:"dateTime",oldImportance:"number",oldLabels:"array",oldStartDate:"dateTime",oldDueDate:"dateTime",oldAssignedTo:"string",milestoneName:"string",value:"dateTime",eventName:"string",category:"string",tags:"array",metrics:"array"},m=function(e){var t=["string","number","boolean","dateTime"];return Object.keys(e).filter((function(n){return t.includes(e[n])})).sort()},O=function(e){return Object.keys(e).filter((function(t){return"array"===e[t]})).sort()},h=function(e){return Object.keys(e).filter((function(t){return"record"===e[t]})).sort()},p=m(b),v=O(b),x=h(b),g=([].concat(Object(a.a)(p),Object(a.a)(v),Object(a.a)(x)),m(j)),y=(O(j),h(j)),C=([].concat(Object(a.a)(g),Object(a.a)(y)),m(f)),k=O(f);[].concat(Object(a.a)(C),Object(a.a)(k))},220:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){var n=e.nfExpr;if(!n)throw new Error("nfExpr property expected at ".concat(t));return new Function("data","ctx","return ".concat(n))}},266:function(e,t,n){"use strict";n.r(t);var a=n(127);t.default=function(e){if(e&&e.length){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,c=void 0;switch(r.keyword){case"additionalItems":case"items":case"maxItems":c="",c+="must NOT have more than "+(i=r.params.limit)+" item",1!==i&&(c+="s");break;case"additionalProperties":c="must NOT have additional properties";break;case"anyOf":c='must match a schema in "anyOf"';break;case"const":c="must be equal to constant";break;case"contains":c="must contain a valid item";break;case"dependencies":case"dependentRequired":c="";var i=r.params.depsCount;c+="must have propert",c+=1===i?"y":"ies",c+=" "+r.params.deps+" when property "+r.params.property+" is present";break;case"discriminator":switch(r.params.error){case"tag":c='tag "'+r.params.tag+'" must be string';break;case"mapping":c='value of tag "'+r.params.tag+'" must be in oneOf';break;default:c='must pass "'+r.keyword+'" keyword validation'}break;case"enum":c="must be equal to one of the allowed values";break;case"false schema":c="boolean schema is false";break;case"format":c='must match format "'+r.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":c="",c+="must be "+(r.params.comparison+" "+r.params.limit);break;case"if":c='must match "'+r.params.failingKeyword+'" schema';break;case"maxLength":c="",c+="must NOT be longer than "+(i=r.params.limit)+" character",1!==i&&(c+="s");break;case"maxProperties":c="",c+="must NOT have more than "+(i=r.params.limit)+" propert",c+=1===i?"y":"ies";break;case"minItems":c="",c+="must NOT have less than "+(i=r.params.limit)+" item",1!==i&&(c+="s");break;case"minLength":c="",c+="must NOT be shorter than "+(i=r.params.limit)+" character",1!==i&&(c+="s");break;case"minProperties":c="",c+="must NOT have less than "+(i=r.params.limit)+" propert",c+=1===i?"y":"ies";break;case"multipleOf":c="must be a multiple of "+r.params.multipleOf;break;case"not":c='must NOT be valid according to schema in "not"';break;case"oneOf":c='must match exactly one schema in "oneOf"';break;case"pattern":c='must match pattern "'+r.params.pattern+'"';break;case"patternRequired":c='must have property matching pattern "'+r.params.missingPattern+'"';break;case"propertyNames":c="property name is invalid";break;case"required":c="must have required property "+r.params.missingProperty;break;case"type":c="must be "+r.params.type;break;case"unevaluatedItems":c="",c+="must NOT have more than "+(i=r.params.len)+" item",1!==i&&(c+="s");break;case"unevaluatedProperties":c="must NOT have unevaluated properties";break;case"uniqueItems":c="must NOT have duplicate items (items ## "+r.params.j+" and "+r.params.i+" are identical)";break;default:c=r.message}r.message=c}}catch(o){n.e(o)}finally{n.f()}}}},267:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){return"object"===typeof e&&"then"in e},r=function(e){return a(e)?e:Promise.resolve(e)}},503:function(e,t){},538:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(0),r=n(5),c=n(3),i=n(2),o=n(358),s=n(9),u=n(7),l=n(10),d=n(262),b=n(373),j=n(680),f=n.n(j),m=n(377),O=n.n(m),h=n(34),p=n(74),v=n(220),x=n(562),g=n(267),y=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","const","enum"],C=function(e){if("number"!==typeof e||isNaN(e))throw new Error("Expression must evaluate to a number")},k=function(e){if("boolean"!==typeof e)throw new Error("Expression must evaluate to a boolean")},w=function(e){if(!Array.isArray(e))throw new Error("Expression must evaluate to an array")},I={multipleOf:{impl:function(e,t,n){if(C(e),"number"===typeof t&&!isNaN(t)&&0!==e){var a=t/e,r=n.opts.multipleOfPrecision;if("number"===typeof r?Math.abs(Math.round(a)-a)<=Math.pow(10,-r):a===Math.round(a))return!0}return[{message:"must be multiple of ".concat(e),params:{multipleOf:e}}]}},maximum:{impl:function(e,t){return C(e),"number"===typeof t&&!isNaN(t)&&e>=t||[{message:"must be <= ".concat(e),params:{comparison:"<=",limit:e}}]}},exclusiveMaximum:{impl:function(e,t){return C(e),"number"===typeof t&&!isNaN(t)&&e>t||[{message:"must be < ".concat(e),params:{comparison:"<",limit:e}}]}},minimum:{impl:function(e,t){return C(e),"number"===typeof t&&!isNaN(t)&&e<=t||[{message:"must be >= ".concat(e),params:{comparison:">=",limit:e}}]}},exclusiveMinimum:{impl:function(e,t){return C(e),"number"===typeof t&&!isNaN(t)&&e<t||[{message:"must be > ".concat(e),params:{comparison:">",limit:e}}]}},maxLength:{impl:function(e,t){return C(e),"string"===typeof t&&O()(t)<=e||[{message:"must NOT have more than ".concat(e," characters"),params:{limit:e}}]}},minLength:{impl:function(e,t){return C(e),"string"===typeof t&&O()(t)>=e||[{message:"must NOT have less than ".concat(e," characters"),params:{limit:e}}]}},pattern:{impl:function(e,t,n){var a=void 0;if("string"===typeof e){var r=n.opts.unicodeRegExp?"u":"";a=new RegExp(e,r)}else{if(!(e instanceof RegExp))throw new Error("Expression must evaluate to a string or a RegExp object");a=e}return!("string"!==typeof t||!a.test(t))||[{message:'must match pattern "'.concat(e,'"'),params:{pattern:e}}]}},maxItems:{impl:function(e,t){return C(e),!!(Array.isArray(t)&&t.length<=e)||[{message:"must NOT have more than ".concat(e," items"),params:{limit:e}}]}},minItems:{impl:function(e,t){return C(e),!!(Array.isArray(t)&&t.length>=e)||[{message:"must NOT have less than ".concat(e," items"),params:{limit:e}}]}},uniqueItems:{impl:function(e,t){k(e);var n=0,a=0;if(Array.isArray(t)&&t.length>=e){var r=!0;e:for(;n<t.length;n++)for(a=n+1;a<t.length;a++)if(Object(h.f)(t[n],t[a])){r=!1;break e}if(r)return!0}return[{message:"must NOT have duplicate items (items ## ".concat(a," and ").concat(n," are identical)"),params:{i:n,j:a}}]}},maxProperties:{impl:function(e,t){return k(e),"object"===typeof t&&Object.keys(t).length>=e||[{message:"must NOT have more than ".concat(e," items"),params:{limit:e}}]}},minProperties:{impl:function(e,t){return k(e),"object"===typeof t&&Object.keys(t).length<=e||[{message:"must NOT have less than ".concat(e," items"),params:{limit:e}}]}},required:{impl:function(e,t,n,r){if(w(e),"object"!==typeof t)return[{message:"Data must be an object"}];var c=[];var i,o,s=n.opts.ownProperties,u=Object(a.a)(e);try{for(u.s();!(i=u.n()).done;){var l=i.value;if((void 0===t[l]||s&&!Object.prototype.hasOwnProperty.call(t,l))&&(o=l,c.push({message:"must have required property '".concat(o,"'"),params:{missingProperty:o}}),!0!==n.allErrors))break}}catch(h){u.e(h)}finally{u.f()}if(n.opts.strictRequired){var d,b=r.properties,j=Object(a.a)(e);try{for(j.s();!(d=j.n()).done;){var f=d.value;if(void 0===(null===b||void 0===b?void 0:b[f])&&!n.definedProperties.has(f)){var m=n.schemaEnv.baseId+n.errSchemaPath,O='required property "'.concat(f,'" is not defined at "').concat(m,'" (strictRequired)');Object(p.checkStrictMode)(n,O,n.opts.strictRequired)}}}catch(h){j.e(h)}finally{j.f()}}return!(c.length>0)||c}},const:{impl:function(e,t){return t===e||[{message:"must be equal to constant",params:{allowedValue:e}}]}},enum:{impl:function(e,t){return w(e),!!e.some((function(e){return Object(h.f)(e,t)}))||[{message:"must be equal to one of the allowed values",params:{allowedValues:e}}]}}},M=function(e,t){return function(n,a,c){var i=Object(v.a)(n,c.errSchemaPath);return function o(s,u){if(!u)return!1;var l=i(s,Object(r.a)(Object(r.a)({},u),{},{schema:n,parentSchema:a,rootSchema:c.schema}));if(Object(g.b)(l))throw new Error("Expression cannot evaluate to a Promise (at ".concat(c.errSchemaPath,")"));try{var d=t(l,s,c,a);if("boolean"===typeof d)return d;o.errors=d.map((function(t){var n;return Object(r.a)({keyword:e,instancePath:null!==(n=null===u||void 0===u?void 0:u.instancePath)&&void 0!==n?n:"",schemaPath:c.schemaPath.toString()},t)}))}catch(j){var b;o.errors=[{keyword:e,instancePath:null!==(b=null===u||void 0===u?void 0:u.instancePath)&&void 0!==b?b:"",schemaPath:c.schemaPath.toString(),params:{}}]}return!1}}},P={keyword:[].concat(y),type:[],schemaType:["object"],compile:function(e,t,n){var a,r=null===(a=Object.entries(t).find((function(t){return t[1]===e})))||void 0===a?void 0:a[0];if(!r)throw new Error("Cannot find schema entry");if(!y.includes(r))throw new Error("Keyword ".concat(r," is not one of ").concat(y));return M(r,I[r].impl)(e,t,n)}},S=function(e){return"nf".concat(Object(x.b)(e))},D=Object(h.m)((function(e){return e[0]}),Object(h.h)(S,y)),L=y.map(S),T={keyword:L,schemaType:"object",compile:function(e,t,n){var a,r=null===(a=Object.entries(t).find((function(t){return t[1]===e})))||void 0===a?void 0:a[0];if(!r)throw new Error("Cannot find schema entry");var c=D[r];if(!c)throw new Error("Keyword ".concat(r," is not one of ").concat(L));return M(c,I[c].impl)(e,t,n)}},N={keyword:"markdownDescription",schemaType:"string",valid:!0},A=n(91),E={keyword:"nfCalculatedValue",schemaType:"object",modifying:!0,compile:function(e,t,n){if(!Object(A.isPresent)(t.default))throw new Error("Schema using nfCalculatedValue must define a default value (at ".concat(n.errSchemaPath,")"));var a=Object(v.a)(e,n.errSchemaPath);return function(c,i){if(!i)return!1;var o=a(c,Object(r.a)(Object(r.a)({},i),{},{schema:e,parentSchema:t,rootSchema:n.schema}));if(Object(g.b)(o))throw new Error("Expression cannot evaluate to a Promise (at ".concat(n.errSchemaPath,")"));return i.parentData[i.parentDataProperty]=o,!0}}},R={keyword:"nfData",valid:!0},z={keyword:"nfDisabled",schemaType:"object",valid:!0},F={keyword:"nfHidden",schemaType:"object",valid:!0},B=n(84),U=[N,E,{keyword:"nfValidate",schemaType:["object","array"],compile:function(e,t,n){var a=Array.isArray(e)?e:[e],r=a.map((function(t,a){var r=n.errSchemaPath;return(a>0||Array.isArray(e))&&(r+="/".concat(a)),Object(v.a)(t,r)}));return function e(c,i){if(!i)return!1;var o=!0,s=[];return r.forEach((function(e,r){var u=a[r],l=e(c,Object(B.a)(Object(B.a)({},i),{},{schema:u,parentSchema:t,rootSchema:n.schema}));if("boolean"!==typeof l){var d=n.errSchemaPath;throw(r>0||Array.isArray(u))&&(d+="/".concat(r)),new Error("Expression as ".concat(d," must evaluate to a boolean value"))}if(!l&&"string"===typeof u.nfMessage){var b="";if("string"===typeof u.nfInstancePath&&(b=u.nfInstancePath.trim()),b.startsWith("#"))b=b.substring(1);else{var j,f=null===i||void 0===i||null===(j=i.instancePath)||void 0===j?void 0:j.trim();f&&(b=f+b)}s.push({keyword:"nfValidate",instancePath:b,schemaPath:n.schemaPath.toString(),message:u.nfMessage})}o&&(o=l)})),s.length>0&&(e.errors=s),o}}},T,R,F,z],V=n(699),H=function(e){return"code"in e},q=function(e){var t=e.schemaType;t.length>0&&!t.includes("object")&&(t.push("object"),e.schemaType=t);var n=e.code;e.code=function(e,t){var a=e.schema,r=e.keyword;if("object"!==typeof a||!("nfExpr"in a))return n(e,t);var c=new d.KeywordCxt(e.it,P,r);Object(b.funcKeywordCode)(c,P)}},_=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c.a)(this,n),t.call(this,Object(r.a)(Object(r.a)({},e),{},{useDefaults:!0}))}return Object(i.a)(n,[{key:"_addVocabularies",value:function(){Object(o.a)(Object(s.a)(n.prototype),"_addVocabularies",this).call(this),this.addVocabulary(U);var e,t=Object(a.a)(y);try{for(t.s();!(e=t.n()).done;){var r=e.value,c=this.getKeyword(r);"boolean"!==typeof c&&H(c)&&q(c)}}catch(i){t.e(i)}finally{t.f()}}},{key:"_addDefaultMetaSchema",value:function(){Object(o.a)(Object(s.a)(n.prototype),"_addDefaultMetaSchema",this).call(this),this.opts.meta&&(this.addMetaSchema(V),this.refs["http://json-schema.org/schema"]=V.$id)}},{key:"compile",value:function(e,t){return Object(o.a)(Object(s.a)(n.prototype),"compile",this).call(this,e,t)}}]),n}(f.a)},562:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},r=function(e){var t=new Array(e.length);t[0]=e[0].toUpperCase().charCodeAt(0);for(var n=1;n<e.length;n++)t[n]=e.charCodeAt(n);return String.fromCharCode.apply(void 0,t)}},569:function(e,t,n){"use strict";n.d(t,"a",(function(){return So})),n.d(t,"c",(function(){return el})),n.d(t,"b",(function(){return tl}));var a=n(127),r=n(5),c=n(1),i=n.n(c),o=n(65),s=n(122),u=n.n(s),l=n(67),d=n(2104),b=n(1255),j=n(30),f=function(e,t,n,a,r,c){return e.map((function(e,i){return Object(j.jsx)(d.a,{item:!0,xs:!0,children:Object(j.jsx)(l.d,{uischema:e,schema:t,path:n,enabled:a,renderers:r,cells:c})},"".concat(n,"-").concat(i))}))},m=function(e){var t=e.visible,n=e.elements,a=e.schema,r=e.path,c=e.enabled,i=e.direction,o=e.renderers,s=e.cells;return u()(n)?null:Object(j.jsx)(b.a,{xsUp:!t,children:Object(j.jsx)(d.a,{container:!0,direction:i,spacing:"row"===i?2:0,children:f(n,a,r,c,o,s)})})},O=i.a.memo(m),h=function(e){return function(t){var n=Object(l.f)(),a=Object(o.w)({jsonforms:Object(r.a)({},n)});return Object(j.jsx)(e,Object(r.a)(Object(r.a)({},t),{},{ajv:a}))}},p=Object(o.wb)(1,Object(o.Cb)("VerticalLayout")),v=function(e){var t=e.uischema,n=e.schema,a=e.path,c=e.enabled,i=e.visible,o=e.renderers,s=e.cells,u={elements:t.elements,schema:n,path:a,enabled:c,direction:"column",visible:i};return Object(j.jsx)(O,Object(r.a)(Object(r.a)({},u),{},{renderers:o,cells:s}))},x=Object(l.p)(v),g=Object(o.wb)(2,Object(o.Cb)("HorizontalLayout")),y=function(e){var t=e.uischema,n=e.renderers,a=e.cells,c=e.schema,i=e.path,o=e.enabled,s=e.visible,u={elements:t.elements,schema:c,path:i,enabled:o,direction:"row",visible:s};return Object(j.jsx)(O,Object(r.a)(Object(r.a)({},u),{},{renderers:n,cells:a}))},C=Object(l.p)(y),k=n(2090),w=n(93),I=n(84),M=n(83),P=n(34),S=function(){throw new Error("You forgot to wrap your component in <JsonFormsContextProvider>.")},D=Object(c.createContext)({context:{},bindContext:!0,uiSchemaLibrary:{},registerValidationProvider:S,unregisterValidationProvider:S,validationProviderUpdated:S,processAjvErrors:S}),L=function(e){var t=e.context,n=e.bindContext,r=e.uiSchemaLibrary,i=e.children,o=e.onErrorsChange,s=Object(c.useState)({}),u=Object(M.a)(s,2),l=u[0],d=u[1],b=Object(c.useRef)();Object(c.useEffect)((function(){var e=Object.values(l).flatMap((function(e){return e}));null===o||void 0===o||o(e)}),[l,o]);var f=Object(c.useCallback)((function(e){d((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(w.a)({},e,[]))}))}),[]),m=Object(c.useCallback)((function(e){d((function(t){return Object(P.p)([e],t)}))}),[]),O=Object(c.useCallback)((function(e,t){d((function(n){return e in n?Object(I.a)(Object(I.a)({},n),{},Object(w.a)({},e,t)):n}))}),[]),h=Object(c.useCallback)((function(e){if(b.current!==e){b.current=e;var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;"dependentRequired"!==r.keyword||r.instancePath||(r.instancePath+="/"+r.params.missingProperty)}}catch(c){n.e(c)}finally{n.f()}}}),[]);return Object(j.jsx)(D.Provider,{value:{context:null!==t&&void 0!==t?t:{},bindContext:null===n||void 0===n||n,uiSchemaLibrary:null!==r&&void 0!==r?r:{},registerValidationProvider:f,unregisterValidationProvider:m,validationProviderUpdated:O,processAjvErrors:h},children:i})},T=function(){return Object(c.useContext)(D)},N=n(184),A=Object(l.p)((function(e){var t=e.uischema,n=e.visible,a=e.data,r=e.path,i=T(),o=i.bindContext,s=i.context,u=Object(c.useMemo)((function(){var e=t;if(e||"text"in e){var n={data:a,path:r};return o&&Object.assign(n,s),Object(N.a)(e.text,n)}}),[t,a,r,o,s]);return u?Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)("div",{children:Object(j.jsx)(k.a,{children:u})})}):null})),E=Object(o.wb)(3,Object(o.Cb)("Markdown")),R=n(2050),z=n(2094),F=Object(z.a)((function(e){return Object(R.a)({viewer:{width:"100%",minHeight:"800px"}})})),B=Object(l.p)((function(e){var t=F(),n=e.uischema,a=e.visible,r=e.data,i=e.path,o=T(),s=o.bindContext,u=o.context,l=Object(c.useMemo)((function(){var e=n;if(e||"url"in e){var t={data:r,path:i};return s&&Object.assign(t,u),Object(N.a)(e.url,t)}}),[n,r,i,s,u]);return l?Object(j.jsx)(b.a,{xsUp:!a||!l,children:Object(j.jsx)("object",{data:l,type:"application/pdf",className:t.viewer,children:Object(j.jsx)("embed",{src:l,type:"application/pdf"})})}):null})),U=Object(o.wb)(3,Object(o.Cb)("Pdf")),V=n(175),H=n(91),q=["uischema","schema","path","renderers"],_=Object(l.p)((function(e){var t=e.uischema,n=e.schema,r=e.path,i=e.renderers,s=Object(V.a)(e,q),u=Object(l.f)().core,d=T().uiSchemaLibrary,b="Use"===t.type?t:void 0,f=b?d[b.name]:void 0,m=b?o.d.schema(n,b.scope,u.schema):void 0,O=Object(c.useMemo)((function(){if(i&&f&&m){var e=function(e,t){var n,r=-1,c=void 0,i=Object(a.a)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=t(o);s>r&&(r=s,c=o)}}catch(u){i.e(u)}finally{i.f()}return c}(i,(function(e){return e.tester(f,m,u.schema)}));return e}}),[u,i,m,f]);if(!f||!b||!m)return null;var h=Object(o.i)(b,r),p=o.d.data(null===u||void 0===u?void 0:u.data,h);if(Object(H.isPresent)(O)&&-1!==O.tester(f,m,u.schema)){var v=O.renderer;return Object(j.jsx)(v,Object(I.a)({uischema:f,schema:m,path:h,data:p,renderers:i},s))}return Object(j.jsx)(l.e,{type:"renderer"})})),W=Object(o.wb)(3,Object(o.Cb)("Use")),$=n(0),K=n(36),G=n(11),Y=n.n(G),J=n(139),X=n(4),Z=n(222),Q=n(221),ee=n(284),te=n(286),ne=n(386),ae=n.n(ne),re=n(385),ce=n.n(re),ie=n(233),oe=n.n(ie),se=n(1517),ue=n(1285),le=n(1512),de=n(1472),be=n(1460),je=n(1536),fe=n(1535),me=n(1516),Oe=n(156),he=n.n(Oe),pe=n(336),ve=n.n(pe),xe=n(422),ge=n.n(xe),ye=n(28),Ce=n(76),ke=["children"],we=Object(Ce.a)(le.a)({borderBottom:"none"}),Ie=function(e){var t=e.children,n=Object(ye.a)(e,ke);return Object(j.jsx)(we,Object(r.a)(Object(r.a)({},n),{},{children:t}))},Me=n(1487),Pe=n(213),Se=n.n(Pe),De=n(780),Le=n.n(De),Te=n(1251),Ne=Object(Ce.a)(Te.a)((function(e){return{color:e.theme.palette.error.main}})),Ae=function(e){var t=e.errorMessages,n=e.id;return Object(j.jsx)(Me.a,{id:n,title:t,children:Object(j.jsx)(Ne,{badgeContent:t.split("\n").length,children:Object(j.jsx)(Le.a,{color:"inherit"})})})},Ee={paddingLeft:0,paddingRight:0},Re=i.a.memo((function(e){var t=e.numColumns,n=e.errors,a=e.label,r=e.path,c=e.addItem,i=e.schema,s=e.enabled;return Object(j.jsxs)(se.a,{children:[Object(j.jsx)(Ie,{colSpan:t,children:Object(j.jsxs)(d.a,{container:!0,justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(ue.a,{variant:"h6",children:a})}),Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(b.a,{smUp:0===n.length,children:Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(Ae,{id:"tooltip-validation",errorMessages:n})})})})]})}),s?Object(j.jsx)(Ie,{align:"right",style:Ee,children:Object(j.jsx)(Me.a,{id:"tooltip-add",title:"Add to ".concat(a),placement:"bottom",children:Object(j.jsx)(be.a,{"aria-label":"Add to ".concat(a),onClick:c(r,Object(o.n)(i)),size:"large",children:Object(j.jsx)(Se.a,{})})})}):null]})})),ze=n(78),Fe=n.n(ze),Be={fixedCell:{width:"150px",height:"50px",paddingLeft:0,paddingRight:0,textAlign:"center"},fixedCellSmall:{width:"50px",height:"50px",paddingLeft:0,paddingRight:0,textAlign:"center"}},Ue=function(e,t,n,a,r){if("object"===t.type)return Ve(t).map((function(c){var i,s,u,l=o.c.compose(n,c),d={propName:c,schema:t,title:null!==(i=null===(s=t.properties)||void 0===s||null===(u=s[c])||void 0===u?void 0:u.title)&&void 0!==i?i:ce()(c),rowPath:n,cellPath:l,enabled:a,cells:r};return Object(j.jsx)(e,Object(I.a)({},d),l)}));var c={schema:t,rowPath:n,cellPath:n,enabled:a};return Object(j.jsx)(e,Object(I.a)({},c),n)},Ve=function(e){return"object"===e.type&&"object"===typeof e.properties?Object.keys(e.properties).filter((function(t){return"array"!==e.properties[t].type})):[""]},He=function(e){var t=e.numColumns;return Object(j.jsx)(se.a,{children:Object(j.jsx)(Ie,{colSpan:t,children:Object(j.jsx)(ue.a,{align:"center",children:"No data"})})})},qe=i.a.memo((function(e){var t=e.title;return Object(j.jsx)(le.a,{children:t})})),_e=function(e){return{type:"Control",scope:e,label:!1}},We=i.a.memo((function(e){var t=e.path,n=e.propName,a=e.schema,r=e.rootSchema,c=e.errors,i=e.enabled,s=e.renderers,u=e.cells,d=e.isValid;return Object(j.jsxs)(Ie,{children:[a.properties?Object(j.jsx)(l.b,{schema:o.d.schema(a,"#/properties/".concat(Object(o.q)(n)),r),uischema:_e("#/properties/".concat(Object(o.q)(n))),path:t,enabled:i,renderers:s,cells:u}):Object(j.jsx)(l.b,{schema:a,uischema:_e("#"),path:t,enabled:i,renderers:s,cells:u}),Object(j.jsx)(de.a,{error:!d,children:!d&&c})]})})),$e=function(e){var t=function(e,t){var n=t.rowPath+("object"===t.schema.type?"."+t.propName:""),a=Object(o.v)(ae()(Object(o.s)(n,t.schema,(function(e){return e===n}))(e.core.errors).map((function(e){var t;return null!==(t=e.message)&&void 0!==t?t:""}))));return{rowPath:t.rowPath,propName:t.propName,schema:t.schema,rootSchema:e.core.schema,errors:a,path:n,enabled:t.enabled,cells:t.cells||e.cells,renderers:t.renderers||e.renderers}}(Object(l.f)(),e),n=u()(t.errors);return Object(j.jsx)(We,Object(I.a)(Object(I.a)({},t),{},{isValid:n}))},Ke=function(e){var t=e.childPath,n=e.schema,a=e.rowIndex,r=e.openDeleteDialog,i=e.moveUpCreator,o=e.moveDownCreator,s=e.enableUp,u=e.enableDown,l=e.showSortButtons,b=e.enabled,f=e.cells,m=e.path,O=Object(c.useMemo)((function(){return i(m,a)}),[i,m,a]),h=Object(c.useMemo)((function(){return o(m,a)}),[o,m,a]);return Object(j.jsxs)(se.a,{hover:!0,children:[Ue($e,n,t,b,f),b?Object(j.jsx)(Ie,{style:l?Be.fixedCell:Be.fixedCellSmall,children:Object(j.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",children:[l?Object(j.jsxs)(c.Fragment,{children:[Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(be.a,{"aria-label":"Move up",onClick:O,disabled:!s,size:"large",children:Object(j.jsx)(ge.a,{})})}),Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(be.a,{"aria-label":"Move down",onClick:h,disabled:!u,size:"large",children:Object(j.jsx)(ve.a,{})})})]}):null,Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(be.a,{"aria-label":"Delete",onClick:function(){return r(t,a)},size:"large",children:Object(j.jsx)(he.a,{})})})]})}):null]},t)},Ge=i.a.memo(Ke),Ye=function(e){var t=e.data,n=e.path,a=e.schema,r=e.openDeleteDialog,c=e.moveUp,s=e.moveDown,u=e.uischema,l=e.config,d=e.enabled,b=e.cells;if(0===t)return Object(j.jsx)(He,{numColumns:Ve(a).length+1});var f=Fe()({},l,u.options);return Object(j.jsx)(i.a.Fragment,{children:oe()(t).map((function(e){var i=o.c.compose(n,"".concat(e));return Object(j.jsx)(Ge,{childPath:i,rowIndex:e,schema:a,openDeleteDialog:r,moveUpCreator:c,moveDownCreator:s,enableUp:0!==e,enableDown:e!==t-1,showSortButtons:f.showSortButtons,enabled:d,cells:b,path:n},i)}))})},Je=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).addItem=function(t,n){return e.props.addItem(t,n)},e}return Object(Q.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.path,a=e.schema,r=e.rootSchema,c=e.uischema,i=e.errors,o=e.visible,s=e.enabled,u=e.cells,l=c,d="object"===a.type,f=d?Ue(qe,a,n,s,u):void 0;return Object(j.jsx)(b.a,{xsUp:!o,children:Object(j.jsxs)(je.a,{children:[Object(j.jsxs)(fe.a,{children:[Object(j.jsx)(Re,{errors:i,label:t,addItem:this.addItem,numColumns:d?f.length:1,path:n,uischema:l,schema:a,rootSchema:r,enabled:s}),d&&Object(j.jsxs)(se.a,{children:[f,s?Object(j.jsx)(le.a,{}):null]})]}),Object(j.jsx)(me.a,{children:Object(j.jsx)(Ye,Object(I.a)({},this.props))})]})})}}]),n}(i.a.Component),Xe=n(2052),Ze=n(2059),Qe=n(2111),et=n(1265),tt=n(2112),nt=n(1599),at=i.a.memo((function(e){var t=e.open,n=e.onClose,a=e.onConfirm,r=e.onCancel;return Object(j.jsxs)(Xe.a,{open:t,keepMounted:!0,onClose:n,"aria-labelledby":"alert-dialog-confirmdelete-title","aria-describedby":"alert-dialog-confirmdelete-description",children:[Object(j.jsx)(Ze.a,{id:"alert-dialog-confirmdelete-title",children:"Confirm Deletion"}),Object(j.jsx)(Qe.a,{children:Object(j.jsx)(et.a,{id:"alert-dialog-confirmdelete-description",children:"Are you sure you want to delete the selected entry?"})}),Object(j.jsxs)(tt.a,{children:[Object(j.jsx)(nt.a,{onClick:r,color:"primary",children:"No"}),Object(j.jsx)(nt.a,{onClick:a,color:"primary",children:"Yes"})]})]})})),rt=function(e){var t=Object(c.useState)(!1),n=Object(X.a)(t,2),a=n[0],i=n[1],o=Object(c.useState)(),s=Object(X.a)(o,2),u=s[0],l=s[1],d=Object(c.useState)(),f=Object(X.a)(d,2),m=f[0],O=f[1],h=e.removeItems,p=e.visible,v=Object(c.useCallback)((function(e,t){i(!0),l(e),O(t)}),[i,l,O]),x=Object(c.useCallback)((function(){return i(!1)}),[i]),g=Object(c.useCallback)((function(){var e=u.substring(0,u.lastIndexOf("."));h(e,[m])(),i(!1)}),[i,u,m]),y=Object(c.useCallback)((function(){return i(!1)}),[i]);return Object(j.jsxs)(b.a,{xsUp:!p,children:[Object(j.jsx)(Je,Object(r.a)(Object(r.a)({},e),{},{openDeleteDialog:v})),Object(j.jsx)(at,{open:a,onCancel:x,onConfirm:g,onClose:y})]})},ct=Object(l.i)(rt),it=function(e){var t=e.renderers,n=e.cells,a=e.uischemas,r=e.schema,i=e.label,s=e.path,d=e.visible,f=e.enabled,m=e.uischema,O=e.rootSchema,h=Object(c.useMemo)((function(){return Object(o.u)(a,r,m.scope,s,(function(){return u()(s)?o.b.uiSchema(r,"VerticalLayout"):Object(I.a)(Object(I.a)({},o.b.uiSchema(r,"Group")),{},{label:i})}),m,O)}),[a,r,m.scope,s,i,m,O]);return Object(j.jsx)(b.a,{xsUp:!d,children:Object(j.jsx)(l.d,{visible:d,enabled:f,schema:r,uischema:h,path:s,renderers:t,cells:n})})},ot=Object(o.wb)(2,o.R),st=Object(l.m)(it),ut=function(e){var t=e.schema,n=e.rootSchema,a=e.visible,r=e.renderers,c=e.cells,i=e.path,s=e.uischemas,u=e.uischema,d=Object(o.t)(s)(t,u.scope,i);if(d)return Object(j.jsx)(b.a,{xsUp:!a,children:Object(j.jsx)(l.d,{schema:t,uischema:d,path:i,renderers:r,cells:c})});var f=Object(o.m)(t.allOf,n,"allOf",u,i,s);return Object(j.jsx)(b.a,{xsUp:!a,children:f.map((function(e,t){return Object(j.jsx)(l.d,{schema:e.schema,uischema:e.uischema,path:i,renderers:r,cells:c},t)}))})},lt=Object(o.wb)(3,o.D),dt=Object(l.g)(ut),bt=n(2098),jt=n(2124),ft=n(3),mt=n(2),Ot=n(7),ht=n(10),pt=n(781),vt=n.n(pt),xt=function(e){Object(Ot.a)(n,e);var t=Object(ht.a)(n);function n(){return Object(ft.a)(this,n),t.apply(this,arguments)}return Object(mt.a)(n,[{key:"render",value:function(){var e=this.props,t=e.schema,n=e.combinatorKeyword,a=e.path,r=vt()(t,n),c=o.b.uiSchema(r,"VerticalLayout"),i=!1;return null!==c&&c.hasOwnProperty("elements")&&(i=c.elements.length>0),i?Object(j.jsx)(l.d,{schema:r,path:a,uischema:c}):null}}]),n}(i.a.Component),gt=xt,yt=function(e){var t=e.schema,n=e.rootSchema,a=e.indexOfFittingSchema,r=e.visible,i=e.path,s=e.renderers,u=e.cells,d=e.uischema,f=e.uischemas,m=Object(c.useState)(a||0),O=Object(M.a)(m,2),h=O[0],p=O[1],v=Object(c.useCallback)((function(e,t){return p(t)}),[p]),x="anyOf",g=Object(o.m)(t.anyOf,n,x,d,i,f);return Object(j.jsxs)(b.a,{xsUp:!r,children:[Object(j.jsx)(gt,{schema:t,combinatorKeyword:x,path:i}),Object(j.jsx)(bt.a,{value:h,onChange:v,children:g.map((function(e){return Object(j.jsx)(jt.a,{label:e.label},e.label)}))}),g.map((function(e,t){return h===t&&Object(j.jsx)(l.d,{schema:e.schema,uischema:e.uischema,path:i,renderers:s,cells:u},t)}))]})},Ct=Object(o.wb)(3,o.E),kt=Object(l.h)(yt),wt=function(e){var t=e.handleChange,n=e.schema,a=e.path,r=e.renderers,i=e.cells,s=e.rootSchema,d=e.id,f=e.visible,m=e.indexOfFittingSchema,O=e.uischema,h=e.uischemas,p=e.data,v=Object(c.useState)(!1),x=Object(M.a)(v,2),g=x[0],y=x[1],C=Object(c.useState)(m||0),k=Object(M.a)(C,2),w=k[0],I=k[1],P=Object(c.useState)(0),S=Object(M.a)(P,2),D=S[0],L=S[1],T=Object(c.useCallback)((function(){return y(!1)}),[y]),N=Object(c.useCallback)((function(){y(!1)}),[y]),A=Object(o.m)(n.oneOf,s,"oneOf",O,a,h),E=function(e){t(a,Object(o.n)(A[e].schema)),I(e)},R=Object(c.useCallback)((function(){E(D),y(!1)}),[t,o.n,D]),z=Object(c.useCallback)((function(e,t){L(t),u()(p)?E(t):y(!0)}),[y,I,p]);return Object(j.jsxs)(b.a,{xsUp:!f,children:[Object(j.jsx)(gt,{schema:n,combinatorKeyword:"oneOf",path:a}),Object(j.jsx)(bt.a,{value:w,onChange:z,children:A.map((function(e){return Object(j.jsx)(jt.a,{label:e.label},e.label)}))}),A.map((function(e,t){return w===t&&Object(j.jsx)(l.d,{schema:e.schema,uischema:e.uischema,path:a,renderers:r,cells:i},t)})),Object(j.jsxs)(Xe.a,{open:g,onClose:T,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(j.jsx)(Ze.a,{id:"alert-dialog-title",children:"Clear form?"}),Object(j.jsx)(Qe.a,{children:Object(j.jsx)(et.a,{id:"alert-dialog-description",children:"Your data will be cleared if you navigate away from this tab. Do you want to proceed?"})}),Object(j.jsxs)(tt.a,{children:[Object(j.jsx)(nt.a,{onClick:N,color:"primary",children:"No"}),Object(j.jsx)(nt.a,{onClick:R,color:"primary",autoFocus:!0,id:"oneOf-".concat(d,"-confirm-yes"),children:"Yes"})]})]})]})},It=Object(o.wb)(3,o.S),Mt=Object(l.u)(wt),Pt=n(1595),St=i.a.memo((function(e){var t=e.data,n=e.className,a=e.id,r=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,s=e.config,u={autoFocus:!!Fe()({},s,c.options).focus},l=!!t;return Object(j.jsx)(Pt.a,{checked:l,onChange:function(e,t){return o(i,t)},className:n,id:a,disabled:!r,inputProps:u})})),Dt=n(1596),Lt=n(1491),Tt=i.a.memo((function(e){var t=e.data,n=e.className,a=e.id,r=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,s=e.options,u=e.config,l=Fe()({},u,c.options);return Object(j.jsx)(Dt.a,{className:n,id:a,disabled:!r,autoFocus:l.focus,value:void 0!==t?t:"",onChange:function(e){return o(i,e.target.value)},fullWidth:!0,variant:"standard",children:[Object(j.jsx)(Lt.a,{value:""},"empty")].concat(s.map((function(e){return Object(j.jsx)(Lt.a,{value:e.value,children:e.label},e.value)})))})})),Nt=n(2060),At=n(423),Et=n.n(At),Rt=n(424),zt=n.n(Rt);Et.a.extend(zt.a);var Ft,Bt=function(e,t,n){return function(a){if(a){var r=Et()(a).format(n);t(e,"Invalid Date"===r?void 0:r)}else t(e,void 0)}},Ut=function(e,t){if(!e)return null;var n=Et()(e,t);return"Invalid Date"===n.toString()?null:n},Vt=n(420),Ht=n.n(Vt),qt=function(e){return e.target.value},_t=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qt,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:300,o=Object(c.useState)(null!==n&&void 0!==n?n:t),s=Object(X.a)(o,2),u=s[0],l=s[1];Object(c.useEffect)((function(){l(null!==n&&void 0!==n?n:t)}),[n]);var d=Object(c.useCallback)(Ht()((function(t){return e(a,t)}),i),[e,a,i]),b=Object(c.useCallback)((function(e){var n=r(e);l(null!==n&&void 0!==n?n:t),d(n)}),[d,r]),j=Object(c.useCallback)((function(){l(t),e(a,void 0)}),[t,e,a]);return[u,b,j]},Wt=function(){var e=Object(c.useState)(!1),t=Object(X.a)(e,2),n=t[0],a=t[1];return[n,Object(c.useCallback)((function(){return a(!0)}),[]),Object(c.useCallback)((function(){return a(!1)}),[])]},$t=function(e){return""===(t=e.target.value)?void 0:parseInt(t,10);var t},Kt=i.a.memo((function(e){var t=e.data,n=e.className,a=e.id,r=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,s=e.config,u=Fe()({},s,c.options),l=_t(o,"",t,i,$t),d=Object(X.a)(l,2),b=d[0],f=d[1];return Object(j.jsx)(Nt.a,{type:"number",value:b,onChange:f,className:n,id:a,disabled:!r,autoFocus:u.focus,inputProps:{step:"1"},fullWidth:!0})})),Gt=function(e){return""===(t=e.target.value)?void 0:parseFloat(t);var t},Yt=i.a.memo((function(e){var t=e.data,n=e.className,a=e.id,r=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,s=e.config,u=Fe()({},s,c.options),l=_t(o,"",t,i,Gt),d=Object(X.a)(l,2),b=d[0],f=d[1];return Object(j.jsx)(Nt.a,{type:"number",value:b,onChange:f,className:n,id:a,disabled:!r,autoFocus:u.focus,inputProps:{step:"0.1"},fullWidth:!0})})),Jt=i.a.memo((function(e){var t,n=e.className,a=e.id,r=e.enabled,i=e.uischema,o=e.isValid,s=e.path,u=e.handleChange,l=e.schema,d=e.config,b=l.maxLength,f=Fe()({},d,i.options);t=f.restrict?{maxLength:b}:{};var m=e.toFormatted(e.data),O=Object(c.useCallback)((function(t){return e.fromFormatted(t.currentTarget.value)}),[e.fromFormatted]),h=_t(u,"",m,s,O),p=Object(X.a)(h,2),v=p[0],x=p[1];return Object(j.jsx)(Nt.a,{type:"text",value:v,onChange:x,className:n,id:a,disabled:!r,autoFocus:f.focus,multiline:f.multi,fullWidth:!f.trim||void 0===b,inputProps:t,error:!o})})),Xt=n(151),Zt=n(1486),Qt=n(425),en=n.n(Qt),tn=i.a.memo((function(e){var t,n,a,r,i=Object(c.useState)(!1),o=Object(X.a)(i,2),s=o[0],u=o[1],l=e.data,d=e.config,b=e.className,f=e.id,m=e.enabled,O=e.uischema,h=e.isValid,p=e.path,v=e.handleChange,x=e.schema,g=e.muiInputProps,y=e.inputComponent,C=x.maxLength,k=Fe()({},d,O.options);r=k.restrict?{maxLength:C}:{},r=Fe()(r,g),k.trim&&void 0!==C&&(r.size=C);var w=_t(v,"",l,p),I=Object(X.a)(w,3),M=I[0],P=I[1],S=I[2],D=Object(Xt.a)(),L={background:(null===(t=D.jsonforms)||void 0===t||null===(n=t.input)||void 0===n||null===(a=n.delete)||void 0===a?void 0:a.background)||D.palette.background.default,borderRadius:"50%"};return Object(j.jsx)(Nt.a,{type:"password"===k.format?"password":"text",value:M,onChange:P,className:b,id:f,disabled:!m,autoFocus:k.focus,multiline:k.multi,fullWidth:!k.trim||void 0===C,inputProps:r,error:!h,onPointerEnter:function(){return u(!0)},onPointerLeave:function(){return u(!1)},endAdornment:Object(j.jsx)(Zt.a,{position:"end",style:{display:s&&m&&void 0!==l?"flex":"none",position:"absolute",right:0},children:Object(j.jsx)(be.a,{"aria-label":"Clear input field",onClick:S,size:"large",children:Object(j.jsx)(en.a,{style:L})})}),inputComponent:y})})),nn=i.a.memo((function(e){var t=e.data,n=e.className,a=e.id,r=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,s=e.config,u=Fe()({},s,c.options),l=_t(o,"",t,i),d=Object(X.a)(l,2),b=d[0],f=d[1];return Object(j.jsx)(Nt.a,{type:"time",value:b,onChange:f,className:n,id:a,disabled:!r,autoFocus:u.focus,fullWidth:!0})})),an=n(1469),rn=n(1518),cn=n(1519),on=["schema","visible","errors","path","options","data","addItem","removeItem","handleChange"],sn=function(e){var t=e.schema,n=e.visible,a=e.errors,r=e.path,c=e.options,i=e.data,s=e.addItem,l=e.removeItem,d=(e.handleChange,Object(V.a)(e,on));return Object(j.jsx)(b.a,{xlUp:!n,children:Object(j.jsxs)(an.a,{component:"fieldset",children:[Object(j.jsx)(rn.a,{row:!0,children:c.map((function(e,c){var b=o.c.compose(r,"".concat(c)),f=null!==i&&void 0!==i&&i.includes(e.value)?e.value:void 0;return Object(j.jsx)(cn.a,{id:e.value,control:Object(j.jsx)(St,Object(I.a)({isValid:u()(a),path:b,handleChange:function(t,n){return n?s(r,e.value):l(r,e.value)},data:f,errors:a,schema:t,visible:n},d),"checkbox-"+e.value),label:e.label},e.value)}))}),Object(j.jsx)(de.a,{error:!0,children:a})]})})},un=Object(o.wb)(5,Object(o.e)(Object(o.Cb)("Control"),Object(o.e)(Object(o.yb)((function(e){return Object(o.B)(e,"array")&&!Array.isArray(e.items)&&!0===e.uniqueItems})),Object(o.zb)("items",(function(e){return function(e){return void 0!==e.oneOf&&e.oneOf.length>0&&e.oneOf.every((function(e){return void 0!==e.const}))}(e)||function(e){return"string"===e.type&&void 0!==e.enum}(e)}))))),ln=Object(l.r)(sn),dn=Object(o.wb)(3,Object(o.vb)(o.P,o.U)),bn=Object(o.wb)(1,Object(o.Cb)("Label")),jn=function(e){var t=e.uischema,n=e.visible,a=t;return Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)(ue.a,{variant:"h6",children:void 0!==a.text&&null!==a.text&&a.text})})},fn=Object(l.p)(jn),mn=n(2118),On=n(426),hn=n.n(On),pn=n(1501),vn=i.a.memo((function(e){var t=e.label,n=e.errors,a=e.addItem,r=e.path,c=e.createDefault;return Object(j.jsx)(pn.a,{disableGutters:!0,children:Object(j.jsxs)(d.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(ue.a,{variant:"h6",children:t})}),Object(j.jsx)(b.a,{smUp:0===n.length,children:Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(Ae,{id:"tooltip-validation",errorMessages:n})})}),Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(d.a,{container:!0,children:Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(Me.a,{id:"tooltip-add",title:"Add to ".concat(t),placement:"bottom",children:Object(j.jsx)(be.a,{"aria-label":"Add to ".concat(t),onClick:a(r,c()),size:"large",children:Object(j.jsx)(Se.a,{})})})})})})]})})})),xn=n(2106),gn=n(1266),yn=n(2105),Cn=n(1488),kn=n(2119),wn=Object(l.q)((function(e){var t=e.index,n=e.childLabel,a=e.selected,r=e.handleSelect,c=e.removeItem,i=e.path;return Object(j.jsxs)(xn.a,{button:!0,selected:a,onClick:r(t),children:[Object(j.jsx)(gn.a,{children:Object(j.jsx)(yn.a,{"aria-label":"Index",children:t+1})}),Object(j.jsx)(Cn.a,{primary:n}),Object(j.jsx)(kn.a,{children:Object(j.jsx)(be.a,{"aria-label":"Delete",onClick:c(i,t),size:"large",children:Object(j.jsx)(he.a,{})})})]})})),In=function(e){var t=e.uischemas,n=e.schema,a=e.uischema,r=e.path,i=e.errors,s=e.visible,u=e.label,f=e.required,m=e.removeItems,O=e.addItem,h=e.data,p=e.renderers,v=e.cells,x=e.config,g=e.rootSchema,y=Object(c.useState)(),C=Object(M.a)(y,2),k=C[0],w=C[1],I=Object(c.useCallback)((function(e,t){return function(){m(e,[t])(),k===t?w(void 0):"number"===typeof k&&k>t&&w(k-1)}}),[m,w]),P=Object(c.useCallback)((function(e){return function(){return w(e)}}),[w]),S=Object(c.useCallback)((function(){return Object(o.n)(n)}),[o.n]),D=Object(c.useMemo)((function(){return Object(o.u)(t,n,a.scope,r,void 0,a,g)}),[t,n,a.scope,r,a,g]),L=Fe()({},x,a.options);return Object(j.jsxs)(b.a,{xsUp:!s,children:[Object(j.jsx)(vn,{label:Object(o.j)(u,f,L.hideRequiredAsterisk),errors:i,path:r,addItem:O,createDefault:S}),Object(j.jsxs)(d.a,{container:!0,direction:"row",spacing:2,children:[Object(j.jsx)(d.a,{item:!0,xs:3,children:Object(j.jsx)(mn.a,{children:h>0?hn()(oe()(h),(function(e){return Object(j.jsx)(wn,{index:e,path:r,schema:n,handleSelect:P,removeItem:I,selected:k===e},e)})):Object(j.jsx)("p",{children:"No data"})})}),Object(j.jsx)(d.a,{item:!0,xs:!0,children:void 0!==k?Object(j.jsx)(l.d,{renderers:p,cells:v,visible:s,schema:n,uischema:D,path:Object(o.h)(r,"".concat(k))}):Object(j.jsx)(ue.a,{variant:"h6",children:"No Selection"})})]})]})},Mn=Object(o.wb)(4,Object(o.e)(Object(o.Cb)("ListWithDetail"),o.O)),Pn=Object(l.i)(In),Sn=function(e){var t=e.data,n=e.visible,a=e.label,r=e.id,c=e.enabled,i=e.uischema,o=e.schema,s=e.rootSchema,l=e.handleChange,d=e.errors,f=e.path,m=e.config;return Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)(cn.a,{label:a,id:r,control:Object(j.jsx)(St,{id:"".concat(r,"-input"),isValid:u()(d),data:t,enabled:c,visible:n,path:f,uischema:i,schema:o,rootSchema:s,handleChange:l,errors:d,config:m})})})},Dn=Object(o.wb)(2,o.F),Ln=Object(l.l)(Sn),Tn=n(1267),Nn=i.a.memo((function(e){var t=e.data,n=e.className,a=e.id,r=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,s=e.config,u={autoFocus:!!Fe()({},s,c.options).focus},l=!!t;return Object(j.jsx)(Tn.a,{checked:l,onChange:function(e,t){return o(i,t)},className:n,id:a,disabled:!r,inputProps:u})})),An=function(e){var t=e.data,n=e.visible,a=e.label,r=e.id,c=e.enabled,i=e.uischema,o=e.schema,s=e.rootSchema,l=e.handleChange,d=e.errors,f=e.path,m=e.config;return Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)(cn.a,{label:a,id:r,control:Object(j.jsx)(Nn,{id:"".concat(r,"-input"),isValid:u()(d),data:t,enabled:c,visible:n,path:f,uischema:i,schema:o,rootSchema:s,handleChange:l,errors:d,config:m})})})},En=Object(o.wb)(3,Object(o.e)(o.F,Object(o.ub)("toggle",!0))),Rn=Object(l.l)(An),zn=n(1470),Fn=function(e){var t=Wt(),n=Object(X.a)(t,3),a=n[0],c=n[1],i=n[2],s=e.id,u=e.description,l=e.errors,d=e.label,f=e.uischema,m=e.visible,O=e.required,h=e.config,p=e.input,v=0===l.length,x=Fe()({},h,f.options),g=!Object(o.J)(m,u,a,x.showUnfocusedDescription),y=g?u:v?null:l,C=g&&!v?l:null,k=p;return Object(j.jsx)(b.a,{xsUp:!m,children:Object(j.jsxs)(an.a,{fullWidth:!x.trim,onFocus:c,onBlur:i,id:s,variant:"standard",children:[Object(j.jsx)(zn.a,{htmlFor:s+"-input",error:!v,required:Object(o.Bb)(O,x.hideRequiredAsterisk),children:d}),Object(j.jsx)(k,Object(r.a)(Object(r.a)({},e),{},{id:s+"-input",isValid:v,visible:m})),Object(j.jsx)(de.a,{error:!v&&!g,children:y}),Object(j.jsx)(de.a,{error:!v,children:C})]})})},Bn=n(2100),Un=function(e){var t,n=e.data,a=e.className,r=e.id,c=e.enabled,o=e.uischema,s=e.path,u=e.handleChange,l=e.options,d=e.config,b=e.getOptionLabel,f=e.renderOption,m=e.filterOptions,O=Fe()({},d,o.options),h=i.a.useState(null!==n&&void 0!==n?n:""),p=Object(X.a)(h,2),v=p[0],x=p[1],g=null!==(t=null===l||void 0===l?void 0:l.find((function(e){return e.value===n})))&&void 0!==t?t:null;return Object(j.jsx)(Bn.a,{className:a,id:r,disabled:!c,value:g,onChange:function(e,t){u(s,null===t||void 0===t?void 0:t.value)},inputValue:v,onInputChange:function(e,t){x(t)},autoHighlight:!0,autoSelect:!0,autoComplete:!0,fullWidth:!0,options:null!==l&&void 0!==l?l:[],getOptionLabel:b||function(e){return null===e||void 0===e?void 0:e.label},style:{marginTop:16},renderInput:function(e){return Object(j.jsx)(Nt.a,{style:{width:"100%"},type:"text",inputProps:e.inputProps,inputRef:e.InputProps.ref,autoFocus:O.focus,disabled:!c})},renderOption:f,filterOptions:m})},Vn=function(e){var t=e.config,n=e.uischema,a=Fe()({},t,n.options);return Object(j.jsx)(Fn,Object(r.a)(Object(r.a)({},e),{},{input:!1===a.autocomplete?Tt:Un}))},Hn=Object(o.wb)(2,o.K),qn=Object(l.o)(Vn),_n=n(1464),Wn=function(e){var t,n=Wt(),a=Object(X.a)(n,3),r=a[0],c=a[1],i=a[2],s=e.id,u=e.errors,l=e.label,d=e.schema,f=e.description,m=e.enabled,O=e.visible,h=e.required,p=e.path,v=e.handleChange,x=e.data,g=e.config,y=0===u.length,C=Fe()({},g,e.uischema.options),k=_t(v,"",x,p),w=Object(X.a)(k,2),I=w[0],M=w[1],P=null!==(t=C.format)&&void 0!==t?t:d.format,S=!Object(o.J)(O,f,r,C.showUnfocusedDescription);return Object(j.jsx)(b.a,{xsUp:!O,children:Object(j.jsx)(_n.a,{required:Object(o.Bb)(h,C.hideRequiredAsterisk),id:s+"-input",label:l,type:P,error:!y,disabled:!m,fullWidth:!C.trim,onFocus:c,onBlur:i,helperText:y?S?f:null:u,InputLabelProps:{shrink:!0},value:I,onChange:M})})},$n=Object(o.wb)(2,Object(o.vb)(o.H,o.X)),Kn=Object(l.l)(Wn),Gn=n(783),Yn=n(1256),Jn=n(1223),Xn=function(e){var t,n,a=Wt(),i=Object(X.a)(a,3),s=i[0],u=i[1],l=i[2],d=e.description,f=e.id,m=e.errors,O=e.label,h=e.uischema,p=e.visible,v=e.enabled,x=e.required,g=e.path,y=e.handleChange,C=e.data,k=e.config,w=0===m.length,I=Fe()({},k,h.options),M=!Object(o.J)(p,d,s,I.showUnfocusedDescription),P=null!==(t=I.dateFormat)&&void 0!==t?t:"YYYY-MM-DD",S=null!==(n=I.dateSaveFormat)&&void 0!==n?n:"YYYY-MM-DD",D=M?d:w?null:m,L=M&&!w?m:null,T=Object(c.useMemo)((function(){return Bt(g,y,S)}),[g,y,S]);return Object(j.jsx)(b.a,{xsUp:!p,children:Object(j.jsxs)(Gn.a,{dateAdapter:Jn.a,children:[Object(j.jsx)(Yn.a,{label:O,value:Ut(C,S),clearable:!0,onChange:T,inputFormat:P,disableMaskedInput:!0,views:I.views,disabled:!v,cancelText:I.cancelLabel,clearText:I.clearLabel,okText:I.okLabel,renderInput:function(e){return Object(j.jsx)(_n.a,Object(r.a)(Object(r.a)({},e),{},{id:f+"-input",required:x&&!I.hideRequiredAsterisk,autoFocus:I.focus,error:!w,fullWidth:!I.trim,inputProps:Object(r.a)(Object(r.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:C?{shrink:!0}:void 0,onFocus:u,onBlur:l,variant:"standard"}))}}),Object(j.jsx)(de.a,{error:!w&&!M,children:D}),Object(j.jsx)(de.a,{error:!w,children:L})]})})},Zn=Object(o.wb)(4,o.H),Qn=Object(l.l)(Xn),ea=n(1249),ta=function(e){var t,n,a=Wt(),i=Object(X.a)(a,3),s=i[0],u=i[1],l=i[2],d=e.id,f=e.description,m=e.errors,O=e.label,h=e.uischema,p=e.visible,v=e.enabled,x=e.required,g=e.path,y=e.handleChange,C=e.data,k=e.config,w=Fe()({},k,h.options),I=0===m.length,M=!Object(o.J)(p,f,s,w.showUnfocusedDescription),P=null!==(t=w.dateTimeFormat)&&void 0!==t?t:"YYYY-MM-DD HH:mm",S=null!==(n=w.dateTimeSaveFormat)&&void 0!==n?n:void 0,D=M?f:I?null:m,L=M&&!I?m:null,T=Object(c.useMemo)((function(){return Bt(g,y,S)}),[g,y,S]);return Object(j.jsx)(b.a,{xsUp:!p,children:Object(j.jsxs)(Gn.a,{dateAdapter:Jn.a,children:[Object(j.jsx)(ea.a,{label:O,value:Ut(C,S),clearable:!0,onChange:T,inputFormat:P,disableMaskedInput:!0,ampm:!!w.ampm,views:w.views,disabled:!v,cancelText:w.cancelLabel,clearText:w.clearLabel,okText:w.okLabel,renderInput:function(e){return Object(j.jsx)(_n.a,Object(r.a)(Object(r.a)({},e),{},{id:d+"-input",required:x&&!w.hideRequiredAsterisk,autoFocus:w.focus,error:!I,fullWidth:!w.trim,inputProps:Object(r.a)(Object(r.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:C?{shrink:!0}:void 0,onFocus:u,onBlur:l,variant:"standard"}))}}),Object(j.jsx)(de.a,{error:!I&&!M,children:D}),Object(j.jsx)(de.a,{error:!I,children:L})]})})},na=Object(o.wb)(2,o.I),aa=Object(l.l)(ta),ra=n(1254),ca=function(e){var t,n,a=Wt(),i=Object(X.a)(a,3),s=i[0],u=i[1],l=i[2],d=e.id,f=e.description,m=e.errors,O=e.label,h=e.uischema,p=e.visible,v=e.enabled,x=e.required,g=e.path,y=e.handleChange,C=e.data,k=e.config,w=Fe()({},k,h.options),I=0===m.length,M=!Object(o.J)(p,f,s,w.showUnfocusedDescription),P=null!==(t=w.timeFormat)&&void 0!==t?t:"HH:mm",S=null!==(n=w.timeSaveFormat)&&void 0!==n?n:"HH:mm:ss",D=M?f:I?null:m,L=M&&!I?m:null,T=Object(c.useMemo)((function(){return Bt(g,y,S)}),[g,y,S]);return Object(j.jsx)(b.a,{xsUp:!p,children:Object(j.jsxs)(Gn.a,{dateAdapter:Jn.a,children:[Object(j.jsx)(ra.a,{label:O,value:Ut(C,S),clearable:!0,onChange:T,inputFormat:P,disableMaskedInput:!0,ampm:!!w.ampm,views:w.views,disabled:!v,cancelText:w.cancelLabel,clearText:w.clearLabel,okText:w.okLabel,renderInput:function(e){return Object(j.jsx)(_n.a,Object(r.a)(Object(r.a)({},e),{},{id:d+"-input",required:x&&!w.hideRequiredAsterisk,autoFocus:w.focus,error:!I,fullWidth:!w.trim,inputProps:Object(r.a)(Object(r.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:C?{shrink:!0}:void 0,onFocus:u,onBlur:l,variant:"standard"}))}}),Object(j.jsx)(de.a,{error:!I&&!M,children:D}),Object(j.jsx)(de.a,{error:!I,children:L})]})})},ia=Object(o.wb)(4,o.X),oa=Object(l.l)(ca),sa=n(2064),ua=n(1252),la=function(e){var t=Wt(),n=Object(X.a)(t,3),a=n[0],r=n[1],i=n[2],s=e.id,u=e.data,l=e.description,d=e.enabled,f=e.errors,m=e.label,O=e.schema,h=e.handleChange,p=e.visible,v=e.path,x=e.required,g=e.config,y=0===f.length,C=Fe()({},g,e.uischema.options),k={flexGrow:"1"},w=!Object(o.J)(p,l,a,C.showUnfocusedDescription),I=Object(c.useCallback)((function(e,t){return h(v,Number(t))}),[v,h]);return Object(j.jsx)(b.a,{xsUp:!p,children:Object(j.jsxs)(an.a,{fullWidth:!C.trim,onFocus:r,onBlur:i,id:s,children:[Object(j.jsx)(sa.a,{htmlFor:s,error:!y,component:"legend",required:Object(o.Bb)(x,C.hideRequiredAsterisk),children:Object(j.jsx)(ue.a,{id:s+"-typo",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},variant:"caption",children:m})}),Object(j.jsxs)("div",{style:{display:"flex"},children:[Object(j.jsx)(ue.a,{style:k,variant:"caption",align:"left",children:O.minimum}),Object(j.jsx)(ue.a,{style:k,variant:"caption",align:"right",children:O.maximum})]}),Object(j.jsx)(ua.a,{style:{marginTop:"7px"},min:O.minimum,max:O.maximum,value:Number(u||O.default),onChange:I,id:s+"-input",disabled:!d,step:O.multipleOf||1}),Object(j.jsx)(de.a,{error:!y,children:y?w?l:null:f})]})})},da=Object(o.wb)(4,o.V),ba=Object(l.l)(la),ja=n(1224),fa=n(1253),ma=function(e){var t=Wt(),n=Object(X.a)(t,3),a=n[0],r=n[1],c=n[2],i=e.config,s=e.id,u=e.label,l=e.required,d=e.description,f=e.errors,m=e.data,O=e.visible,h=e.options,p=e.handleChange,v=e.path,x=e.enabled,g=0===f.length,y=Fe()({},i,e.uischema.options),C=!Object(o.J)(O,d,a,y.showUnfocusedDescription);return Object(j.jsx)(b.a,{xsUp:!O,children:Object(j.jsxs)(an.a,{component:"fieldset",fullWidth:!y.trim,onFocus:r,onBlur:c,children:[Object(j.jsx)(sa.a,{htmlFor:s,error:!g,component:"legend",required:Object(o.Bb)(l,y.hideRequiredAsterisk),children:u}),Object(j.jsx)(ja.a,{value:e.data,onChange:function(e,t){return p(v,t)},row:!0,children:null===h||void 0===h?void 0:h.map((function(e){return Object(j.jsx)(cn.a,{value:e.value,control:Object(j.jsx)(fa.a,{checked:m===e.value}),label:e.label,disabled:!x},e.label)}))}),Object(j.jsx)(de.a,{error:!g,children:g?C?d:null:f})]})})},Oa=function(e){return Object(j.jsx)(ma,Object(r.a)({},e))},ha=Object(o.wb)(20,Object(o.e)(o.K,Object(o.ub)("format","radio"))),pa=Object(l.o)(Oa),va=function(e){return Object(j.jsx)(Fn,Object(r.a)(Object(r.a)({},e),{},{input:Kt}))},xa=Object(o.wb)(2,o.L),ga=Object(l.l)(va),ya=function(e){return Object(j.jsx)(Fn,Object(r.a)(Object(r.a)({},e),{},{input:Yt}))},Ca=Object(o.wb)(2,o.M),ka=Object(l.l)(ya),wa=function(e){return Object(j.jsx)(Fn,Object(r.a)(Object(r.a)({},e),{},{input:tn}))},Ia=Object(o.wb)(1,o.W),Ma=Object(l.l)(wa),Pa=function(e){return e.find((function(e){return void 0!==e.enum&&("string"===e.type||void 0===e.type)}))},Sa=function(e){return e.find((function(e){return"string"===e.type&&void 0===e.enum}))},Da=function(e){var t=e.data,n=e.config,a=e.className,r=e.id,i=e.enabled,o=e.uischema,s=e.isValid,u=e.path,l=e.handleChange,d=e.schema,b=Pa(d.anyOf),f=Sa(d.anyOf).maxLength,m=Object(c.useMemo)((function(){return Fe()({},n,o.options)}),[n,o.options]),O=Object(c.useMemo)((function(){var t={};return m.restrict&&(t={maxLength:f}),m.trim&&void 0!==f&&(t.size=f),t.list=e.id+"datalist",t}),[m,e.id]),h=_t(l,"",t,u),p=Object(X.a)(h,2),v=p[0],x=p[1],g=Object(j.jsx)("datalist",{id:e.id+"datalist",children:b.enum.map((function(e){return Object(j.jsx)("option",{value:e},e)}))});return Object(j.jsx)(Nt.a,{type:"text",value:v,onChange:x,className:a,id:r,disabled:!i,autoFocus:m.focus,fullWidth:!m.trim||void 0===f,inputProps:O,error:!s,endAdornment:g})},La=function(e){Object(Ot.a)(n,e);var t=Object(ht.a)(n);function n(){return Object(ft.a)(this,n),t.apply(this,arguments)}return Object(mt.a)(n,[{key:"render",value:function(){return Object(j.jsx)(Fn,Object(r.a)(Object(r.a)({},this.props),{},{input:Da}))}}]),n}(l.a),Ta=Object(o.e)(Object(o.Cb)("Control"),Object(o.yb)((function(e){return e.hasOwnProperty("anyOf")&&function(e){var t=Pa(e),n=Sa(e),a=e.filter((function(e){return e!==t||e!==n})).find((function(e){return e.type&&"string"!==e.type}));return t&&n&&!a}(e.anyOf)}))),Na=Object(o.wb)(5,Ta),Aa=Object(l.l)(La),Ea=function(e){var t=e.config,n=e.uischema,a=Fe()({},t,n.options);return Object(j.jsx)(Fn,Object(r.a)(Object(r.a)({},e),{},{input:!1===a.autocomplete?Tt:Un}))},Ra=Object(o.wb)(5,o.T),za=Object(l.t)(Ea),Fa=function(e){return Object(j.jsx)(ma,Object(r.a)({},e))},Ba=Object(o.wb)(20,Object(o.e)(o.T,Object(o.ub)("format","radio"))),Ua=Object(l.t)(Fa),Va=n(1268),Ha=n(1269),qa=n(1270),_a=["visible","enabled","uischema"],Wa=Object(o.wb)(1,Object(o.Cb)("Group")),$a={marginBottom:"10px"},Ka=i.a.memo((function(e){var t=e.visible,n=e.enabled,a=e.uischema,c=Object(ye.a)(e,_a),i=a;return Object(j.jsx)(b.a,{xsUp:!t,children:Object(j.jsxs)(Va.a,{style:$a,children:[!u()(i.label)&&Object(j.jsx)(Ha.a,{title:i.label}),Object(j.jsx)(qa.a,{children:Object(j.jsx)(O,Object(r.a)(Object(r.a)({},c),{},{visible:t,enabled:n,elements:i.elements}))})]})})})),Ga=function(e){var t=e.uischema,n=e.schema,a=e.path,r=e.visible,c=e.enabled,i=e.renderers,o=e.cells,s=e.direction,u=t;return Object(j.jsx)(Ka,{elements:u.elements,schema:n,path:a,direction:s,visible:r,enabled:c,uischema:t,renderers:i,cells:o})},Ya=Object(l.p)(Ga),Ja=Object(o.Eb)(1,Wa),Xa=n(2113),Za=Object(o.e)(Object(o.Cb)("Categorization"),(function(e){var t=e;return t.elements&&!!t.elements.reduce((function(e,t){return e&&"Category"===t.type}),!0)})),Qa=Object(o.wb)(1,Za),er=function(e){var t=e.data,n=e.path,a=e.renderers,i=e.cells,s=e.schema,u=e.uischema,l=e.visible,d=e.enabled,f=e.selected,m=e.onChange,h=e.ajv,p=u,v=Object(c.useState)(null!==f&&void 0!==f?f:0),x=Object(X.a)(v,2),g=x[0],y=x[1],C=p.elements.filter((function(e){return Object(o.Y)(e,t,void 0,h)})),k={elements:C[g].elements,schema:s,path:n,direction:"column",enabled:d,visible:l,renderers:a,cells:i};return Object(j.jsxs)(b.a,{xsUp:!l,children:[Object(j.jsx)(Xa.a,{position:"static",children:Object(j.jsx)(bt.a,{value:g,onChange:function(e,t){m&&m(t,g),y(t)},textColor:"inherit",indicatorColor:"secondary",variant:"scrollable",children:C.map((function(e,t){return Object(j.jsx)(jt.a,{label:e.label},t)}))})}),Object(j.jsx)("div",{style:{marginTop:"0.5em"},children:Object(j.jsx)(O,Object(r.a)({},k))})]})},tr=Object(l.p)(h(er)),nr=n(607),ar=n.n(nr),rr=n(1973),cr=n(1974),ir=n(1975),or=n(325),sr=n.n(or),ur={float:"right"},lr=function(e){var t=Object(c.useState)(Object(o.o)("expand-panel")),n=Object(M.a)(t,1)[0];Object(c.useEffect)((function(){return function(){Object(o.xb)(n)}}),[n]);var a=e.childLabel,r=e.childPath,i=e.index,s=e.expanded,u=e.moveDown,b=e.moveUp,f=e.enableMoveDown,m=e.enableMoveUp,O=e.handleExpansion,h=e.removeItems,p=e.path,v=e.rootSchema,x=e.schema,g=e.uischema,y=e.uischemas,C=e.renderers,k=e.cells,w=e.config,I=Object(c.useMemo)((function(){return Object(o.u)(y,x,g.scope,p,void 0,g,v)}),[y,x,g.scope,p,g,v]),P=Fe()({},w,g.options);return Object(j.jsxs)(rr.a,{"aria-labelledby":n,expanded:s,onChange:O(r),children:[Object(j.jsx)(cr.a,{expandIcon:Object(j.jsx)(sr.a,{}),children:Object(j.jsxs)(d.a,{container:!0,alignItems:"center",children:[Object(j.jsx)(d.a,{item:!0,xs:7,md:9,children:Object(j.jsxs)(d.a,{container:!0,alignItems:"center",children:[Object(j.jsx)(d.a,{item:!0,xs:2,md:1,children:Object(j.jsx)(yn.a,{"aria-label":"Index",children:i+1})}),Object(j.jsx)(d.a,{item:!0,xs:10,md:11,children:Object(j.jsx)("span",{id:n,children:a})})]})}),Object(j.jsx)(d.a,{item:!0,xs:5,md:3,children:Object(j.jsx)(d.a,{container:!0,justifyContent:"flex-end",children:Object(j.jsx)(d.a,{item:!0,children:Object(j.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[P.showSortButtons?Object(j.jsxs)(c.Fragment,{children:[Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(be.a,{onClick:b(p,i),style:ur,disabled:!m,"aria-label":"Move up",size:"large",children:Object(j.jsx)(ge.a,{})})}),Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(be.a,{onClick:u(p,i),style:ur,disabled:!f,"aria-label":"Move down",size:"large",children:Object(j.jsx)(ve.a,{})})})]}):"",Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(be.a,{onClick:h(p,[i]),style:ur,"aria-label":"Delete",size:"large",children:Object(j.jsx)(he.a,{})})})]})})})})]})}),Object(j.jsx)(ir.a,{children:Object(j.jsx)(l.d,{schema:x,uischema:I,path:r,renderers:C,cells:k},r)})]})},dr=function(e){return function(t){var n,a=t.ctx,r=t.props,i=(n=a.dispatch,{removeItems:Object(c.useCallback)((function(e,t){return function(a){a.stopPropagation(),n(Object(o.Db)(e,(function(e){return t.sort().reverse().forEach((function(t){return e.splice(t,1)})),e})))}}),[n]),moveUp:Object(c.useCallback)((function(e,t){return function(a){a.stopPropagation(),n(Object(o.Db)(e,(function(e){return Object(o.tb)(e,t),e})))}}),[n]),moveDown:Object(c.useCallback)((function(e,t){return function(a){a.stopPropagation(),n(Object(o.Db)(e,(function(e){return Object(o.sb)(e,t),e})))}}),[n])}),s=r.childLabelProp,u=r.schema,l=r.path,d=r.index,b=r.uischemas,f=Object(o.h)(l,"".concat(d)),m=o.d.data(a.core.data,f),O=s?ar()(m,s,""):ar()(m,Object(o.y)(u),"");return Object(j.jsx)(e,Object(I.a)(Object(I.a)(Object(I.a)({},r),i),{},{childLabel:O,childPath:f,uischemas:b}))}},br=(Ft=i.a.memo(lr),Object(l.k)(dr(Ft))),jr=function(e){var t=Object(c.useState)(!1),n=Object(X.a)(t,2),a=n[0],r=n[1],i=Object(c.useCallback)((function(){return Object(o.n)(e.schema)}),[e.schema]),s=Object(c.useCallback)((function(e){return function(t,n){r(!!n&&e)}}),[]),u=function(t){return a===Object(o.h)(e.path,"".concat(t))},l=e.data,d=e.path,b=e.schema,f=e.uischema,m=e.errors,O=e.addItem,h=e.renderers,p=e.cells,v=e.label,x=e.required,g=e.rootSchema,y=e.config,C=e.uischemas,k=Fe()({},y,e.uischema.options);return Object(j.jsxs)("div",{children:[Object(j.jsx)(vn,{label:Object(o.j)(v,x,k.hideRequiredAsterisk),errors:m,path:d,addItem:O,createDefault:i}),Object(j.jsx)("div",{children:l>0?hn()(oe()(l),(function(e){return Object(j.jsx)(br,{index:e,expanded:u(e),schema:b,path:d,handleExpansion:s,uischema:f,renderers:h,cells:p,rootSchema:g,enableMoveUp:0!==e,enableMoveDown:e<l-1,config:y,childLabelProp:k.elementLabelProp,uischemas:C},e)})):Object(j.jsx)("p",{children:"No data"})})]})},fr=i.a.memo(jr),mr=function(e){var t=e.visible,n=e.enabled,a=e.id,r=e.uischema,i=e.schema,o=e.label,s=e.rootSchema,u=e.renderers,l=e.cells,d=e.data,f=e.path,m=e.errors,O=e.uischemas,h=e.addItem,p=Object(c.useCallback)((function(e,t){return h(e,t)}),[h]);return Object(j.jsx)(b.a,{xsUp:!t,children:Object(j.jsx)(fr,{label:o,uischema:r,schema:i,id:a,rootSchema:s,errors:m,enabled:n,visible:t,data:d,path:f,addItem:p,renderers:u,cells:l,uischemas:O})})},Or=Object(o.wb)(4,o.Q),hr=Object(l.i)(mr),pr=function(e){return Object(j.jsx)(St,Object(r.a)({},e))},vr=Object(o.wb)(2,o.F),xr=(Object(l.j)(pr),function(e){return Object(j.jsx)(Nn,Object(r.a)({},e))}),gr=Object(o.wb)(3,Object(o.e)(o.F,Object(o.ub)("toggle",!0))),yr=(Object(l.j)(xr),function(e){var t=e.data,n=e.className,a=e.id,r=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,s=e.config,u=Fe()({},s,c.options);return Object(j.jsx)(Nt.a,{type:"date",value:t||"",onChange:function(e){return o(i,e.target.value)},className:n,id:a,disabled:!r,autoFocus:u.focus,fullWidth:!0})}),Cr=Object(o.wb)(2,o.H),kr=(Object(l.j)(yr),function(e){return Object(j.jsx)(Tt,Object(r.a)({},e))}),wr=(Object(o.wb)(2,o.K),Object(l.n)(kr),function(e){return Object(j.jsx)(Kt,Object(r.a)({},e))}),Ir=Object(o.wb)(2,o.L),Mr=(Object(l.j)(wr),function(e){return Object(j.jsx)(Yt,Object(r.a)({},e))}),Pr=Object(o.wb)(2,o.M),Sr=(Object(l.j)(Mr),function(e){return Object(j.jsx)(Jt,Object(r.a)({},e))}),Dr=Object(o.wb)(4,o.N),Lr=(Object(l.j)(Sr),function(e){return Object(j.jsx)(Tt,Object(r.a)({},e))}),Tr=Object(o.wb)(2,o.T),Nr=(Object(l.s)(Lr),function(e){return Object(j.jsx)(tn,Object(r.a)({},e))}),Ar=Object(o.wb)(1,o.W),Er=(Object(l.j)(Nr),function(e){return Object(j.jsx)(nn,Object(r.a)({},e))}),Rr=Object(o.wb)(2,o.X),zr=(Object(l.j)(Er),n(1258)),Fr=n(1263),Br=n(1271),Ur=Object(o.wb)(2,Object(o.e)(Object(o.Cb)("Categorization"),o.f,Object(o.ub)("variant","stepper"))),Vr=function(e){var t=Object(c.useState)(0),n=Object(X.a)(t,2),a=n[0],i=n[1],s=function(e){i(e)},u=e.data,l=e.path,d=e.renderers,f=e.schema,m=e.uischema,h=e.visible,p=e.cells,v=e.config,x=e.ajv,g=m,y=Fe()({},v,m.options),C=g.elements.filter((function(e){return Object(o.Y)(e,u,void 0,x)})),k={elements:C[a].elements,schema:f,path:l,direction:"column",visible:h,renderers:d,cells:p};return Object(j.jsxs)(b.a,{xsUp:!h,children:[Object(j.jsx)(zr.a,{activeStep:a,nonLinear:!0,children:C.map((function(e,t){return Object(j.jsx)(Fr.a,{children:Object(j.jsx)(Br.a,{onClick:function(){return s(t)},children:e.label})},e.label)}))}),Object(j.jsx)("div",{children:Object(j.jsx)(O,Object(r.a)({},k))}),y.showNavButtons?Object(j.jsxs)("div",{style:{textAlign:"right",width:"100%",margin:"1em auto"},children:[Object(j.jsx)(nt.a,{style:{float:"right"},variant:"contained",color:"primary",disabled:a>=C.length-1,onClick:function(){return s(a+1)},children:"Next"}),Object(j.jsx)(nt.a,{style:{marginRight:"1em"},color:"secondary",variant:"contained",disabled:a<=0,onClick:function(){return s(a-1)},children:"Previous"})]}):Object(j.jsx)(j.Fragment,{})]})},Hr=(Object(l.p)(h(Vr)),n(549)),qr=n(633),_r=Object(l.l)((function(e){var t=e.uischema.options.optionsSource,n=t.moduleName,a=t.functionName,i=Object(Hr.a)().call,o=Object(J.a)("function/".concat(n,"/").concat(a),Object(K.a)(Y.a.mark((function e(){var t,r,c,o,s,u,l,d,b;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,i(n,a);case 3:if(r=e.sent,Array.isArray(r)){c=Object($.a)(r);try{for(c.s();!(o=c.n()).done;)s=o.value,u=void 0,l=void 0,Object(qr.a)(s)?(u=s.value,"string"===typeof s.label&&(l=s.label)):u=s,Object(H.isPresent)(u)&&(b={label:null!==(d=l)&&void 0!==d?d:"string"===typeof u?u:JSON.stringify(u),value:u},t.push(b))}catch(j){c.e(j)}finally{c.f()}}return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),{fallbackData:[],revalidateOnMount:!0,revalidateOnFocus:!1}),s=o.data,u=Object(c.useMemo)((function(){return Object(r.a)(Object(r.a)({},e),{},{options:s})}),[e,s]);return Object(j.jsx)(Fn,Object(r.a)(Object(r.a)({},u),{},{input:Tt}))})),Wr=Object(o.wb)(3,Object(o.e)(o.G,(function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.optionsSource;return!!n&&!!n.moduleName&&!!n.functionName}))),$r=n(16),Kr=n(2107),Gr=n(8),Yr=n(40),Jr=n(786),Xr=n.n(Jr),Zr=n(430),Qr=n.n(Zr),ec=n(484),tc=n.n(ec),nc=n(907),ac=n.n(nc),rc=n(572),cc=n.n(rc),ic=n(930),oc=n.n(ic),sc=n(319),uc=n(38),lc=Object(uc.a)();sc.GlobalWorkerOptions.workerSrc=lc+"pdf.worker.min.js";var dc=n(126),bc=n(322),jc=["image/png","image/jpeg","image/webp"],fc=function(e){return new Promise((function(t,n){var a=new Image;a.crossOrigin="anonymous",a.addEventListener("load",(function(){return t(a)})),a.addEventListener("error",(function(e){return n(e)})),a.src=e}))},mc=function(){var e=Object(K.a)(Y.a.mark((function e(t,n){var a,r,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Blob([t.content],{type:t.mimeType}),r=URL.createObjectURL(a),e.prev=2,e.next=5,fc(r);case 5:c=e.sent,t.pages.push({getImageData:function(){var e=document.createElement("canvas"),t=e.getContext("2d");return e.width=c.naturalWidth,e.height=c.naturalHeight,t.drawImage(c,0,0),t.getImageData(0,0,c.naturalWidth,c.naturalHeight)},width:c.naturalWidth,height:c.naturalHeight,fileIndex:n,filePageNumber:0,pageIndex:0}),t.pageStates.push({rotate:0});case 8:return e.prev=8,URL.revokeObjectURL(r),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[2,,8,11]])})));return function(t,n){return e.apply(this,arguments)}}(),Oc=function(){var e=Object(K.a)(Y.a.mark((function e(t,n){var a,r,c,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=new Qr.a({buffer:t.content}),r=function(e,r){a.setDirectory(e);var c={getImageData:function(){a.setDirectory(e);var t=a.readRGBAImage();return new ImageData(new Uint8ClampedArray(t),a.width(),a.height())},width:a.width(),height:a.height(),fileIndex:n,filePageNumber:e,pageIndex:0};t.pages.push(c),t.pageStates.push({rotate:0})},c=0,i=a.countDirectory();c<i;++c)r(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),hc=function(){var e=Object(K.a)(Y.a.mark((function e(t,n){var a,r,c,i,o,s,u;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Uint8Array(t.content),e.next=3,sc.getDocument(a).promise;case 3:for(r=e.sent,c=[],i=new Array(r.numPages),o=new Array(r.numPages),s=function(e){c.push(r.getPage(e+1).then(function(){var t=Object(K.a)(Y.a.mark((function t(a){var r,c;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=2*window.devicePixelRatio,c=a.getViewport({scale:r}),i[e]={getImageData:function(){var e=Object(K.a)(Y.a.mark((function e(){var t,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("canvas")).style.width="".concat(c.width/r,"px"),t.style.height="".concat(c.height/r,"px"),t.height=c.height,t.width=c.width,n=t.getContext("2d"),e.next=8,a.render({canvasContext:n,viewport:c}).promise;case 8:return e.abrupt("return",n.getImageData(0,0,t.width,t.height));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),width:c.width,height:c.height,fileIndex:n,filePageNumber:e,pageIndex:0},o[e]={rotate:0};case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},u=0;u<r.numPages;u++)s(u);return e.next=11,Promise.all(c);case 11:t.pages=i;case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pc=function(){var e=Object(K.a)(Y.a.mark((function e(t,n,a){var r,c,i,o,s,u;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.lastIndexOf("/"),i=c>=0?t.substring(c+1):t,o={url:t,status:"loaded",name:i,mimeType:a.headers["content-type"],content:a.data,pages:[],pageStartIndex:0,pageStates:[]},s=null===(r=a.headers)||void 0===r?void 0:r["content-disposition"],(u=s?/filename="?([^"]*?)"?(;|$)/g.exec(s):void 0)&&u.length>1&&(o.name=u[1]),o.mimeType&&!jc.includes(o.mimeType)){e.next=11;break}return e.next=9,mc(o,n);case 9:case 14:e.next=19;break;case 11:if("image/tiff"!==o.mimeType){e.next=16;break}return e.next=14,Oc(o,n);case 16:if("application/pdf"!==o.mimeType){e.next=19;break}return e.next=19,hc(o,n);case 19:return e.abrupt("return",o);case 20:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),vc=function(e,t){return Object(Yr.a)(e,(function(e){null===t||void 0===t||t.forEach((function(t,n){t.pages.forEach((function(t,n){var a,r=e[t.fileIndex];"loaded"===(null===r||void 0===r?void 0:r.status)&&(r.pageStates[t.filePageNumber].rotate=null!==(a=t.rotate)&&void 0!==a?a:0)}))}));var n,a=0,r=Object($.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;if("loaded"===c.status){c.pageStartIndex=a;var i,o=Object($.a)(c.pages);try{for(o.s();!(i=o.n()).done;){i.value.pageIndex=a++}}catch(s){o.e(s)}finally{o.f()}}}}catch(s){r.e(s)}finally{r.f()}}))},xc={height:170,width:170},gc=n(203),yc=Symbol("marker"),Cc=n(261),kc=n.n(Cc),wc=n(260),Ic=new(n(538).a)({allErrors:!0,addUsedSchema:!1,allowUnionTypes:!0,strict:"log"});Ic.addMetaSchema(Object(P.p)(["default"],wc)),kc()(Ic),Ic.addFormat("image",(function(){return!0})),Ic.addFormat("markdown",(function(){return!0})),Ic.addKeyword({keyword:"patternMask",type:"string",valid:!0,errors:!1});var Mc=function(e,t){var n=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(e),r=a.byteLength,c=r%3,i=r-c,o=0;o<i;o+=3){var s=a[o]<<16|a[o+1]<<8|a[o+2],u=(258048&s)>>12,l=(4032&s)>>6,d=63&s;t+=n[(16515072&s)>>18]+n[u]+n[l]+n[d]}if(1===c){var b=a[i],j=(3&b)<<4;t+=n[(252&b)>>2]+n[j]+"=="}else if(2===c){var f=a[i]<<8|a[i+1],m=(1008&f)>>4,O=(15&f)<<2;t+=n[(64512&f)>>10]+n[m]+n[O]+"="}return t}(e);return"data:".concat(t,";base64,").concat(n)};var Pc=function(){throw new Error("You forgot to wrap your component in <BatchProcessorContextProvider>.")},Sc={fileInfos:[],documents:[],documentInfos:[],unusedPages:[],loadingImages:!1,setCurrentDocumentLocation:Pc,updateCurrentDocument:Pc,updateBatch:Pc,movePage:Pc,findByPageIndex:Pc,deleteDocument:Pc,addDocument:Pc,updateDocument:Pc,getDocument:Pc,setCurrentDocumentEditionState:Pc,canModify:!0,getDisplayableDataUrl:Pc,rotateImage:Pc,rotateAllImages:Pc,getPageLocation:Pc,canOcr:!1,ocrImage:Pc},Dc=Object(c.createContext)(Sc),Lc=function(){var e=Object(K.a)(Y.a.mark((function e(t,n){var a,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tc.a.dereference(t,{resolve:{file:!1,custom:{order:1,canRead:function(e){return!!n[e.url.toLowerCase()]},read:function(e){return n[e.url.toLowerCase()]}}}});case 2:return a=e.sent,r=ac()(a,{ignoreAdditionalProperties:!0}),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Tc=function(){var e=Object(K.a)(Y.a.mark((function e(t){var n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(P.m)((function(e){return e[0]}),Object(P.h)((function(e){return e.$id.toLowerCase()}),t)),e.next=3,Promise.all(t.map((function(e){return Lc(e,n)})));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nc=function(e,t){var n,a=Object($.a)(t);try{for(a.s();!(n=a.n()).done;){var r,c=n.value,i="loaded"===c.status?c.pages:[],o=Object($.a)(i);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s.pageIndex===e)return s}}catch(u){o.e(u)}finally{o.f()}}}catch(u){a.e(u)}finally{a.f()}},Ac=function(e,t,n){var a=e;return a&&(a+=","),a+=t.toString(),t!==n&&(a+="-".concat(n)),a},Ec=function(e){if(0===e.length)return"";for(var t=e.map((function(e){return e+1})),n=t[0],a=n,r="",c=1;c<t.length;c++){var i=t[c];i===a+1&&a>=n||i===a-1&&a<=n?a=i:(r=Ac(r,n,a),n=a=i)}return r=Ac(r,n,a)},Rc=function(e,t){var n=new Array(e.length);return t.forEach((function(t,a){"loaded"===t.status&&t.pages.forEach((function(t,r){var c=e.indexOf(t.pageIndex);c>=0&&(n[c]={fileIndex:a,filePageNumber:r})}))})),n},zc=function(e,t){return t&&!Ic.validate(t,e.data)&&Ic.errors?Object(gc.b)(Ic.errors):[]},Fc=function(e,t){for(var n=e+t;n<0;)n+=360;for(;n>=360;)n-=360;return n},Bc=function(e,t){var n,a=Fc(null!==(n=e.rotate)&&void 0!==n?n:0,t);0===a?delete e.rotate:e.rotate=a},Uc=function(e){var t=e.basePath,n=e.batch,a=e.documentSchemasSource,i=e.readonly,s=e.ocrFunction,u=e.children,d=!i,b=Object(c.useState)(n),f=Object(X.a)(b,1)[0],m=function(e){var t=e.moduleName,n=e.functionName,a=Object(Hr.a)().call,r=Object(J.a)("function/".concat(t,"/").concat(n),Object(K.a)(Y.a.mark((function e(){var r,c,i,o,s,u;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,a(t,n);case 3:if(c=e.sent,!Array.isArray(c)){e.next=25;break}i=Object($.a)(c),e.prev=6,i.s();case 8:if((o=i.n()).done){e.next=17;break}if((s=o.value).$id){e.next=13;break}return console.error("Document schema without $id property. It will be ignored."),e.abrupt("continue",15);case 13:"success"===(u=Object(gc.c)(s)).type?r.push(s):console.error("Error validating schema ".concat(null===s||void 0===s?void 0:s.$id,". It will be ignored."),u.errors);case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:if(!(r.length>0)){e.next=29;break}return e.next=28,Tc(r);case 28:r=e.sent;case 29:return e.abrupt("return",r);case 30:case"end":return e.stop()}}),e,null,[[6,19,22,25]])}))),{revalidateOnFocus:!1}),i=r.data,o=r.isValidating,s=r.error;return{documentSchemas:Object(c.useMemo)((function(){return null!==i&&void 0!==i?i:[]}),[i]),loading:o,error:s}}(a),O=m.documentSchemas,h=Object(l.f)().dispatch,p=function(e,t){var n=Object(bc.c)().hubBaseUrl,a=Object(dc.c)(),i=a.getConfiguredAxiosInstance,o=a.blobStorage_GetThumbnails,s=Object(c.useState)((function(){return e.fileUrls.map((function(e){var t=oc()(e);return t.is("relative")&&n&&(t=oc.a.joinPaths("BlobStorage",t).absoluteTo(n)),{url:t.valueOf(),status:"loading",name:t.filename()}}))})),u=Object(X.a)(s,2),l=u[0],d=u[1],b=Object(c.useState)(t&&e.fileUrls.length>0),j=Object(X.a)(b,2),f=j[0],m=j[1];return Object(c.useEffect)((function(){if(t){var a=cc.a.CancelToken.source(),c=cc.a.create({responseType:"arraybuffer",cancelToken:a.token}),s=i({responseType:"arraybuffer",cancelToken:a.token});return e.fileUrls.forEach((function(t,a){var i=t,u=oc()(t),l=c;u.is("relative")&&n&&(u=oc.a.joinPaths("BlobStorage",u),l=s),t=u.valueOf(),l.get(t).then((function(n){return pc(t,a,n).then((function(t){d((function(n){var r=Object(Yr.a)(n,(function(e){e[a]=t}));return r.every((function(e){return"loading"!==e.status}))&&(r=vc(r,e.documents),m(!1)),r})),o(Object(r.a)(Object(r.a)({path:i},xc),{},{format:"png"})).then((function(e){Object(P.k)(e)||d((function(t){return Object(Yr.a)(t,(function(t){var n=t[a];"loaded"===n.status&&(n.thumbnails=e)}))}))}))}))})).catch((function(n){d((function(r){var c=Object(Yr.a)(r,(function(e){e[a]=function(e,t){var n=e.lastIndexOf("/"),a=n>=0?e.substring(n+1):e,r={url:e,status:"failed",name:a,error:t.message};return t.response&&(r.error="Code: ".concat(t.response.status,"\nData: ").concat(t.response.data)),r}(t,n)}));return c.every((function(e){return"loading"!==e.status}))&&(c=vc(c,e.documents),m(!1)),c}))}))})),function(){a.cancel(),m(!1)}}d((function(e){return e.map((function(e){return{name:e.name,status:"loaded",url:e.url,content:new ArrayBuffer(0),pages:[],pageStartIndex:0,pageStates:[]}}))}))}),[o,t,i,n,e.documents,e.fileUrls]),{loadingFileInfos:f,fileInfos:l,setFileInfos:d}}(f,d),v=p.fileInfos,x=p.loadingFileInfos,g=p.setFileInfos,y=Object(c.useState)({documentIndex:f.documents.length>0?0:void 0}),C=Object(X.a)(y,2),k=C[0],w=C[1],I=Object(c.useState)([]),M=Object(X.a)(I,2),S=M[0],D=M[1],L=function(e){var t=T(),n=t.registerValidationProvider,a=t.unregisterValidationProvider,i=t.validationProviderUpdated,o=Object(c.useState)(),s=Object(X.a)(o,2),u=s[0],l=s[1];Object(c.useEffect)((function(){return n(e),function(){return a(e)}}),[e,n,a]),Object(c.useEffect)((function(){var t=(null!==u&&void 0!==u?u:[]).map((function(t){var n="".concat(e,".").concat(t.instancePath);return Object(r.a)(Object(r.a)({},t),{},{dataPath:n,instancePath:n})}));i(e,t)}),[u,e,i]);var d=Object(c.useCallback)((function(e){l((function(t){return Object(P.f)(t,e)?t:e}))}),[]);return Object(c.useMemo)((function(){return{updateErrors:d}}),[d])}(t),N=L.updateErrors,A=function(e,t){var n=Object(c.useState)([]),a=Object(X.a)(n,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){i((function(n){for(var a=[],r=0;r<t.length;r++){var c=t[r];if("loaded"===c.status)for(var i=0;i<c.pageStates.length;i++){var o={fileIndex:r,filePageNumber:i},s=c.pageStates[i];Object(H.isPresent)(s.rotate)&&(o.rotate=s.rotate),a.push(o)}}var u,l=Object($.a)(e.documents.flatMap((function(e){return e.pages})));try{var d=function(){var e=u.value,t=a.findIndex((function(t){return!!t&&t.fileIndex===e.fileIndex&&t.filePageNumber===e.filePageNumber}));t>-1&&(a[t]=void 0)};for(l.s();!(u=l.n()).done;)d()}catch(j){l.e(j)}finally{l.f()}var b=a.filter(H.isPresent);return Object(P.f)(b,n)?n:b}))}),[e.documents,t]),r}(n,v),E=Object(Hr.a)().call,R=Object(c.useMemo)((function(){return n.documents.map((function(e,t){var n;return{schemaId:e.schemaId,action:e.action,errors:null!==(n=S[t])&&void 0!==n?n:[]}}))}),[n.documents,S]);Object(c.useEffect)((function(){if(O&&0!==f.documents.length){var e=f.documents.map((function(e){var t=O.find((function(t){return t.$id===e.schemaId}));return zc(e,t)}));D((function(t){return e.map((function(e,n){return t[n]?t[n]:e}))}))}}),[f,O]);var z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(c.useRef)(e),a=n.current;if(e!==a)if(a.length!==e.length)n.current=e;else if(t)for(var r=Object($r.a)(e),i=0;i<a.length;i++){var o=r.indexOf(a[i]);if(-1===o){n.current=e;break}r[o]=yc}else for(var s=0;s<a.length;s++)if(a[s]!==e[s]){n.current=e;break}return n.current}(n.documents.reduce((function(e,t,n){return"send"===t.action&&e.push(n),e}),[]),!0);Object(c.useEffect)((function(){var e=z.flatMap((function(e){var t,n;return null!==(t=null===(n=S[e])||void 0===n?void 0:n.map((function(t){var n="documents[".concat(e,"].data.").concat(t.instancePath);return Object(r.a)(Object(r.a)({},t),{},{instancePath:n,dataPath:n})})))&&void 0!==t?t:[]}));d&&N(e)}),[d,S,z,N]);var F=Object(c.useCallback)((function(e,n){var a="function"===typeof n?n:function(){return n};null===h||void 0===h||h(Object(o.Db)(Object(o.h)(t,e),a))}),[h]),B=Object(c.useMemo)((function(){return Object(H.isPresent)(k.documentIndex)?Object(P.b)(n.documents[k.documentIndex]):void 0}),[n.documents,k.documentIndex]),U=Object(c.useCallback)((function(e){var t=null!==e&&void 0!==e?e:{};w((function(e){return e.documentIndex!==t.documentIndex||e.pageIndex!==t.pageIndex?t:e}))}),[]),V=Object(c.useCallback)((function(e){var t=null===k||void 0===k?void 0:k.documentIndex;Object(H.isPresent)(t)&&F("documents[".concat(t,"]"),e)}),[null===k||void 0===k?void 0:k.documentIndex,F]),q=Object(H.isPresent)(k.documentIndex)?S[k.documentIndex]:void 0,_=Object(c.useMemo)((function(){if(B&&q)return{document:B,errors:q}}),[B,q]),W=Object(c.useCallback)((function(e){var t=k.documentIndex;D((function(n){var a,r=B?{document:B,errors:n[t]}:void 0,c="function"===typeof e?e(r):e,i=Object(P.f)(null===c||void 0===c?void 0:c.errors,null===r||void 0===r?void 0:r.errors),o=Object(P.f)(null===c||void 0===c?void 0:c.document,null===r||void 0===r?void 0:r.document);if(i&&o)return n;var s=null===c||void 0===c?void 0:c.document;return s&&!o&&V(s),Object(P.y)(t,null!==(a=null===c||void 0===c?void 0:c.errors)&&void 0!==a?a:[],n)}))}),[B,k.documentIndex,V]),G=Object(c.useCallback)((function(e,t){for(var a=0;a<n.documents.length;a++)for(var r=n.documents[a],c=0;c<r.pages.length;c++){var i=r.pages[c];if(i.fileIndex===e&&i.filePageNumber===t)return{documentIndex:a,documentOrder:c}}}),[n.documents]),Z=Object(c.useCallback)((function(e,t){var a=Nc(e,v),r=function(e,t){var n,a=Object($.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;if("loaded"===r.status)for(var c=r.pages,i=0;i<c.length;i++)if(c[i].pageIndex===e)return r.pageStates[i]}}catch(o){a.e(o)}finally{a.f()}}(e,v);if(a&&r){var c=G(a.fileIndex,a.filePageNumber);if(c||t){var i=Object(Yr.a)(n.documents,(function(e){c&&e[c.documentIndex].pages.splice(c.documentOrder,1),t&&e[t.documentIndex].pages.splice(t.documentOrder,0,{fileIndex:a.fileIndex,filePageNumber:a.filePageNumber,rotate:r.rotate})}));F("documents",i)}}}),[n.documents,v,G,F]),Q=Object(c.useCallback)((function(e){return Nc(e,v)}),[v]),ee=Object(c.useCallback)((function(e){if(Object(H.isPresent)(n.documents[e])){var t=Object($r.a)(n.documents);t.splice(e,1),setTimeout((function(){return F("documents",t)}),0),D((function(t){return Object(P.r)(e,1,t)})),w((function(t){return t.documentIndex===e?{}:t}))}}),[n.documents,F]),te=Object(c.useCallback)((function(e){var t=n.documents.length,a=Object($r.a)(n.documents);if(D((function(e){return[].concat(Object($r.a)(e),[[]])})),e.pages.length>0){var r=e.pages.map((function(e){return G(e.fileIndex,e.filePageNumber)})).filter(H.isPresent);r.length>0&&(r=Object(P.t)([Object(P.e)((function(e){return e.documentIndex})),Object(P.e)((function(e){return e.documentOrder}))],r),a=Object(Yr.a)(a,(function(e){var t,n=Object($.a)(r);try{for(n.s();!(t=n.n()).done;){var a=t.value;e[a.documentIndex].pages.splice(a.documentOrder,1)}}catch(c){n.e(c)}finally{n.f()}})))}return a.push(e),F("documents",a),t}),[n.documents,G,F]),ne=Object(c.useCallback)((function(e,t){var a=Object($r.a)(n.documents),r=a[e].schemaId;if(t.pages.length>0){var c=t.pages.map((function(e){return G(e.fileIndex,e.filePageNumber)})).filter(H.isPresent).filter((function(t){return t.documentIndex!==e}));c.length>0&&(c=Object(P.t)([Object(P.e)((function(e){return e.documentIndex})),Object(P.e)((function(e){return e.documentOrder}))],c),a=Object(Yr.a)(a,(function(e){var t,n=Object($.a)(c);try{for(n.s();!(t=n.n()).done;){var a=t.value;e[a.documentIndex].pages.splice(a.documentOrder,1)}}catch(r){n.e(r)}finally{n.f()}})))}if(a[e]=t,F("documents",a),r!==t.schemaId){var i=null===O||void 0===O?void 0:O.find((function(e){return e.$id===t.schemaId})),o=zc(t,i);D((function(t){return Object(P.y)(e,o,t)}))}return e}),[n.documents,O,G,F]),ae=Object(c.useCallback)((function(e){return n.documents[e]}),[n.documents]),re=Object(c.useState)({}),ce=Object(X.a)(re,2),ie=ce[0],oe=ce[1],se=Object(c.useCallback)((function(e){var t=ie[e];if(!t){var n=e.indexOf(",");if(!e.startsWith("data:")||-1===n)return e;if("image/tiff"===e.substring(5,n).split(";")[0]){var a=function(e){for(var t=atob(e.split(",")[1]),n=new ArrayBuffer(t.length),a=new Uint8Array(n),r=0;r<t.length;r++)a[r]=t.charCodeAt(r);return n}(e),c=new Qr.a({buffer:a});t=c.toDataURL()}else t=e;oe((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(Gr.a)({},e,t))}))}return t}),[ie]),ue=Object(c.useCallback)((function(e,t){var a=-1,r=-1;g((function(n){return Object(Yr.a)(n,(function(n){for(var c=n.length-1;c>=0;c--){var i=n[c];if("loaded"===i.status&&i.pageStartIndex<=e){for(var o=0;o<i.pages.length;o++){var s=i.pages[o];if(e===s.pageIndex){var u=i.pageStates[o];u.rotate=Fc(u.rotate,t),a=s.fileIndex,r=s.filePageNumber;break}}break}}}))})),a>-1&&r>-1&&F("documents",Object(Yr.a)(n.documents,(function(e){var n,c=null===(n=e[a])||void 0===n?void 0:n.pages[r];c&&Bc(c,t)})))}),[n.documents,g,F]),le=Object(c.useCallback)((function(e){g((function(t){return Object(Yr.a)(t,(function(t){var n,a=Object($.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;if("loaded"===r.status){var c,i=Object($.a)(r.pageStates);try{for(i.s();!(c=i.n()).done;){var o=c.value;o.rotate=Fc(o.rotate,e)}}catch(s){i.e(s)}finally{i.f()}}}}catch(s){a.e(s)}finally{a.f()}}))})),F("documents",Object(Yr.a)(n.documents,(function(t){var n,a=Object($.a)(t.flatMap((function(e){return e.pages})));try{for(a.s();!(n=a.n()).done;){var r=n.value;Bc(r,e)}}catch(c){a.e(c)}finally{a.f()}})))}),[n.documents,g,F]),de=Object(c.useCallback)(function(){var e=Object(K.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}throw new Error("OcrFunction not defined");case 2:return e.next=4,E(s.moduleName,s.functionName,{image:t});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[E,s]),be=Object(c.useMemo)((function(){return{fileInfos:v,documents:n.documents,documentSchemas:O,unusedPages:A,loadingImages:x,documentInfos:R,currentDocumentLocation:k,setCurrentDocumentLocation:U,currentDocument:B,updateCurrentDocument:V,updateBatch:F,movePage:Z,findByPageIndex:Q,deleteDocument:ee,addDocument:te,updateDocument:ne,getDocument:ae,currentDocumentEditionState:_,setCurrentDocumentEditionState:W,canModify:d,getDisplayableDataUrl:se,rotateImage:ue,rotateAllImages:le,getPageLocation:G,canOcr:!!s,ocrImage:de}}),[te,n.documents,d,B,_,k,ee,R,O,v,se,ae,G,Q,W,U,x,Z,s,de,le,ue,A,F,V,ne]);return Object(j.jsx)(Dc.Provider,{value:be,children:u})},Vc=function(){return Object(c.useContext)(Dc)},Hc=n(183),qc=n(68),_c=n(337),Wc=n.n(_c),$c=n(953),Kc=n.n($c),Gc=n(954),Yc=n.n(Gc),Jc=n(988),Xc=n(952),Zc=n.n(Xc),Qc=n(198),ei=n(327),ti=n(1091),ni=n(37),ai=["saveAsDraft","send","dontSend"];Object.freeze(ai);var ri,ci,ii,oi=n(200),si=n(610),ui=n(611),li=n(612),di=function(e){var t=Object(Kr.a)().t,n=Vc().documentSchemas,a=Object(c.useMemo)((function(){var e={};if(n){var t,a=Object($.a)(n);try{for(a.s();!(t=a.n()).done;){var r,c=t.value;c.$id&&(e[c.$id]={label:null!==(r=c.title)&&void 0!==r?r:c.$id,description:c.description})}}catch(i){a.e(i)}finally{a.f()}}return e}),[n]),i=Object(c.useMemo)((function(){var e=Object.keys(a);return Object(P.s)((function(e){return a[e].label}),e)}),[a]);return Object(j.jsxs)(d.a,{container:!0,spacing:3,children:[Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(li.a,{name:"schemaId",options:i,getOptionLabel:function(e){var t;return null===(t=a[e])||void 0===t?void 0:t.label},autoHighlight:!0,renderInput:function(e){return Object(j.jsx)(_n.a,Object(r.a)(Object(r.a)({},e),{},{label:t("DocumentType"),InputLabelProps:{required:!0},required:!0,autoFocus:!0,variant:"standard"}))},fullWidth:!0})}),Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(ui.a,{name:"pages",label:t("Pages"),variant:"standard",fullWidth:!0})}),Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(ui.a,{select:!0,name:"action",label:t("Action"),variant:"standard",fullWidth:!0,children:ai.map((function(e){return Object(j.jsx)(Lt.a,{value:e,children:t("RecognizedDocumentAction.".concat(e))},e)}))})})]})},bi="(\\d+(\\s*-\\s*\\d+)?)",ji="^\\s*".concat(bi,"(\\s*,\\s*").concat(bi,")*\\s*$"),fi=new RegExp(ji),mi=function(e){var t=e.open,n=e.document,a=e.availablePageIndices,r=e.onChange,i=e.onClose,o=Object(Kr.a)().t,s=Vc(),u=s.documentSchemas,l=s.fileInfos,d=Object(c.useMemo)((function(){var e,t=n?function(e,t){return e.map((function(e){var n=t[e.fileIndex];return"loaded"===n.status?n.pages[e.filePageNumber].pageIndex:-1}))}(n.pages,l):a;return{schemaId:null===n||void 0===n?void 0:n.schemaId,pages:Ec(t),action:null!==(e=null===n||void 0===n?void 0:n.action)&&void 0!==e?e:"send"}}),[a,n,l]),b=Object(c.useRef)(),f=Object(c.useMemo)((function(){return function(e,t){return ti.c().shape({schemaId:ti.d().required().test({test:function(e){return!e||!("string"!==typeof e||!t.find((function(t){return t.$id===e})))||this.createError({path:this.path,message:ni.a.t("UnknownDocumentSchema",{schemaId:e})})}}),pages:ti.d().test({test:function(e){return!e||!("string"!==typeof e||!fi.test(e))||this.createError({path:this.path,message:ni.a.t("InvalidPageRange",{range:e})})}}),action:ti.d().required().oneOf(Object($r.a)(ai))})}(0,null!==u&&void 0!==u?u:[])}),[a,u]),m=Object(c.useCallback)((function(){var e=b.current;e&&Object(si.a)(e)}),[]),O=Object(c.useCallback)(function(){var e=Object(K.a)(Y.a.mark((function e(t,a){var c,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c={schemaId:t.schemaId,pages:[],data:null===n||void 0===n?void 0:n.data,action:t.action},t.pages&&(s=t.pages,o=Xr()(s).map((function(e){return e-1})),c.pages=Rc(o,l)),null===r||void 0===r||r(c),null===i||void 0===i||i()}finally{a.setSubmitting(!1)}case 1:case"end":return e.stop()}var s}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[null===n||void 0===n?void 0:n.data,l,r,i]),h=Object(c.useCallback)((function(){null===i||void 0===i||i()}),[i]),p=Object(c.useCallback)(function(){var e=Object(K.a)(Y.a.mark((function e(t,n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"backdropClick"!==n&&(null===i||void 0===i||i());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[i]);return Object(j.jsxs)(Xe.a,{open:t,onClose:p,maxWidth:"sm",fullWidth:!0,children:[Object(j.jsx)(Ze.a,{children:o(n?"EditingDocument":"AddingDocument")}),Object(j.jsx)(Qe.a,{children:Object(j.jsx)(oi.a,{children:Object(j.jsx)(ei.b,{innerRef:function(e){return b.current=e},initialValues:d,onSubmit:O,validationSchema:f,validateOnChange:!0,validateOnBlur:!0,children:Object(j.jsx)(ei.a,{autoComplete:"off",children:Object(j.jsx)(di,{availablePageIndices:a})})})})}),Object(j.jsxs)(tt.a,{children:[Object(j.jsx)(nt.a,{onClick:m,color:"primary",children:o("Accept")}),Object(j.jsx)(nt.a,{onClick:h,color:"primary",children:o("Cancel")})]})]})},Oi=n(2109),hi=function(e){return Object(j.jsxs)(Oi.a,Object(r.a)(Object(r.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(j.jsx)("path",{d:"M808.3 950h-725C42.9 950 10 917.1 10 876.7V171.6c0-40.4 32.9-73.3 73.3-73.3h502.1c18.6 0 33.6 15.1 33.6 33.6 0 18.6-15.1 33.6-33.6 33.6H83.3c-3.4 0-6.1 2.7-6.1 6.1v705.1c0 3.4 2.7 6.1 6.1 6.1h724.9c3.4 0 6.1-2.7 6.1-6.1V492c0-18.6 15-33.6 33.6-33.6s33.6 15.1 33.6 33.6v384.7c.1 40.4-32.8 73.3-73.2 73.3z"}),Object(j.jsx)("path",{d:"M307.3 781.2c-16.1 0-31.1-8.1-40.1-21.7-8.9-13.5-10.5-30.4-4.1-45.3l83.4-196.8 431-431C801 62.9 832.3 50 865.5 50s64.5 13 88 36.5c48.5 48.6 48.5 127.5 0 176.1l-431 431-196.3 83.8c-6 2.5-12.4 3.8-18.9 3.8zm96-225.5-59.8 141.1 140.8-60.1L906 215c22.3-22.3 22.3-58.7 0-81-10.8-10.8-25.2-16.8-40.5-16.8s-29.7 6-40.5 16.8L403.3 555.7z"}),Object(j.jsx)("path",{d:"M398.4 502.3 530 633.8l-47.5 47.5-131.6-131.5 47.5-47.5zM800.2 100.5 931.8 232l-47.5 47.5L752.7 148l47.5-47.5z"})]}))},pi=n(1597),vi=function(e){return!!e&&Object(H.isPresent)(e.documentIndex)&&!Object(H.isPresent)(e.pageIndex)},xi=function(e){return!!e&&!Object(H.isPresent)(e.documentIndex)&&!Object(H.isPresent)(e.pageIndex)},gi=function(e){return!!e&&Object(H.isPresent)(e.pageIndex)},yi=function(e){var t=e.node;return gi(t)?"p-".concat(t.pageIndex):vi(t)?"d-".concat(t.documentIndex):"o"},Ci=function(e){return!gi(e)},ki=function(e){return gi(e.node)},wi=function(e){var t=e.node,n=e.nextParent,a=t;return!!n&&(!!Object(H.isPresent)(a.documentIndex)||!xi(n))},Ii=function(){var e=Vc(),t=e.documentSchemas,n=e.fileInfos,a=e.documentInfos,i=e.canModify,o=e.setCurrentDocumentLocation,s=e.getPageLocation,u=Object(c.useMemo)((function(){return[]}),[]),l=Object(c.useState)(u),d=Object(X.a)(l,2),b=d[0],f=d[1];return Object(c.useEffect)((function(){f((function(e){var c=i?function(e,t,n,a){var c=[],i=[];e.forEach((function(e,n){"loaded"===e.status&&e.pages.forEach((function(a,o){var s=ni.a.t("PageN",{index:a.pageIndex+1});if(e.thumbnails){var u=e.thumbnails[o],l=e.pageStates[o].rotate,d=Object(H.isPresent)(l)?{transform:"rotate(".concat(l,"deg)")}:void 0;s=Object(j.jsxs)(pi.a,{height:"100%",children:[Object(j.jsx)("img",{src:u,alt:" ",style:Object(r.a)(Object(r.a)({},d),{},{top:"0px",left:"30px",position:"absolute",height:"100%"})}),Object(j.jsx)(pi.a,{position:"absolute",bottom:8,right:8,children:s})]})}var b=t(n,o),f={title:s,pageIndex:a.pageIndex};if(Object(H.isPresent)(b)){f.documentIndex=b.documentIndex;var m=i[b.documentIndex];m||(i[b.documentIndex]=m=[]),m[b.documentOrder]=f}else c.push(f)}))}));var o=n.map((function(e,t){var n,r=null!==(n=i[t])&&void 0!==n?n:[],c=r.length,o=ni.a.t("DocumentN",{index:t+1,count:c}),s=e.schemaId;if(s){var u=null===a||void 0===a?void 0:a.find((function(e){return e.$id===s}));if(u){var l=u.title;if(!l){var d=s.lastIndexOf("/");(l=s.substring(d+1)).toLocaleLowerCase().endsWith(".json")&&(l=l.substring(0,l.length-5))}o=ni.a.t("NamedDocumentN",{title:l,index:t+1,count:c})}}return{documentIndex:t,title:o,action:e.action,errors:e.errors,children:r}}));return[].concat(Object($r.a)(o),[{title:ni.a.t("OrphanPages",{count:c.length}),children:c}])}(n,s,a,t):function(e,t){return e.map((function(n,a){var r=ni.a.t("DocumentN",{index:a+1}),c=e[a].schemaId;if(c){var i=null===t||void 0===t?void 0:t.find((function(e){return e.$id===c}));if(i){var o=i.title;if(!o){var s=c.lastIndexOf("/");(o=c.substring(s+1)).toLocaleLowerCase().endsWith(".json")&&(o=o.substring(0,o.length-5))}r="".concat(a+1," - ").concat(o)}}return{documentIndex:a,title:r,action:e[a].action,errors:e[a].errors,children:[]}}))}(a,t);if(e.length>0){for(var o=0;o<Math.min(c.length,e.length-1);o++)c[o].expanded=e[o].expanded;c[c.length-1].expanded=e[e.length-1].expanded}return u===e&&c.length>0&&(c[0].expanded=!0),c}))}),[i,a,t,n,s,u,o]),{treeData:b,setTreeData:f}},Mi=function(e){var t=e.node;return gi(t)&&"string"!==typeof t.title?Math.max(xc.height,xc.width)+62:62},Pi=function(){var e=Vc(),t=e.fileInfos,n=e.loadingImages,a=e.movePage,i=e.currentDocumentLocation,o=e.setCurrentDocumentLocation,s=e.canModify,u=e.unusedPages,l=e.addDocument,d=e.deleteDocument,b=e.updateDocument,j=e.getDocument,f=Ii(),m=f.treeData,O=f.setTreeData;Object(c.useEffect)((function(){if(!n&&s&&i&&Object(H.isPresent)(i.documentIndex)&&!Object(H.isPresent)(i.pageIndex)){var e,t=Object($.a)(m);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(vi(a)&&a.documentIndex===i.documentIndex&&Array.isArray(a.children)){var c=a.children[0];gi(c)&&o(Object(r.a)(Object(r.a)({},i),{},{pageIndex:c.pageIndex}))}}}catch(u){t.e(u)}finally{t.f()}}}),[s,i,n,o,m]);var h=Object(c.useMemo)((function(){return u.map((function(e){var n=t[e.fileIndex];if("loaded"===n.status)return n.pages[e.filePageNumber].pageIndex})).filter(H.isPresent)}),[t,u]),p=Object(c.useCallback)((function(e){!function(e){var t=e[e.length-1],n=t.children;xi(t)&&Array.isArray(n)&&n.sort(Object(P.c)((function(e,t){return e.pageIndex<t.pageIndex})))}(e),O(e)}),[O]),v=Object(c.useCallback)((function(e,t){var n=e,r=t;if(!xi(r)||Object(H.isPresent)(n.documentIndex))if(vi(r)){var c=r.documentIndex,i=r.children.findIndex((function(e){return e.pageIndex===n.pageIndex}));a(n.pageIndex,{documentIndex:c,documentOrder:i})}else xi(r)&&a(n.pageIndex)}),[a]),x=Object(c.useCallback)((function(e){var t=e,n=t.pageIndex;Object(H.isPresent)(n)||!Array.isArray(t.children)||Object(P.k)(t.children)||(n=t.children[0].pageIndex),o({documentIndex:t.documentIndex,pageIndex:n})}),[o]),g=Object(c.useCallback)((function(e){return i&&e.documentIndex===i.documentIndex&&(vi(e)||e.pageIndex===i.pageIndex)}),[i]),y=Object(c.useCallback)((function(e){e.data={};var t=l(e);o({documentIndex:t})}),[l,o]),C=Object(c.useCallback)((function(e,t){j(e).schemaId!==t.schemaId&&(t.data={}),b(e,t)}),[j,b]),k=Object(c.useCallback)((function(e){var n=h;if(Object(H.isPresent)(e)){var a=j(e).pages.map((function(e){var n=t[e.fileIndex];if("loaded"===n.status)return n.pages[e.filePageNumber].pageIndex})).filter(H.isPresent);a.push.apply(a,Object($r.a)(n)),n=a.sort()}return n}),[t,j,h]);return{treeData:m,unusedPageIndices:h,setTreeData:p,selectNode:x,moveNode:v,loadingImages:n,canModify:s,canNodeHaveChildren:Ci,getNodeKey:yi,canDragNode:ki,canDrop:wi,getRowHeight:Mi,isNodeSelected:g,addDocument:y,deleteDocument:d,updateDocument:C,getAvailablePageIndices:k}},Si=n(1633),Di=n(1632),Li=Object(z.a)((function(e){return Object(R.a)({tree:{"& .rstcustom__collapseButton":{color:"dark"===e.palette.mode?"white":void 0,backgroundImage:void 0},"& .rstcustom__expandButton":{color:"dark"===e.palette.mode?"white":void 0,backgroundImage:void 0},"& .rstcustom__collapseButton:focus, & .rst__expandButton:focus":{outline:"initial"},"& .rstcustom__highlight":{backgroundColor:"dark"===e.palette.mode?Si.a[700]:void 0}},node:{"& .rstcustom__rowContents":{cursor:"pointer",backgroundColor:e.palette.background.default,minWidth:Math.max(xc.height,xc.width,120)+30,justifyContent:"center",paddingLeft:30},"& .rstcustom__moveHandle":{backgroundColor:"dark"===e.palette.mode?Si.a[700]:void 0}},selectedNode:{"& .rstcustom__rowContents":{backgroundColor:e.palette.action.selected}}})})),Ti=function(e){var t,n,a=e.node,r=Object(Kr.a)().t,c="send"===a.action?Kc.a:"dontSend"===a.action?Yc.a:hi,i=(t=c,n=a.action,Object(Ce.a)(t)((function(e){var t=e.theme;return{marginLeft:5,verticalAlign:"bottom",color:"send"===n?Di.a[500]:"dontSend"===n?t.palette.error.main:void 0}})));return Object(j.jsx)(Me.a,{title:r("RecognizedDocumentAction.".concat(a.action)),children:Object(j.jsx)("span",{children:Object(j.jsx)(i,{})})})},Ni=Object(Ce.a)(d.a)({display:"flex"}),Ai=Object(Ce.a)(ue.a,{shouldForwardProp:function(e){return"hasErrors"!==e}})((function(e){var t=e.theme;return{display:"block",wordWrap:"break-word",width:"175px",maxHeight:"40px",overflow:"hidden",whiteSpace:"normal",textDecoration:e.hasErrors?"underline wavy ".concat(t.palette.error.main):void 0}})),Ei=function(e){var t=e.node,n=e.canModify,a="send"===t.action&&t.errors.length>0&&n;return Object(j.jsxs)(Ni,{alignItems:"center",justifyContent:"center",alignContent:"stretch",children:[Object(j.jsx)(Ai,{noWrap:!1,variant:"body2",hasErrors:a,children:t.title}),Object(j.jsx)(Ti,{node:t})]})},Ri=function(e){var t=e.description,n=e.onClick,a=e.icon;return Object(j.jsx)(Me.a,{title:t,children:Object(j.jsx)(be.a,{size:"small",onClick:n,children:a})})},zi=function(e){var t=e.node,n=e.getAvailablePageIndices,a=e.onUpdateDocument,r=Object(Kr.a)().t,i=Object(c.useState)(),o=Object(X.a)(i,2),s=o[0],u=o[1],l=Vc().getDocument,d=Object(c.useMemo)((function(){return n(s)}),[s,n]),b=Object(c.useCallback)((function(e,t){u(t)}),[]),f=Object(c.useCallback)((function(e){null===a||void 0===a||a(s,e)}),[s,a]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ri,{description:r("Edit"),icon:Object(j.jsx)(Wc.a,{}),onClick:function(e){return b(e,t.documentIndex)}}),Object(H.isPresent)(s)&&Object(j.jsx)(mi,{open:Object(H.isPresent)(s),document:l(s),availablePageIndices:d,onChange:f,onClose:function(){return u(void 0)}})]})},Fi=function(e){var t=e.node,n=e.onDeleteDocument,a=Object(Kr.a)().t,r=Object(Qc.c)(),i=Object(c.useCallback)(function(){var e=Object(K.a)(Y.a.mark((function e(c){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.stopPropagation(),e.next=3,r({description:a("ConfirmDeleteBatchDocument",{name:t.title})});case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:null===n||void 0===n||n(t.documentIndex);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,t.documentIndex,t.title,n,a]);return Object(j.jsx)(Ri,{description:a("Delete"),icon:Object(j.jsx)(he.a,{}),onClick:i})},Bi=function(e){var t=e.unusedPageIndices,n=e.onAddDocument,a=Object(Kr.a)().t,r=Object(c.useState)(!1),i=Object(X.a)(r,2),o=i[0],s=i[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Me.a,{title:a("AddDocument"),children:Object(j.jsx)(be.a,{onClick:function(){return s(!0)},size:"small",children:Object(j.jsx)(Se.a,{})})}),o&&Object(j.jsx)(mi,{open:o,availablePageIndices:t,onChange:n,onClose:function(){return s(!1)}})]})},Ui=Object(Ce.a)(pn.a)((function(e){var t=e.theme;return{minHeight:"48px",paddingLeft:0,borderBottom:"solid 2px ".concat(t.palette.divider)}})),Vi=function(e){var t=Li(),n=Pi(),a=n.canModify,r=n.moveNode,i=n.setTreeData,o=n.selectNode,s=n.isNodeSelected,u=n.treeData,l=n.unusedPageIndices,d=n.loadingImages,b=n.getNodeKey,f=n.canDragNode,m=n.canDrop,O=n.canNodeHaveChildren,h=n.getRowHeight,p=n.addDocument,v=n.deleteDocument,x=n.updateDocument,g=n.getAvailablePageIndices,y=Object(c.useCallback)((function(e){var t=e.node,n=e.nextParentNode,a=e.prevTreeIndex,c=e.nextTreeIndex;n&&a!==c&&r(t,n)}),[r]),C=Object(c.useCallback)((function(e,t){var n,a,r=e.target;!0!==(null===(n=r.classList)||void 0===n?void 0:n.contains("rst__collapseButton"))&&!0!==(null===(a=r.classList)||void 0===a?void 0:a.contains("rst__expandButton"))&&o(t)}),[o]),k=Object(c.useCallback)((function(e){var n=e.node,r={onClick:function(t){return C(t,e.node)},className:Object(qc.default)(t.node,Object(Gr.a)({},t.selectedNode,s(n)))};if(vi(n)){if(a){var c=Object(j.jsx)(zi,{node:n,onUpdateDocument:x,getAvailablePageIndices:g}),i=Object(j.jsx)(Fi,{node:n,onDeleteDocument:v});r.buttons=[c,i]}r.title=function(){return Object(j.jsx)(Ei,{node:n,canModify:a})}}return r}),[a,t.node,t.selectedNode,v,g,C,s,x]);return d?null:Object(j.jsxs)(j.Fragment,{children:[a&&Object(j.jsx)(Ui,{children:Object(j.jsx)(Bi,{unusedPageIndices:l,onAddDocument:p})}),Object(j.jsx)(Jc.a,{treeData:u,onChange:i,onMoveNode:y,getNodeKey:b,canDrag:f,canDrop:m,canNodeHaveChildren:O,isVirtualized:!1,generateNodeProps:k,className:t.tree,rowHeight:h,theme:Zc.a})]})},Hi=n(955),qi=function(e){return Object(j.jsx)(Oi.a,Object(r.a)(Object(r.a)({viewBox:"0 0 512 512"},e),{},{children:Object(j.jsx)("path",{d:"M9.5 1.4C2.3 4.6 0 9.7 0 22.6V32h32V0h-9.7c-5.9.1-11 .6-12.8 1.4zM62 16v16h29V0H62v16zM121 16v16h29V0h-29v16zM180 16v16h29V0h-29v16zM239 16v16h29V0h-29v16zM298 16v16h29V0h-29v16zM357 16v16h29V0h-29v16zM416 15.9V32h32.2l-.4-10.9c-.2-9.2-.6-11.4-2.4-13.7-4.4-6-6.7-6.9-18.5-7.2L416-.2v16.1zM0 76.5V91h32V62H0v14.5zM416 76.5V91h32V62h-32v14.5zM0 135.5V150h32v-29H0v14.5zM416 135.5V150h32v-29h-32v14.5zM0 194.5V209h32v-29H0v14.5zM416 194.5V209h32v-29h-32v14.5zM297.5 225.4c-4.1 1.8-8.3 6.9-9 10.9-.3 1.8-.4 62.2-.3 134.4.3 130.7.3 131.2 2.4 133.9 4.9 6.7 13 9.1 19.5 6 1.9-.9 20.5-15.3 41.4-32.1l38-30.4 54.8-.1c59.9 0 58.9.1 64-5.9 3-3.7 4.2-8.5 3.2-13.9-.6-3.3-11.6-14.6-99.3-102.6-57.7-57.7-100-99.4-101.9-100.2-4-1.7-8.9-1.7-12.8 0zM417.7 416l-39.4.5-3.9 3c-2.1 1.6-15 11.8-28.6 22.7-13.6 10.9-25 19.8-25.3 19.8-.3 0-.5-41.3-.5-91.7v-91.8l68.5 68.5 68.5 68.5-39.3.5zM0 253.5V268h32v-29H0v14.5zM416 253.5V268h32v-29h-32v14.5zM0 312.5V327h32v-29H0v14.5zM0 371.5V386h32v-29H0v14.5zM.2 426.9c.3 11.8 1.2 14.1 7.2 18.5 2.3 1.8 4.5 2.2 13.7 2.4l10.9.4V416H-.2l.4 10.9zM62 432v16h29v-32H62v16zM121 432v16h29v-32h-29v16zM180 432v16h29v-32h-29v16z"})}))},_i=n(956),Wi=n.n(_i),$i=n(966),Ki=n.n($i),Gi=function(){throw new Error("You forgot to wrap your component in <ImageCaptureContextProvider>.")},Yi="move",Ji={captureAvailable:!1,captureImage:Gi,clearCapture:Gi,setCurrentCropper:Gi,loadPage:Gi,releasePage:Gi,fitPage:Gi,fitWidth:Gi,zoomOut:Gi,zoomIn:Gi,dragMode:Yi,setDragMode:Gi,rotateTo:Gi,move:Gi},Xi=Object(c.createContext)(Ji),Zi=function(e){var t=e.outputImageFormat,n=e.children,a=Object(c.useState)(),r=Object(X.a)(a,2),i=r[0],o=r[1],s=Object(c.useState)(),u=Object(X.a)(s,2),l=u[0],d=u[1],b=Object(c.useState)(Yi),f=Object(X.a)(b,2),m=f[0],O=f[1],h=Object(c.useCallback)((function(e){if(i){var n=function(e,t){if("image/tiff"===t){var n=e.getContext("2d").getImageData(0,0,e.width,e.height),a=new Uint8Array(n.data.buffer),r=Wi.a.encodeImage(a,n.width,n.height);return Mc(r,"image/tiff")}return e.toDataURL()}(i.getCroppedCanvas(),null!==e&&void 0!==e?e:t);return i.clear(),o(void 0),n}}),[i,t]),p=Object(c.useCallback)((function(){null===l||void 0===l||l.clear(),o(void 0)}),[l]),v=Object(c.useCallback)((function(e,t){var n=e.getContext("2d");if(!n)return!1;n.putImageData(t,0,0);var a=new Ki.a(e,{dragMode:Yi,initialAspectRatio:Number.NaN,guides:!1,crop:function(){var e=null===a||void 0===a?void 0:a.getCropBoxData();e&&!Object(P.k)(e)&&o(a)},viewMode:1,autoCrop:!1,ready:function(){d(a)}});return a.clear(),O(Yi),!0}),[]),x=Object(c.useCallback)((function(){d((function(e){e&&e.destroy()})),o(void 0)}),[]),g=Object(c.useCallback)((function(){if(l){var e=l.getContainerData(),t=e.width,n=e.height,a=l.getImageData(),r=a.naturalHeight,c=a.naturalWidth,i=t/c,o=n/r,s=Math.min(i,o);l.zoomTo(s);var u=s===i?0:(t-c*s)/2,d=s===o?0:(n-r*s)/2;l.moveTo(u,d)}}),[l]),y=Object(c.useCallback)((function(){if(l){var e=l.getContainerData(),t=e.width,n=e.height,a=l.getImageData(),r=a.naturalHeight,c=t/a.naturalWidth,i=n/r,o=Math.min(c,i);l.zoomTo(c);var s=o===i?0:(n-r*o)/2;l.moveTo(0,s)}}),[l]),C=Object(c.useCallback)((function(){null===l||void 0===l||l.zoom(-.1)}),[l]),k=Object(c.useCallback)((function(){null===l||void 0===l||l.zoom(.1)}),[l]),w=Object(c.useCallback)((function(e){null===l||void 0===l||l.rotateTo(e)}),[l]),I=Object(c.useCallback)((function(e,t){null===l||void 0===l||l.move(e,t)}),[l]),M=Object(c.useCallback)((function(e){O(e),null===l||void 0===l||l.setDragMode(e)}),[l]),S=Object(c.useMemo)((function(){return{captureAvailable:!!i,captureImage:h,clearCapture:p,currentCropper:i,setCurrentCropper:o,loadPage:v,releasePage:x,fitPage:g,fitWidth:y,zoomOut:C,zoomIn:k,dragMode:m,setDragMode:M,rotateTo:w,move:I}}),[M,h,p,i,m,g,y,v,I,x,w,k,C]);return Object(j.jsx)(Xi.Provider,{value:S,children:n})},Qi=function(){return Object(c.useContext)(Xi)},eo=Object(Ce.a)("img")((function(e){return{marginTop:e.theme.spacing(2),width:"max-content",maxWidth:"100%"}})),to=Object(Ce.a)("img")((function(e){return{marginTop:e.theme.spacing(6),height:50}})),no=Object(l.l)((function(e){var t=e.uischema,n=e.config,a=e.id,r=e.data,i=e.visible,s=e.errors,u=e.label,l=e.required,d=e.description,f=e.path,m=e.handleChange,O=Object(Kr.a)().t,h=0===s.length,p=Object(Hi.merge)({},n,t.options),v=!Object(o.J)(i,null!==d&&void 0!==d?d:"",!1,p.showUnfocusedDescription),x=Vc().getDisplayableDataUrl,g=Qi(),y=g.captureAvailable,C=g.captureImage,k=Object(c.useCallback)((function(){if(y){var e=C();m(f,e)}}),[y,C,m,f]),w=Object(c.useCallback)((function(){m(f,void 0)}),[m,f]),I=v?d:h?null:s,M=v&&!h?s:null;return Object(j.jsx)(b.a,{xsUp:!i,children:Object(j.jsxs)(an.a,{fullWidth:!p.trim,id:a,children:[Object(j.jsx)(zn.a,{htmlFor:a+"-input",error:!h,shrink:"string"===typeof r,children:Object(o.j)(u,!!l,p.hideRequiredAsterisk)}),Object(j.jsxs)("div",{children:["string"===typeof r&&Object(j.jsx)(eo,{src:x(r),alt:""}),"string"!==typeof r&&Object(j.jsx)(to,{src:"".concat(Object(uc.a)(),"images/image-placeholder.png"),alt:"placeholder"})]}),Object(j.jsxs)(pi.a,{marginLeft:-1.25,children:[Object(j.jsx)(Me.a,{title:O("CaptureCurrentSelection"),children:Object(j.jsx)("span",{children:Object(j.jsx)(be.a,{onClick:k,disabled:!y,size:"large",children:Object(j.jsx)(qi,{})})})}),Object(j.jsx)(Me.a,{title:O("Delete"),children:Object(j.jsx)(be.a,{onClick:w,size:"large",children:Object(j.jsx)(he.a,{})})})]}),Object(j.jsx)(de.a,{error:!h&&!v,children:I}),Object(j.jsx)(de.a,{error:!h,children:M})]})})})),ao=Object(o.wb)(4,Object(o.e)(o.G,(function(e,t,n){var a=o.d.schema(t,e.scope,n);return a&&"string"===a.type&&"image"===a.format}))),ro=n(989),co=function(e){return Object(ro.a)((function(t){return Object(j.jsx)(e,Object(I.a)({},t))}))}(Nt.a),io=i.a.memo((function(e){var t,n,a,r,i=Object(c.useState)(!1),o=Object(M.a)(i,2),s=o[0],u=o[1],l=e.data,d=e.config,b=e.className,f=e.id,m=e.enabled,O=e.uischema,h=e.isValid,p=e.path,v=e.handleChange,x=e.schema,g=e.muiInputProps,y=x.maxLength,C=Fe()({},d,O.options);r=C.restrict?{maxLength:y}:{};var k=Object(c.useMemo)((function(){return x.patternMask}),[x]);r=Fe()(r,g),C.trim&&void 0!==y&&(r.size=y);var w=Object(Xt.a)(),I=(null===(t=w.jsonforms)||void 0===t||null===(n=t.input)||void 0===n||null===(a=n.delete)||void 0===a?void 0:a.background)||w.palette.background.default,P=Object(c.useCallback)((function(e){v(p,e)}),[v,p]);return Object(j.jsx)(co,{mask:k,onAccept:P,type:"text",className:b,id:f,value:l,disabled:!m,autoFocus:C.focus,multiline:C.multi,fullWidth:!C.trim||void 0===y,inputProps:r,error:!h,onPointerEnter:function(){return u(!0)},onPointerLeave:function(){return u(!1)},endAdornment:Object(j.jsx)(Zt.a,{position:"end",style:{display:s&&m&&void 0!==l?"flex":"none",position:"absolute",right:0},children:Object(j.jsx)(be.a,{"aria-label":"Clear input field",onClick:function(){return v(p,void 0)},size:"large",children:Object(j.jsx)(en.a,{style:{background:I,borderRadius:"50%"}})})})})})),oo=Object(l.l)((function(e){return Object(j.jsx)(Fn,Object(I.a)(Object(I.a)({},e),{},{input:io}))})),so=Object(o.wb)(4,Object(o.e)(o.G,(function(e,t,n){var a=o.d.schema(t,e.scope,n);return a&&"string"===a.type&&"string"===typeof a.patternMask}))),uo=n(204),lo=(ri=function(e){var t=e.onWriteOcredData,n=ho(),a=n.getRootElement,r=n.setStatus,i=n.deactivateCurrentTool,o=Qi(),s=o.captureImage,u=o.setDragMode,l=Vc(),d=l.canModify,b=l.canOcr,j=l.ocrImage,f=a(),m=Object(c.useState)(!1),O=Object(X.a)(m,2),h=O[0],p=O[1],v=Object(Kr.a)().t,x=Object(uo.a)();Object(c.useEffect)((function(){var e=function(e){"Escape"===e.key&&i()};return f.addEventListener("keyup",e,{capture:!0}),function(){f.removeEventListener("keyup",e,{capture:!0})}}),[i,f]),Object(c.useEffect)((function(){r(v("KeyboardOcrToolActiveStatus"))}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(K.a)(Y.a.mark((function e(){var n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s("image/png")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,j(n);case 6:a=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),x(v("TextRecognitionFunctionFailed"),e.t0),e.abrupt("return");case 13:return e.prev=13,e.next=16,navigator.clipboard.writeText(a);case 16:e.next=22;break;case 18:return e.prev=18,e.t1=e.catch(13),x(v("RecognizedTextCouldNotBeCopiedToClipboard"),e.t1),e.abrupt("return");case 22:t(a);case 23:case"end":return e.stop()}}),e,null,[[3,9],[13,18]])})));return function(){return e.apply(this,arguments)}}();h&&(p(!1),e().finally((function(){i()})))}),[s,i,j,t,x,h,v]);var g=Object(c.useCallback)((function(e){p(!0)}),[]),y=Object(c.useCallback)((function(e){if(e.target instanceof Node&&f.contains(e.target))return document.addEventListener("pointerup",g,{capture:!0,once:!0}),function(){document.removeEventListener("pointerup",g,{capture:!0})};i()}),[i,g,f]);return Object(c.useEffect)((function(){return u("crop"),document.addEventListener("pointerdown",y,{capture:!0,once:!0}),function(){document.removeEventListener("pointerdown",y,{capture:!0})}}),[y,u]),d&&b||i(),null},ci={toolType:"KeyboardOcrTool"},Object.assign(ri,ci)),bo=function(){throw new Error("You forgot to wrap your component in <ToolManager>.")},jo={deactivateCurrentTool:bo,getRootElement:bo,setStatus:bo,activateKeyboardOcrTool:bo},fo=Object(c.createContext)(jo),mo=Object(Ce.a)("div")({position:"absolute",bottom:16,left:0,backgroundColor:"lightgray"}),Oo=function(e){var t=e.children,n=Object(c.useRef)(null),a=Object(c.useState)(""),i=Object(X.a)(a,2),o=i[0],s=i[1],u=function(){var e,t=Object(c.useState)(),n=Object(X.a)(t,2),a=n[0],i=n[1],o=null!==(e=null===a||void 0===a?void 0:a.toolType)&&void 0!==e?e:c.Fragment,s=Object(c.useCallback)((function(e){if(!e)return i(void 0),!0;var t=e.toolType.canActivate;return!(t&&!t(e.args))&&(i(e),!0)}),[]);return{setActivationInfo:s,tool:Object(j.jsx)(o,Object(r.a)({},null===a||void 0===a?void 0:a.args))}}(),l=u.setActivationInfo,d=u.tool,b=Object(c.useCallback)((function(){l(void 0),s("")}),[l]),f=Object(c.useCallback)((function(e){return l({toolType:lo,args:{onWriteOcredData:e}})}),[l]),m=Object(c.useMemo)((function(){return{deactivateCurrentTool:b,getRootElement:function(){var e;return null!==(e=n.current)&&void 0!==e?e:document.createElement("div")},setStatus:s,activateKeyboardOcrTool:f}}),[f,b]);return Object(j.jsxs)(fo.Provider,{value:m,children:[Object(j.jsxs)(pi.a,{ref:n,position:"relative",children:[t,!!o&&Object(j.jsx)(mo,{children:o})]}),d]})},ho=function(){return Object(c.useContext)(fo)},po=n(174),vo=n(179),xo=n(152),go=n.n(xo),yo=n(1259),Co=[n(967)],ko=Object(P.m)((function(e){return e[0]}),Object(P.h)((function(e){return e.$id}),Co)),wo={resolve:{nimflow:{order:1,canRead:function(e){return!!ko[e.url]},read:function(e){return Object(P.p)(["$id"],ko[e.url])}}}},Io=function(e){return tc.a.dereference(e,wo)},Mo=["context","bindContext","uiSchemaLibrary","schema","onChange","config","ajv"],Po=function(e,t,n){var a;return Object(gc.b)([e]),"required"===e.keyword&&(e.message=ni.a.t("ValueRequired")),"dependentRequired"!==e.keyword||e.instancePath||(e.instancePath+="/"+e.params.missingProperty),null!==(a=e.message)&&void 0!==a?a:""},So=function(e){var t=e.context,n=e.bindContext,a=e.uiSchemaLibrary,r=e.schema,i=e.onChange,o=e.config,s=e.ajv,u=void 0===s?gc.a:s,d=Object(V.a)(e,Mo),b=function(e){var t=Object(yo.a)(Object(vo.a)(go.a.mark((function t(){var n;return go.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,Io(e);case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),[e]);return{resolvedSchema:t.value,loading:t.loading,error:t.error}}(r),f=b.resolvedSchema,m=b.loading,O=b.error,h=Object(c.useRef)(),p=Object(c.useRef)([]),v=Object(c.useRef)(),x=Object(c.useMemo)((function(){var e;return Object(I.a)(Object(I.a)({},o),{},{restrict:null===(e=null===o||void 0===o?void 0:o.restrict)||void 0===e||e})}),[o]),g=Object(c.useCallback)((function(){var e=h.current,t=p.current;if(e||0!==t.length){var n=function(e,t){var n={data:void 0};return t.length>0||null!==e&&void 0!==e&&e.errors&&e.errors.length>0?(n.errors=null!==e&&void 0!==e&&e.errors?[].concat(Object(po.a)(e.errors),Object(po.a)(t)):t,n.errors=Object(P.t)([Object(P.c)((function(e,t){var n,a;return e.instancePath<t.instancePath||e.instancePath===t.instancePath&&(null!==(n=e.message)&&void 0!==n?n:"")<(null!==(a=t.message)&&void 0!==a?a:"")}))],n.errors)):n.data=null===e||void 0===e?void 0:e.data,n}(e,t);Object(P.f)(v.current,n)||(v.current=n,null===i||void 0===i||i(n))}}),[i]),y=Object(c.useCallback)((function(e){h.current=e,g()}),[g]),C=Object(c.useCallback)((function(e){p.current=e,g()}),[g]);if(m)return Object(j.jsx)(Hc.b,{});if(O)throw O;return Object(j.jsx)(L,{context:t,bindContext:n,uiSchemaLibrary:a,onErrorsChange:C,children:Object(j.jsx)(l.c,Object(I.a)({renderers:el,cells:tl,schema:f,onChange:y,config:x,ajv:u,i18n:{translateError:Po}},d))})},Do=Object(Ce.a)(d.a)({maxHeight:"100%",width:"99%",overflowY:"auto",overflowX:"visible",paddingRight:15}),Lo={restrict:!0},To=["email","number","text"],No=function(e){var t=ho(),n=Object(c.useRef)(null);return Object(c.useEffect)((function(){function a(e){var n=e.target;if("INPUT"===(null===n||void 0===n?void 0:n.tagName)&&"a"===e.key.toLowerCase()&&e.ctrlKey&&To.includes(n.type)){e.preventDefault(),e.stopPropagation();var a=n;t.activateKeyboardOcrTool((function(e){a.focus(),function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=(Object.getOwnPropertyDescriptor(e,"value")||{}).set,r=Object.getPrototypeOf(e),c=(Object.getOwnPropertyDescriptor(r,"value")||{}).set;if(c&&a!==c)c.call(e,t);else{if(!a)throw new Error("The given element does not have a value setter");a.call(e,t)}n&&e.dispatchEvent(new Event("input",{bubbles:!0}))}(a,e)}))}}var r=n.current;return r&&e&&r.addEventListener("keyup",a,{capture:!0}),function(){r&&e&&r.removeEventListener("keyup",a,{capture:!0})}}),[t,e]),{editorRootElemRef:n}},Ao=function(e){var t=Object(Kr.a)().t,n=function(){var e,t=Vc(),n=t.documentSchemas,a=t.currentDocument,i=t.currentDocumentEditionState,o=t.setCurrentDocumentEditionState,s=t.canModify,u=t.updateCurrentDocument,l=Object(c.useRef)(null===i||void 0===i?void 0:i.document.data),d=Object(c.useRef)(!1);Object(c.useMemo)((function(){l.current=null===i||void 0===i?void 0:i.document.data}),[null===i||void 0===i?void 0:i.document.data]);var b=Object(c.useMemo)((function(){var e={};if(n){var t,a=Object($.a)(n);try{for(a.s();!(t=a.n()).done;){var r,c=t.value;c.$id&&(e[c.$id]={label:null!==(r=c.title)&&void 0!==r?r:c.$id,description:c.description})}}catch(i){a.e(i)}finally{a.f()}}return e}),[n]),j=Object(c.useMemo)((function(){var e=Object.keys(b);return Object(P.s)((function(e){return b[e].label}),e)}),[b]),f=Object(c.useMemo)((function(){return[].concat(Object($r.a)(el),[{tester:ao,renderer:no},{tester:so,renderer:oo}])}),[]),m=Object(c.useCallback)((function(e){var t,n;return null!==(t=null===(n=b[e])||void 0===n?void 0:n.label)&&void 0!==t?t:""}),[b]),O=Object(c.useCallback)((function(e){d.current=!!e.errors&&e.errors.length>0;var t=d.current&&e.errors?Object(gc.b)(e.errors):void 0;d.current||l.current===e.data||(l.current=e.data,d.current=!1),o((function(n){var a,c;return Object(P.f)(e.data,null===n||void 0===n?void 0:n.document)&&Object(P.f)(t,null===n||void 0===n?void 0:n.errors)?n:{document:Object(r.a)(Object(r.a)({},n.document),{},{data:null!==(a=e.data)&&void 0!==a?a:null===n||void 0===n||null===(c=n.document)||void 0===c?void 0:c.data}),errors:t}}))}),[o]),h=Object(c.useCallback)((function(e){var t=Object(r.a)(Object(r.a)({},a),{},{action:e});u(t)}),[a,u]),p=Object(c.useCallback)((function(e){if(e&&(null===a||void 0===a?void 0:a.schemaId)!==e){var t=Object(r.a)(Object(r.a)({},a),{},{schemaId:e,data:{}});u(t)}}),[a,u]),v=(null===i||void 0===i?void 0:i.document)&&(null===n||void 0===n?void 0:n.find((function(e){return e.$id===(null===i||void 0===i?void 0:i.document.schemaId)})));return{documentData:null!==(e=null===i||void 0===i?void 0:i.document.data)&&void 0!==e?e:{},labels:b,options:j,cells:tl,customRenderers:f,updateDocumentData:O,updateAction:h,updateSchemaId:p,schema:v,canEdit:s&&"dontSend"!==(null===i||void 0===i?void 0:i.document.action),getOptionLabel:m,schemaId:null===a||void 0===a?void 0:a.schemaId,action:null===a||void 0===a?void 0:a.action,canOcr:s&&!(null===i||void 0===i||!i.document),documentSelected:!!a}}(),a=n.updateAction,i=n.updateSchemaId,o=n.updateDocumentData,s=No(n.canOcr).editorRootElemRef,u=Object(c.useCallback)((function(e){a(e.target.value)}),[a]),b=Object(c.useCallback)((function(e,t){i(t)}),[i]);return n.documentSelected?Object(j.jsxs)(Do,{container:!0,spacing:1,children:[Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(Bn.a,{value:n.schemaId,options:n.options,onChange:b,getOptionLabel:n.getOptionLabel,disableClearable:!0,autoHighlight:!0,renderInput:function(e){return Object(j.jsx)(_n.a,Object(I.a)(Object(I.a)({},e),{},{label:t("DocumentType"),InputLabelProps:{required:!0},required:!0,autoFocus:!0,variant:"standard"}))},fullWidth:!0})}),Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(_n.a,{select:!0,value:n.action,onChange:u,label:t("Action"),fullWidth:!0,variant:"standard",children:ai.map((function(e){return Object(j.jsx)(Lt.a,{value:e,children:t("RecognizedDocumentAction.".concat(e))},e)}))})}),!!n.schema&&Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)("div",{ref:s,children:Object(j.jsx)(l.c,{data:n.documentData,schema:n.schema,onChange:o,renderers:n.customRenderers,cells:n.cells,ajv:Ic,readonly:!n.canEdit,config:Lo,i18n:{translateError:Po}})})})]}):null},Eo=n(1272),Ro=n(1261),zo=n(2067),Fo=n(1458),Bo=n(561),Uo=n.n(Bo),Vo=n(969),Ho=n.n(Vo),qo=n(970),_o=n.n(qo),Wo=n(560),$o=n.n(Wo),Ko=n(975),Go=n.n(Ko),Yo=n(976),Jo=n.n(Yo),Xo=n(974),Zo=n.n(Xo),Qo=n(973),es=n.n(Qo),ts=n(972),ns=n.n(ts),as=n(971),rs=n.n(as),cs=n(566),is=n.n(cs),os=n(567),ss=n(328),us=n(267),ls=function(e){return Object(j.jsx)(Oi.a,Object(r.a)(Object(r.a)({viewBox:"0 0 1000 1000"},e),{},{children:Object(j.jsx)("path",{d:"M560.8 191.3v246.9h245V315.8L990 500 805.8 684.2V558.9h-245v246.9h123.4L500 990 315.8 805.8h122.5V558.9h-245v124.4L10 500l183.3-183.3v121.5h245V191.3H318.6L500 10l181.4 181.3H560.8z"})}))},ds=function(e){return Object(j.jsxs)(Oi.a,Object(r.a)(Object(r.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(j.jsx)("path",{d:"M458.3 948.4c125.9 0 239.5-51.9 321-135.4l-37.5-40.2c-72.2 75-173.6 121.7-285.9 121.7-219.2 0-396.9-177.7-396.9-396.9S236.7 100.7 455.9 100.7c207.6 0 377.8 159.5 395.2 362.6h-96.3l117.6 196L990 463.2h-85C886.3 232.9 693.6 51.6 458.3 51.6 210.7 51.6 10 252.4 10 500c0 247.6 200.7 448.4 448.3 448.4z"}),Object(j.jsx)("path",{d:"M 402.3 395.8 c -17.6 -17.8 -41.8 -26.8 -72 -26.8 c -1.3 0 -2.7 0 -4.1 0.1 h -0.1 c -31.8 1.5 -56.7 11.1 -73.8 28.5 c -17.1 17.4 -26.8 42.9 -28.7 75.7 v 0.7 c 1.4 30.5 10 54.2 25.5 70.5 c 15.6 16.4 38.2 25.4 67.3 26.9 h 0.5 c 27.3 -0.8 49.5 -9.4 66.3 -25.6 c -1.9 25.7 -6.9 45.7 -15 59.6 c -9.5 16.3 -23.1 24.2 -41.7 24.2 H 325 c -22.4 0 -36.9 -12.4 -44.3 -37.8 c -0.9 -2.9 -3.5 -4.9 -6.5 -4.9 c -0.5 0 -1 0 -1.4 0.2 l -38.4 8.3 c -1.8 0.4 -3.4 1.5 -4.3 3 c -1 1.6 -1.3 3.5 -0.8 5.2 c 5.9 23 16.9 40.7 32.7 52.4 c 15.7 11.6 36.5 17.5 61.6 17.5 h 1.9 c 37.2 0 65.6 -13.6 84.4 -40.4 c 18.2 -26.1 27.5 -65.3 27.5 -116.5 c 0.3 -27.7 -2.5 -51.8 -8.2 -71.7 c -5.8 -20.5 -14.9 -37 -26.9 -49.1 z m -21 81.8 c -2.6 31.4 -20.1 46.8 -55 48.6 c -31.1 -1.8 -46.4 -19.3 -48.1 -55.2 c 1.7 -35.9 17.5 -53.5 49.6 -55.2 c 17.7 0.5 30.6 5.6 39.4 15.6 c 8.9 10 13.6 25.6 14.1 46.2 z M 647 409.2 c -17.9 -26.1 -44.8 -39.7 -79.9 -40.2 h -0.4 c -35 1.5 -61.9 15.4 -80.1 41.5 c -17.6 25.4 -27 62.8 -28 111.2 v 0.2 c 0.5 48.9 9.6 86.5 27.3 111.7 c 18.2 25.9 45.4 39.2 80.9 39.7 h 1.9 c 35 0 61.7 -13.2 79.4 -39.1 c 17.1 -25.1 25.8 -62.9 25.8 -112.3 v -0.1 c -0.4 -49.4 -9.5 -87.3 -26.9 -112.6 z m -30.5 114 c 0 36.5 -4.4 64.1 -13.1 81.9 c -8 16.4 -19.5 24.4 -35.1 24.4 h -2.8 c -15.6 0 -27.1 -8 -35.1 -24.4 c -8.7 -17.8 -13 -45.3 -13 -81.8 c 0 -36.9 4.4 -64.8 13.1 -82.9 c 8 -16.7 19.5 -24.8 35.1 -24.8 h 1.6 c 0.8 0 1.5 -0.1 2.3 -0.1 c 10.1 0 18.3 3.3 24.9 10 c 15.3 15.4 22.7 48.3 22.1 97.7 z M 647.5 257.5 c -28.4 0 -51.4 23 -51.4 51.5 c 0 28.4 23 51.4 51.4 51.4 s 51.5 -23 51.5 -51.4 c -0.1 -28.5 -23.1 -51.5 -51.5 -51.5 z m 0 73.4 c -12.2 0 -22 -9.9 -22 -22.1 c 0 -12.2 9.9 -22.1 22 -22.1 c 12.2 0 22.1 9.9 22.1 22.1 c -0.1 12.3 -10 22.1 -22.1 22.1 z"})]}))},bs=function(e){return Object(j.jsxs)(Oi.a,Object(r.a)(Object(r.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(j.jsx)("path",{d:"M541.7 948.4c-125.9 0-239.5-51.9-321-135.4l37.5-40.2c72.2 75 173.6 121.7 285.9 121.7 219.2 0 396.9-177.7 396.9-396.9S763.3 100.7 544.1 100.7c-207.6 0-377.8 159.5-395.2 362.6h96.3l-117.6 196L10 463.2h85C113.7 232.9 306.4 51.6 541.7 51.6 789.3 51.6 990 252.4 990 500c0 247.6-200.7 448.4-448.3 448.4z"}),Object(j.jsx)("path",{d:"M502.3 395.8c-17.6-17.8-41.8-26.8-72-26.8-1.3 0-2.7 0-4.1.1h-.1c-31.8 1.5-56.7 11.1-73.8 28.5-17.1 17.4-26.8 42.9-28.7 75.7v.7c1.4 30.5 10 54.2 25.5 70.5 15.6 16.4 38.2 25.4 67.3 26.9h.5c27.3-.8 49.5-9.4 66.3-25.6-1.9 25.7-6.9 45.7-15 59.6-9.5 16.3-23.1 24.2-41.7 24.2H425c-22.4 0-36.9-12.4-44.3-37.8-.9-2.9-3.5-4.9-6.5-4.9-.5 0-1 0-1.4.2l-38.4 8.3c-1.8.4-3.4 1.5-4.3 3-1 1.6-1.3 3.5-.8 5.2 5.9 23 16.9 40.7 32.7 52.4 15.7 11.6 36.5 17.5 61.6 17.5h1.9c37.2 0 65.6-13.6 84.4-40.4 18.2-26.1 27.5-65.3 27.5-116.5.3-27.7-2.5-51.8-8.2-71.7-5.8-20.5-14.9-37-26.9-49.1zm-21 81.8c-2.6 31.4-20.1 46.8-55 48.6-31.1-1.8-46.4-19.3-48.1-55.2 1.7-35.9 17.5-53.5 49.6-55.2 17.7.5 30.6 5.6 39.4 15.6 8.9 10 13.6 25.6 14.1 46.2zM747 409.2c-17.9-26.1-44.8-39.7-79.9-40.2h-.4c-35 1.5-61.9 15.4-80.1 41.5-17.6 25.4-27 62.8-28 111.2v.2c.5 48.9 9.6 86.5 27.3 111.7 18.2 25.9 45.4 39.2 80.9 39.7h1.9c35 0 61.7-13.2 79.4-39.1 17.1-25.1 25.8-62.9 25.8-112.3v-.1c-.4-49.4-9.5-87.3-26.9-112.6zm-30.5 114c0 36.5-4.4 64.1-13.1 81.9-8 16.4-19.5 24.4-35.1 24.4h-2.8c-15.6 0-27.1-8-35.1-24.4-8.7-17.8-13-45.3-13-81.8 0-36.9 4.4-64.8 13.1-82.9 8-16.7 19.5-24.8 35.1-24.8h1.6c.8 0 1.5-.1 2.3-.1 10.1 0 18.3 3.3 24.9 10 15.3 15.4 22.7 48.3 22.1 97.7zM747.5 257.5c-28.4 0-51.4 23-51.4 51.5 0 28.4 23 51.4 51.4 51.4s51.5-23 51.5-51.4c-.1-28.5-23.1-51.5-51.5-51.5zm0 73.4c-12.2 0-22-9.9-22-22.1 0-12.2 9.9-22.1 22-22.1 12.2 0 22.1 9.9 22.1 22.1-.1 12.3-10 22.1-22.1 22.1z"})]}))},js=function(e){return Object(j.jsx)(Oi.a,Object(r.a)(Object(r.a)({viewBox:"0 0 100 100"},e),{},{children:Object(j.jsx)("switch",{children:Object(j.jsxs)("g",{children:[Object(j.jsx)("path",{d:"M5273.1 2400.1v-2c0-2.8-5-4-9.7-4s-9.7 1.3-9.7 4v2c0 1.8.7 3.6 2 4.9l5 4.9c.3.3.4.6.4 1v6.4c0 .4.2.7.6.8l2.9.9c.5.1 1-.2 1-.8v-7.2c0-.4.2-.7.4-1l5.1-5c1.3-1.3 2-3.1 2-4.9zm-9.7-.1c-4.8 0-7.4-1.3-7.5-1.8.1-.5 2.7-1.8 7.5-1.8s7.3 1.3 7.5 1.8c-.2.5-2.7 1.8-7.5 1.8z"}),Object(j.jsx)("path",{d:"M5268.4 2410.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1h-4.3zM5272.7 2413.7h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1zM5272.7 2417h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1 0-.5-.4-1-1-1z"}),Object(j.jsx)("g",{children:Object(j.jsx)("path",{d:"M45.2 45.5H32.4v-5.2c0-.7-.4-1.3-1-1.5-.6-.3-1.3-.2-1.8.3l-10.7 9.7c-.4.3-.6.8-.6 1.2 0 .4.2.9.5 1.2l.1.1L29.6 61c.5.4 1.2.6 1.8.3.6-.3 1-.9 1-1.5v-5.2h12.8c.8 0 1.4-.6 1.4-1.4V47c0-.9-.7-1.5-1.4-1.5zM70.4 39.1c-.5-.4-1.2-.6-1.8-.3-.6.3-1 .9-1 1.5v5.2H54.8c-.8 0-1.4.6-1.4 1.4v6.2c0 .8.6 1.4 1.4 1.4h12.8v5.2c0 .5.2.9.5 1.2.1.1.3.3.5.3.6.3 1.3.2 1.8-.3l10.7-9.7c.4-.3.6-.8.6-1.2 0-.5-.2-.9-.6-1.2l-10.7-9.7zM10.9 28.7H4.2c-.9 0-1.7.8-1.7 1.7v39.2c0 .9.8 1.7 1.7 1.7h6.7c.9 0 1.7-.8 1.7-1.7V30.4c0-.9-.8-1.7-1.7-1.7zM95.8 28.7h-6.7c-.9 0-1.7.8-1.7 1.7v39.2c0 .9.8 1.7 1.7 1.7h6.7c.9 0 1.7-.8 1.7-1.7V30.4c0-.9-.8-1.7-1.7-1.7z"})})]})})}))},fs=function(e){return Object(j.jsx)(Oi.a,Object(r.a)(Object(r.a)({viewBox:"0 0 24 24"},e),{},{children:Object(j.jsx)("path",{d:"M2 2v5h2V4h3V2H2zm15 0v2h3v3h2V2h-5zm-5.844 4.031L7 17h1.969l.906-2.563h4.25L15 17h2L12.844 6.031h-1.688zM12 8.375l1.594 4.531h-3.188L12 8.375zM2 17v5h5v-2H4v-3H2zm18 0v3h-3v2h5v-5h-2z"})}))},ms=["tooltip","children"],Os=Object(z.a)((function(e){return Object(R.a)({textField:{width:"4ch"}})})),hs=Object(Ce.a)(pn.a)((function(e){var t=e.theme;return{minHeight:"48px",paddingLeft:0,borderBottom:"solid 2px ".concat(t.palette.divider)}})),ps=Object(Ce.a)("div")({position:"relative"}),vs=Object(Ce.a)(is.a)((function(e){var t=e.theme;return{position:"absolute",fontSize:12,right:0,bottom:0,borderRadius:"50%",backgroundColor:t.palette.background.default,border:"solid 1px ".concat(t.palette.action.active)}})),xs=function(e){var t=e.tooltip,n=e.onClick,a=e.showEllipsis,r=e.disabled,c=e.children;return Object(j.jsx)(Me.a,{title:t,children:Object(j.jsxs)(ps,{children:[Object(j.jsx)(be.a,{onClick:n,size:"small",disabled:r,children:c}),a&&Object(j.jsx)(vs,{})]})})},gs=Object(Ce.a)(Ro.a)((function(e){var t=e.theme;return{"& > .MuiToggleButtonGroup-grouped":{margin:t.spacing(.5),border:"none","&:not(:first-child)":{borderRadius:t.shape.borderRadius},"&:first-child":{borderRadius:t.shape.borderRadius}}}})),ys=function(e){var t=e.tooltip,n=e.children,a=Object(ye.a)(e,ms);return Object(j.jsx)(Eo.a,Object(r.a)(Object(r.a)({},a),{},{children:Object(j.jsx)(Me.a,{title:t,children:Object(j.jsx)(pi.a,{height:24,children:n})})}))},Cs=Object(Ce.a)("span")({display:"inline-block",marginTop:6}),ks=Object(Ce.a)("div")({width:"100%",height:"calc(100% - 48px)"}),ws=function(e){var t=e.currentPage,n=Object(c.useRef)(null),a=Qi(),r=a.loadPage,i=a.releasePage;return Object(c.useEffect)((function(){return t&&setTimeout((function(){var e=n.current;e&&Object(us.a)(t.getImageData()).then((function(t){r(e,t)}))}),0),function(){i()}}),[t,r,i]),Object(j.jsx)("canvas",{ref:n,width:t.width,height:t.height,style:{visibility:"hidden"}})},Is=function(e){var t=Object(Kr.a)().t,n=Vc(),a=n.canModify,r=n.rotateImage,i=n.rotateAllImages,o=n.canOcr,s=n.ocrImage,u=Os(),l=Object(os.a)({}),d=l.width,b=l.height,f=l.ref,m=function(){var e=Vc(),t=e.currentDocument,n=e.currentDocumentLocation,a=e.setCurrentDocumentLocation,r=e.fileInfos,i=e.unusedPages,o=Object(c.useMemo)((function(){var e=[],n=[];if(t){var a,c=Object($.a)(t.pages);try{for(c.s();!(a=c.n()).done;){var o=a.value,s=r[o.fileIndex];"loaded"===s.status&&(e.push(s.pages[o.filePageNumber]),n.push(s.pageStates[o.filePageNumber]))}}catch(u){c.e(u)}finally{c.f()}}else r.forEach((function(t,a){"loaded"===t.status&&t.pageStates.forEach((function(r,c){var o=i.findIndex((function(e){return e.fileIndex===a&&e.filePageNumber===c}));o>-1&&(n.push(r),e.push(t.pages[c]))}))}));return[e,n]}),[t,r,i]),s=Object(X.a)(o,2),u=s[0],l=s[1],d=Object(c.useMemo)((function(){var e=null===n||void 0===n?void 0:n.pageIndex;if(!Object(H.isPresent)(e))return[void 0,void 0];var t=u.findIndex((function(t){return t.pageIndex===e}));return[null===n||void 0===n?void 0:n.documentIndex,t>=0?t:void 0]}),[null===n||void 0===n?void 0:n.documentIndex,null===n||void 0===n?void 0:n.pageIndex,u]),b=Object(X.a)(d,2),j=b[0],f=b[1],m=Object(c.useCallback)((function(){a({documentIndex:j,pageIndex:u[0].pageIndex})}),[j,u,a]),O=Object(c.useCallback)((function(){Object(H.isPresent)(f)&&0!==f&&a({documentIndex:j,pageIndex:u[f-1].pageIndex})}),[j,f,u,a]),h=Object(c.useCallback)((function(){!Object(H.isPresent)(f)||f+1>=u.length||a({documentIndex:j,pageIndex:u[f+1].pageIndex})}),[j,f,u,a]),p=Object(c.useCallback)((function(){0!==u.length&&a({documentIndex:j,pageIndex:u[u.length-1].pageIndex})}),[j,u,a]),v=Object(c.useCallback)((function(e){isNaN(e)||e<=0||e>u.length||a({documentIndex:j,pageIndex:u[e-1].pageIndex})}),[j,u,a]);return{currentPage:Object(H.isPresent)(f)?u[f]:void 0,currentPageState:Object(H.isPresent)(f)?l[f]:void 0,currentPageNumber:Object(H.isPresent)(f)?f+1:void 0,totalPages:u.length,gotoFirst:m,gotoPrev:O,gotoNext:h,gotoLast:p,gotoPage:v}}(),O=m.currentPageNumber,h=m.currentPage,p=m.currentPageState,v=m.totalPages,x=m.gotoFirst,g=m.gotoLast,y=m.gotoNext,C=m.gotoPage,k=m.gotoPrev,w=Object(c.useState)(null!==O&&void 0!==O?O:null),I=Object(X.a)(w,2),M=I[0],P=I[1],S=Qi(),D=S.captureAvailable,L=S.captureImage,T=S.clearCapture,N=S.fitPage,A=S.fitWidth,E=S.zoomIn,R=S.zoomOut,z=S.dragMode,F=S.setDragMode,B=S.rotateTo,U=S.move,V=Object(c.useState)(!1),q=Object(X.a)(V,2),_=q[0],W=q[1],G=Object(ss.b)().enqueueSnackbar,J=Object(uo.a)(),Z=function(){var e=Object(c.useState)(!1),t=Object(X.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(X.a)(r,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){var e=function(e){"Shift"===e.key&&(e.location===KeyboardEvent.DOM_KEY_LOCATION_LEFT?a(!0):e.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT&&s(!0))},t=function(e){"Shift"===e.key&&(e.location===KeyboardEvent.DOM_KEY_LOCATION_LEFT?a(!1):e.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT&&s(!1))};return document.addEventListener("keydown",e,{capture:!0}),document.addEventListener("keyup",t,{capture:!0}),function(){document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("keyup",t,{capture:!0})}}),[]),n||o}();Object(c.useEffect)((function(){P(null!==O&&void 0!==O?O:null)}),[O]),Object(c.useEffect)((function(){p&&B(p.rotate)}),[p,B]);var Q=Object(c.useCallback)((function(e){var t=0,n=0;"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),T()):"ArrowUp"===e.key?n=-1:"ArrowDown"===e.key?n=1:"ArrowLeft"===e.key?t=-1:"ArrowRight"===e.key&&(t=1),0===t&&0===n||U(t,n)}),[T,U]),ee=Object(c.useCallback)((function(e){var t=e.target.value;if(Object(H.isPresent)(t)&&0!==t.length){var n=parseInt(t);isNaN(n)||P(n)}else P(null)}),[]),te=Object(c.useCallback)((function(e){"Enter"===e.key&&(e.preventDefault(),Object(H.isPresent)(M)&&!isNaN(M)&&C(M))}),[C,M]),ne=Object(c.useCallback)((function(e){e.currentTarget.focus()}),[]),ae=Object(c.useCallback)((function(e,t){t&&F(t)}),[F]),re=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?i(e):h&&r(h.pageIndex,e)}),[h,i,r]),ce=Object(c.useCallback)(Object(K.a)(Y.a.mark((function e(){var n,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D&&o){e.next=2;break}return e.abrupt("return");case 2:if(n=L("image/png")){e.next=5;break}return e.abrupt("return");case 5:return W(!0),e.prev=6,e.prev=7,e.next=10,s(n);case 10:a=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),J(t("TextRecognitionFunctionFailed"),e.t0),e.abrupt("return");case 17:return e.prev=17,e.next=20,navigator.clipboard.writeText(a);case 20:e.next=26;break;case 22:return e.prev=22,e.t1=e.catch(17),J(t("RecognizedTextCouldNotBeCopiedToClipboard"),e.t1),e.abrupt("return");case 26:G(t("RecognizedTextCopiedToClipboard"),{variant:"success"});case 27:return e.prev=27,W(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[6,,27,30],[7,13],[17,22]])}))),[o,D,L,G,s,J,t]);return h?Object(j.jsxs)(j.Fragment,{children:[a&&Object(j.jsxs)(hs,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(_n.a,{value:null!==M&&void 0!==M?M:"",onChange:ee,onKeyDown:te,disabled:!Object(H.isPresent)(O),className:u.textField,inputProps:{style:{textAlign:"right"}},variant:"standard"}),Object(j.jsxs)(Cs,{children:["\xa0 / ",v," \xa0"]})]}),Object(j.jsx)(xs,{onClick:x,tooltip:t("GotoFirstPage"),children:Object(j.jsx)(Uo.a,{})}),Object(j.jsx)(xs,{onClick:k,tooltip:t("GotoPrevPage"),children:Object(j.jsx)(Ho.a,{})}),Object(j.jsx)(xs,{onClick:y,tooltip:t("GotoNextPage"),children:Object(j.jsx)(_o.a,{})}),Object(j.jsx)(xs,{onClick:g,tooltip:t("GotoLastPage"),children:Object(j.jsx)($o.a,{})}),Object(j.jsx)(zo.a,{orientation:"vertical",flexItem:!0}),Object(j.jsxs)(gs,{value:z,onChange:ae,size:"small",exclusive:!0,children:[Object(j.jsx)(ys,{value:"crop",tooltip:t("Crop"),children:Object(j.jsx)(qi,{})}),Object(j.jsx)(ys,{value:"move",tooltip:t("Move"),children:Object(j.jsx)(ls,{})})]}),Object(j.jsx)(zo.a,{orientation:"vertical",flexItem:!0}),Object(j.jsx)(xs,{onClick:N,tooltip:t("FitPage"),children:Object(j.jsx)(rs.a,{})}),Object(j.jsx)(xs,{onClick:A,tooltip:t("FitWidth"),children:Object(j.jsx)(js,{})}),Object(j.jsx)(xs,{onClick:R,tooltip:t("ZoomOut"),children:Object(j.jsx)(ns.a,{})}),Object(j.jsx)(xs,{onClick:E,tooltip:t("ZoomIn"),children:Object(j.jsx)(es.a,{})}),Object(j.jsx)(zo.a,{orientation:"vertical",flexItem:!0}),Object(j.jsx)(xs,{onClick:function(e){return re(-90,e.shiftKey)},tooltip:t(Z?"RotateAll90Ccw":"Rotate90Ccw"),showEllipsis:Z,children:Object(j.jsx)(bs,{})}),Object(j.jsx)(xs,{onClick:function(e){return re(90,e.shiftKey)},tooltip:t(Z?"RotateAll90Cw":"Rotate90Cw"),showEllipsis:Z,children:Object(j.jsx)(ds,{})}),Object(j.jsx)(xs,{onClick:function(e){return re(180,e.shiftKey)},tooltip:t(Z?"RotateAll180":"Rotate180"),showEllipsis:Z,children:Object(j.jsx)(Zo.a,{})}),Object(j.jsx)(xs,{onClick:function(e){return re(-1,e.shiftKey)},tooltip:t(Z?"RotateAll1Ccw":"Rotate1Ccw"),showEllipsis:Z,children:Object(j.jsx)(Go.a,{})}),Object(j.jsx)(xs,{onClick:function(e){return re(1,e.shiftKey)},tooltip:t(Z?"RotateAll1Cw":"Rotate1Cw"),showEllipsis:Z,children:Object(j.jsx)(Jo.a,{})}),o&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(zo.a,{orientation:"vertical",flexItem:!0}),Object(j.jsx)(xs,{onClick:ce,tooltip:t("OcrCapture"),disabled:!D||_,children:_?Object(j.jsx)(Fo.a,{size:20}):Object(j.jsx)(fs,{})})]})]}),Object(j.jsx)(ks,{ref:f,onKeyDown:Q,tabIndex:-1,onClick:ne,children:Object(H.isPresent)(d)&&Object(H.isPresent)(b)&&!!h&&Object(j.jsx)(ws,{currentPage:h})})]}):null},Ms=Object(Ce.a)("div")((function(e){e.theme;return{height:"80vh",minWidth:900,display:"flex",flexDirection:"row"}})),Ps=Object(Ce.a)("div",{shouldForwardProp:function(e){return"canModify"!==e}})((function(e){e.theme;return{flexGrow:1,overflow:"auto",width:e.canModify?"26%":"40%"}})),Ss=Object(Ce.a)("div")((function(e){var t=e.theme;return{flexGrow:1,width:"41%",overflowY:"auto",borderLeft:"2px solid ".concat(t.palette.divider),paddingLeft:10}})),Ds=Object(Ce.a)("div",{shouldForwardProp:function(e){return"canModify"!==e}})((function(e){var t=e.theme,n=e.canModify;return{flexGrow:1,overflow:"auto",borderLeft:"2px solid ".concat(t.palette.divider),paddingLeft:10,width:n?"32%":"59%"}})),Ls=function(e){var t=Object(Kr.a)().t,n=Vc(),a=n.loadingImages,r=n.documentSchemas,c=n.canModify;return r?a?Object(j.jsx)(Hc.b,{children:t("LoadingImages")}):Object(j.jsx)(Oo,{children:Object(j.jsxs)(Ms,{children:[Object(j.jsx)(Ps,{canModify:c,children:Object(j.jsx)(Vi,{})}),c&&Object(j.jsx)(Ss,{children:Object(j.jsx)(Is,{})}),Object(j.jsx)(Ds,{canModify:c,children:Object(j.jsx)(Ao,{})})]})}):null},Ts=function(e){var t,n=Object(l.f)(),a=Object(o.hb)({jsonforms:Object(r.a)({},n)},e),i=a.data,s=a.path,u=a.visible,d=a.uischema,f=null===i||void 0===i?void 0:i.documents,m=Object(c.useMemo)((function(){return f?function(e){if(!Array.isArray(e))return[];for(var t=e,n=0;n<t.length;n++){var a=t[n];if(!Object(H.isPresent)(a.data)||!a.action){var c,i,o=Object(r.a)(Object(r.a)({},a),{},{data:null!==(c=a.data)&&void 0!==c?c:{},action:null!==(i=a.action)&&void 0!==i?i:"send"});t===e&&(t=Object($r.a)(e)),t[n]=o}}return t}(f):[]}),[f]);if(Object(c.useEffect)((function(){var e;m===f||Object(P.f)(m,f)||(null===(e=n.dispatch)||void 0===e||e.call(n,Object(o.Db)(Object(o.g)(s,"documents"),(function(){return m}))))}),[n,f,m,s]),m!==f&&!Object(P.f)(m,f))return null;if("ImageBatchRecognition"!==d.type)return null;var O=d;return Object(j.jsx)(b.a,{xsUp:!u,children:Object(j.jsx)(oi.a,{children:Object(j.jsx)(Uc,{basePath:s,batch:i,documentSchemasSource:O.documentSchemasSource,readonly:null!==(t=O.readonly)&&void 0!==t&&t,ocrFunction:O.ocrFunction,children:Object(j.jsx)(Zi,{outputImageFormat:O.outputImageFormat,children:Object(j.jsx)(Ls,{})})})})})},Ns=Object(o.wb)(3,Object(o.Cb)("ImageBatchRecognition")),As=n(220),Es=function(e,t,n){var a=null===e||void 0===e?void 0:e[t],r=Object(c.useMemo)((function(){if(a)return Object(As.a)(a,"schema for data path ".concat(n))}),[n,a]),i=Object(c.useMemo)((function(){if(0===n.length)return["",""];var e=n.split(".");return[e.slice(0,-1).join("."),e[e.length-1]]}),[n]),s=Object(M.a)(i,2),u=s[0],d=s[1],b=Object(l.f)(),j=Object(o.x)({jsonforms:b}),f=o.d.data(j,u),m=b.core.schema,O=Object(c.useCallback)((function(t){if(r&&e&&a)return r(t,{instancePath:n,parentData:f,parentDataProperty:d,rootData:j,schema:a,parentSchema:e,rootSchema:m})}),[r,f,d,n,j,m,e,a]);return r?O:void 0},Rs=function(e,t,n,a){var r=Es(e,n,a);if(r){var c=r(t);if("boolean"===typeof c)return c;if(Object(H.isPresent)(c))throw new Error("".concat(n," expression for ").concat(a," must evaluate to a boolean value"))}else;},zs=function(e){var t=Object(l.f)(),n=Object(o.x)({jsonforms:t}),a=e.split(".").slice(0,-1).join(".");return{parentDataPath:a,parentData:o.d.data(n,a)}},Fs=function(e){return function(t){var n=t.required,a=t.visible,r=t.enabled,i=t.uischema,s=t.schema,u=t.path,d=function(e){var t=Object(l.f)();return Object(c.useMemo)((function(){var n=Object(o.A)({jsonforms:t}),a=e.scope.split("/").slice(0,-2).join("/");return o.d.schema(n,a,n)}),[t,e.scope])}(i),b=zs(t.path),f=b.parentDataPath,m=b.parentData;if(d){var O=Es(d,"nfRequired",f);if(O){var h=O(m);if(Array.isArray(h)){var p=t.path.split("."),v=p[p.length-1];n=h.includes(v)}}}var x=Rs(s,m,"nfHidden",u);Object(H.isPresent)(x)&&(a=!x);var g=Rs(s,m,"nfDisabled",u);return Object(H.isPresent)(g)&&(r=!g),Object(j.jsx)(e,Object(I.a)(Object(I.a)({},t),{},{required:n,visible:a,enabled:r}))}},Bs=function(e){var t,n=e.options,a=e.uischema,r=e.schema,i=e.path,s=e.data,u=Object(l.f)(),d=Es(r,"nfEnum",i),b=Es(r,"nfConst",i);return Object(c.useMemo)((function(){if(Array.isArray(n))return n;if(d){var e=d(s);if(Array.isArray(e))return e.map((function(e){var t;return Object(o.r)(e,null===(t=u.i18n)||void 0===t?void 0:t.translate,Object(o.z)(r,a,i))}))}if(b){var t,c=b(s);if(Object(H.isPresent)(c))return[Object(o.r)(c,null===(t=u.i18n)||void 0===t?void 0:t.translate,Object(o.z)(r,a,i))]}return n}),[b,null===(t=u.i18n)||void 0===t?void 0:t.translate,s,d,n,i,r,a])},Us=function(e){return function(t){var n=Bs(t),a=Object(c.useMemo)((function(){return Fs(e)}),[]);return Object(j.jsx)(a,Object(I.a)(Object(I.a)({},t),{},{options:n}))}},Vs=function(e){return function(t){var n=Object(c.useMemo)((function(){return Fs(e)}),[]);return Object(j.jsx)(n,Object(I.a)({},t))}},Hs=function(e){return function(t){var n=Object(c.useMemo)((function(){return Fs(e)}),[]);return Object(j.jsx)(n,Object(I.a)({},t))}},qs=function(e){return function(t){return Object(j.jsx)(e,Object(I.a)({},t))}},_s=function(e){return function(t){return Object(j.jsx)(e,Object(I.a)({},t))}},Ws=Object(c.createContext)({arraySchema:{}}),$s=function(e){return function(t){var n=t.schema,a=t.uischema,r=Object(l.f)(),c=a,i=o.d.schema(n||r.core.schema,c.scope,r.core.schema);return Object(j.jsx)(Ws.Provider,{value:{arraySchema:i},children:Object(j.jsx)(e,Object(I.a)({},t))})}},Ks=function(e){return function(t){var n=t.minItems,a=t.schema,r=t.data,i=t.path,s=t.uischema,u=t.rootSchema,l=t.visible,d=t.enabled,b=Object(c.useContext)(Ws).arraySchema,f=Es(a,"nfMinItems",i),m=Object(c.useMemo)((function(){return f?f(r):n}),[r,n,f]),O=zs(t.path),h=O.parentDataPath,p=O.parentData,v=Rs(b,p,"nfHidden",h);Object(H.isPresent)(v)&&(l=!v);var x=Rs(b,p,"nfDisabled",h);Object(H.isPresent)(x)&&(d=!x);var g=Object(c.useMemo)((function(){var e=s;return o.d.schema(u,e.scope,u)}),[u,s]),y=Object(c.useMemo)((function(){return function(t){return Object(j.jsx)(e,Object(I.a)(Object(I.a)({},t),{},{schema:a}))}}),[a]),C=Object(c.useMemo)((function(){return Hs(y)}),[y]);return Object(j.jsx)(C,Object(I.a)(Object(I.a)({},t),{},{minItems:m,schema:g,visible:l,enabled:d}))}},Gs=function(e,t,n){var a=Es(e,"nfMaxLength",n);return Object(c.useMemo)((function(){return a?a(t):e.maxLength}),[t,a,e.maxLength])},Ys=function(e){return function(t){var n=t.visible,a=t.enabled,r=t.schema,c=t.path,i=zs(t.path).parentData,o=Rs(r,i,"nfHidden",c);Object(H.isPresent)(o)&&(n=!o);var s=Rs(r,i,"nfDisabled",c);return Object(H.isPresent)(s)&&(a=!s),Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)(e,Object(I.a)(Object(I.a)({},t),{},{enabled:a}))})}},Js=function(e){return function(t){var n=t.schema,a=t.data,r=t.path,i=Gs(n,a,r),o=Object(c.useMemo)((function(){return Object(I.a)(Object(I.a)({},n),{},{maxLength:i})}),[i,n]),s=Object(c.useMemo)((function(){return Ys(e)}),[]);return Object(j.jsx)(s,Object(I.a)(Object(I.a)({},t),{},{schema:o}))}},Xs=function(e){return function(t){var n,a=Object(l.f)(),r=T().processAjvErrors,c=null===(n=a.core)||void 0===n?void 0:n.errors;return c&&r(c),Object(j.jsx)(e,Object(I.a)({},t))}},Zs=Object(o.e)(Object(o.Cb)("Control"),Object(o.vb)(Object(o.yb)((function(e){return e.hasOwnProperty("enum")})),Object(o.yb)((function(e){return e.hasOwnProperty("nfEnum")})),Object(o.yb)((function(e){return e.hasOwnProperty("const")})),Object(o.yb)((function(e){return e.hasOwnProperty("nfConst")})))),Qs=Object(o.wb)(2,Zs),eu=Object(o.wb)(2,Zs),tu=Object(o.wb)(20,Object(o.e)(Zs,Object(o.ub)("format","radio"))),nu=Object(o.e)(Object(o.Cb)("Control"),Object(o.vb)(Object(o.Ab)("number"),Object(o.Ab)("integer")),Object(o.yb)((function(e){return(e.hasOwnProperty("maximum")||e.hasOwnProperty("nfMaximum"))&&(e.hasOwnProperty("minimum")||e.hasOwnProperty("nfMinimum"))&&e.hasOwnProperty("default")})),Object(o.ub)("slider",!0)),au=Object(o.wb)(4,nu),ru=Object(z.a)((function(e){return Object(R.a)({boundary:{border:"red solid 1px",padding:2}})})),cu=function(e,t){return function(n){var a=ru();return Object(j.jsxs)("div",{className:a.boundary,children:[Object(j.jsx)("div",{children:t}),Object(j.jsx)(e,Object(r.a)({},n))]})}},iu=function(e,t){return function(n){var a=ru();return Object(j.jsxs)("div",{className:a.boundary,children:[Object(j.jsx)("div",{children:t}),Object(j.jsx)(e,Object(r.a)({},n))]})}},ou=n(29),su=n(1202),uu=n(1522),lu=n(1590),du=n(1701),bu=n(1124),ju=function(e){if("string"===typeof e)return e.replaceAll(/[a-zA-Z0-9]/g,"_")};!function(e){e[e.DateTime=0]="DateTime",e[e.Date=1]="Date",e[e.Time=2]="Time"}(ii||(ii={}));var fu=function(e,t,n){return function(a){a&&!isNaN(a.getTime())?t(e,Object(du.a)(a,{representation:n===ii.DateTime?"complete":n===ii.Date?"date":"time"})):t(e,void 0)}},mu=function(e){if("string"!==typeof e)return null;var t=Object(bu.default)(e);return isNaN(t.getTime())?null:t},Ou=function(e){var t,n,a=e.id,r=e.errors,i=e.uischema,o=e.enabled,s=e.path,u=e.handleChange,l=e.data,d=e.config,b=Object(Kr.a)().t,f=Fe()({},d,i.options),m=0===r.length,O=null!==(t=f.dateFormat)&&void 0!==t?t:b("DATE_FORMAT"),h=Object(c.useMemo)((function(){return ju(O)}),[O]),p=Object(c.useMemo)((function(){return fu(s,u,ii.Date)}),[s,u]),v=Object(c.useMemo)((function(){return{cancelButtonLabel:f.cancelLabel,clearButtonLabel:f.clearLabel,okButtonLabel:f.okLabel}}),[f.cancelLabel,f.clearLabel,f.okLabel]);return Object(j.jsx)(su.a,{dateAdapter:lu.a,localeText:v,children:Object(j.jsx)(uu.a,{value:mu(l),onChange:p,inputFormat:O,mask:h,views:null!==(n=f.views)&&void 0!==n?n:["year","month","day"],disabled:!o,renderInput:function(e){return Object(j.jsx)(_n.a,Object(I.a)(Object(I.a)({},e),{},{id:a+"-input",autoFocus:f.focus,error:!m,fullWidth:!0,inputProps:Object(I.a)(Object(I.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:l?{shrink:!0}:void 0,variant:"standard"}))},componentsProps:{actionBar:{actions:["clear"]}}})})},hu=Object(o.wb)(4,o.H),pu=(Object(l.j)(Ou),n(1525)),vu=function(e){var t,n,a=e.id,r=e.errors,i=e.uischema,o=e.enabled,s=e.path,u=e.handleChange,l=e.data,d=e.config,b=Object(Kr.a)().t,f=Fe()({},d,i.options),m=0===r.length,O=null!==(t=f.dateTimeFormat)&&void 0!==t?t:b("DATETIME_FORMAT"),h=Object(c.useMemo)((function(){return ju(O)}),[O]),p=Object(c.useMemo)((function(){return fu(s,u,ii.DateTime)}),[s,u]),v=Object(c.useMemo)((function(){return{cancelButtonLabel:f.cancelLabel,clearButtonLabel:f.clearLabel,okButtonLabel:f.okLabel}}),[f.cancelLabel,f.clearLabel,f.okLabel]);return Object(j.jsx)(su.a,{dateAdapter:lu.a,localeText:v,children:Object(j.jsx)(pu.a,{value:mu(l),onChange:p,inputFormat:O,mask:h,ampm:!!f.ampm,views:null!==(n=f.views)&&void 0!==n?n:["year","month","day","hours","minutes","seconds"],disabled:!o,renderInput:function(e){return Object(j.jsx)(_n.a,Object(I.a)(Object(I.a)({},e),{},{id:a+"-input",autoFocus:f.focus,error:!m,fullWidth:!f.trim,inputProps:Object(I.a)(Object(I.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:l?{shrink:!0}:void 0,variant:"standard"}))},componentsProps:{actionBar:{actions:["clear"]}}})})},xu=Object(o.wb)(4,o.I),gu=(Object(l.j)(vu),n(983)),yu=n.n(gu),Cu=n(1473),ku=(n(530),n(531),n(978)),wu=Object(uc.a)(),Iu=n(979),Mu=(n(981),n(982)),Pu=n.n(Mu),Su=["foreignObject"];function Du(e,t){return Pu.a.sanitize(e,Object(r.a)({ADD_TAGS:Su,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","link","title","object","base"]},t))}var Lu,Tu=["theme","customHTMLSanitizer"],Nu=function(e,t){var n=e.theme,a=e.customHTMLSanitizer,i=Object(ye.a)(e,Tu),o=Object(Xt.a)(),s=Object(c.useRef)(null);Object(c.useImperativeHandle)(t,(function(){return{getInstance:function(){return s.current.getInstance()},getRootElement:function(){return s.current.getRootElement()}}}),[]);var u=Object(Kr.a)().i18n,l=null!==n&&void 0!==n?n:o.palette.mode;return Object(j.jsx)(Iu.a,Object(r.a)(Object(r.a)({ref:s},i),{},{language:u.language,theme:l,customHTMLSanitizer:null!==a&&void 0!==a?a:Du}))},Au=Object(c.forwardRef)(Nu),Eu=n(990),Ru=void 0,zu=function(){return{toHTMLRenderers:{mermaid:function(e){var t,n="";return Eu.a.render("mermaid",null!==(t=e.literal)&&void 0!==t?t:"",(function(e){n=e})),[{type:"openTag",tagName:"div",outerNewLine:!0,classNames:["mermaid"]},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]}}}},Fu=Object(z.a)((function(e){return Object(R.a)({dialogPaper:{height:"90vh"}})})),Bu=Object(Ce.a)(Qe.a)({height:"100%",overflowY:"hidden"}),Uu={"image/jpeg":"jpg","image/gif":"gif","image/png":"png","image/bmp":"bmp","image/tiff":"tif"},Vu=function(){var e=Object(K.a)(Y.a.mark((function e(t){var n,a,r,c,i,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="","name"in t&&(a=t.name.lastIndexOf("."))>0&&(n=t.name.substring(a)),n||(r=Uu[t.type])&&(n=".".concat(r)),s=void 0,c=new ku.ParallelHasher(wu+"md5_worker.js",s),i="",e.prev=5,e.next=8,c.hash(t);case 8:i=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),i=Object(Cu.a)();case 14:return o="img_".concat(i).concat(n),e.abrupt("return",o);case 16:case"end":return e.stop()}var s}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),Hu=function(e){var t=e.open,n=e.defaultValue,a=e.title,i=e.onChange,o=e.onClose,s=Object(Kr.a)().t,u=function(){var e=Object(dc.c)(),t=e.blobStorage_IsSupported,n=e.blobStorage_WriteFiles,a=e.blobStorage_List,r=e.blobStorage_GetSignedUrl,i=Object(c.useCallback)(function(){var e=Object(K.a)(Y.a.mark((function e(c){var i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Promise((function(e,i){var o=new FileReader;o.onloadend=Object(K.a)(Y.a.mark((function s(){var u,l,d,b,j,f,m;return Y.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if("string"===typeof(u=o.result)){s.next=4;break}return i("Invalid image"),s.abrupt("return");case 4:return s.next=6,t();case 6:if(!s.sent){s.next=43;break}return l="mdimages/",s.next=10,Vu(c);case 10:return d=s.sent,s.prev=12,s.next=15,a({path:l,filePrefix:d});case 15:if(!((b=s.sent).length>0)){s.next=23;break}return s.next=20,r(b[0].name);case 20:return j=s.sent,e(j),s.abrupt("return");case 23:s.next=27;break;case 25:s.prev=25,s.t0=s.catch(12);case 27:return f=u.split(",")[1],s.prev=28,s.next=31,n({path:l,files:[{fileName:d,base64:f}]});case 31:return s.next=33,r(l+d);case 33:m=s.sent,e(m),s.next=41;break;case 37:return s.prev=37,s.t1=s.catch(28),i(s.t1),s.abrupt("return");case 41:s.next=44;break;case 43:e(u);case 44:case"end":return s.stop()}}),s,null,[[12,25],[28,37]])}))),o.readAsDataURL(c)})),e.abrupt("return",i);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,t,a,n]);return{addImageBlob:i}}(),l=u.addImageBlob,d=function(){var e=Object(Kr.a)().t,t=Object(Qc.c)();return Object(c.useCallback)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(r.a)({title:e("ThereArePendingChanges"),description:e("ChangesWillBeLost_Continue")},n);return t(a)}),[t,e])}(),b=Fu(),f=Object(c.useRef)(null),m=Object(c.useMemo)((function(){return n||""}),[n]),O=Object(Xt.a)(),h=Object(c.useMemo)((function(){var e={addImageBlobHook:function(){var e=Object(K.a)(Y.a.mark((function e(t,n){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:a=e.sent,n(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};return e}),[l]),p=Object(c.useState)(m),v=Object(X.a)(p,2),x=v[0],g=v[1],y=Object(c.useCallback)((function(e){var t,n=null===(t=f.current)||void 0===t?void 0:t.getInstance().getMarkdown();g(null!==n&&void 0!==n?n:"")}),[]),C=Object(c.useCallback)(Object(K.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0===x.trim().length?void 0:x,null===i||void 0===i||i(t),o();case 3:case"end":return e.stop()}}),e)}))),[x,i,o]),k=Object(c.useCallback)(Object(K.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=m!==x,!e.t0){e.next=5;break}return e.next=4,d();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:o();case 8:case"end":return e.stop()}}),e)}))),[x,m,d,o]),w=Object(c.useCallback)(function(){var e=Object(K.a)(Y.a.mark((function e(t,n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=m!==x,!e.t0){e.next=5;break}return e.next=4,d();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:"backdropClick"!==n&&(null===o||void 0===o||o());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[x,m,d,o]);return Object(c.useEffect)((function(){var e;e=O.palette.mode,Ru!==e&&(Ru=e,"dark"===e?Eu.a.initialize({darkMode:!0,theme:"dark"}):Eu.a.initialize({darkMode:!1,theme:"forest"}))}),[O]),Object(j.jsxs)(Xe.a,{open:t,onClose:w,maxWidth:"xl",fullWidth:!0,classes:{paper:b.dialogPaper},children:[!!a&&Object(j.jsx)(Ze.a,{children:a}),Object(j.jsx)(Bu,{children:Object(j.jsx)(Au,{ref:f,initialValue:m,previewStyle:"vertical",height:"100%",initialEditType:"markdown",useCommandShortcut:!0,hooks:h,onChange:y,plugins:[zu]})}),Object(j.jsxs)(tt.a,{children:[Object(j.jsx)(nt.a,{onClick:C,color:"primary",children:s("Accept")}),Object(j.jsx)(nt.a,{onClick:k,color:"primary",children:s("Cancel")})]})]})},qu=Object(l.l)((function(e){var t=e.uischema,n=e.config,a=e.data,r=e.visible,i=e.label,s=e.required,u=e.description,l=e.path,d=e.handleChange,f=Object(Kr.a)().t,m=Fe()({},n,t.options),O=!Object(o.J)(r,null!==u&&void 0!==u?u:"",!1,m.showUnfocusedDescription),h=Object(c.useState)(!1),p=Object(M.a)(h,2),v=p[0],x=p[1],g=Object(c.useCallback)((function(){x(!0)}),[x]),y=O?u:null,C=Object(o.j)(i,!!s,m.hideRequiredAsterisk);return Object(j.jsxs)(b.a,{xsUp:!r,children:[Object(j.jsxs)(zn.a,{children:[C,"  ",Object(j.jsx)(Me.a,{title:f("Edit"),children:Object(j.jsx)(be.a,{onClick:g,children:Object(j.jsx)(yu.a,{})})})]}),y&&Object(j.jsx)(de.a,{children:y}),v&&Object(j.jsx)(Hu,{open:v,defaultValue:a,title:i,onClose:function(){return x(!1)},onChange:function(e){return d(l,null!==e&&void 0!==e?e:void 0)}})]})})),_u=Object(o.wb)(4,Object(o.e)(o.G,(function(e,t,n){var a=o.d.schema(t,e.scope,n);return a&&"string"===a.type&&"markdown"===a.format}))),Wu=function(e){var t,n,a=e.description,r=e.id,i=e.errors,s=e.label,u=e.uischema,l=e.visible,d=e.enabled,f=e.required,m=e.path,O=e.handleChange,h=e.data,p=e.config,v=Wt(),x=Object(M.a)(v,3),g=x[0],y=x[1],C=x[2],k=Object(Kr.a)().t,w=0===i.length,P=Fe()({},p,u.options),S=!Object(o.J)(l,a,g,P.showUnfocusedDescription),D=null!==(t=P.dateFormat)&&void 0!==t?t:k("DATE_FORMAT"),L=Object(c.useMemo)((function(){return ju(D)}),[D]),T=S?a:w?null:i,N=S&&!w?i:null,A=Object(c.useMemo)((function(){return fu(m,O,ii.Date)}),[m,O]),E=Object(c.useMemo)((function(){return{cancelButtonLabel:P.cancelLabel,clearButtonLabel:P.clearLabel,okButtonLabel:P.okLabel}}),[P.cancelLabel,P.clearLabel,P.okLabel]);return Object(j.jsxs)(b.a,{xsUp:!l,children:[Object(j.jsx)(su.a,{dateAdapter:lu.a,localeText:E,children:Object(j.jsx)(uu.a,{label:s,value:mu(h),onChange:A,inputFormat:D,mask:L,views:null!==(n=P.views)&&void 0!==n?n:["year","month","day"],disabled:!d,renderInput:function(e){return Object(j.jsx)(_n.a,Object(I.a)(Object(I.a)({},e),{},{id:r+"-input",required:f&&!P.hideRequiredAsterisk,autoFocus:P.focus,error:!w,fullWidth:!P.trim,inputProps:Object(I.a)(Object(I.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:h?{shrink:!0}:void 0,onFocus:y,onBlur:C,variant:"standard"}))},componentsProps:{actionBar:{actions:["clear"]}}})}),Object(j.jsx)(de.a,{error:!w&&!S,children:T}),Object(j.jsx)(de.a,{error:!w,children:N})]})},$u=Object(o.wb)(4,o.H),Ku=(Object(l.l)(Wu),function(e){var t,n,a=e.id,r=e.description,i=e.errors,s=e.label,u=e.uischema,l=e.visible,d=e.enabled,f=e.required,m=e.path,O=e.handleChange,h=e.data,p=e.config,v=Wt(),x=Object(M.a)(v,3),g=x[0],y=x[1],C=x[2],k=Object(Kr.a)().t,w=Fe()({},p,u.options),P=0===i.length,S=!Object(o.J)(l,r,g,w.showUnfocusedDescription),D=null!==(t=w.dateTimeFormat)&&void 0!==t?t:k("DATETIME_FORMAT"),L=Object(c.useMemo)((function(){return ju(D)}),[D]),T=S?r:P?null:i,N=S&&!P?i:null,A=Object(c.useMemo)((function(){return fu(m,O,ii.DateTime)}),[m,O]),E=Object(c.useMemo)((function(){return{cancelButtonLabel:w.cancelLabel,clearButtonLabel:w.clearLabel,okButtonLabel:w.okLabel}}),[w.cancelLabel,w.clearLabel,w.okLabel]);return Object(j.jsxs)(b.a,{xsUp:!l,children:[Object(j.jsx)(su.a,{dateAdapter:lu.a,localeText:E,children:Object(j.jsx)(pu.a,{label:s,value:mu(h),onChange:A,inputFormat:D,mask:L,ampm:!!w.ampm,views:null!==(n=w.views)&&void 0!==n?n:["year","month","day","hours","minutes","seconds"],disabled:!d,renderInput:function(e){return Object(j.jsx)(_n.a,Object(I.a)(Object(I.a)({},e),{},{id:a+"-input",required:f&&!w.hideRequiredAsterisk,autoFocus:w.focus,error:!P,fullWidth:!w.trim,inputProps:Object(I.a)(Object(I.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:h?{shrink:!0}:void 0,onFocus:y,onBlur:C,variant:"standard"}))},componentsProps:{actionBar:{actions:["clear"]}}})}),Object(j.jsx)(de.a,{error:!P&&!S,children:T}),Object(j.jsx)(de.a,{error:!P,children:N})]})}),Gu=Object(o.wb)(2,o.I),Yu=(Object(l.l)(Ku),n(1531)),Ju=function(e){var t,n,a=e.id,r=e.description,i=e.errors,s=e.label,u=e.uischema,l=e.visible,d=e.enabled,f=e.required,m=e.path,O=e.handleChange,h=e.data,p=e.config,v=Wt(),x=Object(M.a)(v,3),g=x[0],y=x[1],C=x[2],k=Object(Kr.a)().t,w=Fe()({},p,u.options),P=0===i.length,S=!Object(o.J)(l,r,g,w.showUnfocusedDescription),D=null!==(t=w.timeFormat)&&void 0!==t?t:k("TIME_FORMAT"),L=Object(c.useMemo)((function(){return ju(D)}),[D]),T=S?r:P?null:i,N=S&&!P?i:null,A=Object(c.useMemo)((function(){return fu(m,O,ii.Time)}),[m,O]),E=Object(c.useMemo)((function(){return{cancelButtonLabel:w.cancelLabel,clearButtonLabel:w.clearLabel,okButtonLabel:w.okLabel}}),[w.cancelLabel,w.clearLabel,w.okLabel]);return Object(j.jsx)(b.a,{xsUp:!l,children:Object(j.jsxs)(su.a,{dateAdapter:lu.a,localeText:E,children:[Object(j.jsx)(Yu.a,{label:s,value:mu(h),onChange:A,inputFormat:D,mask:L,ampm:!!w.ampm,views:null!==(n=w.views)&&void 0!==n?n:["hours","minutes","seconds"],disabled:!d,renderInput:function(e){return Object(j.jsx)(_n.a,Object(I.a)(Object(I.a)({},e),{},{id:a+"-input",required:f&&!w.hideRequiredAsterisk,autoFocus:w.focus,error:!P,fullWidth:!w.trim,inputProps:Object(I.a)(Object(I.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:h?{shrink:!0}:void 0,onFocus:y,onBlur:C,variant:"standard"}))},componentsProps:{actionBar:{actions:["clear"]}}}),Object(j.jsx)(de.a,{error:!P&&!S,children:T}),Object(j.jsx)(de.a,{error:!P,children:N})]})})},Xu=Object(o.wb)(4,o.X),Zu=(Object(l.l)(Ju),[{tester:dn,renderer:$s(Object(l.i)(Ks(rt))),name:"MaterialArrayControlRenderer"},{tester:Dn,renderer:Object(l.l)(Fs(Sn)),name:"MaterialBooleanControl"},{tester:En,renderer:Object(l.l)(Fs(An)),name:"MaterialBooleanToggleControl"},{tester:$n,renderer:Object(l.l)(Fs(Wn)),name:"MaterialNativeControl"},{tester:Qs,renderer:Object(l.o)(Us(Vn)),name:"MaterialEnumControl"},{tester:xa,renderer:Object(l.l)(Fs(va)),name:"MaterialIntegerControl"},{tester:Ca,renderer:Object(l.l)(Fs(ya)),name:"MaterialNumberControl"},{tester:Ia,renderer:Object(l.l)(function(e){return function(t){var n=t.schema,a=t.data,r=t.path,i=t.handleChange,o=Gs(n,a,r),s=Object(c.useMemo)((function(){return Object(I.a)(Object(I.a)({},n),{},{maxLength:o})}),[o,n]),u=Object(c.useCallback)((function(e,t){""===t&&(t=void 0),i(e,t)}),[i]),l=Object(c.useMemo)((function(){return Fs(e)}),[]);return Object(j.jsx)(l,Object(I.a)(Object(I.a)({},t),{},{schema:s,handleChange:u}))}}(wa)),name:"MaterialTextControl"},{tester:au,renderer:Object(l.l)(function(e){return function(t){var n=t.schema,a=t.path,r=t.data,i=Es(n,"nfMinimum",a),o=Es(n,"nfMaximum",a),s=Es(n,"nfMultipleOf",a),u=Object(c.useMemo)((function(){return i?i(r):n.minimum}),[r,i,n.minimum]),l=Object(c.useMemo)((function(){return o?o(r):n.maximum}),[r,o,n.maximum]),d=Object(c.useMemo)((function(){return s?s(r):n.multipleOf}),[r,s,n.multipleOf]),b=Object(c.useMemo)((function(){return Object(I.a)(Object(I.a)({},n),{},{minimum:u,maximum:l,multipleOf:d})}),[l,u,d,n]),f=Object(c.useMemo)((function(){return Fs(e)}),[]);return Object(j.jsx)(f,Object(I.a)(Object(I.a)({},t),{},{schema:b}))}}(la)),name:"MaterialSliderControl"},{tester:ot,renderer:Object(l.m)(Hs(it)),name:"MaterialObjectRenderer"},{tester:lt,renderer:Object(l.g)(function(e){return function(t){var n=Object(c.useMemo)((function(){return _s(e)}),[]);return Object(j.jsx)(n,Object(I.a)({},t))}}(ut)),name:"MaterialAllOfRenderer"},{tester:Ct,renderer:Object(l.h)(function(e){return function(t){var n=Object(c.useMemo)((function(){return _s(e)}),[]);return Object(j.jsx)(n,Object(I.a)({},t))}}(yt)),name:"MaterialAnyOfRenderer"},{tester:It,renderer:Object(l.u)(function(e){return function(t){var n=Object(c.useMemo)((function(){return _s(e)}),[]);return Object(j.jsx)(n,Object(I.a)({},t))}}(wt)),name:"MaterialOneOfRenderer"},{tester:tu,renderer:Object(l.o)(Us(Oa)),name:"MaterialRadioGroupControl"},{tester:Ba,renderer:Object(l.t)(Vs(Fa)),name:"MaterialOneOfRadioGroupControl"},{tester:Ra,renderer:Object(l.t)(Vs(Ea)),name:"MaterialOneOfEnumControl"},{tester:Ja,renderer:Object(l.p)(qs(Ga)),name:"MaterializedGroupLayoutRenderer"},{tester:g,renderer:Object(l.p)(qs(y)),name:"MaterialHorizontalLayoutRenderer"},{tester:p,renderer:Object(l.p)(qs(v)),name:"MaterialVerticalLayoutRenderer"},{tester:Qa,renderer:Object(l.p)(h(qs(er))),name:"MaterialCategorizationLayoutRenderer"},{tester:Ur,renderer:Object(l.p)(h(qs(Vr))),name:"MaterialCategorizationStepperLayoutRenderer"},{tester:Or,renderer:$s(Object(l.i)(Ks(mr))),name:"MaterialArrayLayoutRenderer"},{tester:bn,renderer:Object(l.p)(qs(jn)),name:"MaterialLabelRenderer"},{tester:Mn,renderer:Object(l.i)(Ks(In)),name:"MaterialListWithDetailRenderer"},{tester:Na,renderer:Object(l.l)(function(e){return function(t){var n=t.schema,a=t.data,r=t.path,i=n.anyOf.find((function(e){return void 0!==e.enum&&("string"===e.type||void 0===e.type)})),o=function(e){return e.find((function(e){return"string"===e.type&&void 0===e.enum}))}(n.anyOf),s=Es(i,"nfEnum",r),u=Es(o,"nfMaxLength",r),l=Object(c.useMemo)((function(){if(!s)return i;var e=s(a);return Object(I.a)(Object(I.a)({},i),{},{enum:e})}),[a,i,s]),d=Object(c.useMemo)((function(){if(!u)return o;var e=u(a);return Object(I.a)(Object(I.a)({},i),{},{maxLength:e})}),[a,i,u,o]),b=Object(c.useMemo)((function(){return i===l&&o===d?n:Object(I.a)(Object(I.a)({},n),{},{anyOf:n.anyOf.map((function(e){return e===i?l:e===o?d:e}))})}),[i,l,d,n,o]),f=Object(c.useMemo)((function(){return Fs(e)}),[]);return Object(j.jsx)(f,Object(I.a)(Object(I.a)({},t),{},{schema:b}))}}(La)),name:"MaterialAnyOfStringOrEnumControl"},{tester:un,renderer:Object(l.r)(function(e){return function(t){var n,a=t.options,r=t.uischema,i=t.schema,s=t.path,u=t.data,d=Object(l.f)(),b=Es(i,"nfEnum",s),f=Object(c.useMemo)((function(){if(Array.isArray(a)||!b)return a;var e=b(u);return Array.isArray(e)?e.map((function(e){var t;return Object(o.r)(e,null===(t=d.i18n)||void 0===t?void 0:t.translate,Object(o.z)(i,r,s))})):a}),[null===(n=d.i18n)||void 0===n?void 0:n.translate,u,b,a,s,i,r]),m=Object(c.useMemo)((function(){return Fs(e)}),[]);return Object(j.jsx)(m,Object(I.a)(Object(I.a)({},t),{},{options:f}))}}(sn)),name:"MaterialEnumArrayRenderer"}]),Qu=[{tester:vr,cell:Object(l.j)(Ys(pr))},{tester:gr,cell:Object(l.j)(Ys(xr)),name:"MaterialBooleanToggleCell"},{tester:Cr,cell:Object(l.j)(Ys(yr)),name:"MaterialDateCell"},{tester:eu,cell:Object(l.n)(function(e){return function(t){var n=Bs(t),a=Object(c.useMemo)((function(){return Ys(e)}),[]);return Object(j.jsx)(a,Object(I.a)(Object(I.a)({},t),{},{options:n}))}}(kr)),name:"MaterialEnumCell"},{tester:Ir,cell:Object(l.j)(Ys(wr)),name:"MaterialIntegerCell"},{tester:Pr,cell:Object(l.j)(Ys(Mr)),name:"MaterialNumberCell"},{tester:Dr,cell:Object(l.j)(Js(Sr)),name:"MaterialNumberFormatCell"},{tester:Tr,cell:Object(l.s)(function(e){return function(t){var n=Object(c.useMemo)((function(){return Ys(e)}),[]);return Object(j.jsx)(n,Object(I.a)({},t))}}(Lr)),name:"MaterialOneOfEnumCell"},{tester:Ar,cell:Object(l.j)(Js(Nr)),name:"MaterialTextCell"},{tester:Rr,cell:Object(l.j)(Ys(Er)),name:"MaterialTimeCell"}],el=[].concat(Zu,[{tester:E,renderer:A,name:"MarkdownRenderer"},{tester:U,renderer:B,name:"PdfRenderer"},{tester:W,renderer:_,name:"UseRenderer"},{tester:Wr,renderer:_r,name:"DynamicSelectionRenderer"},{tester:Ns,renderer:Ts,name:"ImageBatchRecognitionRenderer"},{tester:_u,renderer:qu,name:"MarkdownControlRenderer"},{tester:Gu,renderer:Object(l.l)(Fs(Ku)),name:"DateTimeControl"},{tester:$u,renderer:Object(l.l)(Fs(Wu)),name:"DateControl"},{tester:Xu,renderer:Object(l.l)(Fs(Ju)),name:"TimeControl"}]),tl=[].concat(Qu,[{tester:hu,cell:Object(l.j)(Ys(Ou)),name:"DateCell"},{tester:xu,cell:Object(l.j)(Ys(vu)),name:"DateTimeCell"}]),nl=Object(a.a)(el);try{for(nl.s();!(Lu=nl.n()).done;){var al=Lu.value;al.renderer=Xs(al.renderer)}}catch(ll){nl.e(ll)}finally{nl.f()}if(ou.e){var rl,cl=Object(a.a)(el);try{for(cl.s();!(rl=cl.n()).done;){var il=rl.value;il.renderer=cu(il.renderer,il.name)}}catch(ll){cl.e(ll)}finally{cl.f()}var ol,sl=Object(a.a)(tl);try{for(sl.s();!(ol=sl.n()).done;){var ul=ol.value;ul.cell=iu(ul.cell,ul.name)}}catch(ll){sl.e(ll)}finally{sl.f()}}},610:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(91),r=function e(t){var n={};if(t)for(var r=function(){var r=i[c];Array.isArray(t[r])?t[r].forEach((function(t,c){var i=n[r];Object(a.isPresent)(i)||(n[r]=i=[]),i[c]=e(t)})):"object"===typeof t[r]&&null!==t[r]?n[r]=e(t[r]):n[r]=!0},c=0,i=Object.keys(t);c<i.length;c++)r();return n},c=function(e){return e.validateForm().then((function(t){Object.keys(t).length>0?e.setTouched(r(t)):e.handleSubmit()}))}},611:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(5),r=n(4),c=n(28),i=n(1),o=n(1464),s=n(327),u=n(91),l=n(30),d=["name","debounce","onChange","onBlur","helperText","error","disabled","controlValueAdapter"],b=function(e){var t=e.name,n=e.debounce,b=e.onChange,j=e.onBlur,f=e.helperText,m=(e.error,e.disabled),O=e.controlValueAdapter,h=Object(c.a)(e,d),p=Object(s.d)().isSubmitting,v=Object(s.c)({name:t}),x=Object(r.a)(v,3),g=x[0],y=x[1],C=x[2],k=y.error,w=y.touched&&!!k,I=Object(i.useState)(g.value),M=Object(r.a)(I,2),P=M[0],S=M[1],D=Object(i.useState)(),L=Object(r.a)(D,2),T=L[0],N=L[1];Object(i.useEffect)((function(){S(g.value)}),[g.value]);var A=Object(i.useCallback)((function(e){var t=e.target.value;C.setValue(O?O(t):t),null===b||void 0===b||b(e)}),[O,C,b]),E=Object(i.useCallback)((function(e){S((function(t){var n=e.target.value;return n||t})),Object(u.isPresent)(n)?(e.persist(),T&&clearTimeout(T),N(setTimeout((function(){return A(e)}),n))):A(e)}),[A,n,T]),R=Object(i.useCallback)((function(e){g.onBlur(e),null===j||void 0===j||j(e)}),[g,j]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(o.a,Object(a.a)(Object(a.a)({},g),{},{value:null!==P&&void 0!==P?P:"",onChange:E,onBlur:R,error:w,helperText:w?k:f,disabled:null!==m&&void 0!==m?m:p},h))})}},612:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(5),r=n(4),c=n(28),i=n(1),o=n(2100),s=n(327),u=n(30),l=["name","controlValueAdapter","onChange","onBlur","renderInput","multiple","loading","disabled"],d=function(e){var t=e.name,n=e.controlValueAdapter,d=e.onChange,b=e.onBlur,j=e.renderInput,f=e.multiple,m=e.loading,O=e.disabled,h=Object(c.a)(e,l),p=Object(s.d)(),v=p.isSubmitting,x=p.setFieldTouched,g=Object(s.c)({name:t}),y=Object(r.a)(g,3),C=y[0],k=y[1],w=y[2],I=k.error,M=k.touched&&!!I,P=Object(i.useCallback)((function(e,t,a,r){var c=n?n(t):t;w.setValue(null!==c&&void 0!==c?c:void 0),null===d||void 0===d||d(e,t,a,r)}),[n,w,d]),S=Object(i.useCallback)((function(e){x(C.name),C.onBlur(e),null===b||void 0===b||b(e)}),[C,b,x]),D=Object(i.useCallback)((function(e){return j?j(Object(a.a)(Object(a.a)({},e),{},{error:M,helperText:M?I:void 0})):null}),[I,j,M]),L=Object(i.useMemo)((function(){return n?e.options.find((function(e){return n(e)===C.value})):C.value}),[n,C.value,e.options]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(o.a,Object(a.a)(Object(a.a)({},C),{},{value:null!==L&&void 0!==L?L:null,onChange:P,onBlur:S,renderInput:D,disabled:null!==O&&void 0!==O?O:v,loading:m||v,multiple:f},h))})}},699:function(e){e.exports=JSON.parse('{"$schema":"http://nimflow.com/schemas/nf-json-schema.json","$id":"http://nimflow.com/schemas/nf-json-schema.json","title":"Json schema meta schema with Nimflow extensions","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/core":true,"https://json-schema.org/draft/2019-09/vocab/applicator":true,"https://json-schema.org/draft/2019-09/vocab/validation":true,"https://json-schema.org/draft/2019-09/vocab/meta-data":true,"https://json-schema.org/draft/2019-09/vocab/format":true,"https://json-schema.org/draft/2019-09/vocab/content":true,"https://nimflow.com/schemas/nf-json-schema-vocabulary.json":true},"$recursiveAnchor":true,"anyOf":[{"$ref":"https://json-schema.org/draft/2019-09/schema"}],"type":"object","properties":{"nfCalculatedValue":{"$recursiveRef":"#"},"nfValidate":{"anyOf":[{"$recursiveRef":"#"},{"$ref":"#/$defs/schemaArray"}]},"nfMultipleOf":{"$recursiveRef":"#"},"nfMaximum":{"$recursiveRef":"#"},"nfExclusiveMaximum":{"$recursiveRef":"#"},"nfMinimum":{"$recursiveRef":"#"},"nfExclusiveMinimum":{"$recursiveRef":"#"},"nfMaxLength":{"$recursiveRef":"#"},"nfMinLength":{"$recursiveRef":"#"},"nfPattern":{"$recursiveRef":"#"},"nfMaxItems":{"$recursiveRef":"#"},"nfMinItems":{"$recursiveRef":"#"},"nfUniqueItems":{"$recursiveRef":"#"},"nfMaxProperties":{"$recursiveRef":"#"},"nfMinProperties":{"$recursiveRef":"#"},"nfRequired":{"$recursiveRef":"#"},"nfConst":{"$recursiveRef":"#"},"nfEnum":{"$recursiveRef":"#"},"nfHidden":{"$recursiveRef":"#"},"nfDisabled":{"$recursiveRef":"#"},"nfExpr":{"type":"string"},"nfMessage":{"type":"string"},"nfInstancePath":{"type":"string","pattern":"^#?(/[^/]+)+$","description":"JSON Pointer to the field associated with the validation. If the path starts with # it is considered an absolute path, otherwise it is relative to the current location"},"nfData":{}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$recursiveRef":"#"}}}}')},700:function(e,t,n){var a={"./en":[266],"./en.ts":[266],"./es":[625,5],"./es.ts":[625,5]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=700,e.exports=r},789:function(e,t){},791:function(e,t){},801:function(e,t){},803:function(e,t){},828:function(e,t){},829:function(e,t){},834:function(e,t){},836:function(e,t){},843:function(e,t){},862:function(e,t){},896:function(e,t){},933:function(e,t){},934:function(e,t){},935:function(e,t){},936:function(e,t){},937:function(e,t){},967:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://nimflow.com/schemas/recognized-image-batch.schema.json","type":"object","title":"Recognized image batch schema","allOf":[{"$ref":"#/definitions/RecognizedImageBatch"}],"definitions":{"RecognizedImageBatch":{"type":"object","properties":{"fileUrls":{"type":"array","items":{"type":"string"}},"documents":{"type":"array","items":{"$ref":"#/definitions/Document"}}},"required":["fileUrls"]},"Document":{"type":"object","properties":{"schemaId":{"type":"string"},"pages":{"type":"array","items":{"$ref":"#/definitions/PageImageLocation"}},"action":{"type":"string","enum":["saveAsDraft","send","dontSend"]},"data":true},"required":["schemaId","action"]},"PageImageLocation":{"type":"object","properties":{"fileIndex":{"type":"integer"},"filePageNumber":{"type":"integer"}},"required":["fileIndex","filePageNumber"]}}}')}}]);
//# sourceMappingURL=17.dca71336.chunk.js.map