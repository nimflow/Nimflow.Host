(this["webpackJsonpnimflow-portal"]=this["webpackJsonpnimflow-portal"]||[]).push([[16],{176:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(4),a=n(3),c=n(7),i=n(10),o=n(1),u=n(1228),s=n(1837),l=n(1839),d=n(1838),b=n(288),j=n.n(b),f=n(31),O=function(e){var t=e.error,n=e.stack;return Object(f.jsxs)(s.a,{children:[Object(f.jsx)(d.a,{expandIcon:Object(f.jsx)(j.a,{}),children:Object(f.jsx)(u.a,{variant:"h5",color:"error",children:t})}),Object(f.jsx)(l.a,{children:Object(f.jsx)("pre",{children:n})})]})},m=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={hasError:!1},e}return Object(a.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log({error:e,errorInfo:t}),this.setState({errorInfo:t})}},{key:"render",value:function(){var e,t,n=this.state,r=n.hasError,a=n.error,c=n.errorInfo;return r?Object(f.jsx)(O,{error:null!==(e=null===a||void 0===a?void 0:a.message)&&void 0!==e?e:"",stack:null!==(t=null===c||void 0===c?void 0:c.componentStack)&&void 0!==t?t:""}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(o.Component)},181:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(5),a=n(38),c=n(523),i=n.n(c),o=n(573);i.a.registerHelper("translate",(function(e,t){var n={ns:o.b};return"object"===typeof t&&"hash"in t&&(n=Object(r.a)(Object(r.a)({},n),t.hash)),a.a.t(e,n)}));var u=function(e,t,n,r){var a=function(e,t){return i.a.compile(e,t)}(e,n);return a(t,r)}},184:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),a=n(1490),c=n(292),i=n(1981),o=n(175),u=n(500),s=n(935),l=n(31),d=function(){var e=Object(i.a)().t,t=Object(c.b)().enqueueSnackbar,n=Object(o.b)();return Object(r.useCallback)((function(r,c,i){var o,d,b=null!==(o=null===i||void 0===i?void 0:i.variant)&&void 0!==o?o:"error",j=null!==(d=null===i||void 0===i?void 0:i.dialogTitle)&&void 0!==d?d:e("Error");if(Object(s.b)(c)&&"string"===typeof r){var f,O=!1===(null===(f=window.navigator)||void 0===f?void 0:f.onLine);r=e(O?"BrowserOfflineMessage":"NetworkErrorMessage",{message:r})}t(r,{variant:b,action:Object(l.jsx)(a.a,{onClick:function(){n({title:j,description:Object(l.jsx)(u.a,{error:c})})},children:e("ShowDetails")})})}),[n,t,e])}},193:function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return j})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return C}));var r=n(16),a=n(36),c=(n(566),n(86),["MilestoneReached","MilestoneCleared"]),i=["TaskCreated","TaskUpdated","TaskArchived","ResponseSent"],o=["ActionDispatched","ContextsRecalculationCompleted","ContextRecalculationError"].concat(i,c),u=["CollectionDocumentAdded","CollectionDocumentsAdded","CollectionDocumentRemoved","CollectionDocumentsRemoved","CollectionDocumentUpdated","CollectionDocumentReplaced"];["RequestProcessed"].concat(Object(r.a)(o),["CustomEvent","BlobStorageUpdated"],u);function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.settings;return!n&&t&&(e.settings=n={}),n}function l(e){var t,n=null===(t=s(e))||void 0===t?void 0:t.commandText;return Object(a.k)(n)?e.name:n}function d(e){var t,n=null===(t=s(e))||void 0===t?void 0:t.actionInProgressText;return n||e.name}var b={id:"string",typeName:"string",reference:"string",state:"record",dateCreated:"dateTime",dateModified:"dateTime",version:"string",contextTypeVersion:"number",milestones:"array",tags:"array",metrics:"array"},j={id:"string",contextId:"string",contextTypeName:"string",contextReference:"string",typeName:"string",title:"string",data:"record",labels:"array",dateCreated:"dateTime",dateUpdated:"dateTime",assignedTo:"string",assignedToRole:"string",status:"string",archived:"boolean",startDate:"string",startBeforeDate:"string",dueDate:"string",importance:"number",focused:"boolean"},f={event:"string",timestamp:"dateTime",requestTypeName:"string",subject:"string",sentBy:"string",contextTypeName:"string",reference:"string",contextIsNew:"boolean",action:"string",message:"string",innerMessage:"string",startDate:"dateTime",dueDate:"dateTime",taskTypeName:"string",assignedTo:"string",importance:"number",responseTypeName:"string",sentOn:"dateTime",startedOn:"dateTime",oldImportance:"number",oldLabels:"array",oldStartDate:"dateTime",oldDueDate:"dateTime",oldAssignedTo:"string",milestoneName:"string",value:"dateTime",eventName:"string",category:"string",tags:"array",metrics:"array"},O=function(e){var t=["string","number","boolean","dateTime"];return Object.keys(e).filter((function(n){return t.includes(e[n])})).sort()},m=function(e){return Object.keys(e).filter((function(t){return"array"===e[t]})).sort()},h=function(e){return Object.keys(e).filter((function(t){return"record"===e[t]})).sort()},p=O(b),v=m(b),x=h(b),g=([].concat(Object(r.a)(p),Object(r.a)(v),Object(r.a)(x)),O(j)),y=(m(j),h(j)),C=([].concat(Object(r.a)(g),Object(r.a)(y)),O(f)),k=m(f);[].concat(Object(r.a)(C),Object(r.a)(k))},195:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return O}));var r=n(235),a=n(236),c=n.n(a),i=n(335),o=n.n(i),u=n(38),s=n(36),l=n(482),d=o.a;function b(e){n(643)("./".concat(e,"/index")).then((function(e){"function"===typeof(null===e||void 0===e?void 0:e.default)&&(d=e.default)})).catch((function(){var t=e.indexOf("-");t>0&&b(e.substring(0,t))}))}u.a.language&&b(u.a.language),u.a.on("languageChanged",(function(e){b(e)}));var j=new l.a({allErrors:!0,addUsedSchema:!1,allowUnionTypes:!0,strict:"log"});j.addMetaSchema(Object(s.p)(["default"],r)),c()(j),j.addFormat("markdown",(function(){return!0}));var f=function(e){var t;return j.validateSchema(e)?{type:"success"}:(j.errors&&d&&d(j.errors),{type:"failure",errors:null!==(t=j.errors)&&void 0!==t?t:[]})},O=function(e){return d&&d(e),e}},1969:function(e,t,n){"use strict";n.r(t),n.d(t,"DispatchActionStepper",(function(){return me}));var r=n(2),a=n(1),c=n(1968),i=n(1930),o=n(1977),u=n(1199),s=n(1204),l=n(1192),d=n(1981),b=n(5),j=n(21),f=n(1362),O=n(31),m=["children","className"],h=Object(c.a)((function(e){return Object(i.a)({paper:{padding:e.spacing(2),color:e.palette.text.secondary}})})),p=function(e){var t=e.children,n=e.className,r=Object(j.a)(e,m),a=h();return Object(O.jsx)(f.a,Object(b.a)(Object(b.a)({className:"".concat(a.paper," ").concat(n),elevation:3},r),{},{children:t}))},v=n(1405),x=n(1228),g=["children"],y=function(e){var t=e.children,n=Object(j.a)(e,g);return Object(O.jsx)(x.a,Object(b.a)(Object(b.a)({variant:"h5"},n),{},{children:t}))},C=["title","actions"],k=Object(c.a)((function(e){return Object(i.a)({grow:{flexGrow:1},actionToolbarButtons:{display:"flex"}})})),w=function(e){var t=e.title,n=e.actions,r=Object(j.a)(e,C),a=k();return Object(O.jsxs)(v.a,Object(b.a)(Object(b.a)({variant:"dense"},r),{},{children:[t&&Object(O.jsx)(y,{children:t}),Object(O.jsx)("div",{className:a.grow}),n&&Object(O.jsx)("div",{className:a.actionToolbarButtons,children:n})]}))},I=n(37),M=n(11),P=n.n(M),S=n(127),D=n(36),N=n(1363),T=n(1990),L=n(1980),E=n(1392),A=n(1991),z=n(1952),R=n(1970),F=n(946),V=n.n(F),U=n(118),B=n(1983),H=function(e){return Object(O.jsxs)(B.a,Object(b.a)(Object(b.a)({viewBox:"0 0 64 64"},e),{},{children:[Object(O.jsx)("path",{d:"M58 13H6c-1.103 0-2-.897-2-2s.897-2 2-2h52c1.103 0 2 .897 2 2S59.103 13 58 13zM6 10c-.552 0-1 .449-1 1s.448 1 1 1h52c.552 0 1-.449 1-1s-.448-1-1-1H6zM36.5 20h-9c-1.379 0-2.5-1.122-2.5-2.5s1.121-2.5 2.5-2.5h9c1.379 0 2.5 1.122 2.5 2.5S37.879 20 36.5 20zM27.5 16c-.827 0-1.5.673-1.5 1.5s.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5S37.327 16 36.5 16H27.5zM18.497 45h-6c-1.379 0-2.5-1.122-2.5-2.5s1.121-2.5 2.5-2.5h6c1.379 0 2.5 1.122 2.5 2.5S19.876 45 18.497 45zM12.497 41c-.827 0-1.5.673-1.5 1.5s.673 1.5 1.5 1.5h6c.827 0 1.5-.673 1.5-1.5s-.673-1.5-1.5-1.5H12.497zM51.497 45h-6c-1.379 0-2.5-1.122-2.5-2.5s1.121-2.5 2.5-2.5h6c1.379 0 2.5 1.122 2.5 2.5S52.876 45 51.497 45zM45.497 41c-.827 0-1.5.673-1.5 1.5s.673 1.5 1.5 1.5h6c.827 0 1.5-.673 1.5-1.5s-.673-1.5-1.5-1.5H45.497zM29.5 28h-10c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h10c.276 0 .5.224.5.5v4C30 27.776 29.776 28 29.5 28zM20 27h9v-3h-9V27zM44.5 28h-10c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h10c.276 0 .5.224.5.5v4C45 27.776 44.776 28 44.5 28zM35 27h9v-3h-9V27zM29.5 36h-8c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h8c.276 0 .5.224.5.5v4C30 35.776 29.776 36 29.5 36zM22 35h7v-3h-7V35zM43.5 36h-8c-.276 0-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5h8c.276 0 .5.224.5.5v4C44 35.776 43.776 36 43.5 36zM36 35h7v-3h-7V35z"}),Object(O.jsx)("path",{d:"M56.5,48h-49C7.224,48,7,47.776,7,47.5v-35C7,12.224,7.224,12,7.5,12h49c0.276,0,0.5,0.224,0.5,0.5v35    C57,47.776,56.776,48,56.5,48z M8,47h48V13H8V47z"}),Object(O.jsx)("rect",{width:"1",height:"3",x:"31.5",y:"6.5"}),Object(O.jsx)("path",{d:"M32 7c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2S33.103 7 32 7zM32 4c-.552 0-1 .449-1 1s.448 1 1 1 1-.449 1-1S32.552 4 32 4zM21.5 61h-4c-.152 0-.297-.069-.392-.188-.095-.12-.13-.275-.096-.424l3-13C20.065 47.161 20.268 47 20.5 47h4c.152 0 .297.069.392.188.095.12.13.275.096.424l-3 13C21.935 60.839 21.732 61 21.5 61zM18.129 60h2.974l2.769-12h-2.974L18.129 60zM46.5 61h-4c-.232 0-.435-.161-.487-.388l-3-13c-.034-.148.001-.304.096-.424C39.203 47.069 39.348 47 39.5 47h4c.232 0 .435.161.487.388l3 13c.034.148-.001.304-.096.424C46.797 60.931 46.652 61 46.5 61zM42.897 60h2.974l-2.769-12h-2.974L42.897 60z"}),Object(O.jsx)("path",{d:"M41.974 56H22.026l.922-4h18.104L41.974 56zM23.282 55h17.436l-.461-2H23.743L23.282 55zM15.48 37.008c-.128 0-.256-.049-.354-.146l-3.008-3.008c-.195-.195-.195-.512 0-.707l3.008-3.008c.195-.195.512-.195.707 0l3.008 3.008c.195.195.195.512 0 .707l-3.008 3.008C15.736 36.959 15.608 37.008 15.48 37.008zM13.18 33.5l2.301 2.301 2.301-2.301-2.301-2.301L13.18 33.5zM32.48 46.008c-.128 0-.256-.049-.354-.146l-3.008-3.008c-.195-.195-.195-.512 0-.707l3.008-3.008c.195-.195.512-.195.707 0l3.008 3.008c.195.195.195.512 0 .707l-3.008 3.008C32.736 45.959 32.608 46.008 32.48 46.008zM30.18 42.5l2.301 2.301 2.301-2.301-2.301-2.301L30.18 42.5zM32 22c-.276 0-.5-.224-.5-.5v-2c0-.276.224-.5.5-.5s.5.224.5.5v2C32.5 21.776 32.276 22 32 22z"}),Object(O.jsx)("path",{d:"M39.5 24c-.276 0-.5-.224-.5-.5V22H25v1.5c0 .276-.224.5-.5.5S24 23.776 24 23.5v-2c0-.276.224-.5.5-.5h15c.276 0 .5.224.5.5v2C40 23.776 39.776 24 39.5 24zM15.5 31c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5h4c.276 0 .5.224.5.5S19.776 26 19.5 26H16v4.5C16 30.776 15.776 31 15.5 31zM32.48 39.992c-.234.01-.501-.225-.5-.501L31.998 34H29.5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h3c.133 0 .261.053.354.147S33 33.369 33 33.501l-.02 5.992C32.979 39.77 32.756 39.992 32.48 39.992z"}),Object(O.jsx)("path",{d:"M32.52 39.992c-.275 0-.499-.223-.5-.499L32 33.501c0-.133.052-.26.146-.354S32.367 33 32.5 33h3c.276 0 .5.224.5.5S35.776 34 35.5 34h-2.498l.018 5.491c.001.276-.223.5-.498.501C32.521 39.992 32.521 39.992 32.52 39.992zM15.5 41c-.276 0-.5-.224-.5-.5v-3.992c0-.276.224-.5.5-.5s.5.224.5.5V40.5C16 40.776 15.776 41 15.5 41zM39.5 32c-.276 0-.5-.224-.5-.5v-3.992c0-.276.224-.5.5-.5s.5.224.5.5V31.5C40 31.776 39.776 32 39.5 32zM21.5 34h-3.012c-.276 0-.5-.224-.5-.5s.224-.5.5-.5H21.5c.276 0 .5.224.5.5S21.776 34 21.5 34zM29.5 43h-9.012c-.276 0-.5-.224-.5-.5s.224-.5.5-.5H29.5c.276 0 .5.224.5.5S29.776 43 29.5 43zM43.497 43h-8.009c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8.009c.276 0 .5.224.5.5S43.773 43 43.497 43z"}),Object(O.jsxs)("g",{children:[Object(O.jsx)("defs",{children:Object(O.jsx)("rect",{id:"SVGID_1_",width:"675.5",height:"132.688",x:"-1235.486",y:"289.422"})}),Object(O.jsx)("clipPath",{id:"SVGID_2_",children:Object(O.jsx)("use",{overflow:"visible",href:"#SVGID_1_"})})]})]}))},q=n(1389),_=n(1490),W=Object(c.a)((function(e){return Object(i.a)({button:{marginRight:e.spacing(1)},content:{maxHeight:"60vh",overflowY:"auto"}})})),$=function(e){var t=e.onNext,n=e.onBack,r=e.onSkip,a=e.nextActionCaption,c=e.children,i=W(),u=Object(d.a)().t;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(o.a,{container:!0,children:Object(O.jsx)(o.a,{item:!0,xs:12,className:i.content,children:c})}),Object(O.jsx)(o.a,{container:!0,children:Object(O.jsxs)(o.a,{item:!0,xs:12,children:[Object(O.jsx)(_.a,{disabled:!n,onClick:n,className:i.button,children:u("Back")}),!!r&&Object(O.jsx)(_.a,{onClick:r,className:i.button,children:u("Skip")}),!!t&&Object(O.jsx)(_.a,{onClick:t,className:i.button,children:null!==a&&void 0!==a?a:u("Next")})]})})]})},Y=Object(c.a)((function(e){return Object(i.a)({root:{flexGrow:1}})})),K=function(e,t){if(!e)return[];if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)||e.description&&e.description.includes(n)}))},G=n(86),J=Object(c.a)((function(e){return Object(i.a)({root:{flexGrow:1,width:"100%",marginTop:"20px",marginBottom:"20px"}})})),X=n(966),Z=n(195),Q=n(193),ee=n(925),te=Object(c.a)((function(e){return Object(i.a)({root:{flexGrow:1,width:"100%",marginBottom:"20px"},textField:{width:"100%"},content:{padding:"8px 24px","&:first-child":{paddingTop:20}}})})),ne=n(1200),re=n(1418),ae=n(1713),ce=n.n(ae),ie=n(1712),oe=n.n(ie),ue=n(1520),se=n(162),le=n(500),de=Object(c.a)((function(e){return Object(i.a)({button:{marginRight:e.spacing(1)},icon:{textAlign:"center"}})})),be=function(e){var t=e.icon,n=e.title,r=e.details,a=de();return Object(O.jsx)(re.a,{pt:"50px",pb:"50px",maxHeight:"60vh",children:Object(O.jsxs)(o.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:4,children:[!!t&&Object(O.jsx)(o.a,{item:!0,xs:12,className:a.icon,children:t}),Object(O.jsx)(o.a,{item:!0,xs:12,children:Object(O.jsx)(x.a,{variant:"h4",align:"center",children:n})}),!!r&&Object(O.jsx)(o.a,{item:!0,xs:12,children:"string"===typeof r?Object(O.jsx)(x.a,{variant:"h6",align:"center",children:r}):Object(O.jsx)("div",{children:r})})]})})},je=function(e){var t=e.action,n=e.onDispatchCompleted,r=e.onBack,a=de(),c=Object(d.a)().t,i=Object(U.c)().contexts_DispatchAction,u=Object(ne.a)(Object(I.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[i,t]),s=u.loading,l=u.value,b=u.error;return s?Object(O.jsx)(se.b,{children:c("ExecutingAction")}):Object(O.jsxs)(O.Fragment,{children:[!b&&Object(O.jsx)(be,{icon:Object(O.jsx)(oe.a,{style:{color:ue.a[500],fontSize:60}}),title:c("ActionCompleted"),details:c("DispatchActionResult",{id:null===l||void 0===l?void 0:l.contextId})}),!!b&&Object(O.jsx)(be,{icon:Object(O.jsx)(ce.a,{color:"error",style:{fontSize:60}}),title:c("ActionFailed"),details:Object(O.jsx)(le.a,{error:b})}),Object(O.jsx)(o.a,{container:!0,children:Object(O.jsxs)(o.a,{item:!0,xs:12,children:[!!b&&Object(O.jsx)(_.a,{onClick:r,className:a.button,children:c("Back")}),Object(O.jsx)(_.a,{onClick:n,className:a.button,children:c("Ok")})]})})]})},fe=Object(c.a)((function(e){return Object(i.a)({root:{width:"100%"},button:{marginRight:e.spacing(1)},content:{maxHeight:"60vh",overflowY:"auto"}})})),Oe=[function(e){var t=e.value,n=e.onNext,c=Y(),i=Object(a.useState)(""),o=Object(r.a)(i,2),u=o[0],s=o[1],l=function(e){var t=Object(U.c)().contextTypes_Search,n=Object(S.a)("/ContextTypes/Search",Object(I.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({limit:100});case 2:return n=e.sent,e.abrupt("return",Object(D.s)((function(e){return e.name}),n));case 4:case"end":return e.stop()}}),e)})))),r=n.data,c=n.error,i=n.isValidating,o=n.mutate;return Object(a.useMemo)((function(){return{data:K(r,e),isValidating:i,error:c,mutate:o}}),[r,e,i,c,o])}(u),d=l.data,b=l.error,j=l.isValidating,f=Object(a.useCallback)((function(e){t.contextTypeName===e?n(t):n({contextTypeName:e})}),[t,n]);return Object(O.jsxs)($,{children:[Object(O.jsx)(w,{actions:Object(O.jsx)(q.a,{value:u,onChange:s})}),Object(O.jsx)(T.a,{className:c.root,style:{maxHeight:"400",overflowY:"auto"},children:d.map((function(e,t){return Object(O.jsxs)(L.a,{children:[Object(O.jsx)(z.a,{children:Object(O.jsx)(H,{})}),Object(O.jsx)(E.a,{primary:e.name,secondary:e.description}),Object(O.jsx)(A.a,{children:Object(O.jsx)(N.a,{edge:"end",onClick:function(){return f(e.name)},size:"large",children:Object(O.jsx)(V.a,{})})})]},e.name)}))}),!j&&!!b&&Object(O.jsx)(R.a,{severity:"error",children:b.toString()})]})},function(e){var t=e.value,n=e.onBack,r=e.onNext,c=J(),i=function(e){var t=Object(U.c)().contextTypes_FindOne,n=Object(S.a)("/ContextType/".concat(e),Object(I.a)(P.a.mark((function n(){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t({name:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{revalidateOnFocus:!1}),r=n.data,c=n.error,i=n.isValidating,o=n.mutate;return Object(a.useMemo)((function(){return{contextType:r,isValidating:i,error:c,mutate:o}}),[r,i,o,c])}(t.contextTypeName),u=i.contextType,s=i.error,l=i.isValidating,d=Object(a.useMemo)((function(){return u?u.initialActions.map((function(e){return u.actions.find((function(t){return t.name===e}))})).filter(G.isPresent):[]}),[u]),b=Object(a.useCallback)((function(e){t.action===e?r(t):r({contextTypeName:t.contextTypeName,action:e})}),[t,r]);return!l&&s?Object(O.jsx)(R.a,{severity:"error",children:s.toString()}):l||!u?null:Object(O.jsx)($,{onBack:n,children:Object(O.jsx)(o.a,{container:!0,direction:"column",alignItems:"center",spacing:3,className:c.root,children:d.map((function(e){return Object(O.jsx)(o.a,{item:!0,xs:10,children:Object(O.jsx)(_.a,{variant:"outlined",onClick:function(){return b(e.name)},children:e.name})},e.name)}))})})},function(e){var t,n=e.value,c=e.onBack,i=e.onNext,u=te(),s=Object(d.a)().t,l=function(e){var t=Object(U.c)().contextTypes_FindOne,n=Object(S.a)("/ContextType/".concat(e),Object(I.a)(P.a.mark((function n(){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t({name:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{revalidateOnFocus:!1}),r=n.data,c=n.error,i=n.isValidating,o=n.mutate;return Object(a.useMemo)((function(){return{contextType:r,isValidating:i,error:c,revalidate:o}}),[r,i,o,c])}(n.contextTypeName),j=l.contextType,f=l.error,m=l.isValidating,h=Object(a.useState)({reference:n.reference,contextId:n.contextId}),p=Object(r.a)(h,2),v=p[0],x=p[1],g=Object(a.useState)(null!==(t=n.payload)&&void 0!==t?t:{}),y=Object(r.a)(g,2),C=y[0],k=y[1],w=Object(a.useRef)(),M=Object(a.useRef)(),N=Object(a.useMemo)((function(){return null===j||void 0===j?void 0:j.actions.find((function(e){return e.name===n.action}))}),[j,n]),T=Object(a.useCallback)((function(){N&&j&&(w.current&&w.current.length>0||M.current&&M.current.length>0||i(Object(b.a)(Object(b.a)(Object(b.a)({},n),v),{},{payload:C})))}),[i,N,j,v,C,n]),L=Object(a.useMemo)((function(){return{type:"object",properties:{reference:{type:"string"}},required:["reference"]}}),[]),E=Object(a.useMemo)((function(){return function(e,t){if(e&&t&&e.payloadSchemaDefinitionName)return Object(X.a)(t,e.name)}(N,j)}),[N,j]),A=Object(a.useMemo)((function(){var e,t=N?null===(e=Object(Q.i)(N))||void 0===e?void 0:e.uiSchema:void 0;if(t)return JSON.parse(t)}),[N]),z=Object(a.useCallback)((function(e){e.errors&&e.errors.length>0?(Object(Z.b)(e.errors),w.current=Object(D.b)(e.errors)):(x(e.data),w.current=void 0)}),[x]),F=Object(a.useCallback)((function(e){e.errors&&e.errors.length>0?(Object(Z.b)(e.errors),M.current=Object(D.b)(e.errors)):(k(e.data),M.current=void 0)}),[k]),V=Object(a.useMemo)((function(){var e;if(j){var t=null===(e=Object(Q.i)(j))||void 0===e?void 0:e.uiSchemaCommon;if(t)return JSON.parse(t)}}),[j]);return!m&&f?Object(O.jsx)(R.a,{severity:"error",children:f.toString()}):j&&N?Object(O.jsx)($,{onBack:c,onNext:T,nextActionCaption:s("ExecuteAction"),children:Object(O.jsxs)(o.a,{container:!0,spacing:2,className:u.root,children:[Object(O.jsx)(o.a,{item:!0,xs:12,className:u.content,children:Object(O.jsx)(ee.a,{schema:L,data:v,onChange:z,uiSchemaLibrary:V})}),Object(O.jsx)(o.a,{item:!0,xs:12,className:u.content,children:!!E&&Object(O.jsx)(ee.a,{schema:E,uischema:A,data:C,onChange:F,uiSchemaLibrary:V})})]})}):null}],me=function(){var e=Object(d.a)().t,t=fe(),n=Object(a.useState)(0),c=Object(r.a)(n,2),i=c[0],b=c[1],j=Object(a.useState)({}),f=Object(r.a)(j,2),m=f[0],h=f[1],v=Object(a.useMemo)((function(){return[i>0?e("SelectedContextType",{name:m.contextTypeName}):e("SelectContextType"),i>1?e("SelectedActionType",{name:m.action}):e("SelectActionType"),e("CompleteActionData")]}),[i,m,e]),x=Object(a.useCallback)((function(e){h(e),b((function(e){return e+1}))}),[b]),g=Object(a.useCallback)((function(){b((function(e){return e+1}))}),[b]),y=Object(a.useCallback)((function(){b((function(e){return e-1}))}),[b]),C=Object(a.useCallback)((function(){b(0),h({})}),[]),k=function(){var e=Oe[i];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.a,{activeStep:i,alternativeLabel:!0,children:v.map((function(e,t){return Object(O.jsx)(s.a,{children:Object(O.jsx)(l.a,{children:e})},t)}))}),!!e&&Object(O.jsx)(e,{value:m,onNext:x,onBack:y,onSkip:g})]})};return Object(O.jsx)(o.a,{container:!0,spacing:3,justifyContent:"center",children:Object(O.jsx)(o.a,{item:!0,xs:9,children:Object(O.jsxs)(p,{className:t.root,children:[Object(O.jsx)(w,{title:e("DispatchingAction")}),i<3?Object(O.jsx)(k,{}):Object(O.jsx)(je,{action:m,onDispatchCompleted:C,onBack:y})]})})})};t.default=me},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){var n=e.nfExpr;if(!n)throw new Error("nfExpr property expected at ".concat(t));return new Function("data","ctx","return ".concat(n))}},241:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){return"object"===typeof e&&"then"in e},a=function(e){return r(e)?e:Promise.resolve(e)}},453:function(e,t){},482:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var r=n(0),a=n(5),c=n(4),i=n(3),o=n(232),u=n(9),s=n(7),l=n(10),d=n(237),b=n(326),j=n(623),f=n.n(j),O=n(330),m=n.n(O),h=n(36),p=n(70),v=n(202),x=n(508),g=n(241),y=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","const","enum"],C=function(e){if("number"!==typeof e||isNaN(e))throw new Error("Expression must evaluate to a number")},k=function(e){if("boolean"!==typeof e)throw new Error("Expression must evaluate to a boolean")},w=function(e){if(!Array.isArray(e))throw new Error("Expression must evaluate to an array")},I={multipleOf:{impl:function(e,t,n){if(C(e),"number"===typeof t&&!isNaN(t)&&0!==e){var r=t/e,a=n.opts.multipleOfPrecision;if("number"===typeof a?Math.abs(Math.round(r)-r)<=Math.pow(10,-a):r===Math.round(r))return!0}return[{message:"must be multiple of ".concat(e),params:{multipleOf:e}}]}},maximum:{impl:function(e,t){return C(e),"number"===typeof t&&!isNaN(t)&&e>=t||[{message:"must be <= ".concat(e),params:{comparison:"<=",limit:e}}]}},exclusiveMaximum:{impl:function(e,t){return C(e),"number"===typeof t&&!isNaN(t)&&e>t||[{message:"must be < ".concat(e),params:{comparison:"<",limit:e}}]}},minimum:{impl:function(e,t){return C(e),"number"===typeof t&&!isNaN(t)&&e<=t||[{message:"must be >= ".concat(e),params:{comparison:">=",limit:e}}]}},exclusiveMinimum:{impl:function(e,t){return C(e),"number"===typeof t&&!isNaN(t)&&e<t||[{message:"must be > ".concat(e),params:{comparison:">",limit:e}}]}},maxLength:{impl:function(e,t){return C(e),"string"===typeof t&&m()(t)<=e||[{message:"must NOT have more than ".concat(e," characters"),params:{limit:e}}]}},minLength:{impl:function(e,t){return C(e),"string"===typeof t&&m()(t)>=e||[{message:"must NOT have less than ".concat(e," characters"),params:{limit:e}}]}},pattern:{impl:function(e,t,n){var r=void 0;if("string"===typeof e){var a=n.opts.unicodeRegExp?"u":"";r=new RegExp(e,a)}else{if(!(e instanceof RegExp))throw new Error("Expression must evaluate to a string or a RegExp object");r=e}return!("string"!==typeof t||!r.test(t))||[{message:'must match pattern "'.concat(e,'"'),params:{pattern:e}}]}},maxItems:{impl:function(e,t){return C(e),!!(Array.isArray(t)&&t.length<=e)||[{message:"must NOT have more than ".concat(e," items"),params:{limit:e}}]}},minItems:{impl:function(e,t){return C(e),!!(Array.isArray(t)&&t.length>=e)||[{message:"must NOT have less than ".concat(e," items"),params:{limit:e}}]}},uniqueItems:{impl:function(e,t){k(e);var n=0,r=0;if(Array.isArray(t)&&t.length>=e){var a=!0;e:for(;n<t.length;n++)for(r=n+1;r<t.length;r++)if(Object(h.f)(t[n],t[r])){a=!1;break e}if(a)return!0}return[{message:"must NOT have duplicate items (items ## ".concat(r," and ").concat(n," are identical)"),params:{i:n,j:r}}]}},maxProperties:{impl:function(e,t){return k(e),"object"===typeof t&&Object.keys(t).length>=e||[{message:"must NOT have more than ".concat(e," items"),params:{limit:e}}]}},minProperties:{impl:function(e,t){return k(e),"object"===typeof t&&Object.keys(t).length<=e||[{message:"must NOT have less than ".concat(e," items"),params:{limit:e}}]}},required:{impl:function(e,t,n,a){if(w(e),"object"!==typeof t)return[{message:"Data must be an object"}];var c=[];var i,o,u=n.opts.ownProperties,s=Object(r.a)(e);try{for(s.s();!(i=s.n()).done;){var l=i.value;if((void 0===t[l]||u&&!Object.prototype.hasOwnProperty.call(t,l))&&(o=l,c.push({message:"must have required property '".concat(o,"'"),params:{missingProperty:o}}),!0!==n.allErrors))break}}catch(h){s.e(h)}finally{s.f()}if(n.opts.strictRequired){var d,b=a.properties,j=Object(r.a)(e);try{for(j.s();!(d=j.n()).done;){var f=d.value;if(void 0===(null===b||void 0===b?void 0:b[f])&&!n.definedProperties.has(f)){var O=n.schemaEnv.baseId+n.errSchemaPath,m='required property "'.concat(f,'" is not defined at "').concat(O,'" (strictRequired)');Object(p.checkStrictMode)(n,m,n.opts.strictRequired)}}}catch(h){j.e(h)}finally{j.f()}}return!(c.length>0)||c}},const:{impl:function(e,t){return t===e||[{message:"must be equal to constant",params:{allowedValue:e}}]}},enum:{impl:function(e,t){return w(e),!!e.some((function(e){return Object(h.f)(e,t)}))||[{message:"must be equal to one of the allowed values",params:{allowedValues:e}}]}}},M=function(e,t){return function(n,r,c){var i=Object(v.a)(n,c.errSchemaPath);return function o(u,s){if(!s)return!1;var l=i(u,Object(a.a)(Object(a.a)({},s),{},{schema:n,parentSchema:r,rootSchema:c.schema}));if(Object(g.b)(l))throw new Error("Expression cannot evaluate to a Promise (at ".concat(c.errSchemaPath,")"));try{var d=t(l,u,c,r);if("boolean"===typeof d)return d;o.errors=d.map((function(t){var n;return Object(a.a)({keyword:e,instancePath:null!==(n=null===s||void 0===s?void 0:s.instancePath)&&void 0!==n?n:"",schemaPath:c.schemaPath.toString()},t)}))}catch(j){var b;o.errors=[{keyword:e,instancePath:null!==(b=null===s||void 0===s?void 0:s.instancePath)&&void 0!==b?b:"",schemaPath:c.schemaPath.toString(),params:{}}]}return!1}}},P={keyword:[].concat(y),type:[],schemaType:["object"],compile:function(e,t,n){var r,a=null===(r=Object.entries(t).find((function(t){return t[1]===e})))||void 0===r?void 0:r[0];if(!a)throw new Error("Cannot find schema entry");if(!y.includes(a))throw new Error("Keyword ".concat(a," is not one of ").concat(y));return M(a,I[a].impl)(e,t,n)}},S=function(e){return"nf".concat(Object(x.b)(e))},D=Object(h.m)((function(e){return e[0]}),Object(h.h)(S,y)),N=y.map(S),T={keyword:N,schemaType:"object",compile:function(e,t,n){var r,a=null===(r=Object.entries(t).find((function(t){return t[1]===e})))||void 0===r?void 0:r[0];if(!a)throw new Error("Cannot find schema entry");var c=D[a];if(!c)throw new Error("Keyword ".concat(a," is not one of ").concat(N));return M(c,I[c].impl)(e,t,n)}},L={keyword:"markdownDescription",schemaType:"string",valid:!0},E=n(86),A=[L,{keyword:"nfCalculatedValue",schemaType:"object",modifying:!0,compile:function(e,t,n){if(!Object(E.isPresent)(t.default))throw new Error("Schema using nfCalculatedValue must define a default value (at ".concat(n.errSchemaPath,")"));var r=Object(v.a)(e,n.errSchemaPath);return function(c,i){if(!i)return!1;var o=r(c,Object(a.a)(Object(a.a)({},i),{},{schema:e,parentSchema:t,rootSchema:n.schema}));if(Object(g.b)(o))throw new Error("Expression cannot evaluate to a Promise (at ".concat(n.errSchemaPath,")"));return i.parentData[i.parentDataProperty]=o,!0}}},{keyword:"nfValidate",schemaType:["object","array"],compile:function(e,t,n){var r=(Array.isArray(e)?e:[e]).map((function(t,r){var a=n.errSchemaPath;return(r>0||Array.isArray(e))&&(a+="/".concat(r)),Object(v.a)(e,a)}));return function c(i,o){if(!o)return!1;var u=!0;return r.forEach((function(r,s){var l,d=r(i,Object(a.a)(Object(a.a)({},o),{},{schema:e,parentSchema:t,rootSchema:n.schema}));if("boolean"!==typeof d){var b=n.errSchemaPath;throw(s>0||Array.isArray(e))&&(b+="/".concat(s)),new Error("Expression as ".concat(b," must evaluate to a boolean value"))}!d&&"nfMessage"in e&&(c.errors=[{keyword:"nfValidate",instancePath:null!==(l=null===o||void 0===o?void 0:o.instancePath)&&void 0!==l?l:"",schemaPath:n.schemaPath.toString(),message:e.nfMessage}]);u&&(u=d)})),u}}},T,{keyword:"nfData",valid:!0},{keyword:"nfHidden",schemaType:"object",valid:!0},{keyword:"nfDisabled",schemaType:"object",valid:!0}],z=n(642),R=function(e){return"code"in e},F=function(e){var t=e.schemaType;t.length>0&&!t.includes("object")&&(t.push("object"),e.schemaType=t);var n=e.code;e.code=function(e,t){var r=e.schema,a=e.keyword;if("object"!==typeof r||!("nfExpr"in r))return n(e,t);var c=new d.KeywordCxt(e.it,P,a);Object(b.funcKeywordCode)(c,P)}},V=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c.a)(this,n),t.call(this,Object(a.a)(Object(a.a)({},e),{},{useDefaults:!0}))}return Object(i.a)(n,[{key:"_addVocabularies",value:function(){Object(o.a)(Object(u.a)(n.prototype),"_addVocabularies",this).call(this),this.addVocabulary(A);var e,t=Object(r.a)(y);try{for(t.s();!(e=t.n()).done;){var a=e.value,c=this.getKeyword(a);"boolean"!==typeof c&&R(c)&&F(c)}}catch(i){t.e(i)}finally{t.f()}}},{key:"_addDefaultMetaSchema",value:function(){Object(o.a)(Object(u.a)(n.prototype),"_addDefaultMetaSchema",this).call(this),this.opts.meta&&(this.addMetaSchema(z),this.refs["http://json-schema.org/schema"]=z.$id)}},{key:"compile",value:function(e,t){return Object(o.a)(Object(u.a)(n.prototype),"compile",this).call(this,e,t)}}]),n}(f.a)},508:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},a=function(e){var t=new Array(e.length);t[0]=e[0].toUpperCase().charCodeAt(0);for(var n=1;n<e.length;n++)t[n]=e.charCodeAt(n);return String.fromCharCode.apply(void 0,t)}},557:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(86),a=function e(t){var n={};if(t)for(var a=function(){var a=i[c];Array.isArray(t[a])?t[a].forEach((function(t,c){var i=n[a];Object(r.isPresent)(i)||(n[a]=i=[]),i[c]=e(t)})):"object"===typeof t[a]&&null!==t[a]?n[a]=e(t[a]):n[a]=!0},c=0,i=Object.keys(t);c<i.length;c++)a();return n},c=function(e){return e.validateForm().then((function(t){Object.keys(t).length>0?e.setTouched(a(t)):e.handleSubmit()}))}},558:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(5),a=n(2),c=n(21),i=n(1),o=n(1368),u=n(290),s=n(86),l=n(31),d=["name","debounce","onChange","onBlur","helperText","error","disabled","controlValueAdapter"],b=function(e){var t=e.name,n=e.debounce,b=e.onChange,j=e.onBlur,f=e.helperText,O=(e.error,e.disabled),m=e.controlValueAdapter,h=Object(c.a)(e,d),p=Object(u.d)().isSubmitting,v=Object(u.c)({name:t}),x=Object(a.a)(v,3),g=x[0],y=x[1],C=x[2],k=y.error,w=y.touched&&!!k,I=Object(i.useState)(g.value),M=Object(a.a)(I,2),P=M[0],S=M[1],D=Object(i.useState)(),N=Object(a.a)(D,2),T=N[0],L=N[1];Object(i.useEffect)((function(){S(g.value)}),[g.value]);var E=Object(i.useCallback)((function(e){var t=e.target.value;C.setValue(m?m(t):t),null===b||void 0===b||b(e)}),[m,C,b]),A=Object(i.useCallback)((function(e){S((function(t){var n=e.target.value;return n||t})),Object(s.isPresent)(n)?(e.persist(),T&&clearTimeout(T),L(setTimeout((function(){return E(e)}),n))):E(e)}),[E,n,T]),z=Object(i.useCallback)((function(e){g.onBlur(e),null===j||void 0===j||j(e)}),[g,j]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(o.a,Object(r.a)(Object(r.a)({},g),{},{value:null!==P&&void 0!==P?P:"",onChange:A,onBlur:z,error:w,helperText:w?k:f,disabled:null!==O&&void 0!==O?O:p},h))})}},559:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(5),a=n(2),c=n(21),i=n(1),o=n(1974),u=n(290),s=n(31),l=["name","controlValueAdapter","onChange","onBlur","renderInput","multiple","loading","disabled"],d=function(e){var t=e.name,n=e.controlValueAdapter,d=e.onChange,b=e.onBlur,j=e.renderInput,f=e.multiple,O=e.loading,m=e.disabled,h=Object(c.a)(e,l),p=Object(u.d)(),v=p.isSubmitting,x=p.setFieldTouched,g=Object(u.c)({name:t}),y=Object(a.a)(g,3),C=y[0],k=y[1],w=y[2],I=k.error,M=k.touched&&!!I,P=Object(i.useCallback)((function(e,t,r,a){var c=n?n(t):t;w.setValue(null!==c&&void 0!==c?c:void 0),null===d||void 0===d||d(e,t,r,a)}),[n,w,d]),S=Object(i.useCallback)((function(e){x(C.name),C.onBlur(e),null===b||void 0===b||b(e)}),[C,b,x]),D=Object(i.useCallback)((function(e){return j?j(Object(r.a)(Object(r.a)({},e),{},{error:M,helperText:M?I:void 0})):null}),[I,j,M]),N=Object(i.useMemo)((function(){return n?e.options.find((function(e){return n(e)===C.value})):C.value}),[n,C.value,e.options]);return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(o.a,Object(r.a)(Object(r.a)({},C),{},{value:null!==N&&void 0!==N?N:null,onChange:P,onBlur:S,renderInput:D,disabled:null!==m&&void 0!==m?m:v,loading:O||v,multiple:f},h))})}},642:function(e){e.exports=JSON.parse('{"$schema":"http://nimflow.com/schemas/nf-json-schema.json","$id":"http://nimflow.com/schemas/nf-json-schema.json","title":"Json schema meta schema with Nimflow extensions","$vocabulary":{"https://json-schema.org/draft/2019-09/vocab/core":true,"https://json-schema.org/draft/2019-09/vocab/applicator":true,"https://json-schema.org/draft/2019-09/vocab/validation":true,"https://json-schema.org/draft/2019-09/vocab/meta-data":true,"https://json-schema.org/draft/2019-09/vocab/format":true,"https://json-schema.org/draft/2019-09/vocab/content":true,"https://nimflow.com/schemas/nf-json-schema-vocabulary.json":true},"$recursiveAnchor":true,"anyOf":[{"$ref":"https://json-schema.org/draft/2019-09/schema"}],"type":"object","properties":{"nfCalculatedValue":{"$recursiveRef":"#"},"nfValidate":{"anyOf":[{"$recursiveRef":"#"},{"$ref":"#/$defs/schemaArray"}]},"nfMultipleOf":{"$recursiveRef":"#"},"nfMaximum":{"$recursiveRef":"#"},"nfExclusiveMaximum":{"$recursiveRef":"#"},"nfMinimum":{"$recursiveRef":"#"},"nfExclusiveMinimum":{"$recursiveRef":"#"},"nfMaxLength":{"$recursiveRef":"#"},"nfMinLength":{"$recursiveRef":"#"},"nfPattern":{"$recursiveRef":"#"},"nfMaxItems":{"$recursiveRef":"#"},"nfMinItems":{"$recursiveRef":"#"},"nfUniqueItems":{"$recursiveRef":"#"},"nfMaxProperties":{"$recursiveRef":"#"},"nfMinProperties":{"$recursiveRef":"#"},"nfRequired":{"$recursiveRef":"#"},"nfConst":{"$recursiveRef":"#"},"nfEnum":{"$recursiveRef":"#"},"nfHidden":{"$recursiveRef":"#"},"nfDisabled":{"$recursiveRef":"#"},"nfExpr":{"type":"string"},"nfMessage":{"type":"string"},"nfData":{}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$recursiveRef":"#"}}}}')},643:function(e,t,n){var r={"./ar/index":[1086,25],"./ca/index":[1087,26],"./cs/index":[1088,27],"./de/index":[1089,28],"./en/index":[335],"./es/index":[1090,29],"./fi/index":[1091,30],"./fr/index":[1092,31],"./hu/index":[1093,32],"./id/index":[1094,33],"./it/index":[1095,34],"./ja/index":[1096,35],"./ko/index":[1097,36],"./nb/index":[1098,37],"./nl/index":[1099,38],"./pl/index":[1100,39],"./pt-BR/index":[1101,40],"./ru/index":[1102,41],"./sk/index":[1103,42],"./sv/index":[1104,43],"./th/index":[1105,44],"./zh-TW/index":[1107,45],"./zh/index":[1106,46]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(a,7)}))}a.keys=function(){return Object.keys(r)},a.id=643,e.exports=a},731:function(e,t){},733:function(e,t){},743:function(e,t){},745:function(e,t){},770:function(e,t){},771:function(e,t){},776:function(e,t){},778:function(e,t){},785:function(e,t){},804:function(e,t){},838:function(e,t){},873:function(e,t){},874:function(e,t){},875:function(e,t){},876:function(e,t){},877:function(e,t){},920:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://nimflow.com/schemas/recognized-image-batch.schema.json","type":"object","title":"Recognized image batch schema","allOf":[{"$ref":"#/definitions/RecognizedImageBatch"}],"definitions":{"RecognizedImageBatch":{"type":"object","properties":{"fileUrls":{"type":"array","items":{"type":"string"}},"documents":{"type":"array","items":{"$ref":"#/definitions/Document"}}},"required":["fileUrls"]},"Document":{"type":"object","properties":{"schemaId":{"type":"string"},"pages":{"type":"array","items":{"$ref":"#/definitions/PageImageLocation"}},"action":{"type":"string","enum":["saveAsDraft","send","dontSend"]},"data":true},"required":["schemaId","action"]},"PageImageLocation":{"type":"object","properties":{"fileIndex":{"type":"integer"},"filePageNumber":{"type":"integer"}},"required":["fileIndex","filePageNumber"]}}}')},925:function(e,t,n){"use strict";n.d(t,"a",(function(){return hs})),n.d(t,"c",(function(){return xs})),n.d(t,"b",(function(){return gs}));var r=n(0),a=n(5),c=n(1),i=n.n(c),o=n(61),u=n(115),s=n.n(u),l=n(62),d=n(1977),b=n(1195),j=n(31),f=function(e,t,n,r,a,c){return e.map((function(e,i){return Object(j.jsx)(d.a,{item:!0,xs:!0,children:Object(j.jsx)(l.d,{uischema:e,schema:t,path:n,enabled:r,renderers:a,cells:c})},"".concat(n,"-").concat(i))}))},O=function(e){var t=e.visible,n=e.elements,r=e.schema,a=e.path,c=e.enabled,i=e.direction,o=e.renderers,u=e.cells;return s()(n)?null:Object(j.jsx)(b.a,{xsUp:!t,children:Object(j.jsx)(d.a,{container:!0,direction:i,spacing:"row"===i?2:0,children:f(n,r,a,c,o,u)})})},m=i.a.memo(O),h=function(e){return function(t){var n=Object(l.f)(),r=Object(o.v)({jsonforms:Object(a.a)({},n)});return Object(j.jsx)(e,Object(a.a)(Object(a.a)({},t),{},{ajv:r}))}},p=Object(o.vb)(1,Object(o.Cb)("VerticalLayout")),v=function(e){var t=e.uischema,n=e.schema,r=e.path,c=e.enabled,i=e.visible,o=e.renderers,u=e.cells,s={elements:t.elements,schema:n,path:r,enabled:c,direction:"column",visible:i};return Object(j.jsx)(m,Object(a.a)(Object(a.a)({},s),{},{renderers:o,cells:u}))},x=Object(l.p)(v),g=Object(o.vb)(2,Object(o.Cb)("HorizontalLayout")),y=function(e){var t=e.uischema,n=e.renderers,r=e.cells,c=e.schema,i=e.path,o=e.enabled,u=e.visible,s={elements:t.elements,schema:c,path:i,enabled:o,direction:"row",visible:u};return Object(j.jsx)(m,Object(a.a)(Object(a.a)({},s),{},{renderers:n,cells:r}))},C=Object(l.p)(y),k=n(1964),w=n(8),I=n(2),M=n(36),P=function(){throw new Error("You forgot to wrap your component in <JsonFormsContextProvider>.")},S=Object(c.createContext)({context:{},bindContext:!0,uiSchemaLibrary:{},registerValidationProvider:P,unregisterValidationProvider:P,validationProviderUpdated:P}),D=function(e){var t=e.context,n=e.bindContext,r=e.uiSchemaLibrary,i=e.children,o=e.onErrorsChange,u=Object(c.useState)({}),s=Object(I.a)(u,2),l=s[0],d=s[1];Object(c.useEffect)((function(){var e=Object.values(l).flatMap((function(e){return e}));null===o||void 0===o||o(e)}),[l,o]);var b=Object(c.useCallback)((function(e){d((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(w.a)({},e,[]))}))}),[]),f=Object(c.useCallback)((function(e){d((function(t){return Object(M.p)([e],t)}))}),[]),O=Object(c.useCallback)((function(e,t){d((function(n){return e in n?Object(a.a)(Object(a.a)({},n),{},Object(w.a)({},e,t)):n}))}),[]);return Object(j.jsx)(S.Provider,{value:{context:null!==t&&void 0!==t?t:{},bindContext:null===n||void 0===n||n,uiSchemaLibrary:null!==r&&void 0!==r?r:{},registerValidationProvider:b,unregisterValidationProvider:f,validationProviderUpdated:O},children:i})},N=function(){return Object(c.useContext)(S)},T=n(181),L=Object(l.p)((function(e){var t=e.uischema,n=e.visible,r=e.data,a=e.path,i=N(),o=i.bindContext,u=i.context,s=Object(c.useMemo)((function(){var e=t;if(e||"text"in e){var n={data:r,path:a};return o&&Object.assign(n,u),Object(T.a)(e.text,n)}}),[t,r,a,o,u]);return s?Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)("div",{children:Object(j.jsx)(k.a,{children:s})})}):null})),E=Object(o.vb)(3,Object(o.Cb)("Markdown")),A=n(1930),z=n(1968),R=Object(z.a)((function(e){return Object(A.a)({viewer:{width:"100%",minHeight:"800px"}})})),F=Object(l.p)((function(e){var t=R(),n=e.uischema,r=e.visible,a=e.data,i=e.path,o=N(),u=o.bindContext,s=o.context,l=Object(c.useMemo)((function(){var e=n;if(e||"url"in e){var t={data:a,path:i};return u&&Object.assign(t,s),Object(T.a)(e.url,t)}}),[n,a,i,u,s]);return l?Object(j.jsx)(b.a,{xsUp:!r||!l,children:Object(j.jsx)("object",{data:l,type:"application/pdf",className:t.viewer,children:Object(j.jsx)("embed",{src:l,type:"application/pdf"})})}):null})),V=Object(o.vb)(3,Object(o.Cb)("Pdf")),U=n(21),B=n(86),H=["uischema","schema","path","renderers"],q=Object(l.p)((function(e){var t=e.uischema,n=e.schema,i=e.path,u=e.renderers,s=Object(U.a)(e,H),d=Object(l.f)().core,b=N().uiSchemaLibrary,f="Use"===t.type?t:void 0,O=f?b[f.name]:void 0,m=f?o.d.schema(n,f.scope):void 0,h=Object(c.useMemo)((function(){if(u&&O&&m){var e=function(e,t){var n,a=-1,c=void 0,i=Object(r.a)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,u=t(o);u>a&&(a=u,c=o)}}catch(s){i.e(s)}finally{i.f()}return c}(u,(function(e){return e.tester(O,m)}));return e}}),[O,u,m]);if(!O||!f||!m)return null;var p=Object(o.i)(f,i),v=o.d.data(null===d||void 0===d?void 0:d.data,p);if(Object(B.isPresent)(h)&&-1!==h.tester(O,m)){var x=h.renderer;return Object(j.jsx)(x,Object(a.a)({uischema:O,schema:m,path:p,data:v,renderers:u},s))}return Object(j.jsx)(l.e,{type:"renderer"})})),_=Object(o.vb)(3,Object(o.Cb)("Use")),W=n(37),$=n(11),Y=n.n($),K=n(127),G=n(4),J=n(3),X=n(7),Z=n(10),Q=n(339),ee=n.n(Q),te=n(242),ne=n.n(te),re=n(213),ae=n.n(re),ce=n(1420),ie=n(1228),oe=n(1414),ue=n(1376),se=n(1363),le=n(1431),de=n(1430),be=n(1419),je=n(141),fe=n.n(je),Oe=n(299),me=n.n(Oe),he=n(373),pe=n.n(he),ve=n(72),xe=["children"],ge=Object(ve.a)(oe.a)({borderBottom:"none"}),ye=function(e){var t=e.children,n=Object(U.a)(e,xe);return Object(j.jsx)(ge,Object(a.a)(Object(a.a)({},n),{},{children:t}))},Ce=n(1391),ke=n(194),we=n.n(ke),Ie=n(723),Me=n.n(Ie),Pe=n(1196),Se=Object(ve.a)(Pe.a)((function(e){return{color:e.theme.palette.error.main}})),De=function(e){var t=e.errorMessages,n=e.id;return Object(j.jsx)(Ce.a,{id:n,title:t,children:Object(j.jsx)(Se,{badgeContent:t.split("\n").length,children:Object(j.jsx)(Me.a,{color:"inherit"})})})},Ne={paddingLeft:0,paddingRight:0},Te=i.a.memo((function(e){var t=e.numColumns,n=e.errors,r=e.label,a=e.path,c=e.addItem,i=e.schema,u=e.enabled;return Object(j.jsxs)(ce.a,{children:[Object(j.jsx)(ye,{colSpan:t,children:Object(j.jsxs)(d.a,{container:!0,justifyContent:"flex-start",alignItems:"center",spacing:2,children:[Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(ie.a,{variant:"h6",children:r})}),Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(b.a,{smUp:0===n.length,children:Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(De,{id:"tooltip-validation",errorMessages:n})})})})]})}),u?Object(j.jsx)(ye,{align:"right",style:Ne,children:Object(j.jsx)(Ce.a,{id:"tooltip-add",title:"Add to ".concat(r),placement:"bottom",children:Object(j.jsx)(se.a,{"aria-label":"Add to ".concat(r),onClick:c(a,Object(o.n)(i)),size:"large",children:Object(j.jsx)(we.a,{})})})}):null]})})),Le=n(75),Ee=n.n(Le),Ae={fixedCell:{width:"150px",height:"50px",paddingLeft:0,paddingRight:0,textAlign:"center"},fixedCellSmall:{width:"50px",height:"50px",paddingLeft:0,paddingRight:0,textAlign:"center"}},ze=function(e,t,n,r,c){if("object"===t.type)return Re(t).map((function(i){var u,s,l,d=o.c.compose(n,i),b={propName:i,schema:t,title:null!==(u=null===(s=t.properties)||void 0===s||null===(l=s[i])||void 0===l?void 0:l.title)&&void 0!==u?u:ne()(i),rowPath:n,cellPath:d,enabled:r,cells:c};return Object(j.jsx)(e,Object(a.a)({},b),d)}));var i={schema:t,rowPath:n,cellPath:n,enabled:r};return Object(j.jsx)(e,Object(a.a)({},i),n)},Re=function(e){return"object"===e.type&&"object"===typeof e.properties?Object.keys(e.properties).filter((function(t){return"array"!==e.properties[t].type})):[""]},Fe=function(e){var t=e.numColumns;return Object(j.jsx)(ce.a,{children:Object(j.jsx)(ye,{colSpan:t,children:Object(j.jsx)(ie.a,{align:"center",children:"No data"})})})},Ve=i.a.memo((function(e){var t=e.title;return Object(j.jsx)(oe.a,{children:t})})),Ue=function(e){return{type:"Control",scope:e,label:!1}},Be=i.a.memo((function(e){var t=e.path,n=e.propName,r=e.schema,a=e.rootSchema,c=e.errors,i=e.enabled,u=e.renderers,s=e.cells,d=e.isValid;return Object(j.jsxs)(ye,{children:[r.properties?Object(j.jsx)(l.b,{schema:o.d.schema(r,"#/properties/".concat(n),a),uischema:Ue("#/properties/".concat(n)),path:t,enabled:i,renderers:u,cells:s}):Object(j.jsx)(l.b,{schema:r,uischema:Ue("#"),path:t,enabled:i,renderers:u,cells:s}),Object(j.jsx)(ue.a,{error:!d,children:!d&&c})]})})),He=function(e){var t=function(e,t){var n=t.rowPath+("object"===t.schema.type?"."+t.propName:""),r=Object(o.u)(ee()(Object(o.r)(n,t.schema,(function(e){return e===n}))(e.core.errors).map((function(e){var t;return null!==(t=e.message)&&void 0!==t?t:""}))));return{rowPath:t.rowPath,propName:t.propName,schema:t.schema,rootSchema:e.core.schema,errors:r,path:n,enabled:t.enabled,cells:t.cells||e.cells,renderers:t.renderers||e.renderers}}(Object(l.f)(),e),n=s()(t.errors);return Object(j.jsx)(Be,Object(a.a)(Object(a.a)({},t),{},{isValid:n}))},qe=function(e){var t=e.childPath,n=e.schema,r=e.rowIndex,a=e.openDeleteDialog,i=e.moveUpCreator,o=e.moveDownCreator,u=e.enableUp,s=e.enableDown,l=e.showSortButtons,b=e.enabled,f=e.cells,O=e.path,m=Object(c.useMemo)((function(){return i(O,r)}),[i,O,r]),h=Object(c.useMemo)((function(){return o(O,r)}),[o,O,r]);return Object(j.jsxs)(ce.a,{hover:!0,children:[ze(He,n,t,b,f),b?Object(j.jsx)(ye,{style:l?Ae.fixedCell:Ae.fixedCellSmall,children:Object(j.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",children:[l?Object(j.jsxs)(c.Fragment,{children:[Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(se.a,{"aria-label":"Move up",onClick:m,disabled:!u,size:"large",children:Object(j.jsx)(pe.a,{})})}),Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(se.a,{"aria-label":"Move down",onClick:h,disabled:!s,size:"large",children:Object(j.jsx)(me.a,{})})})]}):null,Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(se.a,{"aria-label":"Delete",onClick:function(){return a(t,r)},size:"large",children:Object(j.jsx)(fe.a,{})})})]})}):null]},t)},_e=i.a.memo(qe),We=function(e){var t=e.data,n=e.path,r=e.schema,a=e.openDeleteDialog,c=e.moveUp,u=e.moveDown,s=e.uischema,l=e.config,d=e.enabled,b=e.cells;if(0===t)return Object(j.jsx)(Fe,{numColumns:Re(r).length+1});var f=Ee()({},l,s.options);return Object(j.jsx)(i.a.Fragment,{children:ae()(t).map((function(e){var i=o.c.compose(n,"".concat(e));return Object(j.jsx)(_e,{childPath:i,rowIndex:e,schema:r,openDeleteDialog:a,moveUpCreator:c,moveDownCreator:u,enableUp:0!==e,enableDown:e!==t-1,showSortButtons:f.showSortButtons,enabled:d,cells:b,path:n},i)}))})},$e=function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(){var e;Object(G.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).addItem=function(t,n){return e.props.addItem(t,n)},e}return Object(J.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.path,r=e.schema,c=e.rootSchema,i=e.uischema,o=e.errors,u=e.visible,s=e.enabled,l=e.cells,d=i,f="object"===r.type,O=f?ze(Ve,r,n,s,l):void 0;return Object(j.jsx)(b.a,{xsUp:!u,children:Object(j.jsxs)(le.a,{children:[Object(j.jsxs)(de.a,{children:[Object(j.jsx)(Te,{errors:o,label:t,addItem:this.addItem,numColumns:f?O.length:1,path:n,uischema:d,schema:r,rootSchema:c,enabled:s}),f&&Object(j.jsxs)(ce.a,{children:[O,s?Object(j.jsx)(oe.a,{}):null]})]}),Object(j.jsx)(be.a,{children:Object(j.jsx)(We,Object(a.a)({},this.props))})]})})}}]),n}(i.a.Component),Ye=n(1932),Ke=n(1939),Ge=n(1985),Je=n(1206),Xe=n(1986),Ze=n(1490),Qe=i.a.memo((function(e){var t=e.open,n=e.onClose,r=e.onConfirm,a=e.onCancel;return Object(j.jsxs)(Ye.a,{open:t,keepMounted:!0,onClose:n,"aria-labelledby":"alert-dialog-confirmdelete-title","aria-describedby":"alert-dialog-confirmdelete-description",children:[Object(j.jsx)(Ke.a,{id:"alert-dialog-confirmdelete-title",children:"Confirm Deletion"}),Object(j.jsx)(Ge.a,{children:Object(j.jsx)(Je.a,{id:"alert-dialog-confirmdelete-description",children:"Are you sure you want to delete the selected entry?"})}),Object(j.jsxs)(Xe.a,{children:[Object(j.jsx)(Ze.a,{onClick:a,color:"primary",children:"No"}),Object(j.jsx)(Ze.a,{onClick:r,color:"primary",children:"Yes"})]})]})})),et=function(e){var t=Object(c.useState)(!1),n=Object(I.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(),u=Object(I.a)(o,2),s=u[0],l=u[1],d=Object(c.useState)(),f=Object(I.a)(d,2),O=f[0],m=f[1],h=e.removeItems,p=e.visible,v=Object(c.useCallback)((function(e,t){i(!0),l(e),m(t)}),[i,l,m]),x=Object(c.useCallback)((function(){return i(!1)}),[i]),g=Object(c.useCallback)((function(){var e=s.substring(0,s.lastIndexOf("."));h(e,[O])(),i(!1)}),[i,s,O]),y=Object(c.useCallback)((function(){return i(!1)}),[i]);return Object(j.jsxs)(b.a,{xsUp:!p,children:[Object(j.jsx)($e,Object(a.a)(Object(a.a)({},e),{},{openDeleteDialog:v})),Object(j.jsx)(Qe,{open:r,onCancel:x,onConfirm:g,onClose:y})]})},tt=Object(l.i)(et),nt=function(e){var t=e.renderers,n=e.cells,r=e.uischemas,a=e.schema,i=e.label,u=e.path,d=e.visible,f=e.enabled,O=e.uischema,m=e.rootSchema,h=Object(c.useMemo)((function(){return Object(o.t)(r,a,O.scope,u,"Group",O,m)}),[r,a,O.scope,u,O,m]);return s()(u)?h.type="VerticalLayout":h.label=i,Object(j.jsx)(b.a,{xsUp:!d,children:Object(j.jsx)(l.d,{visible:d,enabled:f,schema:a,uischema:h,path:u,renderers:t,cells:n})})},rt=Object(o.vb)(2,o.Q),at=Object(l.m)(nt),ct=function(e){var t=e.schema,n=e.rootSchema,r=e.visible,a=e.renderers,c=e.cells,i=e.path,u=e.uischemas,s=e.uischema,d=Object(o.xb)(t,n,"allOf"),f=Object(o.s)(u)(d,s.scope,i);if(f)return Object(j.jsx)(b.a,{xsUp:!r,children:Object(j.jsx)(l.d,{schema:d,uischema:f,path:i,renderers:a,cells:c})});var O=Object(o.m)(d.allOf,n,"allOf",s,i,u);return Object(j.jsx)(b.a,{xsUp:!r,children:O.map((function(e,t){return Object(j.jsx)(l.d,{schema:e.schema,uischema:e.uischema,path:i,renderers:a,cells:c},t)}))})},it=Object(o.vb)(3,o.C),ot=Object(l.g)(ct),ut=n(1971),st=n(1996),lt=n(724),dt=n.n(lt),bt=function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(J.a)(n,[{key:"render",value:function(){var e=this.props,t=e.schema,n=e.combinatorKeyword,r=e.path,a=dt()(t,n),c=o.b.uiSchema(a,"VerticalLayout"),i=!1;return null!==c&&c.hasOwnProperty("elements")&&(i=c.elements.length>0),i?Object(j.jsx)(l.d,{schema:a,path:r,uischema:c}):null}}]),n}(i.a.Component),jt=bt,ft=function(e){var t=e.schema,n=e.rootSchema,r=e.indexOfFittingSchema,a=e.visible,i=e.path,u=e.renderers,s=e.cells,d=e.uischema,f=e.uischemas,O=Object(c.useState)(r||0),m=Object(I.a)(O,2),h=m[0],p=m[1],v=Object(c.useCallback)((function(e,t){return p(t)}),[p]),x="anyOf",g=Object(o.xb)(t,n,x),y=Object(o.m)(g.anyOf,n,x,d,i,f);return Object(j.jsxs)(b.a,{xsUp:!a,children:[Object(j.jsx)(jt,{schema:g,combinatorKeyword:"anyOf",path:i}),Object(j.jsx)(ut.a,{value:h,onChange:v,children:y.map((function(e){return Object(j.jsx)(st.a,{label:e.label},e.label)}))}),y.map((function(e,t){return h===t&&Object(j.jsx)(l.d,{schema:e.schema,uischema:e.uischema,path:i,renderers:u,cells:s},t)}))]})},Ot=Object(o.vb)(3,o.D),mt=Object(l.h)(ft),ht=function(e){var t=e.handleChange,n=e.schema,r=e.path,a=e.renderers,i=e.cells,u=e.rootSchema,d=e.id,f=e.visible,O=e.indexOfFittingSchema,m=e.uischema,h=e.uischemas,p=e.data,v=Object(c.useState)(!1),x=Object(I.a)(v,2),g=x[0],y=x[1],C=Object(c.useState)(O||0),k=Object(I.a)(C,2),w=k[0],M=k[1],P=Object(c.useState)(0),S=Object(I.a)(P,2),D=S[0],N=S[1],T=Object(c.useCallback)((function(){return y(!1)}),[y]),L=Object(c.useCallback)((function(){y(!1)}),[y]),E=Object(o.xb)(n,u,"oneOf"),A=Object(o.m)(E.oneOf,u,"oneOf",m,r,h),z=function(e){t(r,Object(o.n)(n.oneOf[e])),M(e)},R=Object(c.useCallback)((function(){z(D),y(!1)}),[t,o.n,D]),F=Object(c.useCallback)((function(e,t){N(t),s()(p)?z(t):y(!0)}),[y,M,p]);return Object(j.jsxs)(b.a,{xsUp:!f,children:[Object(j.jsx)(jt,{schema:E,combinatorKeyword:"oneOf",path:r}),Object(j.jsx)(ut.a,{value:w,onChange:F,children:A.map((function(e){return Object(j.jsx)(st.a,{label:e.label},e.label)}))}),A.map((function(e,t){return w===t&&Object(j.jsx)(l.d,{schema:e.schema,uischema:e.uischema,path:r,renderers:a,cells:i},t)})),Object(j.jsxs)(Ye.a,{open:g,onClose:T,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(j.jsx)(Ke.a,{id:"alert-dialog-title",children:"Clear form?"}),Object(j.jsx)(Ge.a,{children:Object(j.jsx)(Je.a,{id:"alert-dialog-description",children:"Your data will be cleared if you navigate away from this tab. Do you want to proceed?"})}),Object(j.jsxs)(Xe.a,{children:[Object(j.jsx)(Ze.a,{onClick:L,color:"primary",children:"No"}),Object(j.jsx)(Ze.a,{onClick:R,color:"primary",autoFocus:!0,id:"oneOf-".concat(d,"-confirm-yes"),children:"Yes"})]})]})]})},pt=Object(o.vb)(3,o.R),vt=Object(l.u)(ht),xt=n(1488),gt=i.a.memo((function(e){var t=e.data,n=e.className,r=e.id,a=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,u=e.config,s={autoFocus:!!Ee()({},u,c.options).focus},l=!!t;return Object(j.jsx)(xt.a,{checked:l,onChange:function(e,t){return o(i,t)},className:n,id:r,disabled:!a,inputProps:s})})),yt=n(1489),Ct=n(1395),kt=i.a.memo((function(e){var t=e.data,n=e.className,r=e.id,a=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,u=e.options,s=e.config,l=Ee()({},s,c.options);return Object(j.jsx)(yt.a,{className:n,id:r,disabled:!a,autoFocus:l.focus,value:void 0!==t?t:"",onChange:function(e){return o(i,e.target.value)},fullWidth:!0,variant:"standard",children:[Object(j.jsx)(Ct.a,{value:""},"empty")].concat(u.map((function(e){return Object(j.jsx)(Ct.a,{value:e.value,children:e.label},e.value)})))})})),wt=n(1940),It=n(374),Mt=n.n(It),Pt=n(375),St=n.n(Pt);Mt.a.extend(St.a);var Dt,Nt=function(e,t,n){return function(r){if(r){var a=Mt()(r).format(n);t(e,"Invalid Date"===a?void 0:a)}else t(e,void 0)}},Tt=function(e,t){if(!e)return null;var n=Mt()(e,t);return"Invalid Date"===n.toString()?null:n},Lt=n(371),Et=n.n(Lt),At=function(e){return e.target.value},zt=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:At,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:300,o=Object(c.useState)(null!==n&&void 0!==n?n:t),u=Object(I.a)(o,2),s=u[0],l=u[1];Object(c.useEffect)((function(){l(null!==n&&void 0!==n?n:t)}),[n]);var d=Object(c.useCallback)(Et()((function(t){return e(r,t)}),i),[e,r,i]),b=Object(c.useCallback)((function(e){var n=a(e);l(null!==n&&void 0!==n?n:t),d(n)}),[d,a]),j=Object(c.useCallback)((function(){l(t),e(r,void 0)}),[t,e,r]);return[s,b,j]},Rt=function(){var e=Object(c.useState)(!1),t=Object(I.a)(e,2),n=t[0],r=t[1];return[n,Object(c.useCallback)((function(){return r(!0)}),[]),Object(c.useCallback)((function(){return r(!1)}),[])]},Ft=function(e){return""===(t=e.target.value)?void 0:parseInt(t,10);var t},Vt=i.a.memo((function(e){var t=e.data,n=e.className,r=e.id,a=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,u=e.config,s=Ee()({},u,c.options),l=zt(o,"",t,i,Ft),d=Object(I.a)(l,2),b=d[0],f=d[1];return Object(j.jsx)(wt.a,{type:"number",value:b,onChange:f,className:n,id:r,disabled:!a,autoFocus:s.focus,inputProps:{step:"1"},fullWidth:!0})})),Ut=function(e){return""===(t=e.target.value)?void 0:parseFloat(t);var t},Bt=i.a.memo((function(e){var t=e.data,n=e.className,r=e.id,a=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,u=e.config,s=Ee()({},u,c.options),l=zt(o,"",t,i,Ut),d=Object(I.a)(l,2),b=d[0],f=d[1];return Object(j.jsx)(wt.a,{type:"number",value:b,onChange:f,className:n,id:r,disabled:!a,autoFocus:s.focus,inputProps:{step:"0.1"},fullWidth:!0})})),Ht=i.a.memo((function(e){var t,n=e.className,r=e.id,a=e.enabled,i=e.uischema,o=e.isValid,u=e.path,s=e.handleChange,l=e.schema,d=e.config,b=l.maxLength,f=Ee()({},d,i.options);t=f.restrict?{maxLength:b}:{};var O=e.toFormatted(e.data),m=Object(c.useCallback)((function(t){return e.fromFormatted(t.currentTarget.value)}),[e.fromFormatted]),h=zt(s,"",O,u,m),p=Object(I.a)(h,2),v=p[0],x=p[1];return Object(j.jsx)(wt.a,{type:"text",value:v,onChange:x,className:n,id:r,disabled:!a,autoFocus:f.focus,multiline:f.multi,fullWidth:!f.trim||void 0===b,inputProps:t,error:!o})})),qt=n(140),_t=n(1390),Wt=n(376),$t=n.n(Wt),Yt=i.a.memo((function(e){var t,n,r,a,i=Object(c.useState)(!1),o=Object(I.a)(i,2),u=o[0],s=o[1],l=e.data,d=e.config,b=e.className,f=e.id,O=e.enabled,m=e.uischema,h=e.isValid,p=e.path,v=e.handleChange,x=e.schema,g=e.muiInputProps,y=e.inputComponent,C=x.maxLength,k=Ee()({},d,m.options);a=k.restrict?{maxLength:C}:{},a=Ee()(a,g),k.trim&&void 0!==C&&(a.size=C);var w=zt(v,"",l,p),M=Object(I.a)(w,3),P=M[0],S=M[1],D=M[2],N=Object(qt.a)(),T={background:(null===(t=N.jsonforms)||void 0===t||null===(n=t.input)||void 0===n||null===(r=n.delete)||void 0===r?void 0:r.background)||N.palette.background.default,borderRadius:"50%"};return Object(j.jsx)(wt.a,{type:"password"===k.format?"password":"text",value:P,onChange:S,className:b,id:f,disabled:!O,autoFocus:k.focus,multiline:k.multi,fullWidth:!k.trim||void 0===C,inputProps:a,error:!h,onPointerEnter:function(){return s(!0)},onPointerLeave:function(){return s(!1)},endAdornment:Object(j.jsx)(_t.a,{position:"end",style:{display:u&&O&&void 0!==l?"flex":"none",position:"absolute",right:0},children:Object(j.jsx)(se.a,{"aria-label":"Clear input field",onClick:D,size:"large",children:Object(j.jsx)($t.a,{style:T})})}),inputComponent:y})})),Kt=i.a.memo((function(e){var t=e.data,n=e.className,r=e.id,a=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,u=e.config,s=Ee()({},u,c.options),l=zt(o,"",t,i),d=Object(I.a)(l,2),b=d[0],f=d[1];return Object(j.jsx)(wt.a,{type:"time",value:b,onChange:f,className:n,id:r,disabled:!a,autoFocus:s.focus,fullWidth:!0})})),Gt=n(1373),Jt=n(1425),Xt=n(1426),Zt=["schema","visible","errors","path","options","data","addItem","removeItem","handleChange"],Qt=function(e){var t=e.schema,n=e.visible,r=e.errors,c=e.path,i=e.options,u=e.data,l=e.addItem,d=e.removeItem,f=(e.handleChange,Object(U.a)(e,Zt));return Object(j.jsx)(b.a,{xlUp:!n,children:Object(j.jsxs)(Gt.a,{component:"fieldset",children:[Object(j.jsx)(Jt.a,{row:!0,children:i.map((function(e,i){var b=o.c.compose(c,"".concat(i)),O=null!==u&&void 0!==u&&u.includes(e.value)?e.value:void 0;return Object(j.jsx)(Xt.a,{id:e.value,control:Object(j.jsx)(gt,Object(a.a)({isValid:s()(r),path:b,handleChange:function(t,n){return n?l(c,e.value):d(c,e.value)},data:O,errors:r,schema:t,visible:n},f),"checkbox-"+e.value),label:ne()(e.label)},e.value)}))}),Object(j.jsx)(ue.a,{error:!0,children:r})]})})},en=Object(o.vb)(5,Object(o.e)(Object(o.Cb)("Control"),Object(o.e)(Object(o.yb)((function(e){return Object(o.A)(e,"array")&&!Array.isArray(e.items)&&!0===e.uniqueItems})),Object(o.zb)("items",(function(e){return function(e){return void 0!==e.oneOf&&e.oneOf.length>0&&e.oneOf.every((function(e){return void 0!==e.const}))}(e)||function(e){return"string"===e.type&&void 0!==e.enum}(e)}))))),tn=Object(l.r)(Qt),nn=Object(o.vb)(3,Object(o.ub)(o.O,o.T)),rn=Object(o.vb)(1,Object(o.Cb)("Label")),an=function(e){var t=e.uischema,n=e.visible,r=t;return Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)(ie.a,{variant:"h6",children:void 0!==r.text&&null!==r.text&&r.text})})},cn=Object(l.p)(an),on=n(1990),un=n(377),sn=n.n(un),ln=n(1405),dn=i.a.memo((function(e){var t=e.label,n=e.errors,r=e.addItem,a=e.path,c=e.createDefault;return Object(j.jsx)(ln.a,{disableGutters:!0,children:Object(j.jsxs)(d.a,{container:!0,alignItems:"center",justifyContent:"space-between",children:[Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(ie.a,{variant:"h6",children:t})}),Object(j.jsx)(b.a,{smUp:0===n.length,children:Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(De,{id:"tooltip-validation",errorMessages:n})})}),Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(d.a,{container:!0,children:Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(Ce.a,{id:"tooltip-add",title:"Add to ".concat(t),placement:"bottom",children:Object(j.jsx)(se.a,{"aria-label":"Add to ".concat(t),onClick:r(a,c()),size:"large",children:Object(j.jsx)(we.a,{})})})})})})]})})})),bn=n(1980),jn=n(1207),fn=n(1978),On=n(1392),mn=n(1991),hn=Object(l.q)((function(e){var t=e.index,n=e.childLabel,r=e.selected,a=e.handleSelect,c=e.removeItem,i=e.path;return Object(j.jsxs)(bn.a,{button:!0,selected:r,onClick:a(t),children:[Object(j.jsx)(jn.a,{children:Object(j.jsx)(fn.a,{"aria-label":"Index",children:t+1})}),Object(j.jsx)(On.a,{primary:n}),Object(j.jsx)(mn.a,{children:Object(j.jsx)(se.a,{"aria-label":"Delete",onClick:c(i,t),size:"large",children:Object(j.jsx)(fe.a,{})})})]})})),pn=function(e){var t=e.uischemas,n=e.schema,r=e.uischema,a=e.path,i=e.errors,u=e.visible,s=e.label,f=e.required,O=e.removeItems,m=e.addItem,h=e.data,p=e.renderers,v=e.cells,x=e.config,g=Object(c.useState)(),y=Object(I.a)(g,2),C=y[0],k=y[1],w=Object(c.useCallback)((function(e,t){return function(){O(e,[t])(),C===t?k(void 0):"number"===typeof C&&C>t&&k(C-1)}}),[O,k]),M=Object(c.useCallback)((function(e){return function(){return k(e)}}),[k]),P=Object(c.useCallback)((function(){return Object(o.n)(n)}),[o.n]),S=Object(c.useMemo)((function(){return Object(o.t)(t,n,r.scope,a,void 0,r)}),[t,n,r.scope,a,r]),D=Ee()({},x,r.options);return Object(j.jsxs)(b.a,{xsUp:!u,children:[Object(j.jsx)(dn,{label:Object(o.j)(s,f,D.hideRequiredAsterisk),errors:i,path:a,addItem:m,createDefault:P}),Object(j.jsxs)(d.a,{container:!0,direction:"row",spacing:2,children:[Object(j.jsx)(d.a,{item:!0,xs:3,children:Object(j.jsx)(on.a,{children:h>0?sn()(ae()(h),(function(e){return Object(j.jsx)(hn,{index:e,path:a,schema:n,handleSelect:M,removeItem:w,selected:C===e},e)})):Object(j.jsx)("p",{children:"No data"})})}),Object(j.jsx)(d.a,{item:!0,xs:!0,children:void 0!==C?Object(j.jsx)(l.d,{renderers:p,cells:v,visible:u,schema:n,uischema:S,path:Object(o.h)(a,"".concat(C))}):Object(j.jsx)(ie.a,{variant:"h6",children:"No Selection"})})]})]})},vn=Object(o.vb)(4,Object(o.e)(Object(o.Cb)("ListWithDetail"),o.N)),xn=Object(l.i)(pn),gn=function(e){var t=e.data,n=e.visible,r=e.label,a=e.id,c=e.enabled,i=e.uischema,o=e.schema,u=e.rootSchema,l=e.handleChange,d=e.errors,f=e.path,O=e.config;return Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)(Xt.a,{label:r,id:a,control:Object(j.jsx)(gt,{id:"".concat(a,"-input"),isValid:s()(d),data:t,enabled:c,visible:n,path:f,uischema:i,schema:o,rootSchema:u,handleChange:l,errors:d,config:O})})})},yn=Object(o.vb)(2,o.E),Cn=Object(l.l)(gn),kn=n(1208),wn=i.a.memo((function(e){var t=e.data,n=e.className,r=e.id,a=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,u=e.config,s={autoFocus:!!Ee()({},u,c.options).focus},l=!!t;return Object(j.jsx)(kn.a,{checked:l,onChange:function(e,t){return o(i,t)},className:n,id:r,disabled:!a,inputProps:s})})),In=function(e){var t=e.data,n=e.visible,r=e.label,a=e.id,c=e.enabled,i=e.uischema,o=e.schema,u=e.rootSchema,l=e.handleChange,d=e.errors,f=e.path,O=e.config;return Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)(Xt.a,{label:r,id:a,control:Object(j.jsx)(wn,{id:"".concat(a,"-input"),isValid:s()(d),data:t,enabled:c,visible:n,path:f,uischema:i,schema:o,rootSchema:u,handleChange:l,errors:d,config:O})})})},Mn=Object(o.vb)(3,Object(o.e)(o.E,Object(o.tb)("toggle",!0))),Pn=Object(l.l)(In),Sn=n(1374),Dn=function(e){var t=Rt(),n=Object(I.a)(t,3),r=n[0],c=n[1],i=n[2],u=e.id,s=e.description,l=e.errors,d=e.label,f=e.uischema,O=e.visible,m=e.required,h=e.config,p=e.input,v=0===l.length,x=Ee()({},h,f.options),g=!Object(o.I)(O,s,r,x.showUnfocusedDescription),y=g?s:v?null:l,C=g&&!v?l:null,k=p;return Object(j.jsx)(b.a,{xsUp:!O,children:Object(j.jsxs)(Gt.a,{fullWidth:!x.trim,onFocus:c,onBlur:i,id:u,variant:"standard",children:[Object(j.jsx)(Sn.a,{htmlFor:u+"-input",error:!v,required:Object(o.Bb)(m,x.hideRequiredAsterisk),children:d}),Object(j.jsx)(k,Object(a.a)(Object(a.a)({},e),{},{id:u+"-input",isValid:v,visible:O})),Object(j.jsx)(ue.a,{error:!v&&!g,children:y}),Object(j.jsx)(ue.a,{error:!v,children:C})]})})},Nn=n(1974),Tn=function(e){var t,n=e.data,r=e.className,a=e.id,c=e.enabled,o=e.uischema,u=e.path,s=e.handleChange,l=e.options,d=e.config,b=e.getOptionLabel,f=e.renderOption,O=e.filterOptions,m=Ee()({},d,o.options),h=i.a.useState(null!==n&&void 0!==n?n:""),p=Object(I.a)(h,2),v=p[0],x=p[1],g=null!==(t=null===l||void 0===l?void 0:l.find((function(e){return e.value===n})))&&void 0!==t?t:null;return Object(j.jsx)(Nn.a,{className:r,id:a,disabled:!c,value:g,onChange:function(e,t){s(u,null===t||void 0===t?void 0:t.value)},inputValue:v,onInputChange:function(e,t){x(t)},autoHighlight:!0,autoSelect:!0,autoComplete:!0,fullWidth:!0,options:null!==l&&void 0!==l?l:[],getOptionLabel:b||function(e){return null===e||void 0===e?void 0:e.label},style:{marginTop:16},renderInput:function(e){return Object(j.jsx)(wt.a,{style:{width:"100%"},type:"text",inputProps:e.inputProps,inputRef:e.InputProps.ref,autoFocus:m.focus,disabled:!c})},renderOption:f,filterOptions:O})},Ln=function(e){var t=e.config,n=e.uischema,r=Ee()({},t,n.options);return Object(j.jsx)(Dn,Object(a.a)(Object(a.a)({},e),{},{input:!1===r.autocomplete?kt:Tn}))},En=Object(o.vb)(2,o.J),An=Object(l.o)(Ln),zn=n(1368),Rn=function(e){var t,n=Rt(),r=Object(I.a)(n,3),a=r[0],c=r[1],i=r[2],u=e.id,s=e.errors,l=e.label,d=e.schema,f=e.description,O=e.enabled,m=e.visible,h=e.required,p=e.path,v=e.handleChange,x=e.data,g=e.config,y=0===s.length,C=Ee()({},g,e.uischema.options),k=zt(v,"",x,p),w=Object(I.a)(k,2),M=w[0],P=w[1],S=null!==(t=C.format)&&void 0!==t?t:d.format,D=!Object(o.I)(m,f,a,C.showUnfocusedDescription);return Object(j.jsx)(b.a,{xsUp:!m,children:Object(j.jsx)(zn.a,{required:Object(o.Bb)(h,C.hideRequiredAsterisk),id:u+"-input",label:l,type:S,error:!y,disabled:!O,fullWidth:!C.trim,onFocus:c,onBlur:i,helperText:y?D?f:null:s,InputLabelProps:{shrink:!0},value:M,onChange:P})})},Fn=Object(o.vb)(2,Object(o.ub)(o.G,o.W)),Vn=Object(l.l)(Rn),Un=n(1152),Bn=n(1198),Hn=n(1168),qn=function(e){var t,n,r=Rt(),i=Object(I.a)(r,3),u=i[0],s=i[1],l=i[2],d=e.description,f=e.id,O=e.errors,m=e.label,h=e.uischema,p=e.visible,v=e.enabled,x=e.required,g=e.path,y=e.handleChange,C=e.data,k=e.config,w=0===O.length,M=Ee()({},k,h.options),P=!Object(o.I)(p,d,u,M.showUnfocusedDescription),S=null!==(t=M.dateFormat)&&void 0!==t?t:"YYYY-MM-DD",D=null!==(n=M.dateSaveFormat)&&void 0!==n?n:"YYYY-MM-DD",N=P?d:w?null:O,T=P&&!w?O:null,L=Object(c.useMemo)((function(){return Nt(g,y,D)}),[g,y,D]);return Object(j.jsx)(b.a,{xsUp:!p,children:Object(j.jsxs)(Un.b,{dateAdapter:Hn.a,children:[Object(j.jsx)(Bn.a,{label:m,value:Tt(C,D),clearable:!0,onChange:L,inputFormat:S,disableMaskedInput:!0,views:M.views,disabled:!v,cancelText:M.cancelLabel,clearText:M.clearLabel,okText:M.okLabel,renderInput:function(e){return Object(j.jsx)(zn.a,Object(a.a)(Object(a.a)({},e),{},{id:f+"-input",required:x&&!M.hideRequiredAsterisk,autoFocus:M.focus,error:!w,fullWidth:!M.trim,inputProps:Object(a.a)(Object(a.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:C?{shrink:!0}:void 0,onFocus:s,onBlur:l,variant:"standard"}))}}),Object(j.jsx)(ue.a,{error:!w&&!P,children:N}),Object(j.jsx)(ue.a,{error:!w,children:T})]})})},_n=Object(o.vb)(4,o.G),Wn=Object(l.l)(qn),$n=n(1191),Yn=function(e){var t,n,r=Rt(),i=Object(I.a)(r,3),u=i[0],s=i[1],l=i[2],d=e.id,f=e.description,O=e.errors,m=e.label,h=e.uischema,p=e.visible,v=e.enabled,x=e.required,g=e.path,y=e.handleChange,C=e.data,k=e.config,w=Ee()({},k,h.options),M=0===O.length,P=!Object(o.I)(p,f,u,w.showUnfocusedDescription),S=null!==(t=w.dateTimeFormat)&&void 0!==t?t:"YYYY-MM-DD HH:mm",D=null!==(n=w.dateTimeSaveFormat)&&void 0!==n?n:void 0,N=P?f:M?null:O,T=P&&!M?O:null,L=Object(c.useMemo)((function(){return Nt(g,y,D)}),[g,y,D]);return Object(j.jsx)(b.a,{xsUp:!p,children:Object(j.jsxs)(Un.b,{dateAdapter:Hn.a,children:[Object(j.jsx)($n.a,{label:m,value:Tt(C,D),clearable:!0,onChange:L,inputFormat:S,disableMaskedInput:!0,ampm:!!w.ampm,views:w.views,disabled:!v,cancelText:w.cancelLabel,clearText:w.clearLabel,okText:w.okLabel,renderInput:function(e){return Object(j.jsx)(zn.a,Object(a.a)(Object(a.a)({},e),{},{id:d+"-input",required:x&&!w.hideRequiredAsterisk,autoFocus:w.focus,error:!M,fullWidth:!w.trim,inputProps:Object(a.a)(Object(a.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:C?{shrink:!0}:void 0,onFocus:s,onBlur:l,variant:"standard"}))}}),Object(j.jsx)(ue.a,{error:!M&&!P,children:N}),Object(j.jsx)(ue.a,{error:!M,children:T})]})})},Kn=Object(o.vb)(2,o.H),Gn=Object(l.l)(Yn),Jn=n(1197),Xn=function(e){var t,n,r=Rt(),i=Object(I.a)(r,3),u=i[0],s=i[1],l=i[2],d=e.id,f=e.description,O=e.errors,m=e.label,h=e.uischema,p=e.visible,v=e.enabled,x=e.required,g=e.path,y=e.handleChange,C=e.data,k=e.config,w=Ee()({},k,h.options),M=0===O.length,P=!Object(o.I)(p,f,u,w.showUnfocusedDescription),S=null!==(t=w.timeFormat)&&void 0!==t?t:"HH:mm",D=null!==(n=w.timeSaveFormat)&&void 0!==n?n:"HH:mm:ss",N=P?f:M?null:O,T=P&&!M?O:null,L=Object(c.useMemo)((function(){return Nt(g,y,D)}),[g,y,D]);return Object(j.jsx)(b.a,{xsUp:!p,children:Object(j.jsxs)(Un.b,{dateAdapter:Hn.a,children:[Object(j.jsx)(Jn.a,{label:m,value:Tt(C,D),clearable:!0,onChange:L,inputFormat:S,disableMaskedInput:!0,ampm:!!w.ampm,views:w.views,disabled:!v,cancelText:w.cancelLabel,clearText:w.clearLabel,okText:w.okLabel,renderInput:function(e){return Object(j.jsx)(zn.a,Object(a.a)(Object(a.a)({},e),{},{id:d+"-input",required:x&&!w.hideRequiredAsterisk,autoFocus:w.focus,error:!M,fullWidth:!w.trim,inputProps:Object(a.a)(Object(a.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:C?{shrink:!0}:void 0,onFocus:s,onBlur:l,variant:"standard"}))}}),Object(j.jsx)(ue.a,{error:!M&&!P,children:N}),Object(j.jsx)(ue.a,{error:!M,children:T})]})})},Zn=Object(o.vb)(4,o.W),Qn=Object(l.l)(Xn),er=n(1944),tr=n(1193),nr=function(e){var t=Rt(),n=Object(I.a)(t,3),r=n[0],a=n[1],i=n[2],u=e.id,s=e.data,l=e.description,d=e.enabled,f=e.errors,O=e.label,m=e.schema,h=e.handleChange,p=e.visible,v=e.path,x=e.required,g=e.config,y=0===f.length,C=Ee()({},g,e.uischema.options),k={flexGrow:"1"},w=!Object(o.I)(p,l,r,C.showUnfocusedDescription),M=Object(c.useCallback)((function(e,t){return h(v,Number(t))}),[v,h]);return Object(j.jsx)(b.a,{xsUp:!p,children:Object(j.jsxs)(Gt.a,{fullWidth:!C.trim,onFocus:a,onBlur:i,id:u,children:[Object(j.jsx)(er.a,{htmlFor:u,error:!y,component:"legend",required:Object(o.Bb)(x,C.hideRequiredAsterisk),children:Object(j.jsx)(ie.a,{id:u+"-typo",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},variant:"caption",children:O})}),Object(j.jsxs)("div",{style:{display:"flex"},children:[Object(j.jsx)(ie.a,{style:k,variant:"caption",align:"left",children:m.minimum}),Object(j.jsx)(ie.a,{style:k,variant:"caption",align:"right",children:m.maximum})]}),Object(j.jsx)(tr.a,{style:{marginTop:"7px"},min:m.minimum,max:m.maximum,value:Number(s||m.default),onChange:M,id:u+"-input",disabled:!d,step:m.multipleOf||1}),Object(j.jsx)(ue.a,{error:!y,children:y?w?l:null:f})]})})},rr=Object(o.vb)(4,o.U),ar=Object(l.l)(nr),cr=n(1169),ir=n(1194),or=function(e){var t=Rt(),n=Object(I.a)(t,3),r=n[0],a=n[1],c=n[2],i=e.config,u=e.id,s=e.label,l=e.required,d=e.description,f=e.errors,O=e.data,m=e.visible,h=e.options,p=e.handleChange,v=e.path,x=e.enabled,g=0===f.length,y=Ee()({},i,e.uischema.options),C=!Object(o.I)(m,d,r,y.showUnfocusedDescription);return Object(j.jsx)(b.a,{xsUp:!m,children:Object(j.jsxs)(Gt.a,{component:"fieldset",fullWidth:!y.trim,onFocus:a,onBlur:c,children:[Object(j.jsx)(er.a,{htmlFor:u,error:!g,component:"legend",required:Object(o.Bb)(l,y.hideRequiredAsterisk),children:s}),Object(j.jsx)(cr.a,{value:e.data,onChange:function(e,t){return p(v,t)},row:!0,children:null===h||void 0===h?void 0:h.map((function(e){return Object(j.jsx)(Xt.a,{value:e.value,control:Object(j.jsx)(ir.a,{checked:O===e.value}),label:e.label,disabled:!x},e.label)}))}),Object(j.jsx)(ue.a,{error:!g,children:g?C?d:null:f})]})})},ur=function(e){return Object(j.jsx)(or,Object(a.a)({},e))},sr=Object(o.vb)(20,Object(o.e)(o.J,Object(o.tb)("format","radio"))),lr=Object(l.o)(ur),dr=function(e){return Object(j.jsx)(Dn,Object(a.a)(Object(a.a)({},e),{},{input:Vt}))},br=Object(o.vb)(2,o.K),jr=Object(l.l)(dr),fr=function(e){return Object(j.jsx)(Dn,Object(a.a)(Object(a.a)({},e),{},{input:Bt}))},Or=Object(o.vb)(2,o.L),mr=Object(l.l)(fr),hr=function(e){return Object(j.jsx)(Dn,Object(a.a)(Object(a.a)({},e),{},{input:Yt}))},pr=Object(o.vb)(1,o.V),vr=Object(l.l)(hr),xr=function(e){return e.find((function(e){return void 0!==e.enum&&("string"===e.type||void 0===e.type)}))},gr=function(e){return e.find((function(e){return"string"===e.type&&void 0===e.enum}))},yr=function(e){var t=e.data,n=e.config,r=e.className,a=e.id,i=e.enabled,o=e.uischema,u=e.isValid,s=e.path,l=e.handleChange,d=e.schema,b=xr(d.anyOf),f=gr(d.anyOf).maxLength,O=Object(c.useMemo)((function(){return Ee()({},n,o.options)}),[n,o.options]),m=Object(c.useMemo)((function(){var t={};return O.restrict&&(t={maxLength:f}),O.trim&&void 0!==f&&(t.size=f),t.list=e.id+"datalist",t}),[O,e.id]),h=zt(l,"",t,s),p=Object(I.a)(h,2),v=p[0],x=p[1],g=Object(j.jsx)("datalist",{id:e.id+"datalist",children:b.enum.map((function(e){return Object(j.jsx)("option",{value:e},e)}))});return Object(j.jsx)(wt.a,{type:"text",value:v,onChange:x,className:r,id:a,disabled:!i,autoFocus:O.focus,fullWidth:!O.trim||void 0===f,inputProps:m,error:!u,endAdornment:g})},Cr=function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(J.a)(n,[{key:"render",value:function(){return Object(j.jsx)(Dn,Object(a.a)(Object(a.a)({},this.props),{},{input:yr}))}}]),n}(l.a),kr=Object(o.e)(Object(o.Cb)("Control"),Object(o.yb)((function(e){return e.hasOwnProperty("anyOf")&&function(e){var t=xr(e),n=gr(e),r=e.filter((function(e){return e!==t||e!==n})).find((function(e){return e.type&&"string"!==e.type}));return t&&n&&!r}(e.anyOf)}))),wr=Object(o.vb)(5,kr),Ir=Object(l.l)(Cr),Mr=function(e){var t=e.config,n=e.uischema,r=Ee()({},t,n.options);return Object(j.jsx)(Dn,Object(a.a)(Object(a.a)({},e),{},{input:!1===r.autocomplete?kt:Tn}))},Pr=Object(o.vb)(5,o.S),Sr=Object(l.t)(Mr),Dr=function(e){return Object(j.jsx)(or,Object(a.a)({},e))},Nr=Object(o.vb)(20,Object(o.e)(o.S,Object(o.tb)("format","radio"))),Tr=Object(l.t)(Dr),Lr=n(1209),Er=n(1210),Ar=n(1211),zr=["visible","enabled","uischema"],Rr=Object(o.vb)(1,Object(o.Cb)("Group")),Fr={marginBottom:"10px"},Vr=i.a.memo((function(e){var t=e.visible,n=e.enabled,r=e.uischema,c=Object(U.a)(e,zr),i=r;return Object(j.jsx)(b.a,{xsUp:!t,children:Object(j.jsxs)(Lr.a,{style:Fr,children:[!s()(i.label)&&Object(j.jsx)(Er.a,{title:i.label}),Object(j.jsx)(Ar.a,{children:Object(j.jsx)(m,Object(a.a)(Object(a.a)({},c),{},{visible:t,enabled:n,elements:i.elements}))})]})})})),Ur=function(e){var t=e.uischema,n=e.schema,r=e.path,a=e.visible,c=e.enabled,i=e.renderers,o=e.cells,u=e.direction,s=t;return Object(j.jsx)(Vr,{elements:s.elements,schema:n,path:r,direction:u,visible:a,enabled:c,uischema:t,renderers:i,cells:o})},Br=Object(l.p)(Ur),Hr=Object(o.Eb)(1,Rr),qr=n(1987),_r=Object(o.e)(Object(o.Cb)("Categorization"),(function(e){var t=e;return t.elements&&!!t.elements.reduce((function(e,t){return e&&"Category"===t.type}),!0)})),Wr=Object(o.vb)(1,_r),$r=function(e){var t=e.data,n=e.path,r=e.renderers,i=e.cells,u=e.schema,s=e.uischema,l=e.visible,d=e.enabled,f=e.selected,O=e.onChange,h=e.ajv,p=s,v=Object(c.useState)(null!==f&&void 0!==f?f:0),x=Object(I.a)(v,2),g=x[0],y=x[1],C=p.elements.filter((function(e){return Object(o.X)(e,t,void 0,h)})),k={elements:C[g].elements,schema:u,path:n,direction:"column",enabled:d,visible:l,renderers:r,cells:i};return Object(j.jsxs)(b.a,{xsUp:!l,children:[Object(j.jsx)(qr.a,{position:"static",children:Object(j.jsx)(ut.a,{value:g,onChange:function(e,t){O&&O(t,g),y(t)},textColor:"inherit",indicatorColor:"secondary",variant:"scrollable",children:C.map((function(e,t){return Object(j.jsx)(st.a,{label:e.label},t)}))})}),Object(j.jsx)("div",{style:{marginTop:"0.5em"},children:Object(j.jsx)(m,Object(a.a)({},k))})]})},Yr=Object(l.p)(h($r)),Kr=n(554),Gr=n.n(Kr),Jr=n(1837),Xr=n(1838),Zr=n(1839),Qr=n(288),ea=n.n(Qr),ta={float:"right"},na=function(e){var t=Object(c.useState)(Object(o.o)("expand-panel")),n=Object(I.a)(t,1)[0];Object(c.useEffect)((function(){return function(){Object(o.wb)(n)}}),[n]);var r=e.childLabel,a=e.childPath,i=e.index,u=e.expanded,s=e.moveDown,b=e.moveUp,f=e.enableMoveDown,O=e.enableMoveUp,m=e.handleExpansion,h=e.removeItems,p=e.path,v=e.rootSchema,x=e.schema,g=e.uischema,y=e.uischemas,C=e.renderers,k=e.cells,w=e.config,M=Object(c.useMemo)((function(){return Object(o.t)(y,x,g.scope,p,void 0,g,v)}),[y,x,g.scope,p,g,v]),P=Ee()({},w,g.options);return Object(j.jsxs)(Jr.a,{"aria-labelledby":n,expanded:u,onChange:m(a),children:[Object(j.jsx)(Xr.a,{expandIcon:Object(j.jsx)(ea.a,{}),children:Object(j.jsxs)(d.a,{container:!0,alignItems:"center",children:[Object(j.jsx)(d.a,{item:!0,xs:7,md:9,children:Object(j.jsxs)(d.a,{container:!0,alignItems:"center",children:[Object(j.jsx)(d.a,{item:!0,xs:2,md:1,children:Object(j.jsx)(fn.a,{"aria-label":"Index",children:i+1})}),Object(j.jsx)(d.a,{item:!0,xs:10,md:11,children:Object(j.jsx)("span",{id:n,children:r})})]})}),Object(j.jsx)(d.a,{item:!0,xs:5,md:3,children:Object(j.jsx)(d.a,{container:!0,justifyContent:"flex-end",children:Object(j.jsx)(d.a,{item:!0,children:Object(j.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[P.showSortButtons?Object(j.jsxs)(c.Fragment,{children:[Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(se.a,{onClick:b(p,i),style:ta,disabled:!O,"aria-label":"Move up",size:"large",children:Object(j.jsx)(pe.a,{})})}),Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(se.a,{onClick:s(p,i),style:ta,disabled:!f,"aria-label":"Move down",size:"large",children:Object(j.jsx)(me.a,{})})})]}):"",Object(j.jsx)(d.a,{item:!0,children:Object(j.jsx)(se.a,{onClick:h(p,[i]),style:ta,"aria-label":"Delete",size:"large",children:Object(j.jsx)(fe.a,{})})})]})})})})]})}),Object(j.jsx)(Zr.a,{children:Object(j.jsx)(l.d,{schema:x,uischema:M,path:a,renderers:C,cells:k},a)})]})},ra=function(e){return function(t){var n,r=t.ctx,i=t.props,u=(n=r.dispatch,{removeItems:Object(c.useCallback)((function(e,t){return function(r){r.stopPropagation(),n(Object(o.Db)(e,(function(e){return t.sort().reverse().forEach((function(t){return e.splice(t,1)})),e})))}}),[n]),moveUp:Object(c.useCallback)((function(e,t){return function(r){r.stopPropagation(),n(Object(o.Db)(e,(function(e){return Object(o.sb)(e,t),e})))}}),[n]),moveDown:Object(c.useCallback)((function(e,t){return function(r){r.stopPropagation(),n(Object(o.Db)(e,(function(e){return Object(o.rb)(e,t),e})))}}),[n])}),s=i.childLabelProp,l=i.schema,d=i.path,b=i.index,f=i.uischemas,O=Object(o.h)(d,"".concat(b)),m=o.d.data(r.core.data,O),h=s?Gr()(m,s,""):Gr()(m,Object(o.x)(l),"");return Object(j.jsx)(e,Object(a.a)(Object(a.a)(Object(a.a)({},i),u),{},{childLabel:h,childPath:O,uischemas:f}))}},aa=(Dt=i.a.memo(na),Object(l.k)(ra(Dt))),ca=function(e){var t=Object(c.useState)(!1),n=Object(I.a)(t,2),r=n[0],a=n[1],i=Object(c.useCallback)((function(){return Object(o.n)(e.schema)}),[e.schema]),u=Object(c.useCallback)((function(e){return function(t,n){a(!!n&&e)}}),[]),s=function(t){return r===Object(o.h)(e.path,"".concat(t))},l=e.data,d=e.path,b=e.schema,f=e.uischema,O=e.errors,m=e.addItem,h=e.renderers,p=e.cells,v=e.label,x=e.required,g=e.rootSchema,y=e.config,C=e.uischemas,k=Ee()({},y,e.uischema.options);return Object(j.jsxs)("div",{children:[Object(j.jsx)(dn,{label:Object(o.j)(v,x,k.hideRequiredAsterisk),errors:O,path:d,addItem:m,createDefault:i}),Object(j.jsx)("div",{children:l>0?sn()(ae()(l),(function(e){return Object(j.jsx)(aa,{index:e,expanded:s(e),schema:b,path:d,handleExpansion:u,uischema:f,renderers:h,cells:p,rootSchema:g,enableMoveUp:0!==e,enableMoveDown:e<l-1,config:y,childLabelProp:k.elementLabelProp,uischemas:C},e)})):Object(j.jsx)("p",{children:"No data"})})]})},ia=i.a.memo(ca),oa=function(e){var t=e.visible,n=e.enabled,r=e.id,a=e.uischema,i=e.schema,o=e.label,u=e.rootSchema,s=e.renderers,l=e.cells,d=e.data,f=e.path,O=e.errors,m=e.uischemas,h=e.addItem,p=Object(c.useCallback)((function(e,t){return h(e,t)}),[h]);return Object(j.jsx)(b.a,{xsUp:!t,children:Object(j.jsx)(ia,{label:o,uischema:a,schema:i,id:r,rootSchema:u,errors:O,enabled:n,visible:t,data:d,path:f,addItem:p,renderers:s,cells:l,uischemas:m})})},ua=Object(o.vb)(4,o.P),sa=Object(l.i)(oa),la=function(e){return Object(j.jsx)(gt,Object(a.a)({},e))},da=Object(o.vb)(2,o.E),ba=(Object(l.j)(la),function(e){return Object(j.jsx)(wn,Object(a.a)({},e))}),ja=Object(o.vb)(3,Object(o.e)(o.E,Object(o.tb)("toggle",!0))),fa=(Object(l.j)(ba),function(e){var t=e.data,n=e.className,r=e.id,a=e.enabled,c=e.uischema,i=e.path,o=e.handleChange,u=e.config,s=Ee()({},u,c.options);return Object(j.jsx)(wt.a,{type:"date",value:t||"",onChange:function(e){return o(i,e.target.value)},className:n,id:r,disabled:!a,autoFocus:s.focus,fullWidth:!0})}),Oa=Object(o.vb)(2,o.G),ma=(Object(l.j)(fa),function(e){return Object(j.jsx)(kt,Object(a.a)({},e))}),ha=(Object(o.vb)(2,o.J),Object(l.n)(ma),function(e){return Object(j.jsx)(Vt,Object(a.a)({},e))}),pa=Object(o.vb)(2,o.K),va=(Object(l.j)(ha),function(e){return Object(j.jsx)(Bt,Object(a.a)({},e))}),xa=Object(o.vb)(2,o.L),ga=(Object(l.j)(va),function(e){return Object(j.jsx)(Ht,Object(a.a)({},e))}),ya=Object(o.vb)(4,o.M),Ca=(Object(l.j)(ga),function(e){return Object(j.jsx)(kt,Object(a.a)({},e))}),ka=Object(o.vb)(2,o.S),wa=(Object(l.s)(Ca),function(e){return Object(j.jsx)(Yt,Object(a.a)({},e))}),Ia=Object(o.vb)(1,o.V),Ma=(Object(l.j)(wa),function(e){return Object(j.jsx)(Kt,Object(a.a)({},e))}),Pa=Object(o.vb)(2,o.W),Sa=(Object(l.j)(Ma),n(1199)),Da=n(1204),Na=n(1212),Ta=Object(o.vb)(2,Object(o.e)(Object(o.Cb)("Categorization"),o.f,Object(o.tb)("variant","stepper"))),La=function(e){var t=Object(c.useState)(0),n=Object(I.a)(t,2),r=n[0],i=n[1],u=function(e){i(e)},s=e.data,l=e.path,d=e.renderers,f=e.schema,O=e.uischema,h=e.visible,p=e.cells,v=e.config,x=e.ajv,g=O,y=Ee()({},v,O.options),C=g.elements.filter((function(e){return Object(o.X)(e,s,void 0,x)})),k={elements:C[r].elements,schema:f,path:l,direction:"column",visible:h,renderers:d,cells:p};return Object(j.jsxs)(b.a,{xsUp:!h,children:[Object(j.jsx)(Sa.a,{activeStep:r,nonLinear:!0,children:C.map((function(e,t){return Object(j.jsx)(Da.a,{children:Object(j.jsx)(Na.a,{onClick:function(){return u(t)},children:e.label})},e.label)}))}),Object(j.jsx)("div",{children:Object(j.jsx)(m,Object(a.a)({},k))}),y.showNavButtons?Object(j.jsxs)("div",{style:{textAlign:"right",width:"100%",margin:"1em auto"},children:[Object(j.jsx)(Ze.a,{style:{float:"right"},variant:"contained",color:"primary",disabled:r>=C.length-1,onClick:function(){return u(r+1)},children:"Next"}),Object(j.jsx)(Ze.a,{style:{marginRight:"1em"},color:"secondary",variant:"contained",disabled:r<=0,onClick:function(){return u(r-1)},children:"Previous"})]}):Object(j.jsx)(j.Fragment,{})]})},Ea=(Object(l.p)(h(La)),n(502)),Aa=n(938),za=Object(l.l)((function(e){var t=e.uischema.options.optionsSource,n=t.moduleName,i=t.functionName,o=Object(Ea.a)().call,u=Object(K.a)("function/".concat(n,"/").concat(i),Object(W.a)(Y.a.mark((function e(){var t,a,c,u,s,l,d,b,j;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,o(n,i);case 3:if(a=e.sent,Array.isArray(a)){c=Object(r.a)(a);try{for(c.s();!(u=c.n()).done;)s=u.value,l=void 0,d=void 0,Object(Aa.a)(s)?(l=s.value,"string"===typeof s.label&&(d=s.label)):l=s,Object(B.isPresent)(l)&&(j={label:null!==(b=d)&&void 0!==b?b:"string"===typeof l?l:JSON.stringify(l),value:l},t.push(j))}catch(f){c.e(f)}finally{c.f()}}return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),{fallbackData:[],revalidateOnMount:!0,revalidateOnFocus:!1}),s=u.data,l=Object(c.useMemo)((function(){return Object(a.a)(Object(a.a)({},e),{},{options:s})}),[e,s]);return Object(j.jsx)(Dn,Object(a.a)(Object(a.a)({},l),{},{input:kt}))})),Ra=Object(o.vb)(3,Object(o.e)(o.F,(function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.optionsSource;return!!n&&!!n.moduleName&&!!n.functionName}))),Fa=n(16),Va=n(1981),Ua=n(41),Ba=n(728),Ha=n.n(Ba),qa=n(380),_a=n.n(qa),Wa=n(434),$a=n.n(Wa),Ya=n(849),Ka=n.n(Ya),Ga=n(518),Ja=n.n(Ga),Xa=n(872),Za=n.n(Xa),Qa=n(283),ec=n(39),tc=Object(ec.a)();Qa.GlobalWorkerOptions.workerSrc=tc+"pdf.worker.min.js";var nc=n(118),rc=n(287),ac=["image/png","image/jpeg","image/webp"],cc=function(e){return new Promise((function(t,n){var r=new Image;r.crossOrigin="anonymous",r.addEventListener("load",(function(){return t(r)})),r.addEventListener("error",(function(e){return n(e)})),r.src=e}))},ic=function(){var e=Object(W.a)(Y.a.mark((function e(t,n){var r,a,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Blob([t.content],{type:t.mimeType}),a=URL.createObjectURL(r),e.prev=2,e.next=5,cc(a);case 5:c=e.sent,t.pages.push({getImageData:function(){var e=document.createElement("canvas"),t=e.getContext("2d");return e.width=c.naturalWidth,e.height=c.naturalHeight,t.drawImage(c,0,0),t.getImageData(0,0,c.naturalWidth,c.naturalHeight)},width:c.naturalWidth,height:c.naturalHeight,fileIndex:n,filePageNumber:0,pageIndex:0}),t.pageStates.push({rotate:0});case 8:return e.prev=8,URL.revokeObjectURL(a),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[2,,8,11]])})));return function(t,n){return e.apply(this,arguments)}}(),oc=function(){var e=Object(W.a)(Y.a.mark((function e(t,n){var r,a,c,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=new _a.a({buffer:t.content}),a=function(e,a){r.setDirectory(e);var c={getImageData:function(){r.setDirectory(e);var t=r.readRGBAImage();return new ImageData(new Uint8ClampedArray(t),r.width(),r.height())},width:r.width(),height:r.height(),fileIndex:n,filePageNumber:e,pageIndex:0};t.pages.push(c),t.pageStates.push({rotate:0})},c=0,i=r.countDirectory();c<i;++c)a(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),uc=function(){var e=Object(W.a)(Y.a.mark((function e(t,n){var r,a,c,i,o,u,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Uint8Array(t.content),e.next=3,Qa.getDocument(r).promise;case 3:for(a=e.sent,c=[],i=new Array(a.numPages),o=new Array(a.numPages),u=function(e){c.push(a.getPage(e+1).then(function(){var t=Object(W.a)(Y.a.mark((function t(r){var a,c;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=2*window.devicePixelRatio,c=r.getViewport({scale:a}),i[e]={getImageData:function(){var e=Object(W.a)(Y.a.mark((function e(){var t,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("canvas")).style.width="".concat(c.width/a,"px"),t.style.height="".concat(c.height/a,"px"),t.height=c.height,t.width=c.width,n=t.getContext("2d"),e.next=8,r.render({canvasContext:n,viewport:c}).promise;case 8:return e.abrupt("return",n.getImageData(0,0,t.width,t.height));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),width:c.width,height:c.height,fileIndex:n,filePageNumber:e,pageIndex:0},o[e]={rotate:0};case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},s=0;s<a.numPages;s++)u(s);return e.next=11,Promise.all(c);case 11:t.pages=i;case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),sc=function(){var e=Object(W.a)(Y.a.mark((function e(t,n,r){var a,c,i,o,u,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.lastIndexOf("/"),i=c>=0?t.substring(c+1):t,o={url:t,status:"loaded",name:i,mimeType:r.headers["content-type"],content:r.data,pages:[],pageStartIndex:0,pageStates:[]},u=null===(a=r.headers)||void 0===a?void 0:a["content-disposition"],(s=u?/filename="?([^"]*?)"?(;|$)/g.exec(u):void 0)&&s.length>1&&(o.name=s[1]),o.mimeType&&!ac.includes(o.mimeType)){e.next=11;break}return e.next=9,ic(o,n);case 9:case 14:e.next=19;break;case 11:if("image/tiff"!==o.mimeType){e.next=16;break}return e.next=14,oc(o,n);case 16:if("application/pdf"!==o.mimeType){e.next=19;break}return e.next=19,uc(o,n);case 19:return e.abrupt("return",o);case 20:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),lc=function(e,t){return Object(Ua.a)(e,(function(e){null===t||void 0===t||t.forEach((function(t,n){t.pages.forEach((function(t,n){var r,a=e[t.fileIndex];"loaded"===(null===a||void 0===a?void 0:a.status)&&(a.pageStates[t.filePageNumber].rotate=null!==(r=t.rotate)&&void 0!==r?r:0)}))}));var n,a=0,c=Object(r.a)(e);try{for(c.s();!(n=c.n()).done;){var i=n.value;if("loaded"===i.status){i.pageStartIndex=a;var o,u=Object(r.a)(i.pages);try{for(u.s();!(o=u.n()).done;){o.value.pageIndex=a++}}catch(s){u.e(s)}finally{u.f()}}}}catch(s){c.e(s)}finally{c.f()}}))},dc={height:170,width:170},bc=n(195),jc=Symbol("marker"),fc=n(236),Oc=n.n(fc),mc=n(235),hc=new(n(482).a)({allErrors:!0,addUsedSchema:!1,allowUnionTypes:!0,strict:"log"});hc.addMetaSchema(Object(M.p)(["default"],mc)),Oc()(hc),hc.addFormat("image",(function(){return!0})),hc.addFormat("markdown",(function(){return!0})),hc.addKeyword({keyword:"patternMask",type:"string",valid:!0,errors:!1});var pc=function(e,t){var n=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(e),a=r.byteLength,c=a%3,i=a-c,o=0;o<i;o+=3){var u=r[o]<<16|r[o+1]<<8|r[o+2],s=(258048&u)>>12,l=(4032&u)>>6,d=63&u;t+=n[(16515072&u)>>18]+n[s]+n[l]+n[d]}if(1===c){var b=r[i],j=(3&b)<<4;t+=n[(252&b)>>2]+n[j]+"=="}else if(2===c){var f=r[i]<<8|r[i+1],O=(1008&f)>>4,m=(15&f)<<2;t+=n[(64512&f)>>10]+n[O]+n[m]+"="}return t}(e);return"data:".concat(t,";base64,").concat(n)};var vc=function(){throw new Error("You forgot to wrap your component in <BatchProcessorContextProvider>.")},xc={fileInfos:[],documents:[],documentInfos:[],unusedPages:[],loadingImages:!1,setCurrentDocumentLocation:vc,updateCurrentDocument:vc,updateBatch:vc,movePage:vc,findByPageIndex:vc,deleteDocument:vc,addDocument:vc,updateDocument:vc,getDocument:vc,setCurrentDocumentEditionState:vc,canModify:!0,getDisplayableDataUrl:vc,rotateImage:vc,rotateAllImages:vc,getPageLocation:vc,canOcr:!1,ocrImage:vc},gc=Object(c.createContext)(xc),yc=function(){var e=Object(W.a)(Y.a.mark((function e(t,n){var r,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a.a.dereference(t,{resolve:{file:!1,custom:{order:1,canRead:function(e){return!!n[e.url.toLowerCase()]},read:function(e){return n[e.url.toLowerCase()]}}}});case 2:return r=e.sent,a=Ka()(r,{ignoreAdditionalProperties:!0}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Cc=function(){var e=Object(W.a)(Y.a.mark((function e(t){var n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(M.m)((function(e){return e[0]}),Object(M.h)((function(e){return e.$id.toLowerCase()}),t)),e.next=3,Promise.all(t.map((function(e){return yc(e,n)})));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kc=function(e,t){var n,a=Object(r.a)(t);try{for(a.s();!(n=a.n()).done;){var c,i=n.value,o="loaded"===i.status?i.pages:[],u=Object(r.a)(o);try{for(u.s();!(c=u.n()).done;){var s=c.value;if(s.pageIndex===e)return s}}catch(l){u.e(l)}finally{u.f()}}}catch(l){a.e(l)}finally{a.f()}},wc=function(e,t,n){var r=e;return r&&(r+=","),r+=t.toString(),t!==n&&(r+="-".concat(n)),r},Ic=function(e){if(0===e.length)return"";for(var t=e.map((function(e){return e+1})),n=t[0],r=n,a="",c=1;c<t.length;c++){var i=t[c];i===r+1&&r>=n||i===r-1&&r<=n?r=i:(a=wc(a,n,r),n=r=i)}return a=wc(a,n,r)},Mc=function(e,t){var n=new Array(e.length);return t.forEach((function(t,r){"loaded"===t.status&&t.pages.forEach((function(t,a){var c=e.indexOf(t.pageIndex);c>=0&&(n[c]={fileIndex:r,filePageNumber:a})}))})),n},Pc=function(e,t){return t&&!hc.validate(t,e.data)&&hc.errors?Object(bc.b)(hc.errors):[]},Sc=function(e,t){for(var n=e+t;n<0;)n+=360;for(;n>=360;)n-=360;return n},Dc=function(e,t){var n,r=Sc(null!==(n=e.rotate)&&void 0!==n?n:0,t);0===r?delete e.rotate:e.rotate=r},Nc=function(e){var t=e.basePath,n=e.batch,i=e.documentSchemasSource,u=e.readonly,s=e.ocrFunction,d=e.children,b=!u,f=Object(c.useState)(n),O=Object(I.a)(f,1)[0],m=function(e){var t=e.moduleName,n=e.functionName,a=Object(Ea.a)().call,i=Object(K.a)("function/".concat(t,"/").concat(n),Object(W.a)(Y.a.mark((function e(){var c,i,o,u,s,l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],e.next=3,a(t,n);case 3:if(i=e.sent,!Array.isArray(i)){e.next=25;break}o=Object(r.a)(i),e.prev=6,o.s();case 8:if((u=o.n()).done){e.next=17;break}if((s=u.value).$id){e.next=13;break}return console.error("Document schema without $id property. It will be ignored."),e.abrupt("continue",15);case 13:"success"===(l=Object(bc.c)(s)).type?c.push(s):console.error("Error validating schema ".concat(null===s||void 0===s?void 0:s.$id,". It will be ignored."),l.errors);case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),o.e(e.t0);case 22:return e.prev=22,o.f(),e.finish(22);case 25:if(!(c.length>0)){e.next=29;break}return e.next=28,Cc(c);case 28:c=e.sent;case 29:return e.abrupt("return",c);case 30:case"end":return e.stop()}}),e,null,[[6,19,22,25]])}))),{revalidateOnFocus:!1}),o=i.data,u=i.isValidating,s=i.error;return{documentSchemas:Object(c.useMemo)((function(){return null!==o&&void 0!==o?o:[]}),[o]),loading:u,error:s}}(i),h=m.documentSchemas,p=Object(l.f)().dispatch,v=function(e,t){var n=Object(rc.c)().hubBaseUrl,r=Object(nc.c)(),i=r.getConfiguredAxiosInstance,o=r.blobStorage_GetThumbnails,u=Object(c.useState)((function(){return e.fileUrls.map((function(e){var t=Za()(e);return t.is("relative")&&n&&(t=Za.a.joinPaths("BlobStorage",t).absoluteTo(n)),{url:t.valueOf(),status:"loading",name:t.filename()}}))})),s=Object(I.a)(u,2),l=s[0],d=s[1],b=Object(c.useState)(t&&e.fileUrls.length>0),j=Object(I.a)(b,2),f=j[0],O=j[1];return Object(c.useEffect)((function(){if(t){var r=Ja.a.CancelToken.source(),c=Ja.a.create({responseType:"arraybuffer",cancelToken:r.token}),u=i({responseType:"arraybuffer",cancelToken:r.token});return e.fileUrls.forEach((function(t,r){var i=t,s=Za()(t),l=c;s.is("relative")&&n&&(s=Za.a.joinPaths("BlobStorage",s),l=u),t=s.valueOf(),l.get(t).then((function(n){return sc(t,r,n).then((function(t){d((function(n){var a=Object(Ua.a)(n,(function(e){e[r]=t}));return a.every((function(e){return"loading"!==e.status}))&&(a=lc(a,e.documents),O(!1)),a})),o(Object(a.a)(Object(a.a)({path:i},dc),{},{format:"png"})).then((function(e){Object(M.k)(e)||d((function(t){return Object(Ua.a)(t,(function(t){var n=t[r];"loaded"===n.status&&(n.thumbnails=e)}))}))}))}))})).catch((function(n){d((function(a){var c=Object(Ua.a)(a,(function(e){e[r]=function(e,t){var n=e.lastIndexOf("/"),r=n>=0?e.substring(n+1):e,a={url:e,status:"failed",name:r,error:t.message};return t.response&&(a.error="Code: ".concat(t.response.status,"\nData: ").concat(t.response.data)),a}(t,n)}));return c.every((function(e){return"loading"!==e.status}))&&(c=lc(c,e.documents),O(!1)),c}))}))})),function(){r.cancel(),O(!1)}}d((function(e){return e.map((function(e){return{name:e.name,status:"loaded",url:e.url,content:new ArrayBuffer(0),pages:[],pageStartIndex:0,pageStates:[]}}))}))}),[o,t,i,n,e.documents,e.fileUrls]),{loadingFileInfos:f,fileInfos:l,setFileInfos:d}}(O,b),x=v.fileInfos,g=v.loadingFileInfos,y=v.setFileInfos,C=Object(c.useState)({documentIndex:O.documents.length>0?0:void 0}),k=Object(I.a)(C,2),P=k[0],S=k[1],D=Object(c.useState)([]),T=Object(I.a)(D,2),L=T[0],E=T[1],A=function(e){var t=N(),n=t.registerValidationProvider,r=t.unregisterValidationProvider,i=t.validationProviderUpdated,o=Object(c.useState)(),u=Object(I.a)(o,2),s=u[0],l=u[1];Object(c.useEffect)((function(){return n(e),function(){return r(e)}}),[e,n,r]),Object(c.useEffect)((function(){var t=(null!==s&&void 0!==s?s:[]).map((function(t){var n="".concat(e,".").concat(t.instancePath);return Object(a.a)(Object(a.a)({},t),{},{dataPath:n,instancePath:n})}));i(e,t)}),[s,e,i]);var d=Object(c.useCallback)((function(e){l((function(t){return Object(M.f)(t,e)?t:e}))}),[]);return Object(c.useMemo)((function(){return{updateErrors:d}}),[d])}(t),z=A.updateErrors,R=function(e,t){var n=Object(c.useState)([]),a=Object(I.a)(n,2),i=a[0],o=a[1];return Object(c.useEffect)((function(){o((function(n){for(var a=[],c=0;c<t.length;c++){var i=t[c];if("loaded"===i.status)for(var o=0;o<i.pageStates.length;o++){var u={fileIndex:c,filePageNumber:o},s=i.pageStates[o];Object(B.isPresent)(s.rotate)&&(u.rotate=s.rotate),a.push(u)}}var l,d=Object(r.a)(e.documents.flatMap((function(e){return e.pages})));try{var b=function(){var e=l.value,t=a.findIndex((function(t){return!!t&&t.fileIndex===e.fileIndex&&t.filePageNumber===e.filePageNumber}));t>-1&&(a[t]=void 0)};for(d.s();!(l=d.n()).done;)b()}catch(f){d.e(f)}finally{d.f()}var j=a.filter(B.isPresent);return Object(M.f)(j,n)?n:j}))}),[e.documents,t]),i}(n,x),F=Object(Ea.a)().call,V=Object(c.useMemo)((function(){return n.documents.map((function(e,t){var n;return{schemaId:e.schemaId,action:e.action,errors:null!==(n=L[t])&&void 0!==n?n:[]}}))}),[n.documents,L]);Object(c.useEffect)((function(){if(h&&0!==O.documents.length){var e=O.documents.map((function(e){var t=h.find((function(t){return t.$id===e.schemaId}));return Pc(e,t)}));E((function(t){return e.map((function(e,n){return t[n]?t[n]:e}))}))}}),[O,h]);var U=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(c.useRef)(e),r=n.current;if(e!==r)if(r.length!==e.length)n.current=e;else if(t)for(var a=Object(Fa.a)(e),i=0;i<r.length;i++){var o=a.indexOf(r[i]);if(-1===o){n.current=e;break}a[o]=jc}else for(var u=0;u<r.length;u++)if(r[u]!==e[u]){n.current=e;break}return n.current}(n.documents.reduce((function(e,t,n){return"send"===t.action&&e.push(n),e}),[]),!0);Object(c.useEffect)((function(){var e=U.flatMap((function(e){var t,n;return null!==(t=null===(n=L[e])||void 0===n?void 0:n.map((function(t){var n="documents[".concat(e,"].data.").concat(t.instancePath);return Object(a.a)(Object(a.a)({},t),{},{instancePath:n,dataPath:n})})))&&void 0!==t?t:[]}));b&&z(e)}),[b,L,U,z]);var H=Object(c.useCallback)((function(e,n){var r="function"===typeof n?n:function(){return n};null===p||void 0===p||p(Object(o.Db)(Object(o.h)(t,e),r))}),[p]),q=Object(c.useMemo)((function(){return Object(B.isPresent)(P.documentIndex)?Object(M.b)(n.documents[P.documentIndex]):void 0}),[n.documents,P.documentIndex]),_=Object(c.useCallback)((function(e){var t=null!==e&&void 0!==e?e:{};S((function(e){return e.documentIndex!==t.documentIndex||e.pageIndex!==t.pageIndex?t:e}))}),[]),$=Object(c.useCallback)((function(e){var t=null===P||void 0===P?void 0:P.documentIndex;Object(B.isPresent)(t)&&H("documents[".concat(t,"]"),e)}),[null===P||void 0===P?void 0:P.documentIndex,H]),G=Object(B.isPresent)(P.documentIndex)?L[P.documentIndex]:void 0,J=Object(c.useMemo)((function(){if(q&&G)return{document:q,errors:G}}),[q,G]),X=Object(c.useCallback)((function(e){var t=P.documentIndex;E((function(n){var r,a=q?{document:q,errors:n[t]}:void 0,c="function"===typeof e?e(a):e,i=Object(M.f)(null===c||void 0===c?void 0:c.errors,null===a||void 0===a?void 0:a.errors),o=Object(M.f)(null===c||void 0===c?void 0:c.document,null===a||void 0===a?void 0:a.document);if(i&&o)return n;var u=null===c||void 0===c?void 0:c.document;return u&&!o&&$(u),Object(M.y)(t,null!==(r=null===c||void 0===c?void 0:c.errors)&&void 0!==r?r:[],n)}))}),[q,P.documentIndex,$]),Z=Object(c.useCallback)((function(e,t){for(var r=0;r<n.documents.length;r++)for(var a=n.documents[r],c=0;c<a.pages.length;c++){var i=a.pages[c];if(i.fileIndex===e&&i.filePageNumber===t)return{documentIndex:r,documentOrder:c}}}),[n.documents]),Q=Object(c.useCallback)((function(e,t){var a=kc(e,x),c=function(e,t){var n,a=Object(r.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value;if("loaded"===c.status)for(var i=c.pages,o=0;o<i.length;o++)if(i[o].pageIndex===e)return c.pageStates[o]}}catch(u){a.e(u)}finally{a.f()}}(e,x);if(a&&c){var i=Z(a.fileIndex,a.filePageNumber);if(i||t){var o=Object(Ua.a)(n.documents,(function(e){i&&e[i.documentIndex].pages.splice(i.documentOrder,1),t&&e[t.documentIndex].pages.splice(t.documentOrder,0,{fileIndex:a.fileIndex,filePageNumber:a.filePageNumber,rotate:c.rotate})}));H("documents",o)}}}),[n.documents,x,Z,H]),ee=Object(c.useCallback)((function(e){return kc(e,x)}),[x]),te=Object(c.useCallback)((function(e){if(Object(B.isPresent)(n.documents[e])){var t=Object(Fa.a)(n.documents);t.splice(e,1),setTimeout((function(){return H("documents",t)}),0),E((function(t){return Object(M.r)(e,1,t)})),S((function(t){return t.documentIndex===e?{}:t}))}}),[n.documents,H]),ne=Object(c.useCallback)((function(e){var t=n.documents.length,a=Object(Fa.a)(n.documents);if(E((function(e){return[].concat(Object(Fa.a)(e),[[]])})),e.pages.length>0){var c=e.pages.map((function(e){return Z(e.fileIndex,e.filePageNumber)})).filter(B.isPresent);c.length>0&&(c=Object(M.t)([Object(M.e)((function(e){return e.documentIndex})),Object(M.e)((function(e){return e.documentOrder}))],c),a=Object(Ua.a)(a,(function(e){var t,n=Object(r.a)(c);try{for(n.s();!(t=n.n()).done;){var a=t.value;e[a.documentIndex].pages.splice(a.documentOrder,1)}}catch(i){n.e(i)}finally{n.f()}})))}return a.push(e),H("documents",a),t}),[n.documents,Z,H]),re=Object(c.useCallback)((function(e,t){var a=Object(Fa.a)(n.documents),c=a[e].schemaId;if(t.pages.length>0){var i=t.pages.map((function(e){return Z(e.fileIndex,e.filePageNumber)})).filter(B.isPresent).filter((function(t){return t.documentIndex!==e}));i.length>0&&(i=Object(M.t)([Object(M.e)((function(e){return e.documentIndex})),Object(M.e)((function(e){return e.documentOrder}))],i),a=Object(Ua.a)(a,(function(e){var t,n=Object(r.a)(i);try{for(n.s();!(t=n.n()).done;){var a=t.value;e[a.documentIndex].pages.splice(a.documentOrder,1)}}catch(c){n.e(c)}finally{n.f()}})))}if(a[e]=t,H("documents",a),c!==t.schemaId){var o=null===h||void 0===h?void 0:h.find((function(e){return e.$id===t.schemaId})),u=Pc(t,o);E((function(t){return Object(M.y)(e,u,t)}))}return e}),[n.documents,h,Z,H]),ae=Object(c.useCallback)((function(e){return n.documents[e]}),[n.documents]),ce=Object(c.useState)({}),ie=Object(I.a)(ce,2),oe=ie[0],ue=ie[1],se=Object(c.useCallback)((function(e){var t=oe[e];if(!t){var n=e.indexOf(",");if(!e.startsWith("data:")||-1===n)return e;if("image/tiff"===e.substring(5,n).split(";")[0]){var r=function(e){for(var t=atob(e.split(",")[1]),n=new ArrayBuffer(t.length),r=new Uint8Array(n),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return n}(e),c=new _a.a({buffer:r});t=c.toDataURL()}else t=e;ue((function(n){return Object(a.a)(Object(a.a)({},n),{},Object(w.a)({},e,t))}))}return t}),[oe]),le=Object(c.useCallback)((function(e,t){var r=-1,a=-1;y((function(n){return Object(Ua.a)(n,(function(n){for(var c=n.length-1;c>=0;c--){var i=n[c];if("loaded"===i.status&&i.pageStartIndex<=e){for(var o=0;o<i.pages.length;o++){var u=i.pages[o];if(e===u.pageIndex){var s=i.pageStates[o];s.rotate=Sc(s.rotate,t),r=u.fileIndex,a=u.filePageNumber;break}}break}}}))})),r>-1&&a>-1&&H("documents",Object(Ua.a)(n.documents,(function(e){var n,c=null===(n=e[r])||void 0===n?void 0:n.pages[a];c&&Dc(c,t)})))}),[n.documents,y,H]),de=Object(c.useCallback)((function(e){y((function(t){return Object(Ua.a)(t,(function(t){var n,a=Object(r.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value;if("loaded"===c.status){var i,o=Object(r.a)(c.pageStates);try{for(o.s();!(i=o.n()).done;){var u=i.value;u.rotate=Sc(u.rotate,e)}}catch(s){o.e(s)}finally{o.f()}}}}catch(s){a.e(s)}finally{a.f()}}))})),H("documents",Object(Ua.a)(n.documents,(function(t){var n,a=Object(r.a)(t.flatMap((function(e){return e.pages})));try{for(a.s();!(n=a.n()).done;){var c=n.value;Dc(c,e)}}catch(i){a.e(i)}finally{a.f()}})))}),[n.documents,y,H]),be=Object(c.useCallback)(function(){var e=Object(W.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}throw new Error("OcrFunction not defined");case 2:return e.next=4,F(s.moduleName,s.functionName,{image:t});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[F,s]),je=Object(c.useMemo)((function(){return{fileInfos:x,documents:n.documents,documentSchemas:h,unusedPages:R,loadingImages:g,documentInfos:V,currentDocumentLocation:P,setCurrentDocumentLocation:_,currentDocument:q,updateCurrentDocument:$,updateBatch:H,movePage:Q,findByPageIndex:ee,deleteDocument:te,addDocument:ne,updateDocument:re,getDocument:ae,currentDocumentEditionState:J,setCurrentDocumentEditionState:X,canModify:b,getDisplayableDataUrl:se,rotateImage:le,rotateAllImages:de,getPageLocation:Z,canOcr:!!s,ocrImage:be}}),[ne,n.documents,b,q,J,P,te,V,h,x,se,ae,Z,ee,X,_,g,Q,s,be,de,le,R,H,$,re]);return Object(j.jsx)(gc.Provider,{value:je,children:d})},Tc=function(){return Object(c.useContext)(gc)},Lc=n(162),Ec=n(66),Ac=n(321),zc=n.n(Ac),Rc=n(889),Fc=n.n(Rc),Vc=n(890),Uc=n.n(Vc),Bc=n(926),Hc=n(888),qc=n.n(Hc),_c=n(175),Wc=n(290),$c=n(1017),Yc=n(38),Kc=["saveAsDraft","send","dontSend"];Object.freeze(Kc);var Gc,Jc,Xc=n(176),Zc=n(557),Qc=n(558),ei=n(559),ti=function(e){var t=Object(Va.a)().t,n=Tc().documentSchemas,i=Object(c.useMemo)((function(){var e={};if(n){var t,a=Object(r.a)(n);try{for(a.s();!(t=a.n()).done;){var c,i=t.value;i.$id&&(e[i.$id]={label:null!==(c=i.title)&&void 0!==c?c:i.$id,description:i.description})}}catch(o){a.e(o)}finally{a.f()}}return e}),[n]),o=Object(c.useMemo)((function(){var e=Object.keys(i);return Object(M.s)((function(e){return i[e].label}),e)}),[i]);return Object(j.jsxs)(d.a,{container:!0,spacing:3,children:[Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(ei.a,{name:"schemaId",options:o,getOptionLabel:function(e){var t;return null===(t=i[e])||void 0===t?void 0:t.label},autoHighlight:!0,renderInput:function(e){return Object(j.jsx)(zn.a,Object(a.a)(Object(a.a)({},e),{},{label:t("DocumentType"),InputLabelProps:{required:!0},required:!0,autoFocus:!0,variant:"standard"}))},fullWidth:!0})}),Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(Qc.a,{name:"pages",label:t("Pages"),variant:"standard",fullWidth:!0})}),Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(Qc.a,{select:!0,name:"action",label:t("Action"),variant:"standard",fullWidth:!0,children:Kc.map((function(e){return Object(j.jsx)(Ct.a,{value:e,children:t("RecognizedDocumentAction.".concat(e))},e)}))})})]})},ni="(\\d+(\\s*-\\s*\\d+)?)",ri="^\\s*".concat(ni,"(\\s*,\\s*").concat(ni,")*\\s*$"),ai=new RegExp(ri),ci=function(e){var t=e.open,n=e.document,r=e.availablePageIndices,a=e.onChange,i=e.onClose,o=Object(Va.a)().t,u=Tc(),s=u.documentSchemas,l=u.fileInfos,d=Object(c.useMemo)((function(){var e,t=n?function(e,t){return e.map((function(e){var n=t[e.fileIndex];return"loaded"===n.status?n.pages[e.filePageNumber].pageIndex:-1}))}(n.pages,l):r;return{schemaId:null===n||void 0===n?void 0:n.schemaId,pages:Ic(t),action:null!==(e=null===n||void 0===n?void 0:n.action)&&void 0!==e?e:"send"}}),[r,n,l]),b=Object(c.useRef)(),f=Object(c.useMemo)((function(){return function(e,t){return $c.c().shape({schemaId:$c.d().required().test({test:function(e){return!e||!("string"!==typeof e||!t.find((function(t){return t.$id===e})))||this.createError({path:this.path,message:Yc.a.t("UnknownDocumentSchema",{schemaId:e})})}}),pages:$c.d().test({test:function(e){return!e||!("string"!==typeof e||!ai.test(e))||this.createError({path:this.path,message:Yc.a.t("InvalidPageRange",{range:e})})}}),action:$c.d().required().oneOf(Object(Fa.a)(Kc))})}(0,null!==s&&void 0!==s?s:[])}),[r,s]),O=Object(c.useCallback)((function(){var e=b.current;e&&Object(Zc.a)(e)}),[]),m=Object(c.useCallback)(function(){var e=Object(W.a)(Y.a.mark((function e(t,r){var c,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c={schemaId:t.schemaId,pages:[],data:null===n||void 0===n?void 0:n.data,action:t.action},t.pages&&(u=t.pages,o=Ha()(u).map((function(e){return e-1})),c.pages=Mc(o,l)),null===a||void 0===a||a(c),null===i||void 0===i||i()}finally{r.setSubmitting(!1)}case 1:case"end":return e.stop()}var u}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[null===n||void 0===n?void 0:n.data,l,a,i]),h=Object(c.useCallback)((function(){null===i||void 0===i||i()}),[i]),p=Object(c.useCallback)(function(){var e=Object(W.a)(Y.a.mark((function e(t,n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"backdropClick"!==n&&(null===i||void 0===i||i());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[i]);return Object(j.jsxs)(Ye.a,{open:t,onClose:p,maxWidth:"sm",fullWidth:!0,children:[Object(j.jsx)(Ke.a,{children:o(n?"EditingDocument":"AddingDocument")}),Object(j.jsx)(Ge.a,{children:Object(j.jsx)(Xc.a,{children:Object(j.jsx)(Wc.b,{innerRef:function(e){return b.current=e},initialValues:d,onSubmit:m,validationSchema:f,validateOnChange:!0,validateOnBlur:!0,children:Object(j.jsx)(Wc.a,{autoComplete:"off",children:Object(j.jsx)(ti,{availablePageIndices:r})})})})}),Object(j.jsxs)(Xe.a,{children:[Object(j.jsx)(Ze.a,{onClick:O,color:"primary",children:o("Accept")}),Object(j.jsx)(Ze.a,{onClick:h,color:"primary",children:o("Cancel")})]})]})},ii=n(1983),oi=function(e){return Object(j.jsxs)(ii.a,Object(a.a)(Object(a.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(j.jsx)("path",{d:"M808.3 950h-725C42.9 950 10 917.1 10 876.7V171.6c0-40.4 32.9-73.3 73.3-73.3h502.1c18.6 0 33.6 15.1 33.6 33.6 0 18.6-15.1 33.6-33.6 33.6H83.3c-3.4 0-6.1 2.7-6.1 6.1v705.1c0 3.4 2.7 6.1 6.1 6.1h724.9c3.4 0 6.1-2.7 6.1-6.1V492c0-18.6 15-33.6 33.6-33.6s33.6 15.1 33.6 33.6v384.7c.1 40.4-32.8 73.3-73.2 73.3z"}),Object(j.jsx)("path",{d:"M307.3 781.2c-16.1 0-31.1-8.1-40.1-21.7-8.9-13.5-10.5-30.4-4.1-45.3l83.4-196.8 431-431C801 62.9 832.3 50 865.5 50s64.5 13 88 36.5c48.5 48.6 48.5 127.5 0 176.1l-431 431-196.3 83.8c-6 2.5-12.4 3.8-18.9 3.8zm96-225.5-59.8 141.1 140.8-60.1L906 215c22.3-22.3 22.3-58.7 0-81-10.8-10.8-25.2-16.8-40.5-16.8s-29.7 6-40.5 16.8L403.3 555.7z"}),Object(j.jsx)("path",{d:"M398.4 502.3 530 633.8l-47.5 47.5-131.6-131.5 47.5-47.5zM800.2 100.5 931.8 232l-47.5 47.5L752.7 148l47.5-47.5z"})]}))},ui=n(1418),si=function(e){return!!e&&Object(B.isPresent)(e.documentIndex)&&!Object(B.isPresent)(e.pageIndex)},li=function(e){return!!e&&!Object(B.isPresent)(e.documentIndex)&&!Object(B.isPresent)(e.pageIndex)},di=function(e){return!!e&&Object(B.isPresent)(e.pageIndex)},bi=function(e){var t=e.node;return di(t)?"p-".concat(t.pageIndex):si(t)?"d-".concat(t.documentIndex):"o"},ji=function(e){return!di(e)},fi=function(e){return di(e.node)},Oi=function(e){var t=e.node,n=e.nextParent,r=t;return!!n&&(!!Object(B.isPresent)(r.documentIndex)||!li(n))},mi=function(){var e=Tc(),t=e.documentSchemas,n=e.fileInfos,r=e.documentInfos,i=e.canModify,o=e.setCurrentDocumentLocation,u=e.getPageLocation,s=Object(c.useMemo)((function(){return[]}),[]),l=Object(c.useState)(s),d=Object(I.a)(l,2),b=d[0],f=d[1];return Object(c.useEffect)((function(){f((function(e){var c=i?function(e,t,n,r){var c=[],i=[];e.forEach((function(e,n){"loaded"===e.status&&e.pages.forEach((function(r,o){var u=Yc.a.t("PageN",{index:r.pageIndex+1});if(e.thumbnails){var s=e.thumbnails[o],l=e.pageStates[o].rotate,d=Object(B.isPresent)(l)?{transform:"rotate(".concat(l,"deg)")}:void 0;u=Object(j.jsxs)(ui.a,{height:"100%",children:[Object(j.jsx)("img",{src:s,alt:" ",style:Object(a.a)(Object(a.a)({},d),{},{top:"0px",left:"30px",position:"absolute",height:"100%"})}),Object(j.jsx)(ui.a,{position:"absolute",bottom:8,right:8,children:u})]})}var b=t(n,o),f={title:u,pageIndex:r.pageIndex};if(Object(B.isPresent)(b)){f.documentIndex=b.documentIndex;var O=i[b.documentIndex];O||(i[b.documentIndex]=O=[]),O[b.documentOrder]=f}else c.push(f)}))}));var o=n.map((function(e,t){var n,a=null!==(n=i[t])&&void 0!==n?n:[],c=a.length,o=Yc.a.t("DocumentN",{index:t+1,count:c}),u=e.schemaId;if(u){var s=null===r||void 0===r?void 0:r.find((function(e){return e.$id===u}));if(s){var l=s.title;if(!l){var d=u.lastIndexOf("/");(l=u.substring(d+1)).toLocaleLowerCase().endsWith(".json")&&(l=l.substring(0,l.length-5))}o=Yc.a.t("NamedDocumentN",{title:l,index:t+1,count:c})}}return{documentIndex:t,title:o,action:e.action,errors:e.errors,children:a}}));return[].concat(Object(Fa.a)(o),[{title:Yc.a.t("OrphanPages",{count:c.length}),children:c}])}(n,u,r,t):function(e,t){return e.map((function(n,r){var a=Yc.a.t("DocumentN",{index:r+1}),c=e[r].schemaId;if(c){var i=null===t||void 0===t?void 0:t.find((function(e){return e.$id===c}));if(i){var o=i.title;if(!o){var u=c.lastIndexOf("/");(o=c.substring(u+1)).toLocaleLowerCase().endsWith(".json")&&(o=o.substring(0,o.length-5))}a="".concat(r+1," - ").concat(o)}}return{documentIndex:r,title:a,action:e[r].action,errors:e[r].errors,children:[]}}))}(r,t);if(e.length>0){for(var o=0;o<Math.min(c.length,e.length-1);o++)c[o].expanded=e[o].expanded;c[c.length-1].expanded=e[e.length-1].expanded}return s===e&&c.length>0&&(c[0].expanded=!0),c}))}),[i,r,t,n,u,s,o]),{treeData:b,setTreeData:f}},hi=function(e){var t=e.node;return di(t)&&"string"!==typeof t.title?Math.max(dc.height,dc.width)+62:62},pi=function(){var e=Tc(),t=e.fileInfos,n=e.loadingImages,i=e.movePage,o=e.currentDocumentLocation,u=e.setCurrentDocumentLocation,s=e.canModify,l=e.unusedPages,d=e.addDocument,b=e.deleteDocument,j=e.updateDocument,f=e.getDocument,O=mi(),m=O.treeData,h=O.setTreeData;Object(c.useEffect)((function(){if(!n&&s&&o&&Object(B.isPresent)(o.documentIndex)&&!Object(B.isPresent)(o.pageIndex)){var e,t=Object(r.a)(m);try{for(t.s();!(e=t.n()).done;){var c=e.value;if(si(c)&&c.documentIndex===o.documentIndex&&Array.isArray(c.children)){var i=c.children[0];di(i)&&u(Object(a.a)(Object(a.a)({},o),{},{pageIndex:i.pageIndex}))}}}catch(l){t.e(l)}finally{t.f()}}}),[s,o,n,u,m]);var p=Object(c.useMemo)((function(){return l.map((function(e){var n=t[e.fileIndex];if("loaded"===n.status)return n.pages[e.filePageNumber].pageIndex})).filter(B.isPresent)}),[t,l]),v=Object(c.useCallback)((function(e){!function(e){var t=e[e.length-1],n=t.children;li(t)&&Array.isArray(n)&&n.sort(Object(M.c)((function(e,t){return e.pageIndex<t.pageIndex})))}(e),h(e)}),[h]),x=Object(c.useCallback)((function(e,t){var n=e,r=t;if(!li(r)||Object(B.isPresent)(n.documentIndex))if(si(r)){var a=r.documentIndex,c=r.children.findIndex((function(e){return e.pageIndex===n.pageIndex}));i(n.pageIndex,{documentIndex:a,documentOrder:c})}else li(r)&&i(n.pageIndex)}),[i]),g=Object(c.useCallback)((function(e){var t=e,n=t.pageIndex;Object(B.isPresent)(n)||!Array.isArray(t.children)||Object(M.k)(t.children)||(n=t.children[0].pageIndex),u({documentIndex:t.documentIndex,pageIndex:n})}),[u]),y=Object(c.useCallback)((function(e){return o&&e.documentIndex===o.documentIndex&&(si(e)||e.pageIndex===o.pageIndex)}),[o]),C=Object(c.useCallback)((function(e){e.data={};var t=d(e);u({documentIndex:t})}),[d,u]),k=Object(c.useCallback)((function(e,t){f(e).schemaId!==t.schemaId&&(t.data={}),j(e,t)}),[f,j]),w=Object(c.useCallback)((function(e){var n=p;if(Object(B.isPresent)(e)){var r=f(e).pages.map((function(e){var n=t[e.fileIndex];if("loaded"===n.status)return n.pages[e.filePageNumber].pageIndex})).filter(B.isPresent);r.push.apply(r,Object(Fa.a)(n)),n=r.sort()}return n}),[t,f,p]);return{treeData:m,unusedPageIndices:p,setTreeData:v,selectNode:g,moveNode:x,loadingImages:n,canModify:s,canNodeHaveChildren:ji,getNodeKey:bi,canDragNode:fi,canDrop:Oi,getRowHeight:hi,isNodeSelected:y,addDocument:C,deleteDocument:b,updateDocument:k,getAvailablePageIndices:w}},vi=n(1521),xi=n(1520),gi=Object(z.a)((function(e){return Object(A.a)({tree:{"& .rstcustom__collapseButton":{color:"dark"===e.palette.mode?"white":void 0,backgroundImage:void 0},"& .rstcustom__expandButton":{color:"dark"===e.palette.mode?"white":void 0,backgroundImage:void 0},"& .rstcustom__collapseButton:focus, & .rst__expandButton:focus":{outline:"initial"},"& .rstcustom__highlight":{backgroundColor:"dark"===e.palette.mode?vi.a[700]:void 0}},node:{"& .rstcustom__rowContents":{cursor:"pointer",backgroundColor:e.palette.background.default,minWidth:Math.max(dc.height,dc.width,120)+30,justifyContent:"center",paddingLeft:30},"& .rstcustom__moveHandle":{backgroundColor:"dark"===e.palette.mode?vi.a[700]:void 0}},selectedNode:{"& .rstcustom__rowContents":{backgroundColor:e.palette.action.selected}}})})),yi=function(e){var t,n,r=e.node,a=Object(Va.a)().t,c="send"===r.action?Fc.a:"dontSend"===r.action?Uc.a:oi,i=(t=c,n=r.action,Object(ve.a)(t)((function(e){var t=e.theme;return{marginLeft:5,verticalAlign:"bottom",color:"send"===n?xi.a[500]:"dontSend"===n?t.palette.error.main:void 0}})));return Object(j.jsx)(Ce.a,{title:a("RecognizedDocumentAction.".concat(r.action)),children:Object(j.jsx)("span",{children:Object(j.jsx)(i,{})})})},Ci=Object(ve.a)(d.a)({display:"flex"}),ki=Object(ve.a)(ie.a,{shouldForwardProp:function(e){return"hasErrors"!==e}})((function(e){var t=e.theme;return{display:"block",wordWrap:"break-word",width:"175px",maxHeight:"40px",overflow:"hidden",whiteSpace:"normal",textDecoration:e.hasErrors?"underline wavy ".concat(t.palette.error.main):void 0}})),wi=function(e){var t=e.node,n=e.canModify,r="send"===t.action&&t.errors.length>0&&n;return Object(j.jsxs)(Ci,{alignItems:"center",justifyContent:"center",alignContent:"stretch",children:[Object(j.jsx)(ki,{noWrap:!1,variant:"body2",hasErrors:r,children:t.title}),Object(j.jsx)(yi,{node:t})]})},Ii=function(e){var t=e.description,n=e.onClick,r=e.icon;return Object(j.jsx)(Ce.a,{title:t,children:Object(j.jsx)(se.a,{size:"small",onClick:n,children:r})})},Mi=function(e){var t=e.node,n=e.getAvailablePageIndices,r=e.onUpdateDocument,a=Object(Va.a)().t,i=Object(c.useState)(),o=Object(I.a)(i,2),u=o[0],s=o[1],l=Tc().getDocument,d=Object(c.useMemo)((function(){return n(u)}),[u,n]),b=Object(c.useCallback)((function(e,t){s(t)}),[]),f=Object(c.useCallback)((function(e){null===r||void 0===r||r(u,e)}),[u,r]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ii,{description:a("Edit"),icon:Object(j.jsx)(zc.a,{}),onClick:function(e){return b(e,t.documentIndex)}}),Object(B.isPresent)(u)&&Object(j.jsx)(ci,{open:Object(B.isPresent)(u),document:l(u),availablePageIndices:d,onChange:f,onClose:function(){return s(void 0)}})]})},Pi=function(e){var t=e.node,n=e.onDeleteDocument,r=Object(Va.a)().t,a=Object(_c.c)(),i=Object(c.useCallback)(function(){var e=Object(W.a)(Y.a.mark((function e(c){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.stopPropagation(),e.next=3,a({description:r("ConfirmDeleteBatchDocument",{name:t.title})});case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:null===n||void 0===n||n(t.documentIndex);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,t.documentIndex,t.title,n,r]);return Object(j.jsx)(Ii,{description:r("Delete"),icon:Object(j.jsx)(fe.a,{}),onClick:i})},Si=function(e){var t=e.unusedPageIndices,n=e.onAddDocument,r=Object(Va.a)().t,a=Object(c.useState)(!1),i=Object(I.a)(a,2),o=i[0],u=i[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ce.a,{title:r("AddDocument"),children:Object(j.jsx)(se.a,{onClick:function(){return u(!0)},size:"small",children:Object(j.jsx)(we.a,{})})}),o&&Object(j.jsx)(ci,{open:o,availablePageIndices:t,onChange:n,onClose:function(){return u(!1)}})]})},Di=Object(ve.a)(ln.a)((function(e){var t=e.theme;return{minHeight:"48px",paddingLeft:0,borderBottom:"solid 2px ".concat(t.palette.divider)}})),Ni=function(e){var t=gi(),n=pi(),r=n.canModify,a=n.moveNode,i=n.setTreeData,o=n.selectNode,u=n.isNodeSelected,s=n.treeData,l=n.unusedPageIndices,d=n.loadingImages,b=n.getNodeKey,f=n.canDragNode,O=n.canDrop,m=n.canNodeHaveChildren,h=n.getRowHeight,p=n.addDocument,v=n.deleteDocument,x=n.updateDocument,g=n.getAvailablePageIndices,y=Object(c.useCallback)((function(e){var t=e.node,n=e.nextParentNode,r=e.prevTreeIndex,c=e.nextTreeIndex;n&&r!==c&&a(t,n)}),[a]),C=Object(c.useCallback)((function(e,t){var n,r,a=e.target;!0!==(null===(n=a.classList)||void 0===n?void 0:n.contains("rst__collapseButton"))&&!0!==(null===(r=a.classList)||void 0===r?void 0:r.contains("rst__expandButton"))&&o(t)}),[o]),k=Object(c.useCallback)((function(e){var n=e.node,a={onClick:function(t){return C(t,e.node)},className:Object(Ec.default)(t.node,Object(w.a)({},t.selectedNode,u(n)))};if(si(n)){if(r){var c=Object(j.jsx)(Mi,{node:n,onUpdateDocument:x,getAvailablePageIndices:g}),i=Object(j.jsx)(Pi,{node:n,onDeleteDocument:v});a.buttons=[c,i]}a.title=function(){return Object(j.jsx)(wi,{node:n,canModify:r})}}return a}),[r,t.node,t.selectedNode,v,g,C,u,x]);return d?null:Object(j.jsxs)(j.Fragment,{children:[r&&Object(j.jsx)(Di,{children:Object(j.jsx)(Si,{unusedPageIndices:l,onAddDocument:p})}),Object(j.jsx)(Bc.a,{treeData:s,onChange:i,onMoveNode:y,getNodeKey:b,canDrag:f,canDrop:O,canNodeHaveChildren:m,isVirtualized:!1,generateNodeProps:k,className:t.tree,rowHeight:h,theme:qc.a})]})},Ti=n(891),Li=function(e){return Object(j.jsx)(ii.a,Object(a.a)(Object(a.a)({viewBox:"0 0 512 512"},e),{},{children:Object(j.jsx)("path",{d:"M9.5 1.4C2.3 4.6 0 9.7 0 22.6V32h32V0h-9.7c-5.9.1-11 .6-12.8 1.4zM62 16v16h29V0H62v16zM121 16v16h29V0h-29v16zM180 16v16h29V0h-29v16zM239 16v16h29V0h-29v16zM298 16v16h29V0h-29v16zM357 16v16h29V0h-29v16zM416 15.9V32h32.2l-.4-10.9c-.2-9.2-.6-11.4-2.4-13.7-4.4-6-6.7-6.9-18.5-7.2L416-.2v16.1zM0 76.5V91h32V62H0v14.5zM416 76.5V91h32V62h-32v14.5zM0 135.5V150h32v-29H0v14.5zM416 135.5V150h32v-29h-32v14.5zM0 194.5V209h32v-29H0v14.5zM416 194.5V209h32v-29h-32v14.5zM297.5 225.4c-4.1 1.8-8.3 6.9-9 10.9-.3 1.8-.4 62.2-.3 134.4.3 130.7.3 131.2 2.4 133.9 4.9 6.7 13 9.1 19.5 6 1.9-.9 20.5-15.3 41.4-32.1l38-30.4 54.8-.1c59.9 0 58.9.1 64-5.9 3-3.7 4.2-8.5 3.2-13.9-.6-3.3-11.6-14.6-99.3-102.6-57.7-57.7-100-99.4-101.9-100.2-4-1.7-8.9-1.7-12.8 0zM417.7 416l-39.4.5-3.9 3c-2.1 1.6-15 11.8-28.6 22.7-13.6 10.9-25 19.8-25.3 19.8-.3 0-.5-41.3-.5-91.7v-91.8l68.5 68.5 68.5 68.5-39.3.5zM0 253.5V268h32v-29H0v14.5zM416 253.5V268h32v-29h-32v14.5zM0 312.5V327h32v-29H0v14.5zM0 371.5V386h32v-29H0v14.5zM.2 426.9c.3 11.8 1.2 14.1 7.2 18.5 2.3 1.8 4.5 2.2 13.7 2.4l10.9.4V416H-.2l.4 10.9zM62 432v16h29v-32H62v16zM121 432v16h29v-32h-29v16zM180 432v16h29v-32h-29v16z"})}))},Ei=n(892),Ai=n.n(Ei),zi=n(902),Ri=n.n(zi),Fi=function(){throw new Error("You forgot to wrap your component in <ImageCaptureContextProvider>.")},Vi="move",Ui={captureAvailable:!1,captureImage:Fi,clearCapture:Fi,setCurrentCropper:Fi,loadPage:Fi,releasePage:Fi,fitPage:Fi,fitWidth:Fi,zoomOut:Fi,zoomIn:Fi,dragMode:Vi,setDragMode:Fi,rotateTo:Fi,move:Fi},Bi=Object(c.createContext)(Ui),Hi=function(e){var t=e.outputImageFormat,n=e.children,r=Object(c.useState)(),a=Object(I.a)(r,2),i=a[0],o=a[1],u=Object(c.useState)(),s=Object(I.a)(u,2),l=s[0],d=s[1],b=Object(c.useState)(Vi),f=Object(I.a)(b,2),O=f[0],m=f[1],h=Object(c.useCallback)((function(e){if(i){var n=function(e,t){if("image/tiff"===t){var n=e.getContext("2d").getImageData(0,0,e.width,e.height),r=new Uint8Array(n.data.buffer),a=Ai.a.encodeImage(r,n.width,n.height);return pc(a,"image/tiff")}return e.toDataURL()}(i.getCroppedCanvas(),null!==e&&void 0!==e?e:t);return i.clear(),o(void 0),n}}),[i,t]),p=Object(c.useCallback)((function(){null===l||void 0===l||l.clear(),o(void 0)}),[l]),v=Object(c.useCallback)((function(e,t){var n=e.getContext("2d");if(!n)return!1;n.putImageData(t,0,0);var r=new Ri.a(e,{dragMode:Vi,initialAspectRatio:Number.NaN,guides:!1,crop:function(){var e=null===r||void 0===r?void 0:r.getCropBoxData();e&&!Object(M.k)(e)&&o(r)},viewMode:1,autoCrop:!1,ready:function(){d(r)}});return r.clear(),m(Vi),!0}),[]),x=Object(c.useCallback)((function(){d((function(e){e&&e.destroy()})),o(void 0)}),[]),g=Object(c.useCallback)((function(){if(l){var e=l.getContainerData(),t=e.width,n=e.height,r=l.getImageData(),a=r.naturalHeight,c=r.naturalWidth,i=t/c,o=n/a,u=Math.min(i,o);l.zoomTo(u);var s=u===i?0:(t-c*u)/2,d=u===o?0:(n-a*u)/2;l.moveTo(s,d)}}),[l]),y=Object(c.useCallback)((function(){if(l){var e=l.getContainerData(),t=e.width,n=e.height,r=l.getImageData(),a=r.naturalHeight,c=t/r.naturalWidth,i=n/a,o=Math.min(c,i);l.zoomTo(c);var u=o===i?0:(n-a*o)/2;l.moveTo(0,u)}}),[l]),C=Object(c.useCallback)((function(){null===l||void 0===l||l.zoom(-.1)}),[l]),k=Object(c.useCallback)((function(){null===l||void 0===l||l.zoom(.1)}),[l]),w=Object(c.useCallback)((function(e){null===l||void 0===l||l.rotateTo(e)}),[l]),P=Object(c.useCallback)((function(e,t){null===l||void 0===l||l.move(e,t)}),[l]),S=Object(c.useCallback)((function(e){m(e),null===l||void 0===l||l.setDragMode(e)}),[l]),D=Object(c.useMemo)((function(){return{captureAvailable:!!i,captureImage:h,clearCapture:p,currentCropper:i,setCurrentCropper:o,loadPage:v,releasePage:x,fitPage:g,fitWidth:y,zoomOut:C,zoomIn:k,dragMode:O,setDragMode:S,rotateTo:w,move:P}}),[S,h,p,i,O,g,y,v,P,x,w,k,C]);return Object(j.jsx)(Bi.Provider,{value:D,children:n})},qi=function(){return Object(c.useContext)(Bi)},_i=Object(ve.a)("img")((function(e){return{marginTop:e.theme.spacing(2),width:"max-content",maxWidth:"100%"}})),Wi=Object(ve.a)("img")((function(e){return{marginTop:e.theme.spacing(6),height:50}})),$i=Object(l.l)((function(e){var t=e.uischema,n=e.config,r=e.id,a=e.data,i=e.visible,u=e.errors,s=e.label,l=e.required,d=e.description,f=e.path,O=e.handleChange,m=Object(Va.a)().t,h=0===u.length,p=Object(Ti.merge)({},n,t.options),v=!Object(o.I)(i,null!==d&&void 0!==d?d:"",!1,p.showUnfocusedDescription),x=Tc().getDisplayableDataUrl,g=qi(),y=g.captureAvailable,C=g.captureImage,k=Object(c.useCallback)((function(){if(y){var e=C();O(f,e)}}),[y,C,O,f]),w=Object(c.useCallback)((function(){O(f,void 0)}),[O,f]),I=v?d:h?null:u,M=v&&!h?u:null;return Object(j.jsx)(b.a,{xsUp:!i,children:Object(j.jsxs)(Gt.a,{fullWidth:!p.trim,id:r,children:[Object(j.jsx)(Sn.a,{htmlFor:r+"-input",error:!h,shrink:"string"===typeof a,children:Object(o.j)(s,!!l,p.hideRequiredAsterisk)}),Object(j.jsxs)("div",{children:["string"===typeof a&&Object(j.jsx)(_i,{src:x(a),alt:""}),"string"!==typeof a&&Object(j.jsx)(Wi,{src:"".concat(Object(ec.a)(),"images/image-placeholder.png"),alt:"placeholder"})]}),Object(j.jsxs)(ui.a,{marginLeft:-1.25,children:[Object(j.jsx)(Ce.a,{title:m("CaptureCurrentSelection"),children:Object(j.jsx)("span",{children:Object(j.jsx)(se.a,{onClick:k,disabled:!y,size:"large",children:Object(j.jsx)(Li,{})})})}),Object(j.jsx)(Ce.a,{title:m("Delete"),children:Object(j.jsx)(se.a,{onClick:w,size:"large",children:Object(j.jsx)(fe.a,{})})})]}),Object(j.jsx)(ue.a,{error:!h&&!v,children:I}),Object(j.jsx)(ue.a,{error:!h,children:M})]})})})),Yi=Object(o.vb)(4,Object(o.e)(o.F,(function(e,t){var n=o.d.schema(t,e.scope);return n&&"string"===n.type&&"image"===n.format}))),Ki=n(927),Gi=function(e){return Object(Ki.a)((function(t){return Object(j.jsx)(e,Object(a.a)({},t))}))}(wt.a),Ji=i.a.memo((function(e){var t,n,r,a,i=Object(c.useState)(!1),o=Object(I.a)(i,2),u=o[0],s=o[1],l=e.data,d=e.config,b=e.className,f=e.id,O=e.enabled,m=e.uischema,h=e.isValid,p=e.path,v=e.handleChange,x=e.schema,g=e.muiInputProps,y=x.maxLength,C=Ee()({},d,m.options);a=C.restrict?{maxLength:y}:{};var k=Object(c.useMemo)((function(){return x.patternMask}),[x]);a=Ee()(a,g),C.trim&&void 0!==y&&(a.size=y);var w=Object(qt.a)(),M=(null===(t=w.jsonforms)||void 0===t||null===(n=t.input)||void 0===n||null===(r=n.delete)||void 0===r?void 0:r.background)||w.palette.background.default,P=Object(c.useCallback)((function(e){v(p,e)}),[v,p]);return Object(j.jsx)(Gi,{mask:k,onAccept:P,type:"text",className:b,id:f,value:l,disabled:!O,autoFocus:C.focus,multiline:C.multi,fullWidth:!C.trim||void 0===y,inputProps:a,error:!h,onPointerEnter:function(){return s(!0)},onPointerLeave:function(){return s(!1)},endAdornment:Object(j.jsx)(_t.a,{position:"end",style:{display:u&&O&&void 0!==l?"flex":"none",position:"absolute",right:0},children:Object(j.jsx)(se.a,{"aria-label":"Clear input field",onClick:function(){return v(p,void 0)},size:"large",children:Object(j.jsx)($t.a,{style:{background:M,borderRadius:"50%"}})})})})})),Xi=Object(l.l)((function(e){return Object(j.jsx)(Dn,Object(a.a)(Object(a.a)({},e),{},{input:Ji}))})),Zi=Object(o.vb)(4,Object(o.e)(o.F,(function(e,t){var n=o.d.schema(t,e.scope);return n&&"string"===n.type&&"string"===typeof n.patternMask}))),Qi=n(184),eo=(Gc=function(e){var t=e.onWriteOcredData,n=io(),r=n.getRootElement,a=n.setStatus,i=n.deactivateCurrentTool,o=qi(),u=o.captureImage,s=o.setDragMode,l=Tc(),d=l.canModify,b=l.canOcr,j=l.ocrImage,f=r(),O=Object(c.useState)(!1),m=Object(I.a)(O,2),h=m[0],p=m[1],v=Object(Va.a)().t,x=Object(Qi.a)();Object(c.useEffect)((function(){var e=function(e){"Escape"===e.key&&i()};return f.addEventListener("keyup",e,{capture:!0}),function(){f.removeEventListener("keyup",e,{capture:!0})}}),[i,f]),Object(c.useEffect)((function(){a(v("KeyboardOcrToolActiveStatus"))}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(W.a)(Y.a.mark((function e(){var n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u("image/png")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,j(n);case 6:r=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),x(v("TextRecognitionFunctionFailed"),e.t0),e.abrupt("return");case 13:return e.prev=13,e.next=16,navigator.clipboard.writeText(r);case 16:e.next=22;break;case 18:return e.prev=18,e.t1=e.catch(13),x(v("RecognizedTextCouldNotBeCopiedToClipboard"),e.t1),e.abrupt("return");case 22:t(r);case 23:case"end":return e.stop()}}),e,null,[[3,9],[13,18]])})));return function(){return e.apply(this,arguments)}}();h&&(p(!1),e().finally((function(){i()})))}),[u,i,j,t,x,h,v]);var g=Object(c.useCallback)((function(e){p(!0)}),[]),y=Object(c.useCallback)((function(e){if(e.target instanceof Node&&f.contains(e.target))return document.addEventListener("pointerup",g,{capture:!0,once:!0}),function(){document.removeEventListener("pointerup",g,{capture:!0})};i()}),[i,g,f]);return Object(c.useEffect)((function(){return s("crop"),document.addEventListener("pointerdown",y,{capture:!0,once:!0}),function(){document.removeEventListener("pointerdown",y,{capture:!0})}}),[y,s]),d&&b||i(),null},Jc={toolType:"KeyboardOcrTool"},Object.assign(Gc,Jc)),to=function(){throw new Error("You forgot to wrap your component in <ToolManager>.")},no={deactivateCurrentTool:to,getRootElement:to,setStatus:to,activateKeyboardOcrTool:to},ro=Object(c.createContext)(no),ao=Object(ve.a)("div")({position:"absolute",bottom:16,left:0,backgroundColor:"lightgray"}),co=function(e){var t=e.children,n=Object(c.useRef)(null),r=Object(c.useState)(""),i=Object(I.a)(r,2),o=i[0],u=i[1],s=function(){var e,t=Object(c.useState)(),n=Object(I.a)(t,2),r=n[0],i=n[1],o=null!==(e=null===r||void 0===r?void 0:r.toolType)&&void 0!==e?e:c.Fragment,u=Object(c.useCallback)((function(e){if(!e)return i(void 0),!0;var t=e.toolType.canActivate;return!(t&&!t(e.args))&&(i(e),!0)}),[]);return{setActivationInfo:u,tool:Object(j.jsx)(o,Object(a.a)({},null===r||void 0===r?void 0:r.args))}}(),l=s.setActivationInfo,d=s.tool,b=Object(c.useCallback)((function(){l(void 0),u("")}),[l]),f=Object(c.useCallback)((function(e){return l({toolType:eo,args:{onWriteOcredData:e}})}),[l]),O=Object(c.useMemo)((function(){return{deactivateCurrentTool:b,getRootElement:function(){var e;return null!==(e=n.current)&&void 0!==e?e:document.createElement("div")},setStatus:u,activateKeyboardOcrTool:f}}),[f,b]);return Object(j.jsxs)(ro.Provider,{value:O,children:[Object(j.jsxs)(ui.a,{ref:n,position:"relative",children:[t,!!o&&Object(j.jsx)(ao,{children:o})]}),d]})},io=function(){return Object(c.useContext)(ro)},oo=Object(ve.a)(d.a)({maxHeight:"100%",width:"99%",overflowY:"auto",overflowX:"visible",paddingRight:15}),uo={restrict:!0},so=["email","number","text"],lo=function(e){var t=io(),n=Object(c.useRef)(null);return Object(c.useEffect)((function(){function r(e){var n=e.target;if("INPUT"===(null===n||void 0===n?void 0:n.tagName)&&"a"===e.key.toLowerCase()&&e.ctrlKey&&so.includes(n.type)){e.preventDefault(),e.stopPropagation();var r=n;t.activateKeyboardOcrTool((function(e){r.focus(),function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(Object.getOwnPropertyDescriptor(e,"value")||{}).set,a=Object.getPrototypeOf(e),c=(Object.getOwnPropertyDescriptor(a,"value")||{}).set;if(c&&r!==c)c.call(e,t);else{if(!r)throw new Error("The given element does not have a value setter");r.call(e,t)}n&&e.dispatchEvent(new Event("input",{bubbles:!0}))}(r,e)}))}}var a=n.current;return a&&e&&a.addEventListener("keyup",r,{capture:!0}),function(){a&&e&&a.removeEventListener("keyup",r,{capture:!0})}}),[t,e]),{editorRootElemRef:n}},bo=function(e){var t=Object(Va.a)().t,n=function(){var e,t=Tc(),n=t.documentSchemas,i=t.currentDocument,o=t.currentDocumentEditionState,u=t.setCurrentDocumentEditionState,s=t.canModify,l=t.updateCurrentDocument,d=Object(c.useRef)(null===o||void 0===o?void 0:o.document.data),b=Object(c.useRef)(!1);Object(c.useMemo)((function(){d.current=null===o||void 0===o?void 0:o.document.data}),[null===o||void 0===o?void 0:o.document.data]);var j=Object(c.useMemo)((function(){var e={};if(n){var t,a=Object(r.a)(n);try{for(a.s();!(t=a.n()).done;){var c,i=t.value;i.$id&&(e[i.$id]={label:null!==(c=i.title)&&void 0!==c?c:i.$id,description:i.description})}}catch(o){a.e(o)}finally{a.f()}}return e}),[n]),f=Object(c.useMemo)((function(){var e=Object.keys(j);return Object(M.s)((function(e){return j[e].label}),e)}),[j]),O=Object(c.useMemo)((function(){return[].concat(Object(Fa.a)(xs),[{tester:Yi,renderer:$i},{tester:Zi,renderer:Xi}])}),[]),m=Object(c.useCallback)((function(e){var t,n;return null!==(t=null===(n=j[e])||void 0===n?void 0:n.label)&&void 0!==t?t:""}),[j]),h=Object(c.useCallback)((function(e){b.current=!!e.errors&&e.errors.length>0;var t=b.current&&e.errors?Object(bc.b)(e.errors):void 0;b.current||d.current===e.data||(d.current=e.data,b.current=!1),u((function(n){var r,c;return Object(M.f)(e.data,null===n||void 0===n?void 0:n.document)&&Object(M.f)(t,null===n||void 0===n?void 0:n.errors)?n:{document:Object(a.a)(Object(a.a)({},n.document),{},{data:null!==(r=e.data)&&void 0!==r?r:null===n||void 0===n||null===(c=n.document)||void 0===c?void 0:c.data}),errors:t}}))}),[u]),p=Object(c.useCallback)((function(e){var t=Object(a.a)(Object(a.a)({},i),{},{action:e});l(t)}),[i,l]),v=Object(c.useCallback)((function(e){if(e&&(null===i||void 0===i?void 0:i.schemaId)!==e){var t=Object(a.a)(Object(a.a)({},i),{},{schemaId:e,data:{}});l(t)}}),[i,l]),x=(null===o||void 0===o?void 0:o.document)&&(null===n||void 0===n?void 0:n.find((function(e){return e.$id===(null===o||void 0===o?void 0:o.document.schemaId)})));return{documentData:null!==(e=null===o||void 0===o?void 0:o.document.data)&&void 0!==e?e:{},labels:j,options:f,cells:gs,customRenderers:O,updateDocumentData:h,updateAction:p,updateSchemaId:v,schema:x,canEdit:s&&"dontSend"!==(null===o||void 0===o?void 0:o.document.action),getOptionLabel:m,schemaId:null===i||void 0===i?void 0:i.schemaId,action:null===i||void 0===i?void 0:i.action,canOcr:s&&!(null===o||void 0===o||!o.document)}}(),i=n.updateAction,o=n.updateSchemaId,u=n.updateDocumentData,s=lo(n.canOcr).editorRootElemRef,b=Object(c.useCallback)((function(e){i(e.target.value)}),[i]),f=Object(c.useCallback)((function(e,t){o(t)}),[o]);return n.schema?Object(j.jsxs)(oo,{container:!0,spacing:1,children:[Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(Nn.a,{value:n.schemaId,options:n.options,onChange:f,getOptionLabel:n.getOptionLabel,disableClearable:!0,autoHighlight:!0,renderInput:function(e){return Object(j.jsx)(zn.a,Object(a.a)(Object(a.a)({},e),{},{label:t("DocumentType"),InputLabelProps:{required:!0},required:!0,autoFocus:!0,variant:"standard"}))},fullWidth:!0})}),Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)(zn.a,{select:!0,value:n.action,onChange:b,label:t("Action"),fullWidth:!0,variant:"standard",children:Kc.map((function(e){return Object(j.jsx)(Ct.a,{value:e,children:t("RecognizedDocumentAction.".concat(e))},e)}))})}),Object(j.jsx)(d.a,{item:!0,xs:12,children:Object(j.jsx)("div",{ref:s,children:Object(j.jsx)(l.c,{data:n.documentData,schema:n.schema,onChange:u,renderers:n.customRenderers,cells:n.cells,ajv:hc,readonly:!n.canEdit,config:uo})})})]}):null},jo=n(1213),fo=n(1202),Oo=n(1947),mo=n(1360),ho=n(507),po=n.n(ho),vo=n(903),xo=n.n(vo),go=n(904),yo=n.n(go),Co=n(506),ko=n.n(Co),wo=n(909),Io=n.n(wo),Mo=n(910),Po=n.n(Mo),So=n(908),Do=n.n(So),No=n(907),To=n.n(No),Lo=n(906),Eo=n.n(Lo),Ao=n(905),zo=n.n(Ao),Ro=n(512),Fo=n.n(Ro),Vo=n(513),Uo=n(292),Bo=n(241),Ho=function(e){return Object(j.jsx)(ii.a,Object(a.a)(Object(a.a)({viewBox:"0 0 1000 1000"},e),{},{children:Object(j.jsx)("path",{d:"M560.8 191.3v246.9h245V315.8L990 500 805.8 684.2V558.9h-245v246.9h123.4L500 990 315.8 805.8h122.5V558.9h-245v124.4L10 500l183.3-183.3v121.5h245V191.3H318.6L500 10l181.4 181.3H560.8z"})}))},qo=function(e){return Object(j.jsxs)(ii.a,Object(a.a)(Object(a.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(j.jsx)("path",{d:"M458.3 948.4c125.9 0 239.5-51.9 321-135.4l-37.5-40.2c-72.2 75-173.6 121.7-285.9 121.7-219.2 0-396.9-177.7-396.9-396.9S236.7 100.7 455.9 100.7c207.6 0 377.8 159.5 395.2 362.6h-96.3l117.6 196L990 463.2h-85C886.3 232.9 693.6 51.6 458.3 51.6 210.7 51.6 10 252.4 10 500c0 247.6 200.7 448.4 448.3 448.4z"}),Object(j.jsx)("path",{d:"M 402.3 395.8 c -17.6 -17.8 -41.8 -26.8 -72 -26.8 c -1.3 0 -2.7 0 -4.1 0.1 h -0.1 c -31.8 1.5 -56.7 11.1 -73.8 28.5 c -17.1 17.4 -26.8 42.9 -28.7 75.7 v 0.7 c 1.4 30.5 10 54.2 25.5 70.5 c 15.6 16.4 38.2 25.4 67.3 26.9 h 0.5 c 27.3 -0.8 49.5 -9.4 66.3 -25.6 c -1.9 25.7 -6.9 45.7 -15 59.6 c -9.5 16.3 -23.1 24.2 -41.7 24.2 H 325 c -22.4 0 -36.9 -12.4 -44.3 -37.8 c -0.9 -2.9 -3.5 -4.9 -6.5 -4.9 c -0.5 0 -1 0 -1.4 0.2 l -38.4 8.3 c -1.8 0.4 -3.4 1.5 -4.3 3 c -1 1.6 -1.3 3.5 -0.8 5.2 c 5.9 23 16.9 40.7 32.7 52.4 c 15.7 11.6 36.5 17.5 61.6 17.5 h 1.9 c 37.2 0 65.6 -13.6 84.4 -40.4 c 18.2 -26.1 27.5 -65.3 27.5 -116.5 c 0.3 -27.7 -2.5 -51.8 -8.2 -71.7 c -5.8 -20.5 -14.9 -37 -26.9 -49.1 z m -21 81.8 c -2.6 31.4 -20.1 46.8 -55 48.6 c -31.1 -1.8 -46.4 -19.3 -48.1 -55.2 c 1.7 -35.9 17.5 -53.5 49.6 -55.2 c 17.7 0.5 30.6 5.6 39.4 15.6 c 8.9 10 13.6 25.6 14.1 46.2 z M 647 409.2 c -17.9 -26.1 -44.8 -39.7 -79.9 -40.2 h -0.4 c -35 1.5 -61.9 15.4 -80.1 41.5 c -17.6 25.4 -27 62.8 -28 111.2 v 0.2 c 0.5 48.9 9.6 86.5 27.3 111.7 c 18.2 25.9 45.4 39.2 80.9 39.7 h 1.9 c 35 0 61.7 -13.2 79.4 -39.1 c 17.1 -25.1 25.8 -62.9 25.8 -112.3 v -0.1 c -0.4 -49.4 -9.5 -87.3 -26.9 -112.6 z m -30.5 114 c 0 36.5 -4.4 64.1 -13.1 81.9 c -8 16.4 -19.5 24.4 -35.1 24.4 h -2.8 c -15.6 0 -27.1 -8 -35.1 -24.4 c -8.7 -17.8 -13 -45.3 -13 -81.8 c 0 -36.9 4.4 -64.8 13.1 -82.9 c 8 -16.7 19.5 -24.8 35.1 -24.8 h 1.6 c 0.8 0 1.5 -0.1 2.3 -0.1 c 10.1 0 18.3 3.3 24.9 10 c 15.3 15.4 22.7 48.3 22.1 97.7 z M 647.5 257.5 c -28.4 0 -51.4 23 -51.4 51.5 c 0 28.4 23 51.4 51.4 51.4 s 51.5 -23 51.5 -51.4 c -0.1 -28.5 -23.1 -51.5 -51.5 -51.5 z m 0 73.4 c -12.2 0 -22 -9.9 -22 -22.1 c 0 -12.2 9.9 -22.1 22 -22.1 c 12.2 0 22.1 9.9 22.1 22.1 c -0.1 12.3 -10 22.1 -22.1 22.1 z"})]}))},_o=function(e){return Object(j.jsxs)(ii.a,Object(a.a)(Object(a.a)({viewBox:"0 0 1000 1000"},e),{},{children:[Object(j.jsx)("path",{d:"M541.7 948.4c-125.9 0-239.5-51.9-321-135.4l37.5-40.2c72.2 75 173.6 121.7 285.9 121.7 219.2 0 396.9-177.7 396.9-396.9S763.3 100.7 544.1 100.7c-207.6 0-377.8 159.5-395.2 362.6h96.3l-117.6 196L10 463.2h85C113.7 232.9 306.4 51.6 541.7 51.6 789.3 51.6 990 252.4 990 500c0 247.6-200.7 448.4-448.3 448.4z"}),Object(j.jsx)("path",{d:"M502.3 395.8c-17.6-17.8-41.8-26.8-72-26.8-1.3 0-2.7 0-4.1.1h-.1c-31.8 1.5-56.7 11.1-73.8 28.5-17.1 17.4-26.8 42.9-28.7 75.7v.7c1.4 30.5 10 54.2 25.5 70.5 15.6 16.4 38.2 25.4 67.3 26.9h.5c27.3-.8 49.5-9.4 66.3-25.6-1.9 25.7-6.9 45.7-15 59.6-9.5 16.3-23.1 24.2-41.7 24.2H425c-22.4 0-36.9-12.4-44.3-37.8-.9-2.9-3.5-4.9-6.5-4.9-.5 0-1 0-1.4.2l-38.4 8.3c-1.8.4-3.4 1.5-4.3 3-1 1.6-1.3 3.5-.8 5.2 5.9 23 16.9 40.7 32.7 52.4 15.7 11.6 36.5 17.5 61.6 17.5h1.9c37.2 0 65.6-13.6 84.4-40.4 18.2-26.1 27.5-65.3 27.5-116.5.3-27.7-2.5-51.8-8.2-71.7-5.8-20.5-14.9-37-26.9-49.1zm-21 81.8c-2.6 31.4-20.1 46.8-55 48.6-31.1-1.8-46.4-19.3-48.1-55.2 1.7-35.9 17.5-53.5 49.6-55.2 17.7.5 30.6 5.6 39.4 15.6 8.9 10 13.6 25.6 14.1 46.2zM747 409.2c-17.9-26.1-44.8-39.7-79.9-40.2h-.4c-35 1.5-61.9 15.4-80.1 41.5-17.6 25.4-27 62.8-28 111.2v.2c.5 48.9 9.6 86.5 27.3 111.7 18.2 25.9 45.4 39.2 80.9 39.7h1.9c35 0 61.7-13.2 79.4-39.1 17.1-25.1 25.8-62.9 25.8-112.3v-.1c-.4-49.4-9.5-87.3-26.9-112.6zm-30.5 114c0 36.5-4.4 64.1-13.1 81.9-8 16.4-19.5 24.4-35.1 24.4h-2.8c-15.6 0-27.1-8-35.1-24.4-8.7-17.8-13-45.3-13-81.8 0-36.9 4.4-64.8 13.1-82.9 8-16.7 19.5-24.8 35.1-24.8h1.6c.8 0 1.5-.1 2.3-.1 10.1 0 18.3 3.3 24.9 10 15.3 15.4 22.7 48.3 22.1 97.7zM747.5 257.5c-28.4 0-51.4 23-51.4 51.5 0 28.4 23 51.4 51.4 51.4s51.5-23 51.5-51.4c-.1-28.5-23.1-51.5-51.5-51.5zm0 73.4c-12.2 0-22-9.9-22-22.1 0-12.2 9.9-22.1 22-22.1 12.2 0 22.1 9.9 22.1 22.1-.1 12.3-10 22.1-22.1 22.1z"})]}))},Wo=function(e){return Object(j.jsx)(ii.a,Object(a.a)(Object(a.a)({viewBox:"0 0 100 100"},e),{},{children:Object(j.jsx)("switch",{children:Object(j.jsxs)("g",{children:[Object(j.jsx)("path",{d:"M5273.1 2400.1v-2c0-2.8-5-4-9.7-4s-9.7 1.3-9.7 4v2c0 1.8.7 3.6 2 4.9l5 4.9c.3.3.4.6.4 1v6.4c0 .4.2.7.6.8l2.9.9c.5.1 1-.2 1-.8v-7.2c0-.4.2-.7.4-1l5.1-5c1.3-1.3 2-3.1 2-4.9zm-9.7-.1c-4.8 0-7.4-1.3-7.5-1.8.1-.5 2.7-1.8 7.5-1.8s7.3 1.3 7.5 1.8c-.2.5-2.7 1.8-7.5 1.8z"}),Object(j.jsx)("path",{d:"M5268.4 2410.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1h-4.3zM5272.7 2413.7h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1zM5272.7 2417h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1 0-.5-.4-1-1-1z"}),Object(j.jsx)("g",{children:Object(j.jsx)("path",{d:"M45.2 45.5H32.4v-5.2c0-.7-.4-1.3-1-1.5-.6-.3-1.3-.2-1.8.3l-10.7 9.7c-.4.3-.6.8-.6 1.2 0 .4.2.9.5 1.2l.1.1L29.6 61c.5.4 1.2.6 1.8.3.6-.3 1-.9 1-1.5v-5.2h12.8c.8 0 1.4-.6 1.4-1.4V47c0-.9-.7-1.5-1.4-1.5zM70.4 39.1c-.5-.4-1.2-.6-1.8-.3-.6.3-1 .9-1 1.5v5.2H54.8c-.8 0-1.4.6-1.4 1.4v6.2c0 .8.6 1.4 1.4 1.4h12.8v5.2c0 .5.2.9.5 1.2.1.1.3.3.5.3.6.3 1.3.2 1.8-.3l10.7-9.7c.4-.3.6-.8.6-1.2 0-.5-.2-.9-.6-1.2l-10.7-9.7zM10.9 28.7H4.2c-.9 0-1.7.8-1.7 1.7v39.2c0 .9.8 1.7 1.7 1.7h6.7c.9 0 1.7-.8 1.7-1.7V30.4c0-.9-.8-1.7-1.7-1.7zM95.8 28.7h-6.7c-.9 0-1.7.8-1.7 1.7v39.2c0 .9.8 1.7 1.7 1.7h6.7c.9 0 1.7-.8 1.7-1.7V30.4c0-.9-.8-1.7-1.7-1.7z"})})]})})}))},$o=function(e){return Object(j.jsx)(ii.a,Object(a.a)(Object(a.a)({viewBox:"0 0 24 24"},e),{},{children:Object(j.jsx)("path",{d:"M2 2v5h2V4h3V2H2zm15 0v2h3v3h2V2h-5zm-5.844 4.031L7 17h1.969l.906-2.563h4.25L15 17h2L12.844 6.031h-1.688zM12 8.375l1.594 4.531h-3.188L12 8.375zM2 17v5h5v-2H4v-3H2zm18 0v3h-3v2h5v-5h-2z"})}))},Yo=["tooltip","children"],Ko=Object(z.a)((function(e){return Object(A.a)({textField:{width:"4ch"}})})),Go=Object(ve.a)(ln.a)((function(e){var t=e.theme;return{minHeight:"48px",paddingLeft:0,borderBottom:"solid 2px ".concat(t.palette.divider)}})),Jo=Object(ve.a)("div")({position:"relative"}),Xo=Object(ve.a)(Fo.a)((function(e){var t=e.theme;return{position:"absolute",fontSize:12,right:0,bottom:0,borderRadius:"50%",backgroundColor:t.palette.background.default,border:"solid 1px ".concat(t.palette.action.active)}})),Zo=function(e){var t=e.tooltip,n=e.onClick,r=e.showEllipsis,a=e.disabled,c=e.children;return Object(j.jsx)(Ce.a,{title:t,children:Object(j.jsxs)(Jo,{children:[Object(j.jsx)(se.a,{onClick:n,size:"small",disabled:a,children:c}),r&&Object(j.jsx)(Xo,{})]})})},Qo=Object(ve.a)(fo.a)((function(e){var t=e.theme;return{"& > .MuiToggleButtonGroup-grouped":{margin:t.spacing(.5),border:"none","&:not(:first-child)":{borderRadius:t.shape.borderRadius},"&:first-child":{borderRadius:t.shape.borderRadius}}}})),eu=function(e){var t=e.tooltip,n=e.children,r=Object(U.a)(e,Yo);return Object(j.jsx)(jo.a,Object(a.a)(Object(a.a)({},r),{},{children:Object(j.jsx)(Ce.a,{title:t,children:Object(j.jsx)(ui.a,{height:24,children:n})})}))},tu=Object(ve.a)("span")({display:"inline-block",marginTop:6}),nu=Object(ve.a)("div")({width:"100%",height:"calc(100% - 48px)"}),ru=function(e){var t=Object(Va.a)().t,n=Tc(),a=n.canModify,i=n.rotateImage,o=n.rotateAllImages,u=n.canOcr,s=n.ocrImage,l=Ko(),d=Object(Vo.a)({}),b=d.width,f=d.height,O=d.ref,m=Object(c.useRef)(null),h=function(){var e=Tc(),t=e.currentDocument,n=e.currentDocumentLocation,a=e.setCurrentDocumentLocation,i=e.fileInfos,o=e.unusedPages,u=Object(c.useMemo)((function(){var e=[],n=[];if(t){var a,c=Object(r.a)(t.pages);try{for(c.s();!(a=c.n()).done;){var u=a.value,s=i[u.fileIndex];"loaded"===s.status&&(e.push(s.pages[u.filePageNumber]),n.push(s.pageStates[u.filePageNumber]))}}catch(l){c.e(l)}finally{c.f()}}else i.forEach((function(t,r){"loaded"===t.status&&t.pageStates.forEach((function(a,c){var i=o.findIndex((function(e){return e.fileIndex===r&&e.filePageNumber===c}));i>-1&&(n.push(a),e.push(t.pages[c]))}))}));return[e,n]}),[t,i,o]),s=Object(I.a)(u,2),l=s[0],d=s[1],b=Object(c.useMemo)((function(){var e=null===n||void 0===n?void 0:n.pageIndex;if(!Object(B.isPresent)(e))return[void 0,void 0];var t=l.findIndex((function(t){return t.pageIndex===e}));return[null===n||void 0===n?void 0:n.documentIndex,t>=0?t:void 0]}),[null===n||void 0===n?void 0:n.documentIndex,null===n||void 0===n?void 0:n.pageIndex,l]),j=Object(I.a)(b,2),f=j[0],O=j[1],m=Object(c.useCallback)((function(){a({documentIndex:f,pageIndex:l[0].pageIndex})}),[f,l,a]),h=Object(c.useCallback)((function(){Object(B.isPresent)(O)&&0!==O&&a({documentIndex:f,pageIndex:l[O-1].pageIndex})}),[f,O,l,a]),p=Object(c.useCallback)((function(){!Object(B.isPresent)(O)||O+1>=l.length||a({documentIndex:f,pageIndex:l[O+1].pageIndex})}),[f,O,l,a]),v=Object(c.useCallback)((function(){0!==l.length&&a({documentIndex:f,pageIndex:l[l.length-1].pageIndex})}),[f,l,a]),x=Object(c.useCallback)((function(e){isNaN(e)||e<=0||e>l.length||a({documentIndex:f,pageIndex:l[e-1].pageIndex})}),[f,l,a]);return{currentPage:Object(B.isPresent)(O)?l[O]:void 0,currentPageState:Object(B.isPresent)(O)?d[O]:void 0,currentPageNumber:Object(B.isPresent)(O)?O+1:void 0,totalPages:l.length,gotoFirst:m,gotoPrev:h,gotoNext:p,gotoLast:v,gotoPage:x}}(),p=h.currentPageNumber,v=h.currentPage,x=h.currentPageState,g=h.totalPages,y=h.gotoFirst,C=h.gotoLast,k=h.gotoNext,w=h.gotoPage,M=h.gotoPrev,P=Object(c.useState)(null!==p&&void 0!==p?p:null),S=Object(I.a)(P,2),D=S[0],N=S[1],T=qi(),L=T.captureAvailable,E=T.captureImage,A=T.clearCapture,z=T.loadPage,R=T.releasePage,F=T.fitPage,V=T.fitWidth,U=T.zoomIn,H=T.zoomOut,q=T.dragMode,_=T.setDragMode,$=T.rotateTo,K=T.move,G=Object(c.useState)(!1),J=Object(I.a)(G,2),X=J[0],Z=J[1],Q=Object(Uo.b)().enqueueSnackbar,ee=Object(Qi.a)(),te=function(){var e=Object(c.useState)(!1),t=Object(I.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(I.a)(a,2),o=i[0],u=i[1];return Object(c.useEffect)((function(){var e=function(e){"Shift"===e.key&&(e.location===KeyboardEvent.DOM_KEY_LOCATION_LEFT?r(!0):e.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT&&u(!0))},t=function(e){"Shift"===e.key&&(e.location===KeyboardEvent.DOM_KEY_LOCATION_LEFT?r(!1):e.location===KeyboardEvent.DOM_KEY_LOCATION_RIGHT&&u(!1))};return document.addEventListener("keydown",e,{capture:!0}),document.addEventListener("keyup",t,{capture:!0}),function(){document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("keyup",t,{capture:!0})}}),[]),n||o}();Object(c.useEffect)((function(){N(null!==p&&void 0!==p?p:null)}),[p]),Object(c.useEffect)((function(){return v&&setTimeout((function(){var e=m.current;e&&Object(Bo.a)(v.getImageData()).then((function(t){z(e,t)}))}),0),function(){R()}}),[v,z,R]),Object(c.useEffect)((function(){x&&$(x.rotate)}),[x,$]);var ne=Object(c.useCallback)((function(e){var t=0,n=0;"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),A()):"ArrowUp"===e.key?n=-1:"ArrowDown"===e.key?n=1:"ArrowLeft"===e.key?t=-1:"ArrowRight"===e.key&&(t=1),0===t&&0===n||K(t,n)}),[A,K]),re=Object(c.useCallback)((function(e){var t=e.target.value;if(Object(B.isPresent)(t)&&0!==t.length){var n=parseInt(t);isNaN(n)||N(n)}else N(null)}),[]),ae=Object(c.useCallback)((function(e){"Enter"===e.key&&(e.preventDefault(),Object(B.isPresent)(D)&&!isNaN(D)&&w(D))}),[w,D]),ce=Object(c.useCallback)((function(e){e.currentTarget.focus()}),[]),ie=Object(c.useCallback)((function(e,t){t&&_(t)}),[_]),oe=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?o(e):v&&i(v.pageIndex,e)}),[v,o,i]),ue=Object(c.useCallback)(Object(W.a)(Y.a.mark((function e(){var n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L&&u){e.next=2;break}return e.abrupt("return");case 2:if(n=E("image/png")){e.next=5;break}return e.abrupt("return");case 5:return Z(!0),e.prev=6,e.prev=7,e.next=10,s(n);case 10:r=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),ee(t("TextRecognitionFunctionFailed"),e.t0),e.abrupt("return");case 17:return e.prev=17,e.next=20,navigator.clipboard.writeText(r);case 20:e.next=26;break;case 22:return e.prev=22,e.t1=e.catch(17),ee(t("RecognizedTextCouldNotBeCopiedToClipboard"),e.t1),e.abrupt("return");case 26:Q(t("RecognizedTextCopiedToClipboard"),{variant:"success"});case 27:return e.prev=27,Z(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[6,,27,30],[7,13],[17,22]])}))),[u,L,E,Q,s,ee,t]);return v?Object(j.jsxs)(j.Fragment,{children:[a&&Object(j.jsxs)(Go,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(zn.a,{value:null!==D&&void 0!==D?D:"",onChange:re,onKeyDown:ae,disabled:!Object(B.isPresent)(p),className:l.textField,inputProps:{style:{textAlign:"right"}},variant:"standard"}),Object(j.jsxs)(tu,{children:["\xa0 / ",g," \xa0"]})]}),Object(j.jsx)(Zo,{onClick:y,tooltip:t("GotoFirstPage"),children:Object(j.jsx)(po.a,{})}),Object(j.jsx)(Zo,{onClick:M,tooltip:t("GotoPrevPage"),children:Object(j.jsx)(xo.a,{})}),Object(j.jsx)(Zo,{onClick:k,tooltip:t("GotoNextPage"),children:Object(j.jsx)(yo.a,{})}),Object(j.jsx)(Zo,{onClick:C,tooltip:t("GotoLastPage"),children:Object(j.jsx)(ko.a,{})}),Object(j.jsx)(Oo.a,{orientation:"vertical",flexItem:!0}),Object(j.jsxs)(Qo,{value:q,onChange:ie,size:"small",exclusive:!0,children:[Object(j.jsx)(eu,{value:"crop",tooltip:t("Crop"),children:Object(j.jsx)(Li,{})}),Object(j.jsx)(eu,{value:"move",tooltip:t("Move"),children:Object(j.jsx)(Ho,{})})]}),Object(j.jsx)(Oo.a,{orientation:"vertical",flexItem:!0}),Object(j.jsx)(Zo,{onClick:F,tooltip:t("FitPage"),children:Object(j.jsx)(zo.a,{})}),Object(j.jsx)(Zo,{onClick:V,tooltip:t("FitWidth"),children:Object(j.jsx)(Wo,{})}),Object(j.jsx)(Zo,{onClick:H,tooltip:t("ZoomOut"),children:Object(j.jsx)(Eo.a,{})}),Object(j.jsx)(Zo,{onClick:U,tooltip:t("ZoomIn"),children:Object(j.jsx)(To.a,{})}),Object(j.jsx)(Oo.a,{orientation:"vertical",flexItem:!0}),Object(j.jsx)(Zo,{onClick:function(e){return oe(-90,e.shiftKey)},tooltip:t(te?"RotateAll90Ccw":"Rotate90Ccw"),showEllipsis:te,children:Object(j.jsx)(_o,{})}),Object(j.jsx)(Zo,{onClick:function(e){return oe(90,e.shiftKey)},tooltip:t(te?"RotateAll90Cw":"Rotate90Cw"),showEllipsis:te,children:Object(j.jsx)(qo,{})}),Object(j.jsx)(Zo,{onClick:function(e){return oe(180,e.shiftKey)},tooltip:t(te?"RotateAll180":"Rotate180"),showEllipsis:te,children:Object(j.jsx)(Do.a,{})}),Object(j.jsx)(Zo,{onClick:function(e){return oe(-1,e.shiftKey)},tooltip:t(te?"RotateAll1Ccw":"Rotate1Ccw"),showEllipsis:te,children:Object(j.jsx)(Io.a,{})}),Object(j.jsx)(Zo,{onClick:function(e){return oe(1,e.shiftKey)},tooltip:t(te?"RotateAll1Cw":"Rotate1Cw"),showEllipsis:te,children:Object(j.jsx)(Po.a,{})}),u&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Oo.a,{orientation:"vertical",flexItem:!0}),Object(j.jsx)(Zo,{onClick:ue,tooltip:t("OcrCapture"),disabled:!L||X,children:X?Object(j.jsx)(mo.a,{size:20}):Object(j.jsx)($o,{})})]})]}),Object(j.jsx)(nu,{ref:O,onKeyDown:ne,tabIndex:-1,onClick:ce,children:Object(B.isPresent)(b)&&Object(B.isPresent)(f)&&!!v&&Object(j.jsx)("canvas",{ref:m,width:v.width,height:v.height,style:{visibility:"hidden"}})})]}):null},au=Object(ve.a)("div")((function(e){e.theme;return{height:"80vh",minWidth:900,display:"flex",flexDirection:"row"}})),cu=Object(ve.a)("div",{shouldForwardProp:function(e){return"canModify"!==e}})((function(e){e.theme;return{flexGrow:1,overflow:"auto",width:e.canModify?"26%":"40%"}})),iu=Object(ve.a)("div")((function(e){var t=e.theme;return{flexGrow:1,width:"41%",overflowY:"auto",borderLeft:"2px solid ".concat(t.palette.divider),paddingLeft:10}})),ou=Object(ve.a)("div",{shouldForwardProp:function(e){return"canModify"!==e}})((function(e){var t=e.theme,n=e.canModify;return{flexGrow:1,overflow:"auto",borderLeft:"2px solid ".concat(t.palette.divider),paddingLeft:10,width:n?"32%":"59%"}})),uu=function(e){var t=Object(Va.a)().t,n=Tc(),r=n.loadingImages,a=n.documentSchemas,c=n.canModify;return a?r?Object(j.jsx)(Lc.b,{children:t("LoadingImages")}):Object(j.jsx)(co,{children:Object(j.jsxs)(au,{children:[Object(j.jsx)(cu,{canModify:c,children:Object(j.jsx)(Ni,{})}),c&&Object(j.jsx)(iu,{children:Object(j.jsx)(ru,{})}),Object(j.jsx)(ou,{canModify:c,children:Object(j.jsx)(bo,{})})]})}):null},su=function(e){var t,n=Object(l.f)(),r=Object(o.gb)({jsonforms:Object(a.a)({},n)},e),i=r.data,u=r.path,s=r.visible,d=r.uischema,f=null===i||void 0===i?void 0:i.documents,O=Object(c.useMemo)((function(){return f?function(e){if(!Array.isArray(e))return[];for(var t=e,n=0;n<t.length;n++){var r=t[n];if(!Object(B.isPresent)(r.data)||!r.action){var c,i,o=Object(a.a)(Object(a.a)({},r),{},{data:null!==(c=r.data)&&void 0!==c?c:{},action:null!==(i=r.action)&&void 0!==i?i:"send"});t===e&&(t=Object(Fa.a)(e)),t[n]=o}}return t}(f):[]}),[f]);if(Object(c.useEffect)((function(){var e;O===f||Object(M.f)(O,f)||(null===(e=n.dispatch)||void 0===e||e.call(n,Object(o.Db)(Object(o.g)(u,"documents"),(function(){return O}))))}),[n,f,O,u]),O!==f&&!Object(M.f)(O,f))return null;if("ImageBatchRecognition"!==d.type)return null;var m=d;return Object(j.jsx)(b.a,{xsUp:!s,children:Object(j.jsx)(Xc.a,{children:Object(j.jsx)(Nc,{basePath:u,batch:i,documentSchemasSource:m.documentSchemasSource,readonly:null!==(t=m.readonly)&&void 0!==t&&t,ocrFunction:m.ocrFunction,children:Object(j.jsx)(Hi,{outputImageFormat:m.outputImageFormat,children:Object(j.jsx)(uu,{})})})})})},lu=Object(o.vb)(3,Object(o.Cb)("ImageBatchRecognition")),du=n(202),bu=function(e,t,n){var r=null===e||void 0===e?void 0:e[t],a=Object(c.useMemo)((function(){if(r)return Object(du.a)(r,"schema for data path ".concat(n))}),[n,r]),i=Object(c.useMemo)((function(){if(0===n.length)return["",""];var e=n.split(".");return[e.slice(0,-1).join("."),e[e.length-1]]}),[n]),u=Object(I.a)(i,2),s=u[0],d=u[1],b=Object(l.f)(),j=Object(o.w)({jsonforms:b}),f=o.d.data(j,s),O=b.core.schema,m=Object(c.useCallback)((function(t){if(a&&e&&r)return a(t,{instancePath:n,parentData:f,parentDataProperty:d,rootData:j,schema:r,parentSchema:e,rootSchema:O})}),[a,f,d,n,j,O,e,r]);return a?m:void 0},ju=function(e,t,n,r){var a=bu(e,n,r);if(a){var c=a(t);if("boolean"===typeof c)return c;if(Object(B.isPresent)(c))throw new Error("".concat(n," expression for ").concat(r," must evaluate to a boolean value"))}else;},fu=function(e){var t=Object(l.f)(),n=Object(o.w)({jsonforms:t}),r=e.split(".").slice(0,-1).join(".");return{parentDataPath:r,parentData:o.d.data(n,r)}},Ou=function(e){return function(t){var n=t.required,r=t.visible,i=t.enabled,u=t.uischema,s=t.schema,d=t.path,b=function(e){var t=Object(l.f)();return Object(c.useMemo)((function(){var n=Object(o.z)({jsonforms:t}),r=e.scope.split("/").slice(0,-2).join("/");return o.d.schema(n,r,n)}),[t,e.scope])}(u),f=fu(t.path),O=f.parentDataPath,m=f.parentData;if(b){var h=bu(b,"nfRequired",O);if(h){var p=h(m);if(Array.isArray(p)){var v=t.path.split("."),x=v[v.length-1];n=p.includes(x)}}}var g=ju(s,m,"nfHidden",d);Object(B.isPresent)(g)&&(r=!g);var y=ju(s,m,"nfDisabled",d);return Object(B.isPresent)(y)&&(i=!y),Object(j.jsx)(e,Object(a.a)(Object(a.a)({},t),{},{required:n,visible:r,enabled:i}))}},mu=function(e){var t,n=e.options,r=e.uischema,a=e.schema,i=e.path,u=e.data,s=Object(l.f)(),d=bu(a,"nfEnum",i),b=bu(a,"nfConst",i);return Object(c.useMemo)((function(){if(Array.isArray(n))return n;if(d){var e=d(u);if(Array.isArray(e))return e.map((function(e){var t;return Object(o.q)(e,null===(t=s.i18n)||void 0===t?void 0:t.translate,Object(o.y)(a,r,i))}))}if(b){var t,c=b(u);if(Object(B.isPresent)(c))return[Object(o.q)(c,null===(t=s.i18n)||void 0===t?void 0:t.translate,Object(o.y)(a,r,i))]}return n}),[b,null===(t=s.i18n)||void 0===t?void 0:t.translate,u,d,n,i,a,r])},hu=function(e){return function(t){var n=mu(t),r=Object(c.useMemo)((function(){return Ou(e)}),[]);return Object(j.jsx)(r,Object(a.a)(Object(a.a)({},t),{},{options:n}))}},pu=function(e){return function(t){var n=Object(c.useMemo)((function(){return Ou(e)}),[]);return Object(j.jsx)(n,Object(a.a)({},t))}},vu=function(e){return function(t){var n=Object(c.useMemo)((function(){return Ou(e)}),[]);return Object(j.jsx)(n,Object(a.a)({},t))}},xu=function(e){return function(t){return Object(j.jsx)(e,Object(a.a)({},t))}},gu=function(e){return function(t){return Object(j.jsx)(e,Object(a.a)({},t))}},yu=Object(c.createContext)({arraySchema:{}}),Cu=function(e){return function(t){var n=t.schema,r=t.uischema,c=Object(l.f)(),i=r,u=o.d.schema(n||c.core.schema,i.scope,c.core.schema);return Object(j.jsx)(yu.Provider,{value:{arraySchema:u},children:Object(j.jsx)(e,Object(a.a)({},t))})}},ku=function(e){return function(t){var n=t.minItems,r=t.schema,i=t.data,u=t.path,s=t.uischema,l=t.rootSchema,d=t.visible,b=t.enabled,f=Object(c.useContext)(yu).arraySchema,O=bu(r,"nfMinItems",u),m=Object(c.useMemo)((function(){return O?O(i):n}),[i,n,O]),h=fu(t.path),p=h.parentDataPath,v=h.parentData,x=ju(f,v,"nfHidden",p);Object(B.isPresent)(x)&&(d=!x);var g=ju(f,v,"nfDisabled",p);Object(B.isPresent)(g)&&(b=!g);var y=Object(c.useMemo)((function(){var e=s;return o.d.schema(l,e.scope,l)}),[l,s]),C=Object(c.useMemo)((function(){return function(t){return Object(j.jsx)(e,Object(a.a)(Object(a.a)({},t),{},{schema:r}))}}),[r]),k=Object(c.useMemo)((function(){return vu(C)}),[C]);return Object(j.jsx)(k,Object(a.a)(Object(a.a)({},t),{},{minItems:m,schema:y,visible:d,enabled:b}))}},wu=function(e,t,n){var r=bu(e,"nfMaxLength",n);return Object(c.useMemo)((function(){return r?r(t):e.maxLength}),[t,r,e.maxLength])},Iu=function(e){return function(t){var n=t.visible,r=t.enabled,c=t.schema,i=t.path,o=fu(t.path).parentData,u=ju(c,o,"nfHidden",i);Object(B.isPresent)(u)&&(n=!u);var s=ju(c,o,"nfDisabled",i);return Object(B.isPresent)(s)&&(r=!s),Object(j.jsx)(b.a,{xsUp:!n,children:Object(j.jsx)(e,Object(a.a)(Object(a.a)({},t),{},{enabled:r}))})}},Mu=function(e){return function(t){var n=t.schema,r=t.data,i=t.path,o=wu(n,r,i),u=Object(c.useMemo)((function(){return Object(a.a)(Object(a.a)({},n),{},{maxLength:o})}),[o,n]),s=Object(c.useMemo)((function(){return Iu(e)}),[]);return Object(j.jsx)(s,Object(a.a)(Object(a.a)({},t),{},{schema:u}))}},Pu=Object(o.e)(Object(o.Cb)("Control"),Object(o.ub)(Object(o.yb)((function(e){return e.hasOwnProperty("enum")})),Object(o.yb)((function(e){return e.hasOwnProperty("nfEnum")})),Object(o.yb)((function(e){return e.hasOwnProperty("const")})),Object(o.yb)((function(e){return e.hasOwnProperty("nfConst")})))),Su=Object(o.vb)(2,Pu),Du=Object(o.vb)(2,Pu),Nu=Object(o.vb)(20,Object(o.e)(Pu,Object(o.tb)("format","radio"))),Tu=Object(o.e)(Object(o.Cb)("Control"),Object(o.ub)(Object(o.Ab)("number"),Object(o.Ab)("integer")),Object(o.yb)((function(e){return(e.hasOwnProperty("maximum")||e.hasOwnProperty("nfMaximum"))&&(e.hasOwnProperty("minimum")||e.hasOwnProperty("nfMinimum"))&&e.hasOwnProperty("default")})),Object(o.tb)("slider",!0)),Lu=Object(o.vb)(4,Tu),Eu=Object(z.a)((function(e){return Object(A.a)({boundary:{border:"red solid 1px",padding:2}})})),Au=function(e,t){return function(n){var r=Eu();return Object(j.jsxs)("div",{className:r.boundary,children:[Object(j.jsx)("div",{children:t}),Object(j.jsx)(e,Object(a.a)({},n))]})}},zu=function(e,t){return function(n){var r=Eu();return Object(j.jsxs)("div",{className:r.boundary,children:[Object(j.jsx)("div",{children:t}),Object(j.jsx)(e,Object(a.a)({},n))]})}},Ru=n(30),Fu=function(e){var t,n,r=e.id,i=e.errors,o=e.uischema,u=e.enabled,s=e.path,l=e.handleChange,d=e.data,b=e.config,f=Ee()({},b,o.options),O=0===i.length,m=null!==(t=f.dateFormat)&&void 0!==t?t:"YYYY-MM-DD",h=null!==(n=f.dateSaveFormat)&&void 0!==n?n:"YYYY-MM-DD",p=Object(c.useMemo)((function(){return Nt(s,l,h)}),[s,l,h]);return Object(j.jsx)(Un.b,{dateAdapter:Hn.a,children:Object(j.jsx)(Bn.a,{value:Tt(d,h),clearable:!0,onChange:p,inputFormat:m,disableMaskedInput:!0,views:f.views,disabled:!u,cancelText:f.cancelLabel,clearText:f.clearLabel,okText:f.okLabel,renderInput:function(e){return Object(j.jsx)(zn.a,Object(a.a)(Object(a.a)({},e),{},{id:r+"-input",autoFocus:f.focus,error:!O,fullWidth:!0,inputProps:Object(a.a)(Object(a.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:d?{shrink:!0}:void 0,variant:"standard"}))}})})},Vu=Object(o.vb)(4,o.G),Uu=(Object(l.j)(Fu),function(e){var t,n,r=e.id,i=e.errors,o=e.uischema,u=e.enabled,s=e.path,l=e.handleChange,d=e.data,b=e.config,f=Ee()({},b,o.options),O=0===i.length,m=null!==(t=f.dateTimeFormat)&&void 0!==t?t:"YYYY-MM-DD HH:mm",h=null!==(n=f.dateTimeSaveFormat)&&void 0!==n?n:void 0,p=Object(c.useMemo)((function(){return Nt(s,l,h)}),[s,l,h]);return Object(j.jsx)(Un.b,{dateAdapter:Hn.a,children:Object(j.jsx)($n.a,{value:Tt(d,h),clearable:!0,onChange:p,inputFormat:m,disableMaskedInput:!0,ampm:!!f.ampm,views:f.views,disabled:!u,cancelText:f.cancelLabel,clearText:f.clearLabel,okText:f.okLabel,renderInput:function(e){return Object(j.jsx)(zn.a,Object(a.a)(Object(a.a)({},e),{},{id:r+"-input",autoFocus:f.focus,error:!O,fullWidth:!f.trim,inputProps:Object(a.a)(Object(a.a)({},e.inputProps),{},{type:"text"}),InputLabelProps:d?{shrink:!0}:void 0,variant:"standard"}))}})})}),Bu=Object(o.vb)(4,o.H),Hu=(Object(l.j)(Uu),n(919)),qu=n.n(Hu),_u=n(1377),Wu=(n(477),n(478),n(913)),$u=Object(ec.a)(),Yu=n(914),Ku=(n(916),n(917)),Gu=n.n(Ku),Ju=["foreignObject"];function Xu(e,t){return Gu.a.sanitize(e,Object(a.a)({ADD_TAGS:Ju,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","link","title","object","base"]},t))}var Zu=["theme","customHTMLSanitizer"],Qu=function(e,t){var n=e.theme,r=e.customHTMLSanitizer,i=Object(U.a)(e,Zu),o=Object(qt.a)(),u=Object(c.useRef)(null);Object(c.useImperativeHandle)(t,(function(){return{getInstance:function(){return u.current.getInstance()},getRootElement:function(){return u.current.getRootElement()}}}),[]);var s=Object(Va.a)().i18n,l=null!==n&&void 0!==n?n:o.palette.mode;return Object(j.jsx)(Yu.a,Object(a.a)(Object(a.a)({ref:u},i),{},{language:s.language,theme:l,customHTMLSanitizer:null!==r&&void 0!==r?r:Xu}))},es=Object(c.forwardRef)(Qu),ts=n(918),ns=void 0,rs=function(){return{toHTMLRenderers:{mermaid:function(e){var t,n="";return ts.a.render("mermaid",null!==(t=e.literal)&&void 0!==t?t:"",(function(e){n=e})),[{type:"openTag",tagName:"div",outerNewLine:!0,classNames:["mermaid"]},{type:"html",content:n},{type:"closeTag",tagName:"div",outerNewLine:!0}]}}}},as=Object(z.a)((function(e){return Object(A.a)({dialogPaper:{height:"90vh"}})})),cs=Object(ve.a)(Ge.a)({height:"100%",overflowY:"hidden"}),is={"image/jpeg":"jpg","image/gif":"gif","image/png":"png","image/bmp":"bmp","image/tiff":"tif"},os=function(){var e=Object(W.a)(Y.a.mark((function e(t){var n,r,a,c,i,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="","name"in t&&(r=t.name.lastIndexOf("."))>0&&(n=t.name.substring(r)),n||(a=is[t.type])&&(n=".".concat(a)),u=void 0,c=new Wu.ParallelHasher($u+"md5_worker.js",u),i="",e.prev=5,e.next=8,c.hash(t);case 8:i=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),i=Object(_u.a)();case 14:return o="img_".concat(i).concat(n),e.abrupt("return",o);case 16:case"end":return e.stop()}var u}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),us=function(e){var t=e.open,n=e.defaultValue,r=e.title,i=e.onChange,o=e.onClose,u=Object(Va.a)().t,s=function(){var e=Object(nc.c)(),t=e.blobStorage_IsSupported,n=e.blobStorage_WriteFiles,r=e.blobStorage_List,a=e.blobStorage_GetSignedUrl,i=Object(c.useCallback)(function(){var e=Object(W.a)(Y.a.mark((function e(c){var i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Promise((function(e,i){var o=new FileReader;o.onloadend=Object(W.a)(Y.a.mark((function u(){var s,l,d,b,j,f,O;return Y.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if("string"===typeof(s=o.result)){u.next=4;break}return i("Invalid image"),u.abrupt("return");case 4:return u.next=6,t();case 6:if(!u.sent){u.next=43;break}return l="mdimages/",u.next=10,os(c);case 10:return d=u.sent,u.prev=12,u.next=15,r({path:l,filePrefix:d});case 15:if(!((b=u.sent).length>0)){u.next=23;break}return u.next=20,a(b[0].name);case 20:return j=u.sent,e(j),u.abrupt("return");case 23:u.next=27;break;case 25:u.prev=25,u.t0=u.catch(12);case 27:return f=s.split(",")[1],u.prev=28,u.next=31,n({path:l,files:[{fileName:d,base64:f}]});case 31:return u.next=33,a(l+d);case 33:O=u.sent,e(O),u.next=41;break;case 37:return u.prev=37,u.t1=u.catch(28),i(u.t1),u.abrupt("return");case 41:u.next=44;break;case 43:e(s);case 44:case"end":return u.stop()}}),u,null,[[12,25],[28,37]])}))),o.readAsDataURL(c)})),e.abrupt("return",i);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,t,r,n]);return{addImageBlob:i}}(),l=s.addImageBlob,d=function(){var e=Object(Va.a)().t,t=Object(_c.c)();return Object(c.useCallback)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object(a.a)({title:e("ThereArePendingChanges"),description:e("ChangesWillBeLost_Continue")},n);return t(r)}),[t,e])}(),b=as(),f=Object(c.useRef)(null),O=Object(c.useMemo)((function(){return n||""}),[n]),m=Object(qt.a)(),h=Object(c.useMemo)((function(){var e={addImageBlobHook:function(){var e=Object(W.a)(Y.a.mark((function e(t,n){var r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:r=e.sent,n(r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};return e}),[l]),p=Object(c.useState)(O),v=Object(I.a)(p,2),x=v[0],g=v[1],y=Object(c.useCallback)((function(e){var t,n=null===(t=f.current)||void 0===t?void 0:t.getInstance().getMarkdown();g(null!==n&&void 0!==n?n:"")}),[]),C=Object(c.useCallback)(Object(W.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0===x.trim().length?void 0:x,null===i||void 0===i||i(t),o();case 3:case"end":return e.stop()}}),e)}))),[x,i,o]),k=Object(c.useCallback)(Object(W.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=O!==x,!e.t0){e.next=5;break}return e.next=4,d();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:o();case 8:case"end":return e.stop()}}),e)}))),[x,O,d,o]),w=Object(c.useCallback)(function(){var e=Object(W.a)(Y.a.mark((function e(t,n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=O!==x,!e.t0){e.next=5;break}return e.next=4,d();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:"backdropClick"!==n&&(null===o||void 0===o||o());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[x,O,d,o]);return Object(c.useEffect)((function(){var e;e=m.palette.mode,ns!==e&&(ns=e,"dark"===e?ts.a.initialize({darkMode:!0,theme:"dark"}):ts.a.initialize({darkMode:!1,theme:"forest"}))}),[m]),Object(j.jsxs)(Ye.a,{open:t,onClose:w,maxWidth:"xl",fullWidth:!0,classes:{paper:b.dialogPaper},children:[!!r&&Object(j.jsx)(Ke.a,{children:r}),Object(j.jsx)(cs,{children:Object(j.jsx)(es,{ref:f,initialValue:O,previewStyle:"vertical",height:"100%",initialEditType:"markdown",useCommandShortcut:!0,hooks:h,onChange:y,plugins:[rs]})}),Object(j.jsxs)(Xe.a,{children:[Object(j.jsx)(Ze.a,{onClick:C,color:"primary",children:u("Accept")}),Object(j.jsx)(Ze.a,{onClick:k,color:"primary",children:u("Cancel")})]})]})},ss=Object(l.l)((function(e){var t=e.uischema,n=e.config,r=e.data,a=e.visible,i=e.label,u=e.required,s=e.description,l=e.path,d=e.handleChange,f=Object(Va.a)().t,O=Ee()({},n,t.options),m=!Object(o.I)(a,null!==s&&void 0!==s?s:"",!1,O.showUnfocusedDescription),h=Object(c.useState)(!1),p=Object(I.a)(h,2),v=p[0],x=p[1],g=Object(c.useCallback)((function(){x(!0)}),[x]),y=m?s:null,C=Object(o.j)(i,!!u,O.hideRequiredAsterisk);return Object(j.jsxs)(b.a,{xsUp:!a,children:[Object(j.jsxs)(Sn.a,{children:[C,"  ",Object(j.jsx)(Ce.a,{title:f("Edit"),children:Object(j.jsx)(se.a,{onClick:g,children:Object(j.jsx)(qu.a,{})})})]}),y&&Object(j.jsx)(ue.a,{children:y}),v&&Object(j.jsx)(us,{open:v,defaultValue:r,title:i,onClose:function(){return x(!1)},onChange:function(e){return d(l,null!==e&&void 0!==e?e:void 0)}})]})})),ls=Object(o.vb)(4,Object(o.e)(o.F,(function(e,t){var n=o.d.schema(t,e.scope);return n&&"string"===n.type&&"markdown"===n.format}))),ds=n(1200),bs=[n(920)],js=Object(M.m)((function(e){return e[0]}),Object(M.h)((function(e){return e.$id}),bs)),fs={resolve:{nimflow:{order:1,canRead:function(e){return!!js[e.url]},read:function(e){return Object(M.p)(["$id"],js[e.url])}}}},Os=function(e){return $a.a.dereference(e,fs)},ms=["context","bindContext","uiSchemaLibrary","schema","onChange","config","ajv"],hs=function(e){var t=e.context,n=e.bindContext,r=e.uiSchemaLibrary,i=e.schema,o=e.onChange,u=e.config,s=e.ajv,d=void 0===s?bc.a:s,b=Object(U.a)(e,ms),f=function(e){var t=Object(ds.a)(Object(W.a)(Y.a.mark((function t(){var n;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,Os(e);case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),[e]);return{resolvedSchema:t.value,loading:t.loading,error:t.error}}(i),O=f.resolvedSchema,m=f.loading,h=f.error,p=Object(c.useState)(),v=Object(I.a)(p,2),x=v[0],g=v[1],y=Object(c.useState)([]),C=Object(I.a)(y,2),k=C[0],w=C[1],P=Object(c.useState)(),S=Object(I.a)(P,2),N=S[0],T=S[1],L=Object(c.useMemo)((function(){var e;return Object(a.a)(Object(a.a)({},u),{},{restrict:null===(e=null===u||void 0===u?void 0:u.restrict)||void 0===e||e})}),[u]),E=Object(c.useCallback)((function(e){g(e)}),[]),A=Object(c.useCallback)((function(e){w(e)}),[]);if(Object(c.useEffect)((function(){if(x||0!==k.length){var e=function(e,t){var n={data:void 0};return t.length>0||null!==e&&void 0!==e&&e.errors&&e.errors.length>0?(n.errors=null!==e&&void 0!==e&&e.errors?[].concat(Object(Fa.a)(e.errors),Object(Fa.a)(t)):t,n.errors=Object(M.t)([Object(M.c)((function(e,t){var n,r;return e.instancePath<t.instancePath||e.instancePath===t.instancePath&&(null!==(n=e.message)&&void 0!==n?n:"")<(null!==(r=t.message)&&void 0!==r?r:"")}))],n.errors)):n.data=null===e||void 0===e?void 0:e.data,n}(x,k);T((function(t){return Object(M.f)(t,e)?t:e}))}}),[k,x]),Object(c.useEffect)((function(){N&&(null===o||void 0===o||o(N))}),[N,o]),m)return Object(j.jsx)(Lc.b,{});if(h)throw h;return Object(j.jsx)(D,{context:t,bindContext:n,uiSchemaLibrary:r,onErrorsChange:A,children:Object(j.jsx)(l.c,Object(a.a)({renderers:xs,cells:gs,schema:O,onChange:E,config:L,ajv:d},b))})},ps=[{tester:nn,renderer:Cu(Object(l.i)(ku(et))),name:"MaterialArrayControlRenderer"},{tester:yn,renderer:Object(l.l)(Ou(gn)),name:"MaterialBooleanControl"},{tester:Mn,renderer:Object(l.l)(Ou(In)),name:"MaterialBooleanToggleControl"},{tester:Fn,renderer:Object(l.l)(Ou(Rn)),name:"MaterialNativeControl"},{tester:Su,renderer:Object(l.o)(hu(Ln)),name:"MaterialEnumControl"},{tester:br,renderer:Object(l.l)(Ou(dr)),name:"MaterialIntegerControl"},{tester:Or,renderer:Object(l.l)(Ou(fr)),name:"MaterialNumberControl"},{tester:pr,renderer:Object(l.l)(function(e){return function(t){var n=t.schema,r=t.data,i=t.path,o=t.handleChange,u=wu(n,r,i),s=Object(c.useMemo)((function(){return Object(a.a)(Object(a.a)({},n),{},{maxLength:u})}),[u,n]),l=Object(c.useCallback)((function(e,t){""===t&&(t=void 0),o(e,t)}),[o]),d=Object(c.useMemo)((function(){return Ou(e)}),[]);return Object(j.jsx)(d,Object(a.a)(Object(a.a)({},t),{},{schema:s,handleChange:l}))}}(hr)),name:"MaterialTextControl"},{tester:Kn,renderer:Object(l.l)(Ou(Yn)),name:"MaterialDateTimeControl"},{tester:_n,renderer:Object(l.l)(Ou(qn)),name:"MaterialDateControl"},{tester:Zn,renderer:Object(l.l)(Ou(Xn)),name:"MaterialTimeControl"},{tester:Lu,renderer:Object(l.l)(function(e){return function(t){var n=t.schema,r=t.path,i=t.data,o=bu(n,"nfMinimum",r),u=bu(n,"nfMaximum",r),s=bu(n,"nfMultipleOf",r),l=Object(c.useMemo)((function(){return o?o(i):n.minimum}),[i,o,n.minimum]),d=Object(c.useMemo)((function(){return u?u(i):n.maximum}),[i,u,n.maximum]),b=Object(c.useMemo)((function(){return s?s(i):n.multipleOf}),[i,s,n.multipleOf]),f=Object(c.useMemo)((function(){return Object(a.a)(Object(a.a)({},n),{},{minimum:l,maximum:d,multipleOf:b})}),[d,l,b,n]),O=Object(c.useMemo)((function(){return Ou(e)}),[]);return Object(j.jsx)(O,Object(a.a)(Object(a.a)({},t),{},{schema:f}))}}(nr)),name:"MaterialSliderControl"},{tester:rt,renderer:Object(l.m)(vu(nt)),name:"MaterialObjectRenderer"},{tester:it,renderer:Object(l.g)(function(e){return function(t){var n=Object(c.useMemo)((function(){return gu(e)}),[]);return Object(j.jsx)(n,Object(a.a)({},t))}}(ct)),name:"MaterialAllOfRenderer"},{tester:Ot,renderer:Object(l.h)(function(e){return function(t){var n=Object(c.useMemo)((function(){return gu(e)}),[]);return Object(j.jsx)(n,Object(a.a)({},t))}}(ft)),name:"MaterialAnyOfRenderer"},{tester:pt,renderer:Object(l.u)(function(e){return function(t){var n=Object(c.useMemo)((function(){return gu(e)}),[]);return Object(j.jsx)(n,Object(a.a)({},t))}}(ht)),name:"MaterialOneOfRenderer"},{tester:Nu,renderer:Object(l.o)(hu(ur)),name:"MaterialRadioGroupControl"},{tester:Nr,renderer:Object(l.t)(pu(Dr)),name:"MaterialOneOfRadioGroupControl"},{tester:Pr,renderer:Object(l.t)(pu(Mr)),name:"MaterialOneOfEnumControl"},{tester:Hr,renderer:Object(l.p)(xu(Ur)),name:"MaterializedGroupLayoutRenderer"},{tester:g,renderer:Object(l.p)(xu(y)),name:"MaterialHorizontalLayoutRenderer"},{tester:p,renderer:Object(l.p)(xu(v)),name:"MaterialVerticalLayoutRenderer"},{tester:Wr,renderer:Object(l.p)(h(xu($r))),name:"MaterialCategorizationLayoutRenderer"},{tester:Ta,renderer:Object(l.p)(h(xu(La))),name:"MaterialCategorizationStepperLayoutRenderer"},{tester:ua,renderer:Cu(Object(l.i)(ku(oa))),name:"MaterialArrayLayoutRenderer"},{tester:rn,renderer:Object(l.p)(xu(an)),name:"MaterialLabelRenderer"},{tester:vn,renderer:Object(l.i)(ku(pn)),name:"MaterialListWithDetailRenderer"},{tester:wr,renderer:Object(l.l)(function(e){return function(t){var n=t.schema,r=t.data,i=t.path,o=n.anyOf.find((function(e){return void 0!==e.enum&&("string"===e.type||void 0===e.type)})),u=function(e){return e.find((function(e){return"string"===e.type&&void 0===e.enum}))}(n.anyOf),s=bu(o,"nfEnum",i),l=bu(u,"nfMaxLength",i),d=Object(c.useMemo)((function(){if(!s)return o;var e=s(r);return Object(a.a)(Object(a.a)({},o),{},{enum:e})}),[r,o,s]),b=Object(c.useMemo)((function(){if(!l)return u;var e=l(r);return Object(a.a)(Object(a.a)({},o),{},{maxLength:e})}),[r,o,l,u]),f=Object(c.useMemo)((function(){return o===d&&u===b?n:Object(a.a)(Object(a.a)({},n),{},{anyOf:n.anyOf.map((function(e){return e===o?d:e===u?b:e}))})}),[o,d,b,n,u]),O=Object(c.useMemo)((function(){return Ou(e)}),[]);return Object(j.jsx)(O,Object(a.a)(Object(a.a)({},t),{},{schema:f}))}}(Cr)),name:"MaterialAnyOfStringOrEnumControl"},{tester:en,renderer:Object(l.r)(function(e){return function(t){var n,r=t.options,i=t.uischema,u=t.schema,s=t.path,d=t.data,b=Object(l.f)(),f=bu(u,"nfEnum",s),O=Object(c.useMemo)((function(){if(Array.isArray(r)||!f)return r;var e=f(d);return Array.isArray(e)?e.map((function(e){var t;return Object(o.q)(e,null===(t=b.i18n)||void 0===t?void 0:t.translate,Object(o.y)(u,i,s))})):r}),[null===(n=b.i18n)||void 0===n?void 0:n.translate,d,f,r,s,u,i]),m=Object(c.useMemo)((function(){return Ou(e)}),[]);return Object(j.jsx)(m,Object(a.a)(Object(a.a)({},t),{},{options:O}))}}(Qt)),name:"MaterialEnumArrayRenderer"}],vs=[{tester:da,cell:Object(l.j)(Iu(la))},{tester:ja,cell:Object(l.j)(Iu(ba)),name:"MaterialBooleanToggleCell"},{tester:Oa,cell:Object(l.j)(Iu(fa)),name:"MaterialDateCell"},{tester:Du,cell:Object(l.n)(function(e){return function(t){var n=mu(t),r=Object(c.useMemo)((function(){return Iu(e)}),[]);return Object(j.jsx)(r,Object(a.a)(Object(a.a)({},t),{},{options:n}))}}(ma)),name:"MaterialEnumCell"},{tester:pa,cell:Object(l.j)(Iu(ha)),name:"MaterialIntegerCell"},{tester:xa,cell:Object(l.j)(Iu(va)),name:"MaterialNumberCell"},{tester:ya,cell:Object(l.j)(Mu(ga)),name:"MaterialNumberFormatCell"},{tester:ka,cell:Object(l.s)(function(e){return function(t){var n=Object(c.useMemo)((function(){return Iu(e)}),[]);return Object(j.jsx)(n,Object(a.a)({},t))}}(Ca)),name:"MaterialOneOfEnumCell"},{tester:Ia,cell:Object(l.j)(Mu(wa)),name:"MaterialTextCell"},{tester:Pa,cell:Object(l.j)(Iu(Ma)),name:"MaterialTimeCell"}],xs=[].concat(ps,[{tester:E,renderer:L,name:"MarkdownRenderer"},{tester:V,renderer:F,name:"PdfRenderer"},{tester:_,renderer:q,name:"UseRenderer"},{tester:Ra,renderer:za,name:"DynamicSelectionRenderer"},{tester:lu,renderer:su,name:"ImageBatchRecognitionRenderer"},{tester:ls,renderer:ss,name:"MarkdownControlRenderer"}]),gs=[].concat(vs,[{tester:Vu,cell:Object(l.j)(Iu(Fu)),name:"DateCell"},{tester:Bu,cell:Object(l.j)(Iu(Uu)),name:"DateTimeCell"}]);if(Ru.e){var ys,Cs=Object(r.a)(xs);try{for(Cs.s();!(ys=Cs.n()).done;){var ks=ys.value;ks.renderer=Au(ks.renderer,ks.name)}}catch(Ps){Cs.e(Ps)}finally{Cs.f()}var ws,Is=Object(r.a)(gs);try{for(Is.s();!(ws=Is.n()).done;){var Ms=ws.value;Ms.cell=zu(Ms.cell,Ms.name)}}catch(Ps){Is.e(Ps)}finally{Is.f()}}},966:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(5),a=n(86),c=n(36),i=function(e,t){var n,i=null===(n=e.definitions)||void 0===n?void 0:n[t];if(!Object(a.isPresent)(i))throw new Error("Invalid definition ".concat(t));if("boolean"===typeof i)throw new Error("Invalid definition ".concat(t));var o=Object(c.b)(i);return delete o.definitions,e=Object(r.a)(Object(r.a)({},e),o)},o=function(e,t,n){if(e.jsonSchema){var r=JSON.parse(e.jsonSchema),a=e.tasks.find((function(e){return e.name===t})),c=null===a||void 0===a?void 0:a.validResponses.find((function(e){return e.name===n})),o=null===c||void 0===c?void 0:c.payloadSchemaDefinitionName;if(o)return i(r,o)}},u=function(e,t){if(e.jsonSchema){var n=JSON.parse(e.jsonSchema),r=e.actions.find((function(e){return e.name===t})),a=null===r||void 0===r?void 0:r.payloadSchemaDefinitionName;if(a)return i(n,a)}}}}]);
//# sourceMappingURL=16.82c24dc1.chunk.js.map