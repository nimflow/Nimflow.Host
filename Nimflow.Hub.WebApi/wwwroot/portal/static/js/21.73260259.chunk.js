(this["webpackJsonpnimflow-portal"]=this["webpackJsonpnimflow-portal"]||[]).push([[21],{1438:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var a=n(3),i=n(1),r=n(2),o=n(18),l=n(546),c=n(2289),u=n(148),s=n(238),d=n(1625),v={offsetX:10,offsetY:10,maxDepth:2};var f=n(64),b=n(1377),p=n(2447),m=n(1538),j=n(1525),g=n(1528),h=n(1521),O=n(1470),y=n(2416);function x(e,t){return JSON.stringify(e,function(e){var t=[];return function(n,a){if("object"!==typeof a||null===a)return a;var i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(a)>=0?"[Circular]":(t.push(a),a)}}(t))}var k=n(29),w=["title"],_=Object(y.a)((function(e){return{root:{visibility:"hidden",padding:e.spacing(1),position:"absolute",zIndex:e.zIndex.tooltip,pointerEvents:"none"},visible:{visibility:"visible"},tableCell:{borderBottom:"none"}}}),{name:"MuiVegaTooltip"}),C=function(e){var t,n,a,i=e.classes,r=e.value,l=null!==(t=null!==(n=null===(a=Object(u.a)().vegaTooltip)||void 0===a?void 0:a.maxDepth)&&void 0!==n?n:v.maxDepth)&&void 0!==t?t:10;if(Array.isArray(r))return Object(k.jsx)(k.Fragment,{children:"[".concat(r.map((function(e){return"string"===typeof e?e:x(e,l)})).join(", "),"]")});if("object"===typeof r&&null!==r){var c,s,d=r,f=d.title,O=Object(o.a)(d,w);f&&(c=Object(k.jsx)(b.a,{component:"h2",variant:"h5",children:String(f)},"title"));var y=Object.keys(O);return y.length>0&&(s=Object(k.jsx)(p.a,{children:Object(k.jsx)(m.a,{size:"small",children:Object(k.jsx)(j.a,{children:y.map((function(e){var t=O[e];if(void 0!==t)return"object"===typeof t&&null!==t&&(t=x(t,l)),Object(k.jsxs)(g.a,{children:[Object(k.jsx)(h.a,{variant:"head",align:"right",className:i.tableCell,children:e}),Object(k.jsx)(h.a,{className:i.tableCell,children:String(t)})]},e)}))})})})),Object(k.jsxs)(k.Fragment,{children:[c,s]})}return Object(k.jsx)(k.Fragment,{children:String(r)})},R=function(e){var t=e.position,n=(t=void 0===t?{x:0,y:0}:t).x,a=t.y,i=e.value,r=_(e);return Object(k.jsx)(O.a,{className:Object(f.default)(r.root,null!==i&&r.visible),style:{left:n,top:a},children:Object(k.jsx)(C,{classes:r,value:i})})};R=Object(i.memo)(R);var A=["variant","color","background","autoResize","tooltip","TooltipComponent","config","themeOptions"],E=Object(i.memo)(c.a),V=Object(i.forwardRef)((function(e,t){var n=e.variant,c=e.color,f=void 0===c?"primary":c,b=e.background,p=void 0===b?"transparent":b,m=e.autoResize,j=void 0!==m&&m,g=e.tooltip,h=e.TooltipComponent,O=void 0===h?R:h,y=e.config,x=e.themeOptions,w=Object(o.a)(e,A),_=Object(u.a)(),C=Object(a.a)(Object(a.a)({},v),_.vegaTooltip),V=C.offsetX,z=C.offsetY;if("string"===typeof y)throw new TypeError("@material-vega/material-ui does not support a string `config`.");var F=Object(i.useRef)(),T=Object(s.a)(F,t);Object(i.useEffect)((function(){var e,t;if(j){var n=null===(e=F.current)||void 0===e||null===(t=e.vegaEmbed.current)||void 0===t?void 0:t.containerRef.current;if(n){var a=new ResizeObserver((function(){window.dispatchEvent(new Event("resize"))}));return a.observe(n),function(){a.disconnect()}}}}),[j]);var M=Object(i.useReducer)((function(e,t){var n,a,i=t.event,r=t.value;if(null==r||""===r)return null;var o=null===(n=F.current)||void 0===n||null===(a=n.vegaEmbed.current)||void 0===a?void 0:a.containerRef.current;if(!o)return null;var l=function(e,t,n,a){var i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);var r=e.clientY+a;return r+t.height>window.innerHeight&&(r=+e.clientY-a-t.height),{x:i,y:r}}(i,o.getBoundingClientRect(),V,z);return{position:{x:l.x,y:l.y},value:r}}),null),N=Object(r.a)(M,2),S=N[0],X=N[1],D=Object(i.useRef)(!1);Object(i.useEffect)((function(){return D.current=!1,function(){D.current=!0}}),[]);var L=Object(i.useCallback)((function(e,t,n,a){D.current||X({handler:e,event:t,item:n,value:a})}),[]),Y=g||L,B=function(e){var t=e.color,n=e.background,a=Object(u.a)();return Object(i.useMemo)((function(){return{font:a.typography.fontFamily,labelPadding:8,textColor:a.palette.text.primary,secondaryTextColor:a.palette.text.secondary,dividerColor:a.palette.divider,color:t?a.palette[t].main:void 0,background:"transparent"!==n&&n?a.palette.background[n]:"transparent",barCornerRadius:a.shape.barCornerRadius,thickDomainLineWidth:2}}),[a,t,n])}({color:f,background:p}),I=Object(i.useMemo)((function(){return Object(l.mergeConfig)(Object(d.a)(Object(a.a)(Object(a.a)({},B),x),n),y||{})}),[B,x,n,y]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(E,Object(a.a)({ref:T,config:I,tooltip:Y,renderer:"svg"},w)),!!S&&Object(k.jsx)(O,Object(a.a)({},S))]})}));V.displayName="MuiVega";var z=Object(i.forwardRef)((function(e,t){return Object(k.jsx)(V,Object(a.a)(Object(a.a)({ref:t},e),{},{mode:"vega-lite"}))}));z.displayName="MuiVegaLite"},2412:function(e,t,n){"use strict";n.r(t),n.d(t,"SelectionFilter",(function(){return O}));var a=n(3),i=n(9),r=n.n(i),o=n(30),l=n(0),c=n(1),u=n(148),s=n(136),d=n(32),v=n(31),f=n(1438),b=n(174),p=n(29),m=d.a.t("NullValueText"),j={$schema:"https://vega.github.io/schema/vega-lite/v5.json",data:{name:"data"},width:{step:80},height:100,mark:{type:"bar",stroke:"#0099cc",cursor:"pointer"},params:[{name:"select",select:{type:"point",resolve:"global"}},{name:"highlight",select:{type:"point",on:"mouseover"}}],encoding:{x:{field:"name",type:"ordinal",axis:{title:null,labelAngle:-45,labelFontSize:14,labelLimit:100}},y:{field:"value",type:"quantitative",axis:{title:null}},tooltip:{field:"value",type:"quantitative"},fillOpacity:{condition:{param:"select",value:1},value:.4},strokeWidth:{condition:[{param:"highlight",empty:!1,value:1}],value:0}},config:{scale:{bandPaddingInner:.2}}},g="mark_x_axis_labels",h=function(e){var t,n,a,i,r=e.signals;r||(e.signals=r=[]);var o=r.find((function(e){return"highlight_tuple"===e.name}));if(o){var c,u=o.on;u||(o.on=u=[]);var s,d=null!==(c=u.map((function(e){return e.events})))&&void 0!==c?c:[],v=Object(l.a)(d);try{for(v.s();!(s=v.n()).done;){var f=s.value;if(Array.isArray(f)){var b=f.find((function(e){return"type"in e&&"mouseover"===e.type}));b&&(b.filter="!item().mark || item().mark.name !== '".concat(g,"'"))}}}catch(R){v.e(R)}finally{v.f()}u.push({events:"@".concat(g,":mouseover"),update:'{unit: "", fields: select_tuple_fields, values: [datum.value]}'})}var p=r.find((function(e){return"select_tuple"===e.name}));if(p){var m,j=p.on;j||(p.on=j=[]);var h,O=null!==(m=j.map((function(e){return e.events})))&&void 0!==m?m:[],y=Object(l.a)(O);try{for(y.s();!(h=y.n()).done;){var x=h.value;if(Array.isArray(x)){var k=x.find((function(e){return"type"in e&&"click"===e.type}));k&&(k.filter="!item().mark || item().mark.name !== '".concat(g,"'"))}}}catch(R){y.e(R)}finally{y.f()}j.push({events:"@".concat(g,":click"),update:'{unit: "", fields: select_tuple_fields, values: [datum.value]}',force:!0})}var w=null!==(t=null===(n=e.marks)||void 0===n||null===(a=n[0].from)||void 0===a?void 0:a.data)&&void 0!==t?t:"data_0";r.push({name:"select_extended",on:[{events:{signal:"select"},update:"{select: select, data: data('data_0')}"}]});var _,C=null===(i=e.axes)||void 0===i?void 0:i.find((function(e){return"x"===e.scale}));C&&(C.encode=Object.assign(null!==(_=C.encode)&&void 0!==_?_:{},{labels:{name:g,interactive:!0,update:{tooltip:{signal:'datum.value + ": " + format(data(\''.concat(w,"')[indexof(pluck(data('").concat(w,"'), 'name'), datum.value)].value, \"\")")}}}}));return e},O=function(e){var t=e.column,n=e.value,i=e.onChange,l=e.getCandidates,d=Object(u.a)(),g=function(e,t){var n=Object(c.useRef)(),a=Object(s.a)("/ColumnCandidates/".concat(e),Object(o.a)(r.a.mark((function e(){var a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return(i=e.sent).forEach((function(e){null===e.name&&(e.name=m)})),Object(v.f)(null===(a=n.current)||void 0===a?void 0:a.data,i)||(n.current={data:i}),e.abrupt("return",n.current);case 6:case"end":return e.stop()}}),e)}))),{revalidateOnFocus:!1}),i=a.data,l=a.isValidating,u=a.mutate,d=Object(c.useRef)({isValidating:l,revalidate:u});return d.current={isValidating:l,revalidate:u},Object(c.useEffect)((function(){d.current.isValidating||d.current.revalidate()}),[t]),{data:i,isValidating:l}}(t.field,l),O=g.data,y=g.isValidating,x=Object(c.useMemo)((function(){var e;return O&&0!==O.data.length&&"selection"===(null===n||void 0===n?void 0:n.type)?Object(a.a)(Object(a.a)({},j),{},{params:null===(e=j.params)||void 0===e?void 0:e.map((function(e){var t;return"select"!==e.name?e:Object(a.a)(Object(a.a)({},e),{},{value:{x:null!==(t=n.value)&&void 0!==t?t:m}})}))}):j}),[O,n]),k=Object(c.useMemo)((function(){return{select_extended:function(e,t){var n=t.select,a=void 0;if("name"in n&&Array.isArray(n.name)&&"string"===typeof n.name[0])a=n.name[0];else if("_vgsid_"in n&&Array.isArray(n._vgsid_)&&n._vgsid_.length>0){var r=n._vgsid_[0];if("string"===typeof r)a=r;else{var o,l=t.data;if(Array.isArray(l))a=null===(o=l.find((function(e){return e._vgsid_===r})))||void 0===o?void 0:o.name}}null===i||void 0===i||i(void 0!==a?{type:"selection",value:a===m?null:a}:void 0)}}}),[i]);if(!O&&y||!x)return Object(p.jsx)(b.b,{});var w="dark"===d.palette.mode?"dark":void 0;return Object(p.jsx)("div",{style:{width:"100%",overflowX:"auto"},children:Object(p.jsx)(f.a,{variant:"verticalBarChart",spec:x,data:O,theme:w,signalListeners:k,actions:!1,patch:h,style:{width:"fit-content"}})})};t.default=O}}]);
//# sourceMappingURL=21.73260259.chunk.js.map