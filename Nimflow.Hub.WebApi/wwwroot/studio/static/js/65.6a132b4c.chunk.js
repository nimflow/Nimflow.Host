(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[65],{1514:function(e,t,n){"use strict";var r=n(474);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(479)),c=n(128),o=(0,a.default)((0,c.jsx)("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6-4 4h3v6h2v-6h3l-4-4z"}),"OpenInBrowser");t.default=o},1834:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(19),a=n(8),c=n.n(a),o=n(5),i=n(14),u=n(540),l=function(){var e=Object(u.c)(),t=e.collections_SearchDefinitions,n=e.collections_AddDefinition,a=e.collections_DeleteDefinition,l=e.collections_UpdateDefinition,s=Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({},n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),f=Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(n,r){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({id:n},r);case 2:return a=e.sent,e.abrupt("return",a.length>0?a[0]:void 0);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),b=Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t]),j=Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Object(i.w)(["id"],t),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]),d=Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[l]),p=Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],r=o.length>2?o[2]:void 0,e.next=4,a({id:t,keepData:n},r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a]);return{getAllCollectionDefinitions:s,getCollectionDefinition:f,searchCollectionDefinitions:b,addCollectionDefinition:j,updateCollectionDefinition:d,deleteCollectionDefinition:p}}},3013:function(e,t,n){"use strict";n.r(t),n.d(t,"CollectionDefinitionsViewer",(function(){return _}));var r=n(485),a=n(484),c=n.n(a),o=n(5),i=n(480),u=n(3006),l=n(17),s=n(2988),f=n(883),b=n.n(f),j=n(596),d=n.n(j),p=n(643),O=n.n(p),h=n(575),v=n.n(h),m=n(1514),x=n.n(m),w=n(736),g=n.n(w),C=n(601),k=n(591),y=n(681),R=n(529),D=n(642),S=n(689),T=n(1834),A=n(25),L=n(14),M=n(576),N=function(e){var t=Object(A.a)({$schema:"http://nimflow.com/schemas/collection-definition.schema.json",collectionName:e.collectionName},Object(L.c)(e));e.itemSchema&&(t.itemSchema=JSON.parse(e.itemSchema));var n=Object(M.A)(e);return null!==n&&void 0!==n&&n.uiSchema&&(n.uiSchema=JSON.parse(n.uiSchema)),t},P=n(2247),E=n(2251),F=n(128),I=[{field:"collectionName",title:l.a.t("CollectionName")},{field:"title",title:l.a.t("Title")},{field:"description",title:l.a.t("Description")}],z=function(e){return function(t,n){Array.isArray(n)&&(n=n[0]),e(n)}},B=Object(i.a)("input")((function(){return{opacity:0,position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%"}})),_=function(){var e=function(){var e=Object(T.a)(),t=e.getAllCollectionDefinitions,n=e.getCollectionDefinition,a=e.deleteCollectionDefinition,i=Object(E.a)().can,u=Object(D.a)(t),l=Object(k.a)(u,Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{revalidateOnFocus:!1}),s=l.data,f=l.error,b=l.mutate,j=l.isValidating,d=Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.abrupt("return",{json:N(r),fileName:"".concat(r.collectionName,".collection-definition.json")});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),p=Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:return n=e.sent,b(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,b]);return{collectionDefinitions:null!==s&&void 0!==s?s:[],isRefreshing:j,error:f,refresh:b,deleteDefinition:p,getExportData:d,canEdit:i([P.e.writeContextTypes])}}(),t=e.getExportData,n=e.canEdit,a=e.deleteDefinition,i=e.collectionDefinitions,f=e.error,j=e.isRefreshing,p=e.refresh,h=Object(u.a)().t,m=Object(R.c)(),w=Object(C.h)(),A=Object(o.useMemo)((function(){return{icon:b.a,tooltip:l.a.t("RefreshData"),isFreeAction:!0,onClick:p}}),[p]),L=Object(o.useMemo)((function(){return{icon:d.a,tooltip:l.a.t("AddCollectionDefition"),isFreeAction:!0,onClick:function(){w("new")}}}),[w]),M=Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==(a=null===(n=t.target)||void 0===n||null===(r=n.files)||void 0===r?void 0:r[0])&&void 0!==a&&a.type.match(/.+\/json/)&&(o=URL.createObjectURL(a),w("import/".concat(btoa(o))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[w]),_=Object(o.useMemo)((function(){return{icon:function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(x.a,{}),Object(F.jsx)(B,{type:"file",title:"",accept:".collection-definition.json",onChange:M})]})},tooltip:l.a.t("ImportCollectionDefinition"),isFreeAction:!0,onClick:function(){}}}),[M]),U=Object(o.useCallback)((function(e){return{icon:O.a,tooltip:l.a.t("Edit"),onClick:z((function(e){e.builtIn||w("edit/".concat(e.id))})),disabled:e.builtIn}}),[w]),V=Object(o.useCallback)((function(e){var n={icon:g.a,tooltip:l.a.t("Export"),onClick:z(function(){var e=Object(r.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.builtIn){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t(n.id);case 4:(r=e.sent)&&Object(S.a)(r.json,r.fileName);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),disabled:e.builtIn};return n}),[t]),J=Object(o.useCallback)((function(e){var t={icon:v.a,tooltip:l.a.t("Delete"),onClick:z(function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.builtIn){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m({description:h("ConfirmDeleteCollectionDefinition",{name:t.collectionName})});case 4:if(!(n=e.sent)){e.next=9;break}return e.next=8,a(t.id);case 8:n=e.sent;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),disabled:e.builtIn};return t}),[m,a,h]),H=Object(o.useMemo)((function(){var e=[];return n&&e.push(L,_),e.push(A),n&&e.push(U),e.push(V),n&&e.push(J),e}),[L,n,J,U,V,_,A]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(y.a,{columns:I,data:null!==i&&void 0!==i?i:[],title:h("CollectionDefinitions"),actions:H}),!j&&!!f&&Object(F.jsx)(s.a,{severity:"error",children:f})]})};t.default=_},681:function(e,t,n){"use strict";var r=n(564),a=n(464),c=n(25),o=n(5),i=n(781),u=n(876),l=n.n(u),s=n(2423),f=n(2471),b=n(2549),j=n(2425),d=n(2472),p=n(596),O=n.n(p),h=n(782),v=n.n(h),m=n(923),x=n.n(m),w=n(1e3),g=n.n(w),C=n(1001),k=n.n(C),y=n(998),R=n.n(y),D=n(575),S=n.n(D),T=n(643),A=n.n(T),L=n(1006),M=n.n(L),N=n(915),P=n.n(N),E=n(914),F=n.n(E),I=n(1005),z=n.n(I),B=n(736),_=n.n(B),U=n(992),V=n.n(U),J=n(968),H=n.n(J),W=n(17),$=n(14),q=n(128),G=["forwardedRef"],K={Add:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(O.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Check:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(x.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Clear:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(R.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Delete:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(S.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),DetailPanel:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(k.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Edit:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(A.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Export:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(_.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Filter:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(M.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),FirstPage:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(P.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),LastPage:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(F.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),NextPage:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(k.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),PreviousPage:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(g.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),ResetSearch:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(R.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Search:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(V.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),SortArrow:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(v.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(z.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),ViewColumn:Object(o.forwardRef)((function(e,t){return Object(q.jsx)(H.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))}))},Q=function e(t,n){for(var r={},c=0,o=Object.entries(t);c<o.length;c++){var i=Object(a.a)(o[c],2),u=i[0],l=i[1];"object"===typeof l?(n.push(u),r[u]=e(l,n),n.pop()):r[u]=W.a.t("".concat(n.join("."),".").concat(u))}return r}({body:{emptyDataSourceMessage:"",filterRow:{filterTooltip:""},editRow:{saveTooltip:"",cancelTooltip:"",deleteText:""},addTooltip:"",deleteTooltip:"",editTooltip:""},header:{actions:""},grouping:{groupedBy:"",placeholder:""},pagination:{firstTooltip:"",firstAriaLabel:"",previousTooltip:"",previousAriaLabel:"",nextTooltip:"",nextAriaLabel:"",labelDisplayedRows:"",labelRowsPerPage:"",lastTooltip:"",lastAriaLabel:"",labelRowsSelect:""},toolbar:{addRemoveColumns:"",nRowsSelected:function(e){return""},showColumnsTitle:"",showColumnsAriaLabel:"",exportTitle:"",exportAriaLabel:"",exportCSVName:"",exportPDFName:"",searchTooltip:"",searchPlaceholder:"",searchAriaLabel:"",clearSearchAriaLabel:""}},["MaterialTable"]),X=(window.innerHeight-64-64-24-52-10)/window.innerHeight*100,Y={padding:0,width:24,marginLeft:24},Z=function(e){var t=e.forwardedRef,n=Object(r.a)(e,G);return Object(q.jsxs)(s.a,{error:Boolean(n.error),ref:t,component:"fieldset",children:[Object(q.jsx)(f.a,{children:Object(q.jsx)(d.a,{label:"",control:Object(q.jsx)(b.a,Object(c.a)(Object(c.a)({},n),{},{value:String(n.value),checked:Boolean(n.value),onChange:function(e){return n.onChange(e.target.checked)},style:Y,color:"default",inputProps:{"aria-label":n.columnDef.title}}))})}),Object(q.jsx)(j.a,{children:n.helperText})]})},ee=function(e){return"boolean"===e.columnDef.type?Object(q.jsx)(Z,Object(c.a)({},e)):Object(q.jsx)(u.MTableEditField,Object(c.a)({},e))},te={EditField:function(e){return Object(q.jsx)(ee,Object(c.a)({},e))}};t.a=function(e){var t=Object(i.a)(),n=Object(o.useMemo)((function(){return e.icons?Object(c.a)(Object(c.a)({},K),e.icons):K}),[e.icons]),r=Object(o.useMemo)((function(){return e.localization?Object(c.a)(Object(c.a)({},Q),e.localization):Q}),[e.localization]),a=Object(o.useMemo)((function(){var n=function(e){return{actionsColumnIndex:-1,padding:"normal",pageSize:10,headerStyle:{fontWeight:"bold",backgroundColor:e.palette.background.paper,position:"sticky",top:0},paginationPosition:"top",maxBodyHeight:"".concat(X,"vh")}}(t);return e.options&&(n=Object($.u)(n,e.options)),n}),[t,e.options]),u=Object(o.useMemo)((function(){return e.components?Object(c.a)(Object(c.a)({},te),e.components):te}),[e.components]),s={boxShadow:"none",backgroundColor:t.palette.background.default,backgroundImage:"none"};return Object(q.jsx)(l.a,Object(c.a)(Object(c.a)({},e),{},{icons:n,options:a,components:u,localization:r,style:s}))}},689:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.json",n=JSON.stringify(e,void 0,4);a(n,t,"application/json")},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.txt",n=arguments.length>2?arguments[2]:void 0,r=new Blob([e]);c(r,t,n)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.txt",n=arguments.length>2?arguments[2]:void 0;if("msSaveBlob"in navigator)navigator.msSaveBlob(e,t);else{var r=URL.createObjectURL(e),a=document.createElement("a");a.href=r,a.download=t,n&&(a.type=n),document.body.appendChild(a);try{a.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}finally{document.body.removeChild(a),setTimeout((function(){return URL.revokeObjectURL(a.href)}),0)}}},o=function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){var r,a=null===(r=e.target)||void 0===r?void 0:r.result;if("string"===typeof a){var c=JSON.parse(a);t(c)}n("Invalid data type in blob ".concat(typeof a))},r.onerror=function(e){n("Error reading blob")},r.readAsText(e)}))}},883:function(e,t,n){"use strict";var r=n(474);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(479)),c=n(128),o=(0,a.default)((0,c.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");t.default=o}}]);
//# sourceMappingURL=65.6a132b4c.chunk.js.map