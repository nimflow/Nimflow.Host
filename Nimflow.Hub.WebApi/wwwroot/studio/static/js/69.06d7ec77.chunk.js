(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[69],{1181:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(7),i=n(103),r=n(2305),c=n(2986),o=n(2618),l=n(128),u=["children","className"],s=Object(c.a)((function(e){return Object(o.a)({paper:{padding:e.spacing(2),color:e.palette.text.secondary}})})),d=function(e){var t=e.children,n=e.className,c=Object(i.a)(e,u),o=s();return Object(l.jsx)(r.a,Object(a.a)(Object(a.a)({className:"".concat(o.paper," ").concat(n),elevation:3},c),{},{children:t}))}},1246:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(7),i=n(103),r=n(2618),c=n(2986),o=n(2459),l=n(1515),u=n(128),s=["title","actions"],d=Object(c.a)((function(e){return Object(r.a)({grow:{flexGrow:1},actionToolbarButtons:{display:"flex"}})})),f=function(e){var t=e.title,n=e.actions,r=Object(i.a)(e,s),c=d();return Object(u.jsxs)(o.a,Object(a.a)(Object(a.a)({variant:"dense"},r),{},{children:[t&&Object(u.jsx)(l.a,{children:t}),Object(u.jsx)("div",{className:c.grow}),n&&Object(u.jsx)("div",{className:c.actionToolbarButtons,children:n})]}))}},1515:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(7),i=n(103),r=n(2419),c=n(128),o=["children"],l=function(e){var t=e.children,n=Object(i.a)(e,o);return Object(c.jsx)(r.a,Object(a.a)(Object(a.a)({variant:"h5"},n),{},{children:t}))}},1990:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(518),i=n(130),r=n(5),c=n.n(r),o=n(14),l=n(38),u=n(1582),s=function(e,t){var n,a=null!==(n=e.getValue())&&void 0!==n?n:[],i=null!==a&&void 0!==a?a:[],r=t(i);i!==r&&e.setValue(r,{shouldDirty:!0})},d=function(e){var t,n=e.control,d=e.name,f=(e.keyName,e.defaultValue),b=n.register,j=n.unregister,O=n.fieldsRef,p=n.setValue,v=n.updateFormState,m=n.readFormStateRef,h=n.fieldArrayNamesRef,y=n.shallowFieldsStateRef,x=n.defaultValuesRef,g=n.validateResolver,k=c.a.useMemo((function(){return{getValue:function(){var e,t=null===(e=O.current)||void 0===e?void 0:e[d];if(t)return t.ref.value},setValue:function(e,t){p(d,e,t),m.current.isValid&&g&&g(Object(i.a)({},d,e)),v()}}}),[O,p,d,m,g,v]),C=Object(r.useCallback)((function(){var e,t=!Object(u.d)(h.current,d);return Object(l.isPresent)(y.current[d])&&t?y.current[d]:null!==(e=null!==f&&void 0!==f?f:Object(u.b)(x.current,d))&&void 0!==e?e:[]}),[d,h,y,x,f]),A=null!==(t=k.getValue())&&void 0!==t?t:C(),w=Object(r.useCallback)((function(){if(b({name:d,type:"array-field"}),!k.getValue()){var e=C();k.setValue(e)}return v(),function(){return j(d)}}),[b,j,v,k,d,C]);return c.a.useEffect((function(){w()}),[w]),c.a.useEffect((function(){O.current[d]||w()})),{fields:A,swap:c.a.useCallback((function(e,t){s(k,(function(n){if(n.length<=1)return n;var a=n[e],i=n[t];return n.map((function(n,r){return r===e?i:r===t?a:n}))}))}),[k]),move:c.a.useCallback((function(e,t){s(k,(function(n){return n.length<=1?n:Object(o.v)(e,t,n)}))}),[k]),prepend:c.a.useCallback((function(e){s(k,(function(t){return Array.isArray(e)?Object(o.e)(e,t):Object(o.y)(e,t)}))}),[k]),append:c.a.useCallback((function(e){s(k,(function(t){return Array.isArray(e)?Object(o.e)(t,e):Object(o.a)(e,t)}))}),[k]),remove:c.a.useCallback((function(e){s(k,(function(t){if(0===t.length)return t;if(!Object(l.isDefined)(e))return[];if(t){for(var n=[],a=Array.isArray(e)?e:[e],i=0;i<t.length;i++)a.includes(i)||n.push(t[i]);return n}return t}))}),[k]),insert:c.a.useCallback((function(e,t){s(k,(function(n){return Array.isArray(t)?Object(o.n)(e,t,n):Object(o.m)(e,t,n)}))}),[k]),setAt:c.a.useCallback((function(e,t){s(k,(function(n){if(Array.isArray(t)){var i=Object(a.a)(n);return i.splice.apply(i,[e,t.length].concat(Object(a.a)(t))),i}return Object(o.K)(e,t,n)}))}),[k])}}},2835:function(e,t,n){"use strict";n.r(t),n.d(t,"ActionTypesEditor",(function(){return _}));var a=n(485),i=n(464),r=n(484),c=n.n(r),o=n(5),l=n(2618),u=n(2986),s=n(2937),d=n(2440),f=n(2419),b=n(643),j=n.n(b),O=n(596),p=n.n(O),v=n(575),m=n.n(v),h=n(2935),y=n(3029),x=n(2418),g=n(3031),k=n(2439),C=n(2836),A=n.n(C),w=n(3006),S=n(38),D=n(862),N=n(14),V=n(1990),T=n(1994),R=n(1181),M=n(1246),P=n(1303),z=n(529),J=n(1507),W=n(1544),I=n(128),E=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(7),n.e(9),n.e(18)]).then(n.bind(null,2848))})),F=Object(u.a)((function(e){return Object(l.a)({root:{width:"100%",backgroundColor:e.palette.background.paper},item:{border:"2px solid ".concat(e.palette.common.action),borderRadius:2},divider:{height:5,background:"transparent"},inline:{display:"inline"},actionHeading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},summaryTextContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center"},initialAction:{border:"none",borderRadius:"50%","&.Mui-selected":{color:e.palette.primary.main,backgroundColor:"inherit"}}})})),_=function(e){var t=e.onSelectionChanged,n=e.onDialogVisibilityChanged,r=F(),l=Object(w.a)().t,u=Object(o.useState)(),b=Object(i.a)(u,2),O=b[0],v=b[1],C=Object(o.useState)(),_=Object(i.a)(C,2),B=_[0],H=_[1],G=Object(D.f)(),K=G.errors,q=G.control,L=Object(V.a)({name:"actions",control:q}),Q=L.fields,U=L.append,X=L.remove,Y=L.setAt,Z=L.move,$=Object(V.a)({name:"initialActions",control:q}),ee=$.fields,te=$.append,ne=$.remove,ae=Object(z.c)(),ie=Object(W.e)().removeInvalidTaggings,re=Object(J.b)(),ce=re.getJsonSchemaDefinition,oe=re.setJsonSchemaDefinition,le=re.updateActionJsonSchemaDefinition,ue=Object(o.useCallback)((function(){H({actionType:{name:"",jsSetters:{},validators:[]}}),null===n||void 0===n||n(!0)}),[H,n]),se=Object(o.useCallback)(function(){var e=Object(a.a)(c.a.mark((function e(n){var a,i,r,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===(a=Q[n])||void 0===a?void 0:a.name,e.next=3,ae({description:l("ConfirmDeleteActionType",{name:r})});case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:r&&(o=ee.indexOf(r))>=0&&ne(o),(u=null===(i=Q[n])||void 0===i?void 0:i.payloadSchemaDefinitionName)&&oe(u,void 0),X(n),ie(),O===n&&(null===t||void 0===t||t(null===(s=Q[n])||void 0===s?void 0:s.name));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Q,ae,l,X,ie,O,ee,ne,oe,t]),de=Object(o.useMemo)((function(){if(B){var e=B.actionType.payloadSchemaDefinitionName;if(e)return ce(e)}}),[B,ce]),fe=Object(o.useCallback)((function(e,t){if(B){var n=B.index;if(Object(S.isDefined)(n)){var a,i=null===(a=Q[n])||void 0===a?void 0:a.name;if(i!==e.name&&i){var r=ee.indexOf(i);r>=0&&(ne(r),te(e.name))}if(!e.payloadSchemaDefinitionName){var c=Q[n].payloadSchemaDefinitionName;c&&oe(c,void 0)}Y(n,e),ie()}else U(e);le(e,t)}}),[Q,U,Y,B,ee,te,ne,ie,oe,le]),be=Object(o.useCallback)((function(e){if(e){var t=ee.indexOf(e);t>=0?ne(t):te(e)}}),[ee,te,ne]),je=Object(o.useCallback)((function(e,t){Z(e,t),O===e&&v(t)}),[Z,O]),Oe=Object(o.useCallback)((function(e,t){H({index:e,actionType:Object(N.c)(t)}),null===n||void 0===n||n(!0)}),[H,n]),pe=Object(o.useCallback)((function(){H(void 0),null===n||void 0===n||n(!1)}),[H,n]);return Object(I.jsxs)(R.a,{children:[Object(I.jsx)(M.a,{title:l("Actions"),actions:Object(I.jsx)(k.a,{title:l("NewActionType"),children:Object(I.jsx)(x.a,{onClick:ue,size:"large",children:Object(I.jsx)(p.a,{})})})}),Object(I.jsx)(T.a,{onItemReorder:je,className:r.root,children:Q.map((function(e,n){var a=!!e.name&&ee.includes(e.name);return Object(I.jsxs)(T.b,{index:n,selected:O===n,onClick:function(e){return function(e,n){var a;v(n),null===t||void 0===t||t(null===(a=Q[n])||void 0===a?void 0:a.name)}(0,n)},className:r.item,afterItem:Object(I.jsx)(h.a,{className:r.divider}),children:[Object(I.jsx)(s.a,{children:Object(I.jsx)(k.a,{title:l("MakeInitialAction"),children:Object(I.jsx)(g.a,{value:"initialAction",selected:a,onClick:function(){return be(e.name)},className:r.initialAction,children:Object(I.jsx)(A.a,{})})})}),Object(I.jsx)(d.a,{primary:Object(I.jsx)(f.a,{className:r.actionHeading,children:e.name})}),Object(I.jsxs)(y.a,{children:[Object(I.jsx)(k.a,{title:l("Edit"),children:Object(I.jsx)(x.a,{"aria-label":"edit",onClick:function(){return Oe(n,e)},size:"large",children:Object(I.jsx)(j.a,{})})}),Object(I.jsx)(k.a,{title:l("Delete"),children:Object(I.jsx)(x.a,{edge:"end","aria-label":"delete",onClick:function(){return se(n)},size:"large",children:Object(I.jsx)(m.a,{})})})]})]},e.name)}))}),Object(I.jsx)(P.a,{errors:K,names:["initialActions","actions"]}),Object(S.isDefined)(B)&&Object(I.jsx)(o.Suspense,{fallback:null,children:Object(I.jsx)(E,{open:Object(S.isDefined)(B),onClose:pe,defaultValue:B.actionType,definitionJsonSchema:de,onChange:fe})})]})};t.default=_},2836:function(e,t,n){"use strict";var a=n(474);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=i?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a)}(n(5));var i=a(n(479)),r=n(128);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var o=(0,i.default)((0,r.jsx)("path",{transform:"scale(0.5, 0.5)",d:"M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z"}),"PlayCircleFilledWhite");t.default=o}}]);
//# sourceMappingURL=69.06d7ec77.chunk.js.map