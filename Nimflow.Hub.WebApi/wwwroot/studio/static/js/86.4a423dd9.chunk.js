(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[86],{3122:function(e,t,n){"use strict";n.r(t),n.d(t,"PackageDefinitionCreator",(function(){return v}));var a=n(22),r=n(3),i=n(8),c=n.n(i),s=n(6),o=n(3161),u=n(3163),l=n(9),f=n(514),p=n(2384),m=n(537),d=n(2427),b=n(136),v=function(){var e=Object(o.a)().t,t=Object(f.c)(),n=t.packages_SearchPackageDefinitions,i=t.packages_UpsertPackageDefinition,v=Object(s.useState)((function(){return{name:"",requiredSecretNames:[],contextTypeNames:[],majorVersion:1,minorVersion:0,customCollections:{NimflowDashboards:{ids:[],replaceAll:!1},NimflowDashboardWidgets:{ids:[],replaceAll:!1},NimflowContextSimulations:{ids:[],replaceAll:!1},NimflowLocalizations:{ids:[],replaceAll:!1}},userDefinedFunctionNames:[],eventListenerIds:[]}})),h=Object(r.a)(v,2),j=h[0],k=h[1],w=Object(m.h)(),O=Object(s.useCallback)(function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:return n=e.sent,k(t),setTimeout((function(){var e;return w("../edit/".concat(null===(e=n.definition)||void 0===e?void 0:e.name),{replace:!0})}),0),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[w,i]),x=Object(s.useMemo)((function(){return p.a.shape({name:p.a.fields.name.concat(l.m().defined().test({message:function(t){var n=t.value;return e("PackageDefinitionNameAlreadyExists",{name:n})},test:function(){var e=Object(a.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,n({name:t});case 4:return a=e.sent,e.abrupt("return",Object(u.a)(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))})}),[n,e]);return Object(b.jsx)(d.a,{value:j,schema:x,onSave:O})};t.default=v}}]);
//# sourceMappingURL=86.4a423dd9.chunk.js.map