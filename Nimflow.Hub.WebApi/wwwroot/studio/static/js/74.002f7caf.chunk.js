(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[74],{1510:function(e,t,n){"use strict";var r=n(469);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(474)),o=n(123),c=(0,a.default)((0,o.jsx)("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6-4 4h3v6h2v-6h3l-4-4z"}),"OpenInBrowser");t.default=c},3013:function(e,t,n){"use strict";n.r(t),n.d(t,"UdFunctionsViewer",(function(){return N}));var r=n(19),a=n(8),o=n.n(a),c=n(6),i=n(475),u=n(3008),s=n(17),l=n(2990),f=n(877),b=n.n(f),j=n(591),d=n.n(j),p=n(638),O=n.n(p),h=n(569),v=n.n(h),m=n(1510),x=n.n(m),w=n(731),g=n.n(w),R=n(596),y=n(585),k=n(676),S=n(521),C=n(637),F=n(690),T=n(684),A=n(1),M=n(13),L=function(e){var t=Object(A.a)({$inputSchema:"http://nimflow.com/schemas/ud-function.schema.json",$outputSchema:"http://nimflow.com/schemas/ud-function.schema.json",name:e.name},Object(M.c)(e));return e.inputSchema&&(t.inputSchema=JSON.parse(e.inputSchema)),e.outputSchema&&(t.outputSchema=JSON.parse(e.outputSchema)),t},P=n(123),U=[{field:"name",title:s.a.t("Name")},{field:"description",title:s.a.t("Description")},{field:"outputType",title:s.a.t("OutputType")}],D=function(e){return function(t,n){Array.isArray(n)&&(n=n[0]),e(n)}},E=Object(i.a)("input")((function(){return{opacity:0,position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%"}})),N=function(){var e=function(){var e=Object(F.b)(),t=e.getAllUdFunctions,n=e.getUdFunction,a=e.deleteUdFunction,i=Object(C.a)(t),u=Object(y.a)(i,Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{revalidateOnFocus:!1}),s=u.data,l=u.error,f=u.mutate,b=u.isValidating,j=Object(c.useCallback)(function(){var e=Object(r.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",{json:L(r),fileName:"".concat(r.name,".ud-function.json")});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),d=Object(c.useCallback)(function(){var e=Object(r.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:return n=e.sent,f(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,f]);return{deleteFunction:d,getExportData:j,udFunctions:null!==s&&void 0!==s?s:[],error:null===l||void 0===l?void 0:l.toString(),refresh:f,isRefreshing:b}}(),t=e.udFunctions,n=e.error,a=e.refresh,i=e.isRefreshing,f=e.deleteFunction,j=e.getExportData,p=Object(u.a)().t,h=Object(S.c)(),m=Object(R.h)(),w=Object(c.useMemo)((function(){return{icon:b.a,tooltip:s.a.t("RefreshData"),isFreeAction:!0,onClick:a}}),[a]),A=Object(c.useMemo)((function(){return{icon:d.a,tooltip:s.a.t("AddUdFunction"),isFreeAction:!0,onClick:function(){m("new")}}}),[m]),M=Object(c.useCallback)(function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==(a=null===(n=t.target)||void 0===n||null===(r=n.files)||void 0===r?void 0:r[0])&&void 0!==a&&a.type.match(/.+\/json/)&&(c=URL.createObjectURL(a),m("import/".concat(btoa(c))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[m]),N=Object(c.useMemo)((function(){return{icon:function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(x.a,{}),Object(P.jsx)(E,{type:"file",title:"",accept:".ud-function.json",onChange:M})]})},tooltip:s.a.t("ImportUdFunction"),isFreeAction:!0,onClick:function(){}}}),[M]),z=Object(c.useMemo)((function(){return{icon:O.a,tooltip:s.a.t("Edit"),onClick:D((function(e){m("edit/".concat(e.id))}))}}),[m]),B=Object(c.useMemo)((function(){var e={icon:g.a,tooltip:s.a.t("Export"),onClick:D(function(){var e=Object(r.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.id);case 2:(n=e.sent)&&Object(T.a)(n.json,n.fileName);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return e}),[j]),V=Object(c.useMemo)((function(){var e={icon:v.a,tooltip:s.a.t("Delete"),onClick:D(function(){var e=Object(r.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({description:p("ConfirmDeleteUdFunction",{name:t.name})});case 2:if(!(n=e.sent)){e.next=7;break}return e.next=6,f(t.id);case 6:n=e.sent;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return e}),[h,f,p]);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(k.a,{columns:U,data:t,title:p("UdFunctions"),actions:[A,N,w,z,B,V]}),!i&&!!n&&Object(P.jsx)(l.a,{severity:"error",children:n})]})};t.default=N},676:function(e,t,n){"use strict";var r=n(98),a=n(4),o=n(1),c=n(6),i=n(777),u=n(870),s=n.n(u),l=n(2421),f=n(2469),b=n(2546),j=n(2423),d=n(2470),p=n(591),O=n.n(p),h=n(778),v=n.n(h),m=n(916),x=n.n(m),w=n(995),g=n.n(w),R=n(996),y=n.n(R),k=n(993),S=n.n(k),C=n(569),F=n.n(C),T=n(638),A=n.n(T),M=n(1001),L=n.n(M),P=n(908),U=n.n(P),D=n(907),E=n.n(D),N=n(1e3),z=n.n(N),B=n(731),V=n.n(B),J=n(987),H=n.n(J),I=n(963),_=n.n(I),$=n(17),W=n(13),q=n(123),G=["forwardedRef"],K={Add:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(O.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),Check:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(x.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),Clear:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(S.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),Delete:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(F.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),DetailPanel:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(y.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),Edit:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(A.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),Export:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(V.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),Filter:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(L.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),FirstPage:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(U.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),LastPage:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(E.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),NextPage:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(y.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),PreviousPage:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(g.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),ResetSearch:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(S.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),Search:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(H.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),SortArrow:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(v.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(z.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))})),ViewColumn:Object(c.forwardRef)((function(e,t){return Object(q.jsx)(_.a,Object(o.a)(Object(o.a)({},e),{},{ref:t}))}))},Q=function e(t,n){for(var r={},o=0,c=Object.entries(t);o<c.length;o++){var i=Object(a.a)(c[o],2),u=i[0],s=i[1];"object"===typeof s?(n.push(u),r[u]=e(s,n),n.pop()):r[u]=$.a.t("".concat(n.join("."),".").concat(u))}return r}({body:{emptyDataSourceMessage:"",filterRow:{filterTooltip:""},editRow:{saveTooltip:"",cancelTooltip:"",deleteText:""},addTooltip:"",deleteTooltip:"",editTooltip:""},header:{actions:""},grouping:{groupedBy:"",placeholder:""},pagination:{firstTooltip:"",firstAriaLabel:"",previousTooltip:"",previousAriaLabel:"",nextTooltip:"",nextAriaLabel:"",labelDisplayedRows:"",labelRowsPerPage:"",lastTooltip:"",lastAriaLabel:"",labelRowsSelect:""},toolbar:{addRemoveColumns:"",nRowsSelected:function(e){return""},showColumnsTitle:"",showColumnsAriaLabel:"",exportTitle:"",exportAriaLabel:"",exportCSVName:"",exportPDFName:"",searchTooltip:"",searchPlaceholder:"",searchAriaLabel:"",clearSearchAriaLabel:""}},["MaterialTable"]),X=(window.innerHeight-64-64-24-52-10)/window.innerHeight*100,Y={padding:0,width:24,marginLeft:24},Z=function(e){var t=e.forwardedRef,n=Object(r.a)(e,G);return Object(q.jsxs)(l.a,{error:Boolean(n.error),ref:t,component:"fieldset",children:[Object(q.jsx)(f.a,{children:Object(q.jsx)(d.a,{label:"",control:Object(q.jsx)(b.a,Object(o.a)(Object(o.a)({},n),{},{value:String(n.value),checked:Boolean(n.value),onChange:function(e){return n.onChange(e.target.checked)},style:Y,color:"default",inputProps:{"aria-label":n.columnDef.title}}))})}),Object(q.jsx)(j.a,{children:n.helperText})]})},ee=function(e){return"boolean"===e.columnDef.type?Object(q.jsx)(Z,Object(o.a)({},e)):Object(q.jsx)(u.MTableEditField,Object(o.a)({},e))},te={EditField:function(e){return Object(q.jsx)(ee,Object(o.a)({},e))}};t.a=function(e){var t=Object(i.a)(),n=Object(c.useMemo)((function(){return e.icons?Object(o.a)(Object(o.a)({},K),e.icons):K}),[e.icons]),r=Object(c.useMemo)((function(){return e.localization?Object(o.a)(Object(o.a)({},Q),e.localization):Q}),[e.localization]),a=Object(c.useMemo)((function(){var n=function(e){return{actionsColumnIndex:-1,padding:"normal",pageSize:10,headerStyle:{fontWeight:"bold",backgroundColor:e.palette.background.paper,position:"sticky",top:0},paginationPosition:"top",maxBodyHeight:"".concat(X,"vh")}}(t);return e.options&&(n=Object(W.u)(n,e.options)),n}),[t,e.options]),u=Object(c.useMemo)((function(){return e.components?Object(o.a)(Object(o.a)({},te),e.components):te}),[e.components]),l={boxShadow:"none",backgroundColor:t.palette.background.default,backgroundImage:"none"};return Object(q.jsx)(s.a,Object(o.a)(Object(o.a)({},e),{},{icons:n,options:a,components:u,localization:r,style:l}))}},684:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.json",n=JSON.stringify(e,void 0,4);a(n,t,"application/json")},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.txt",n=arguments.length>2?arguments[2]:void 0,r=new Blob([e]);o(r,t,n)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.txt",n=arguments.length>2?arguments[2]:void 0;if("msSaveBlob"in navigator)navigator.msSaveBlob(e,t);else{var r=URL.createObjectURL(e),a=document.createElement("a");a.href=r,a.download=t,n&&(a.type=n),document.body.appendChild(a);try{a.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}finally{document.body.removeChild(a),setTimeout((function(){return URL.revokeObjectURL(a.href)}),0)}}},c=function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){var r,a=null===(r=e.target)||void 0===r?void 0:r.result;if("string"===typeof a){var o=JSON.parse(a);t(o)}n("Invalid data type in blob ".concat(typeof a))},r.onerror=function(e){n("Error reading blob")},r.readAsText(e)}))}},877:function(e,t,n){"use strict";var r=n(469);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(474)),o=n(123),c=(0,a.default)((0,o.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");t.default=c}}]);
//# sourceMappingURL=74.002f7caf.chunk.js.map