(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[14],{1060:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(3),a=r(1),i=r(70),c=r(9),o=r(2213),s=r(472),u=r(2329),l=r(2294),d=r(129),b=["name","label","onChange","onBlur","helperText","error","disabled","controlValueAdapter","FormHelperTextProps","LabelProps"],f=function(e){var t,r=e.name,f=e.label,j=e.onChange,p=e.onBlur,v=e.helperText,O=(e.error,e.disabled),m=e.controlValueAdapter,h=e.FormHelperTextProps,x=e.LabelProps,g=Object(i.a)(e,b),k=Object(s.f)().isSubmitting,C=Object(s.e)({name:r}),y=Object(a.a)(C,3),E=y[0],w=y[1],T=y[2],S=w.error,R=w.touched&&!!S,B=Object(c.useCallback)((function(e,t){T.setValue(m?m(t):t),null===j||void 0===j||j(e,t)}),[m,T,j]),P=Object(c.useCallback)((function(e){E.onBlur(e),null===p||void 0===p||p(e)}),[E,p]),A=Object(d.jsx)(o.a,Object(n.a)(Object(n.a)({},E),{},{checked:null!==(t=E.checked)&&void 0!==t?t:E.value,onChange:B,onBlur:P,disabled:null!==O&&void 0!==O?O:k},g));return Object(d.jsxs)(d.Fragment,{children:[!!f&&Object(d.jsx)(u.a,Object(n.a)({control:A,label:f},x)),!f&&Object(d.jsx)(d.Fragment,{children:A}),v&&Object(d.jsx)(l.a,Object(n.a)(Object(n.a)({error:R},h),{},{children:R?S:v}))]})}},2171:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(2616),a=r(1496),i=r(18),c=r(6),o=c.k().shape({name:c.m().required().identifier(),role:c.m().required(),expires:c.m().iso8601Formatted().test({message:"ExpirationDateMustBeAFutureDate",test:function(e){if(!e||"string"!==typeof e)return!0;var t=Object(n.default)(e);if(!Object(a.a)(t))return!0;var r=this.parent;return!(t<new Date&&!r.id)||this.createError({path:"expires",message:i.a.t("ExpirationDateMustBeAFutureDate")})}}),active:c.g()})},2457:function(e,t,r){"use strict";r.d(t,"a",(function(){return W}));var n=r(3),a=r(4),i=r.n(a),c=r(21),o=r(9),s=r(2275),u=r(2269),l=r(3317),d=r(2324),b=r(2304),f=r(2285),j=r(733),p=r.n(j),v=r(732),O=r.n(v),m=r(694),h=r.n(m),x=r(472),g=r(3408),k=r(635),C=r(532),y=r(735),E=r(2112),w=r(514),T=r(2171),S=r(484),R=r(546),B=r(743),P=r(598),A=r(130),N=r(572),V=r(497),D=r(1060),F=r(129),M=Object(s.a)((function(e){return Object(u.a)({form:{height:"100%"},root:{flexGrow:1},toolbar:{minHeight:"48px",paddingLeft:0},paper:{padding:e.spacing(2),color:e.palette.text.secondary},grow:{flexGrow:1},actionToolbarButtons:{display:"flex"},textField:{width:"40ch"},button:{margin:e.spacing(1)},saveAsEllipsis:{position:"absolute",left:17,bottom:4,fontWeight:"bold"},booleanEditor:{marginTop:15}})})),I=function(e){var t,r=e.schema,n=void 0===r?T.a:r,a=e.onSave,s=Object(g.a)().t,u=M(),j=Object(C.h)(),v=Object(k.b)().enqueueSnackbar,m=Object(x.f)(),w=m.isSubmitting,S=m.errors,R=m.validateForm,N=m.values,I=m.dirty,W=m.setFieldValue,q=!w,L=Object(P.a)(),H=Object(o.useMemo)((function(){return{description:s("ExitingDigitalWorkerEditorWithoutSavingWarning")}}),[s]);Object(B.a)(I,H);var $=Object(y.a)(Object(o.useCallback)(Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=3;break}return e.next=3,a();case 3:case"end":return e.stop()}}),e)}))),[a])),z=Object(o.useCallback)(Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.b)(n,N);case 2:return t=e.sent,e.next=5,R();case 5:t.length>0?L(s("DigitalWorkerHasValidationErrors"),t,{dialogProps:{maxWidth:"lg"}}):v(s("DigitalWorkerIsValid"),{variant:"success"});case 6:case"end":return e.stop()}}),e)}))),[n,N,R,L,s,v]),_=Object(o.useCallback)((function(){j(-1)}),[j]),G=Object(o.useCallback)((function(e){W("expires",e?e.toISOString():void 0)}),[W]);return Object(F.jsxs)(l.a,{container:!0,spacing:3,children:[Object(F.jsx)(l.a,{item:!0,xs:12,children:Object(F.jsxs)(d.a,{className:u.toolbar,children:[Object(F.jsx)(b.a,{title:s("GoBack"),children:Object(F.jsx)(f.a,{onClick:_,disabled:w,children:Object(F.jsx)(p.a,{})})}),Object(F.jsx)(b.a,{title:s("SaveChanges"),children:Object(F.jsx)(f.a,{onClick:$,disabled:!q,children:Object(F.jsx)(O.a,{})})}),Object(F.jsx)(b.a,{title:s("Validate"),children:Object(F.jsx)(f.a,{onClick:z,children:Object(F.jsx)(h.a,{})})})]})}),Object(F.jsx)(l.a,{item:!0,xs:3,children:Object(F.jsx)(V.a,{name:"name",label:s("Name"),fullWidth:!0,InputLabelProps:{required:!0},required:!0})}),Object(F.jsx)(l.a,{item:!0,xs:3,children:Object(F.jsx)(V.a,{name:"role",label:s("Role"),fullWidth:!0,InputLabelProps:{required:!0},required:!0,disabled:!!N.id})}),Object(F.jsx)(l.a,{item:!0,xs:6}),!!N.id&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(l.a,{item:!0,xs:6,children:Object(F.jsx)(V.a,{name:"apiKey",label:s("ApiKey"),fullWidth:!0})}),Object(F.jsx)(l.a,{item:!0,xs:6})]}),Object(F.jsx)(l.a,{item:!0,xs:3,children:Object(F.jsx)(E.b,{margin:"none",label:s("Expires"),format:s("DATE_FORMAT"),fullWidth:!0,value:null!==(t=N.expires)&&void 0!==t?t:null,onChange:G,error:!!S.expires,helperText:S.expires})}),Object(F.jsx)(l.a,{item:!0,xs:3,children:!!N.id&&Object(F.jsx)(D.a,{name:"active",label:s("Active"),inputProps:{required:!0},required:!0,LabelProps:{className:u.booleanEditor}})}),Object(F.jsx)(l.a,{item:!0,xs:6})]})},W=function(e){var t=e.value,r=e.schema,a=void 0===r?T.a:r,s=e.onSave,u=Object(g.a)().t,l=M(),d=Object(S.b)(),b=Object(k.b)().enqueueSnackbar,f=Object(o.useRef)();Object(o.useEffect)((function(){var e;null===(e=f.current)||void 0===e||e.resetForm({values:t})}),[t]);var j=Object(o.useRef)(),p=Object(o.useCallback)((function(){var e=f.current;return e&&s&&(j.current=function(){var e=Object(c.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t);case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r=Object(F.jsx)(R.a,{error:e.t0});case 11:if(!r){e.next=16;break}return e.next=14,d({title:u("ErrorSavingDigitalWorker"),description:r,mapCloseTo:"ok",actions:[{type:"ok",text:u("Ok")}]});case 14:e.next=17;break;case 16:b(u("DigitalWorkerSaved"),{variant:"success"});case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Object(N.a)(e)),Promise.resolve()}),[d,b,s,u]),v=Object(o.useCallback)(function(){var e=Object(c.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!j.current){e.next=5;break}return e.next=4,j.current(t);case 4:j.current=void 0;case 5:return e.prev=5,r.setSubmitting(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})));return function(t,r){return e.apply(this,arguments)}}(),[]);return Object(F.jsx)(w.a,{children:Object(F.jsx)(x.c,{innerRef:function(e){return f.current=e},initialValues:t,onSubmit:v,validationSchema:a,validateOnChange:!0,validateOnBlur:!0,children:Object(F.jsx)(x.b,{autoComplete:"off",className:l.form,children:Object(F.jsx)(I,Object(n.a)(Object(n.a)({},e),{},{onSave:p}))})})})}},497:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(3),a=r(1),i=r(70),c=r(9),o=r(2290),s=r(472),u=r(49),l=r(129),d=["name","debounce","onChange","onBlur","helperText","error","disabled","controlValueAdapter"],b=function(e){var t=e.name,r=e.debounce,b=e.onChange,f=e.onBlur,j=e.helperText,p=(e.error,e.disabled),v=e.controlValueAdapter,O=Object(i.a)(e,d),m=Object(s.f)().isSubmitting,h=Object(s.e)({name:t}),x=Object(a.a)(h,3),g=x[0],k=x[1],C=x[2],y=k.error,E=k.touched&&!!y,w=Object(c.useState)(g.value),T=Object(a.a)(w,2),S=T[0],R=T[1],B=Object(c.useState)(),P=Object(a.a)(B,2),A=P[0],N=P[1];Object(c.useEffect)((function(){R(g.value)}),[g.value]);var V=Object(c.useCallback)((function(e){var t=e.target.value;C.setValue(v?v(t):t),null===b||void 0===b||b(e)}),[v,C,b]),D=Object(c.useCallback)((function(e){R((function(t){var r=e.target.value;return r||t})),Object(u.isPresent)(r)?(e.persist(),A&&clearTimeout(A),N(setTimeout((function(){return V(e)}),r))):V(e)}),[V,r,A]),F=Object(c.useCallback)((function(e){g.onBlur(e),null===f||void 0===f||f(e)}),[g,f]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(o.a,Object(n.a)(Object(n.a)({},g),{},{value:null!==S&&void 0!==S?S:"",onChange:D,onBlur:F,error:E,helperText:E?y:j,disabled:null!==p&&void 0!==p?p:m},O))})}},514:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(2),a=r(8),i=r(16),c=r(17),o=r(9),s=r(2275),u=r(2269),l=r(2286),d=r(836),b=r(837),f=r(838),j=r(652),p=r.n(j),v=r(129),O=Object(s.a)((function(e){return Object(u.a)({errorDetails:{overflow:"auto"}})})),m=function(e){var t=e.error,r=e.stack,n=O();return Object(v.jsxs)(d.a,{children:[Object(v.jsx)(f.a,{expandIcon:Object(v.jsx)(p.a,{}),children:Object(v.jsx)(l.a,{variant:"h5",color:"error",children:t})}),Object(v.jsx)(b.a,{className:n.errorDetails,children:Object(v.jsx)("pre",{children:r})})]})},h=function(e){Object(i.a)(r,e);var t=Object(c.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={hasError:!1},e}return Object(a.a)(r,[{key:"componentDidCatch",value:function(e,t){console.log({error:e,errorInfo:t}),this.setState({errorInfo:t})}},{key:"render",value:function(){var e,t,r=this.state,n=r.hasError,a=r.error,i=r.errorInfo;return n?Object(v.jsx)(m,{error:null!==(e=null===a||void 0===a?void 0:a.message)&&void 0!==e?e:"",stack:null!==(t=null===i||void 0===i?void 0:i.componentStack)&&void 0!==t?t:""}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),r}(o.Component)},530:function(e,t,r){"use strict";var n=r(9),a=n.createContext({});t.a=a},572:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return c}));var n=r(49),a=function e(t){var r={};if(t)for(var a=function(){var a=c[i];Array.isArray(t[a])?t[a].forEach((function(t,i){var c=r[a];Object(n.isPresent)(c)||(r[a]=c=[]),c[i]=e(t)})):"object"===typeof t[a]&&null!==t[a]?r[a]=e(t[a]):r[a]=!0},i=0,c=Object.keys(t);i<c.length;i++)a();return r},i=function(e){return e.validateForm().then((function(t){return Object.keys(t).length>0&&e.setTouched(a(t)),t}))},c=function(e){return e.validateForm().then((function(t){Object.keys(t).length>0?e.setTouched(a(t)):e.handleSubmit()}))}},592:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(776),a=r(778),i=r(767),c=r(777);function o(e){return Object(n.a)(e)||Object(a.a)(e)||Object(i.a)(e)||Object(c.a)()}},598:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(9),a=r(2295),i=r(635),c=r(3408),o=r(484),s=r(546),u=r(852),l=r(129),d=function(){var e=Object(c.a)().t,t=Object(i.b)().enqueueSnackbar,r=Object(o.b)();return Object(n.useCallback)((function(n,i,c){var o=null!==c&&void 0!==c?c:{},d=o.variant,b=void 0===d?"error":d,f=o.dialogTitle,j=void 0===f?e("Error"):f,p=o.dialogProps;if(Object(u.b)(i)&&"string"===typeof n){var v,O=!1===(null===(v=window.navigator)||void 0===v?void 0:v.onLine);n=e(O?"BrowserOfflineMessage":"NetworkErrorMessage",{message:n})}t(n,{variant:b,action:Object(l.jsx)(a.a,{onClick:function(){r({dialogProps:p,title:j,description:Object(l.jsx)(s.a,{error:i})}).catch((function(){}))},children:e("ShowDetails")})})}),[r,t,e])}},630:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},694:function(e,t,r){"use strict";var n=r(460),a=r(462);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r(9)),c=(0,n(r(461)).default)(i.createElement("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"}),"AssignmentTurnedIn");t.default=c},732:function(e,t,r){"use strict";var n=r(460),a=r(462);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r(9)),c=(0,n(r(461)).default)(i.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=c},733:function(e,t,r){"use strict";var n=r(460),a=r(462);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r(9)),c=(0,n(r(461)).default)(i.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=c},735:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(9),a=function(e){var t=n.useRef(e);return n.useEffect((function(){t.current=e})),t},i="undefined"!==typeof performance?performance:Date,c=function(){return i.now()};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=a(e),o=1e3/t,s=n.useRef(0),u=n.useRef(),l=function(){return u.current&&clearTimeout(u.current)},d=[t,r,i];function b(){s.current=0,l()}return n.useEffect((function(){return b}),d),n.useCallback((function(){var e=arguments,t=c(),n=function(){s.current=t,l(),i.current.apply(null,e)},a=s.current;if(r&&0===a)return n();if(t-a>o){if(a>0)return n();s.current=t}l(),u.current=setTimeout((function(){n(),s.current=0}),o)}),d)}},743:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(4),a=r.n(n),i=r(21),c=r(3),o=r(9),s=r(3408),u=r(532),l=r(484),d=function(e,t){var r=Object(l.c)(),n=Object(s.a)().t,d=Object(o.useMemo)((function(){return Object(c.a)({description:n("ExitingWithoutSavingWarning"),confirmationText:n("Continue")},t)}),[t,n]),b=Object(o.useCallback)(function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(d);case 2:e.sent&&t.retry();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,d]);Object(u.e)(b,e)}},836:function(e,t,r){"use strict";var n=r(459),a=r(592),i=r(544),c=r(463),o=r(9),s=(r(624),r(455),r(457)),u=r(3316),l=r(914),d=r(464),b=r(530),f=r(656),j=o.forwardRef((function(e,t){var r=e.children,d=e.classes,j=e.className,p=e.defaultExpanded,v=void 0!==p&&p,O=e.disabled,m=void 0!==O&&O,h=e.expanded,x=e.onChange,g=e.square,k=void 0!==g&&g,C=e.TransitionComponent,y=void 0===C?u.a:C,E=e.TransitionProps,w=Object(c.a)(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),T=Object(f.a)({controlled:h,default:v,name:"Accordion",state:"expanded"}),S=Object(i.a)(T,2),R=S[0],B=S[1],P=o.useCallback((function(e){B(!R),x&&x(e,!R)}),[R,x,B]),A=o.Children.toArray(r),N=Object(a.a)(A),V=N[0],D=N.slice(1),F=o.useMemo((function(){return{expanded:R,disabled:m,toggle:P}}),[R,m,P]);return o.createElement(l.a,Object(n.a)({className:Object(s.default)(d.root,j,R&&d.expanded,m&&d.disabled,!k&&d.rounded),ref:t,square:k},w),o.createElement(b.a.Provider,{value:F},V),o.createElement(y,Object(n.a)({in:R,timeout:"auto"},E),o.createElement("div",{"aria-labelledby":V.props.id,id:V.props["aria-controls"],role:"region"},D)))}));t.a=Object(d.a)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}}),{name:"MuiAccordion"})(j)},837:function(e,t,r){"use strict";var n=r(459),a=r(463),i=r(9),c=(r(455),r(457)),o=r(464),s=i.forwardRef((function(e,t){var r=e.classes,o=e.className,s=Object(a.a)(e,["classes","className"]);return i.createElement("div",Object(n.a)({className:Object(c.default)(r.root,o),ref:t},s))}));t.a=Object(o.a)((function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}}),{name:"MuiAccordionDetails"})(s)},838:function(e,t,r){"use strict";var n=r(459),a=r(463),i=r(9),c=(r(455),r(457)),o=r(3406),s=r(2285),u=r(464),l=r(530),d=i.forwardRef((function(e,t){var r=e.children,u=e.classes,d=e.className,b=e.expandIcon,f=e.focusVisibleClassName,j=e.IconButtonProps,p=void 0===j?{}:j,v=e.onClick,O=Object(a.a)(e,["children","classes","className","expandIcon","focusVisibleClassName","IconButtonProps","onClick"]),m=i.useContext(l.a),h=m.disabled,x=void 0!==h&&h,g=m.expanded,k=m.toggle;return i.createElement(o.a,Object(n.a)({focusRipple:!1,disableRipple:!0,disabled:x,component:"div","aria-expanded":g,className:Object(c.default)(u.root,d,x&&u.disabled,g&&u.expanded),focusVisibleClassName:Object(c.default)(u.focusVisible,u.focused,f),onClick:function(e){k&&k(e),v&&v(e)},ref:t},O),i.createElement("div",{className:Object(c.default)(u.content,g&&u.expanded)},r),b&&i.createElement(s.a,Object(n.a)({className:Object(c.default)(u.expandIcon,g&&u.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},p),b))}));t.a=Object(u.a)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused, &$focusVisible":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},focusVisible:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}}),{name:"MuiAccordionSummary"})(d)}}]);
//# sourceMappingURL=14.bd7e99ed.chunk.js.map