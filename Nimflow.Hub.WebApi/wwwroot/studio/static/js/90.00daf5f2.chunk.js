(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[90],{2954:function(e,t,n){"use strict";n.r(t),n.d(t,"PackageDefinitionCreator",(function(){return v}));var a=n(19),r=n(4),i=n(8),c=n.n(i),s=n(6),o=n(2991),u=n(14),l=n(10),f=n(464),m=n(2211),p=n(489),d=n(2256),b=n(125),v=function(){var e=Object(o.a)().t,t=Object(f.c)(),n=t.packages_SearchPackageDefinitions,i=t.packages_UpsertPackageDefinition,v=Object(s.useState)((function(){return{name:"",requiredSecretNames:[],contextTypeNames:[],majorVersion:1,minorVersion:0,customCollections:{NimflowDashboards:{ids:[],replaceAll:!1},NimflowDashboardWidgets:{ids:[],replaceAll:!1},NimflowContextSimulations:{ids:[],replaceAll:!1},NimflowLocalizations:{ids:[],replaceAll:!1}},userDefinedFunctionNames:[],eventListenerIds:[],collectionDefinitionNames:[]}})),j=Object(r.a)(v,2),h=j[0],k=j[1],w=Object(p.h)(),O=Object(s.useCallback)(function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:return n=e.sent,k(void 0),n.definition&&setTimeout((function(){var e;return w("../edit/".concat(null===(e=n.definition)||void 0===e?void 0:e.name),{replace:!0})}),0),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[w,i,k]),x=Object(s.useMemo)((function(){return m.a.shape({name:m.a.fields.name.concat(l.m().defined().test({message:function(t){var n=t.value;return e("PackageDefinitionNameAlreadyExists",{name:n})},test:function(){var e=Object(a.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,n({name:t});case 4:return a=e.sent,e.abrupt("return",Object(u.p)(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))})}),[n,e]);return h&&Object(b.jsx)(d.a,{value:h,schema:x,onSave:O})||Object(b.jsx)(b.Fragment,{})};t.default=v}}]);
//# sourceMappingURL=90.00daf5f2.chunk.js.map