(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[80],{1181:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a=t(7),r=t(103),i=t(2304),c=t(2986),o=t(2617),s=t(128),u=["children","className"],l=Object(c.a)((function(e){return Object(o.a)({paper:{padding:e.spacing(2),color:e.palette.text.secondary}})})),d=function(e){var n=e.children,t=e.className,c=Object(r.a)(e,u),o=l();return Object(s.jsx)(i.a,Object(a.a)(Object(a.a)({className:"".concat(o.paper," ").concat(t),elevation:3},c),{},{children:n}))}},1989:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a=t(518),r=t(130),i=t(5),c=t.n(i),o=t(14),s=t(38),u=t(1581),l=function(e,n){var t,a=null!==(t=e.getValue())&&void 0!==t?t:[],r=null!==a&&void 0!==a?a:[],i=n(r);r!==i&&e.setValue(i,{shouldDirty:!0})},d=function(e){var n,t=e.control,d=e.name,b=(e.keyName,e.defaultValue),f=t.register,p=t.unregister,j=t.fieldsRef,O=t.setValue,v=t.updateFormState,m=t.readFormStateRef,h=t.fieldArrayNamesRef,g=t.shallowFieldsStateRef,k=t.defaultValuesRef,x=t.validateResolver,y=c.a.useMemo((function(){return{getValue:function(){var e,n=null===(e=j.current)||void 0===e?void 0:e[d];if(n)return n.ref.value},setValue:function(e,n){O(d,e,n),m.current.isValid&&x&&x(Object(r.a)({},d,e)),v()}}}),[j,O,d,m,x,v]),S=Object(i.useCallback)((function(){var e,n=!Object(u.d)(h.current,d);return Object(s.isPresent)(g.current[d])&&n?g.current[d]:null!==(e=null!==b&&void 0!==b?b:Object(u.b)(k.current,d))&&void 0!==e?e:[]}),[d,h,g,k,b]),C=null!==(n=y.getValue())&&void 0!==n?n:S(),T=Object(i.useCallback)((function(){if(f({name:d,type:"array-field"}),!y.getValue()){var e=S();y.setValue(e)}return v(),function(){return p(d)}}),[f,p,v,y,d,S]);return c.a.useEffect((function(){T()}),[T]),c.a.useEffect((function(){j.current[d]||T()})),{fields:C,swap:c.a.useCallback((function(e,n){l(y,(function(t){if(t.length<=1)return t;var a=t[e],r=t[n];return t.map((function(t,i){return i===e?r:i===n?a:t}))}))}),[y]),move:c.a.useCallback((function(e,n){l(y,(function(t){return t.length<=1?t:Object(o.v)(e,n,t)}))}),[y]),prepend:c.a.useCallback((function(e){l(y,(function(n){return Array.isArray(e)?Object(o.e)(e,n):Object(o.y)(e,n)}))}),[y]),append:c.a.useCallback((function(e){l(y,(function(n){return Array.isArray(e)?Object(o.e)(n,e):Object(o.a)(e,n)}))}),[y]),remove:c.a.useCallback((function(e){l(y,(function(n){if(0===n.length)return n;if(!Object(s.isDefined)(e))return[];if(n){for(var t=[],a=Array.isArray(e)?e:[e],r=0;r<n.length;r++)a.includes(r)||t.push(n[r]);return t}return n}))}),[y]),insert:c.a.useCallback((function(e,n){l(y,(function(t){return Array.isArray(n)?Object(o.n)(e,n,t):Object(o.m)(e,n,t)}))}),[y]),setAt:c.a.useCallback((function(e,n){l(y,(function(t){if(Array.isArray(n)){var r=Object(a.a)(t);return r.splice.apply(r,[e,n.length].concat(Object(a.a)(n))),r}return Object(o.K)(e,n,t)}))}),[y])}}},2992:function(e,n,t){"use strict";t.r(n),t.d(n,"ContextTypeDiagramEditor",(function(){return he}));var a=t(25),r=t(49),i=t(485),c=t(518),o=t(564),s=t(464),u=t(484),l=t.n(u),d=t(5),b=t.n(d),f=t(480),p=t(2999),j=t(2934),O=t(2421),v=t(2549),m=t(3003),h=t(3004),g=t(3034),k=t(1853),x=t.n(k),y=t(1854),S=t.n(y),C=t(1984),T=t.n(C),w=t(1983),R=t.n(w),N=t(785),D=t.n(N),J=t(863),E=t(150),A=t(14),P=t(3006),F=t(38),I=t(17),V=t(1181),z=t(1989),B=t(2071),K=t(1264),W=t(529),L=t(573),M=t(1543),q=t(1506),H=t(576),G=t(1940),Q=t(1941),U=t(1942),X=t(1943),Y=t(1980),Z=t(771),$=t(999),_=t(128),ee=Object(d.lazy)((function(){return Promise.all([t.e(0),t.e(7),t.e(9),t.e(14),t.e(19)]).then(t.bind(null,2840))})),ne=Object(d.lazy)((function(){return Promise.all([t.e(0),t.e(7),t.e(9),t.e(14),t.e(20)]).then(t.bind(null,2845))})),te=Object(d.lazy)((function(){return t.e(64).then(t.bind(null,2977))})),ae=Object(d.lazy)((function(){return Promise.all([t.e(0),t.e(7),t.e(9),t.e(18)]).then(t.bind(null,2847))})),re=["className","visibleElementTypes","onEditJsCommon","onEditJsonSchema"],ie=Object(d.lazy)((function(){return Promise.all([t.e(17),t.e(78),t.e(82)]).then(t.bind(null,2981))})),ce=Object(d.lazy)((function(){return Promise.all([t.e(0),t.e(17),t.e(75)]).then(t.bind(null,3005))})),oe=360,se=[{icon:Object(_.jsx)(x.a,{}),name:"actionType",tooltip:I.a.t("NewActionType")},{icon:Object(_.jsx)(S.a,{}),name:"selector",tooltip:I.a.t("NewSelector")},{icon:Object(_.jsx)(D.a,{}),name:"taskType",tooltip:I.a.t("NewTaskType")}],ue=Object(f.a)("div")({position:"relative",width:"100%",height:"100%",minWidth:1200,overflow:"hidden"}),le=Object(f.a)(m.a)((function(e){var n=e.theme;return{position:"absolute",bottom:n.spacing(2),right:n.spacing(2)}})),de=Object(f.a)(v.a)((function(e){return{position:"absolute",top:100,right:0,minWidth:25,borderTopRightRadius:0,borderBottomRightRadius:0,padding:"2px 2px",borderRight:"none",color:e.theme.palette.grey[500]}})),be=Object(f.a)(T.a)({marginLeft:3,marginRight:-3}),fe=Object(f.a)("div",{shouldForwardProp:function(e){return"sideBarOpen"!==e}})((function(e){var n=e.theme,t=e.sideBarOpen,a={position:"relative",width:"100%",height:"100%",transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen})};return t&&(a=Object.assign(a,{width:"calc(100% - ".concat(oe,"px)"),marginRight:oe,transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen})})),a})),pe=Object(f.a)("div",{shouldForwardProp:function(e){return"sideBarOpen"!==e}})((function(e){var n=e.theme,t=e.sideBarOpen,a={width:oe,position:"absolute",top:0,bottom:0,right:-358,borderLeftStyle:"solid",borderLeftWidth:2,borderLeftColor:n.palette.divider,transition:n.transitions.create(["right"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),height:"100%",overflow:"auto",display:"flex",flexDirection:"column"};return t&&(a=Object.assign(a,{right:0,transition:n.transitions.create(["right"],{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen})})),a})),je=Object(f.a)("div")((function(e){return{padding:e.theme.spacing(1)}})),Oe=Object(f.a)("div")({overflow:"auto"}),ve=Object(f.a)(V.a)((function(e){return{backgroundColor:e.theme.palette.background.default,padding:1,margin:1}})),me=function(e){var n=e.onSelect,t=b.a.useState(!1),a=Object(s.a)(t,2),r=a[0],i=a[1],c=Object(d.useCallback)((function(){i(!1)}),[]),o=Object(d.useCallback)((function(){i(!0)}),[]),u=Object(d.useCallback)((function(e){i(!1),null===n||void 0===n||n(e.name)}),[n]);return Object(_.jsx)(le,{ariaLabel:"speedDialMenu",icon:Object(_.jsx)(h.a,{}),onClose:c,onOpen:o,open:r,direction:"up",FabProps:{size:"medium"},children:se.map((function(e){var n;return Object(_.jsx)(g.a,{icon:e.icon,tooltipTitle:null!==(n=e.tooltip)&&void 0!==n?n:e.name,onClick:function(){return u(e)},FabProps:{size:"small"}},e.name)}))})},he=function(e){var n,t,u,f=e.className,v=e.visibleElementTypes,m=void 0===v?Object(c.a)(Y.b):v,h=(e.onEditJsCommon,e.onEditJsonSchema,Object(o.a)(e,re)),g=b.a.useState(!0),k=Object(s.a)(g,2),x=k[0],y=k[1],S=b.a.useState([]),C=Object(s.a)(S,2),T=C[0],w=C[1],N=b.a.useState({}),D=Object(s.a)(N,2),I=D[0],V=D[1],oe=Object(P.a)().t,se=Object($.c)().isFeatureSupported,le=Object(W.c)(),he=Object(J.f)(),ge=he.control,ke=he.errors,xe=Object(z.a)({name:"actions",control:ge}),ye=xe.fields,Se=xe.setAt,Ce=xe.append,Te=xe.remove,we=Object(M.e)(),Re=we.taggings,Ne=we.toggleTagging,De=we.setTaggingType,Je=we.removeInvalidTaggings,Ee=Object(z.a)({name:"initialActions",control:ge}),Ae=Ee.fields,Pe=Ee.append,Fe=Ee.remove,Ie=Object(z.a)({name:"selectors",control:ge}),Ve=Ie.fields,ze=Ie.setAt,Be=Ie.append,Ke=Ie.remove,We=Object(z.a)({name:"tasks",control:ge}),Le=We.fields,Me=We.setAt,qe=We.append,He=We.remove,Ge=Object(E.i)(B.a),Qe=Object(q.b)(),Ue=Qe.getJsonSchemaDefinition,Xe=Qe.getJsonSchemaDefinitions,Ye=Qe.setJsonSchemaDefinition,Ze=Qe.updateActionJsonSchemaDefinition,$e=Qe.updateResponseJsonSchemaDefinition,_e=Qe.updateTaskJsonSchemaDefinitions,en=Object(d.useState)([]),nn=Object(s.a)(en,2),tn=nn[0],an=nn[1],rn=function(){var e=Object(d.useState)(),n=Object(s.a)(e,2),t=n[0],a=n[1],r=Object(d.useState)(),i=Object(s.a)(r,2),c=i[0],o=i[1],u=Object(d.useCallback)((function(e,n){return a({actionType:Object(A.c)(e),definitionJsonSchema:n}),new Promise((function(e,n){o({resolve:e})}))}),[]),l=Object(d.useCallback)((function(){a(void 0),o(void 0),null===c||void 0===c||c.resolve(void 0)}),[c]),b=Object(d.useCallback)((function(e,n){a(void 0),o(void 0),null===c||void 0===c||c.resolve({actionType:e,definitionJsonSchema:n})}),[c]);return[Object(d.useCallback)((function(){return Object(_.jsx)(_.Fragment,{children:!!c&&!!t&&Object(_.jsx)(d.Suspense,{fallback:null,children:Object(_.jsx)(ae,{open:!!c,onClose:l,defaultValue:t.actionType,definitionJsonSchema:t.definitionJsonSchema,onChange:b})})})}),[t,l,b,c]),u]}(),cn=Object(s.a)(rn,2),on=cn[0],sn=cn[1],un=function(){var e=Object(d.useState)(),n=Object(s.a)(e,2),t=n[0],a=n[1],r=Object(d.useState)(),i=Object(s.a)(r,2),c=i[0],o=i[1],u=Object(d.useCallback)((function(e){return a(Object(A.c)(e)),new Promise((function(e,n){o({resolve:e})}))}),[]),l=Object(d.useCallback)((function(){a(void 0),o(void 0),null===c||void 0===c||c.resolve(void 0)}),[c]),b=Object(d.useCallback)((function(e){a(void 0),o(void 0),null===c||void 0===c||c.resolve(e)}),[c]);return[Object(d.useCallback)((function(){return Object(_.jsx)(_.Fragment,{children:!!c&&!!t&&Object(_.jsx)(d.Suspense,{fallback:null,children:Object(_.jsx)(te,{open:!!c,onClose:l,defaultValue:t,onChange:b})})})}),[t,l,b,c]),u]}(),ln=Object(s.a)(un,2),dn=ln[0],bn=ln[1],fn=function(){var e=Object(d.useState)(),n=Object(s.a)(e,2),t=n[0],a=n[1],r=Object(d.useState)(),i=Object(s.a)(r,2),c=i[0],o=i[1],u=Object(d.useCallback)((function(e,n){return a({taskType:Object(A.c)(e),definitionJsonSchemas:n}),new Promise((function(e,n){o({resolve:e})}))}),[]),l=Object(d.useCallback)((function(){a(void 0),o(void 0),null===c||void 0===c||c.resolve(void 0)}),[c]),b=Object(d.useCallback)((function(e,n){a(void 0),o(void 0),null===c||void 0===c||c.resolve({taskType:e,definitionJsonSchemas:n})}),[c]);return[Object(d.useCallback)((function(){return Object(_.jsx)(_.Fragment,{children:!!c&&!!t&&Object(_.jsx)(d.Suspense,{fallback:null,children:Object(_.jsx)(ne,{open:!!c,onClose:l,defaultValue:t.taskType,definitionJsonSchemas:t.definitionJsonSchemas,onChange:b})})})}),[t,l,b,c]),u]}(),pn=Object(s.a)(fn,2),jn=pn[0],On=pn[1],vn=function(){var e=Object(d.useState)(),n=Object(s.a)(e,2),t=n[0],a=n[1],r=Object(d.useState)(),i=Object(s.a)(r,2),c=i[0],o=i[1],u=Object(d.useCallback)((function(e,n,t){return a({responseType:Object(A.c)(e),taskTypeName:n,definitionJsonSchema:t}),new Promise((function(e,n){o({resolve:e})}))}),[]),l=Object(d.useCallback)((function(){a(void 0),o(void 0),null===c||void 0===c||c.resolve(void 0)}),[c]),b=Object(d.useCallback)((function(e,n){a(void 0),o(void 0),null===c||void 0===c||c.resolve({responseType:e,definitionJsonSchema:n})}),[c]);return[Object(d.useCallback)((function(){return Object(_.jsx)(_.Fragment,{children:!!c&&!!t&&Object(_.jsx)(d.Suspense,{fallback:null,children:Object(_.jsx)(ee,{open:!!c,onClose:l,defaultValue:t.responseType,taskTypeName:t.taskTypeName,definitionJsonSchema:t.definitionJsonSchema,onChange:b})})})}),[t,l,b,c]),u]}(),mn=Object(s.a)(vn,2),hn=mn[0],gn=mn[1],kn=Object(d.useCallback)((function(e,n){if(e instanceof K.a){Ge((function(){return n?e.instance:void 0}));var t,a,r=[];if(n)if(e instanceof G.a)r=null!==(t=Object.keys(null!==(a=e.instance.jsSetters)&&void 0!==a?a:{}))&&void 0!==t?t:[];else if(e instanceof Q.a){var i,c,o;r=null!==(i=null===(c=e.instance)||void 0===c||null===(o=c.validResponses)||void 0===o?void 0:o.flatMap((function(e){var n;return Object.keys(null!==(n=null===e||void 0===e?void 0:e.jsSetters)&&void 0!==n?n:{})})))&&void 0!==i?i:[]}else if(e instanceof U.a){var s,u,l,d=Object(X.a)(null===(s=e.instance)||void 0===s?void 0:s.jsExpression);r=Object(A.g)(d,null!==(u=null===(l=e.instance)||void 0===l?void 0:l.dependencies)&&void 0!==u?u:[])}an((function(e){return 0===e.length&&0===r.length?e:r}))}}),[Ge]);Object(d.useEffect)((function(){return function(){Ge(void 0)}}),[Ge]);var xn=Object(d.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(n,t){var a,r,i,c,o,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.payloadSchemaDefinitionName,r=a?Ue(a):void 0,e.next=4,sn(n,r);case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return");case 7:Ze(i.actionType,i.definitionJsonSchema),t?Ce(i.actionType):((c=n.name)!==i.actionType.name&&c&&(o=Ae.indexOf(c))>=0&&(Fe(o),Pe(i.actionType.name)),i.actionType.payloadSchemaDefinitionName||(s=n.payloadSchemaDefinitionName)&&Ye(s,void 0),u=ye.findIndex((function(e){return e===n})),Se(u,i.actionType),Je());case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[ye,Ce,Ue,Ae,Pe,Fe,Je,Se,Ye,sn,Ze]),yn=Object(d.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(n,t){var a,r,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=ye.findIndex((function(e){return e===n})))<=-1)){e.next=3;break}return e.abrupt("return");case 3:e.t0=t.type,e.next="edit"===e.t0?6:"delete"===e.t0?9:"toggleInitialAction"===e.t0?14:17;break;case 6:return e.next=8,xn(n,!1);case 8:return e.abrupt("break",17);case 9:return e.next=11,le({description:oe("ConfirmDeleteActionType",{name:ye[a].name})});case 11:return e.sent&&((r=n.payloadSchemaDefinitionName)&&Ye(r,void 0),Te(a),Je(),(i=Ae.indexOf(n.name))>=0&&Fe(i)),e.abrupt("break",17);case 14:return(c=Ae.indexOf(n.name))>=0?Fe(c):Pe(n.name),e.abrupt("break",17);case 17:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[ye,le,xn,Ae,Pe,Fe,Te,Je,Ye,oe]),Sn=Object(d.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(n,t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="toggleTagging"===e.t0?3:"setTagging"===e.t0?5:7;break;case 3:return Ne(n),e.abrupt("break",7);case 5:return De(n,t.tagging),e.abrupt("break",7);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[De,Ne]),Cn=Object(d.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(n,t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn(n);case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return");case 5:t?Be(a):(r=Ve.findIndex((function(e){return e.key===a.key})),ze(r,a),Je());case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[Be,Je,Ve,ze,bn]),Tn=Object(d.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=Ve.findIndex((function(e){return e===n})))<=-1)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,le({description:oe("ConfirmDeleteSelector",{name:Ve[t].key})});case 5:e.sent&&(Ke(t),Je());case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[le,Je,Ke,Ve,oe]),wn=Object(d.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(n,t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="edit"===e.t0?3:"delete"===e.t0?6:"toggleTagging"===e.t0?9:"setTagging"===e.t0?11:13;break;case 3:return e.next=5,Cn(n,!1);case 5:case 8:return e.abrupt("break",13);case 6:return e.next=8,Tn(n);case 9:return Ne(n.key),e.abrupt("break",13);case 11:return De(n.key,t.tagging),e.abrupt("break",13);case 13:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[Cn,Tn,Ne,De]),Rn=Object(d.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(n,t){var a,i,c,o,s,u,d,b,f,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(null!==(a=n.validResponses)&&void 0!==a?a:[]).map((function(e){return e.payloadSchemaDefinitionName})).filter(F.isPresent),c=Xe(i),e.next=4,On(n,c);case 4:if(o=e.sent){e.next=7;break}return e.abrupt("return");case 7:if(t)qe(o.taskType);else{u=null===(s=o.taskType.validResponses)||void 0===s?void 0:s.map((function(e){return e.payloadSchemaDefinitionName})).filter(F.isPresent),d=Object(r.a)(null!==u&&void 0!==u?u:[]);try{for(d.s();!(b=d.n()).done;)(f=b.value)in o.definitionJsonSchemas||(o.definitionJsonSchemas[f]=void 0)}catch(l){d.e(l)}finally{d.f()}p=Le.indexOf(n),Me(p,o.taskType),Je()}_e(o.taskType,o.definitionJsonSchemas);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[qe,Xe,Je,Me,On,Le,_e]),Nn=Object(d.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(n,t){var a,i,c,o,s,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=Le.findIndex((function(e){return e===n})))<=-1)){e.next=3;break}return e.abrupt("return");case 3:e.t0=t.type,e.next="edit"===e.t0?6:"delete"===e.t0?9:14;break;case 6:return e.next=8,Rn(n,!1);case 8:return e.abrupt("break",14);case 9:return e.next=11,le({description:oe("ConfirmDeleteTaskType",{name:Le[a].name})});case 11:if(e.sent){o=null!==(i=null===(c=n.validResponses)||void 0===c?void 0:c.map((function(e){return e.payloadSchemaDefinitionName})).filter(F.isDefined))&&void 0!==i?i:[],s=Object(r.a)(o);try{for(s.s();!(u=s.n()).done;)d=u.value,Ye(d,void 0)}catch(l){s.e(l)}finally{s.f()}He(a),Je()}return e.abrupt("break",14);case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[le,Rn,Je,He,Ye,oe,Le]),Dn=Object(d.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(n,t,r){var i,o,s,u,d,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Le[t],o=n.payloadSchemaDefinitionName,s=o?Ue(o):void 0,e.next=5,gn(n,i.name,s);case 5:if(u=e.sent){e.next=8;break}return e.abrupt("return");case 8:$e(u.responseType,i.name,u.definitionJsonSchema),r?Me(t,Object(a.a)(Object(a.a)({},i),{},{validResponses:[].concat(Object(c.a)(null!==(b=i.validResponses)&&void 0!==b?b:[]),[u.responseType])})):(n.payloadSchemaDefinitionName||(d=n.payloadSchemaDefinitionName)&&Ye(d,void 0),Me(t,Object(a.a)(Object(a.a)({},i),{},{validResponses:i.validResponses.map((function(e){return e===n?u.responseType:e}))})),Je());case 10:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}(),[Ue,Je,Ye,Me,gn,Le,$e]),Jn=Object(d.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(n,t,r){var i,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((i=Le.findIndex((function(e){return e===t})))<=-1)){e.next=3;break}return e.abrupt("return");case 3:if(t.validResponses){e.next=5;break}return e.abrupt("return");case 5:if(!((o=t.validResponses.findIndex((function(e){return e===n})))<=-1)){e.next=8;break}return e.abrupt("return");case 8:e.t0=r.type,e.next="editResponse"===e.t0?11:"deleteResponse"===e.t0?14:19;break;case 11:return e.next=13,Dn(n,i,!1);case 13:return e.abrupt("break",19);case 14:return e.next=16,le({description:oe("ConfirmDeleteResponseType",{name:t.validResponses[o].name})});case 16:return e.sent&&((s=n.payloadSchemaDefinitionName)&&Ye(s,void 0),Me(i,Object(a.a)(Object(a.a)({},t),{},{validResponses:Object(c.a)(t.validResponses.filter((function(e){return e!==n})))})),Je()),e.abrupt("break",19);case 19:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}(),[le,Dn,Je,Ye,Me,oe,Le]),En=Object(d.useCallback)(function(){var e=Object(i.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="actionType"===e.t0?3:"selector"===e.t0?6:"taskType"===e.t0?9:12;break;case 3:return e.next=5,xn({name:"",jsSetters:{},validators:[]},!0);case 5:case 8:case 11:return e.abrupt("break",12);case 6:return e.next=8,Cn({key:"",jsExpression:"",dependencies:[]},!0);case 9:return e.next=11,Rn({name:"",jsTaskDataSetters:{},validResponses:[]},!0);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[xn,Cn,Rn]),An=Object(d.useCallback)((function(e,n){De(e,n)}),[De]),Pn=Object(d.useMemo)((function(){return Object(H.C)(ye,Le).sort()}),[ye,Le]),Fn=Object(d.useCallback)((function(e){V(e)}),[]),In=Object(d.useCallback)((function(e,n){w((function(t){return t.includes(e)&&!n?t.filter((function(n){return n!==e})):!t.includes(e)&&n?[].concat(Object(c.a)(t),[e]):t}))}),[]),Vn=Object(d.useCallback)((function(){y((function(e){return!e}))}),[]);return Object(_.jsx)(L.a,{children:Object(_.jsxs)(ve,Object(a.a)(Object(a.a)({className:f},h),{},{elevation:0,children:[Object(_.jsxs)(ue,{children:[Object(_.jsxs)(fe,{sideBarOpen:x,children:[Object(_.jsx)(d.Suspense,{fallback:Object(_.jsx)(Z.a,{}),children:Object(_.jsx)(ie,{actionTypes:ye,taskTypes:Le,selectors:Ve,taggings:Re,initialActions:Ae,statesIncluded:T,visibleElementTypes:m,onNodeSelectionChanged:kn,onActionTypeCommandInvoked:yn,onStateCommandInvoked:Sn,onSelectorCommandInvoked:wn,onTaskTypeCommandInvoked:Nn,onResponseTypeCommandInvoked:Jn,onPinStatusesChanged:Fn})}),Object(_.jsx)(me,{onSelect:En}),Object(_.jsx)(de,{size:"small",variant:"outlined",color:"secondary",disableElevation:!0,onClick:Vn,children:x?Object(_.jsx)(R.a,{fontSize:"small"}):Object(_.jsx)(be,{fontSize:"small"})})]}),Object(_.jsxs)(pe,{sideBarOpen:x,children:[Object(_.jsx)(je,{children:Object(_.jsxs)(p.a,{container:!0,spacing:1,children:[Object(_.jsx)(p.a,{item:!0,xs:12,children:Object(_.jsx)(J.a,{as:O.a,control:ge,name:"name",label:oe("Name"),fullWidth:!0,required:!0,variant:"standard",error:!!ke.name,helperText:null===(n=ke.name)||void 0===n?void 0:n.message})}),Object(_.jsx)(p.a,{item:!0,xs:12,children:Object(_.jsx)(J.a,{as:O.a,control:ge,name:"description",label:oe("Description"),multiline:!0,fullWidth:!0,maxRows:4,variant:"standard",error:!!ke.description,helperText:null===(t=ke.description)||void 0===t?void 0:t.message})}),se($.a.EventsStorageKeysExclusion)&&Object(_.jsx)(p.a,{item:!0,xs:12,children:Object(_.jsx)(J.a,{as:O.a,control:ge,name:"excludeNewContextStateKeysFromEventsStorage",label:oe("ExcludeNewContextStateKeysFromEventsStorage"),fullWidth:!0,placeholder:oe("ExcludeStringPlaceHolder"),variant:"standard",error:!!ke.excludeNewContextStateKeysFromEventsStorage,helperText:null===(u=ke.excludeNewContextStateKeysFromEventsStorage)||void 0===u?void 0:u.message})})]})}),Object(_.jsx)(j.a,{}),Object(_.jsx)(Oe,{children:Object(_.jsx)(d.Suspense,{fallback:Object(_.jsx)(Z.a,{}),children:Object(_.jsx)(ce,{states:Pn,selectors:Ve,selectedStates:tn,taggings:Re,pinStatuses:I,onChangeTagging:An,onEditSelector:function(e){return Cn(e,!1)},onDeleteSelector:Tn,onChangePinning:In})})})]})]}),Object(_.jsx)(on,{}),Object(_.jsx)(dn,{}),Object(_.jsx)(jn,{}),Object(_.jsx)(hn,{})]}))})};n.default=he}}]);
//# sourceMappingURL=80.dc011c40.chunk.js.map