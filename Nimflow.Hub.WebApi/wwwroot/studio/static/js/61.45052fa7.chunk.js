(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[61],{1512:function(e,t,n){"use strict";var a=n(474);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(479)),c=n(128),o=(0,r.default)((0,c.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");t.default=o},1513:function(e,t,n){"use strict";var a=n(474);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(479)),c=n(128),o=(0,r.default)((0,c.jsx)("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6-4 4h3v6h2v-6h3l-4-4z"}),"OpenInBrowser");t.default=o},1550:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(49),r=n(25),c=n(14),o=n(576),i=function(e){var t,n=Object(r.a)({$schema:"http://nimflow.com/schemas/context-type.schema.json",name:e.name,type:Object(o.G)(e)?"componentBased":"legacy"},Object(c.c)(e));e.jsonSchema&&(n.jsonSchema=JSON.parse(e.jsonSchema)),null!==(t=e.settings)&&void 0!==t&&t.uiSchemaCommon&&(n.settings.uiSchemaCommon=JSON.parse(e.settings.uiSchemaCommon));var i,s=Object(a.a)(n.actions);try{for(s.s();!(i=s.n()).done;){var u=i.value.settings,l=null===u||void 0===u?void 0:u.uiSchema;"string"===typeof l&&(u.uiSchema=JSON.parse(l))}}catch(p){s.e(p)}finally{s.f()}var f,b=Object(a.a)(n.tasks.flatMap((function(e){return e.validResponses})));try{for(b.s();!(f=b.n()).done;){var d=f.value.settings,j=null===d||void 0===d?void 0:d.uiSchema;"string"===typeof j&&(d.uiSchema=JSON.parse(j))}}catch(p){b.e(p)}finally{b.f()}return n}},2343:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(485),r=n(484),c=n.n(r),o=n(5),i=n(540),s="ContextTypeNewsRead",u=function(){var e=Object(i.c)(),t=e.events_AggregateEvents,n=e.events_RegisterCustomEvents,r=Object(o.useCallback)((function(e,n){return t({tryParseDateTimeStrings:!1,stages:[{$match:{$or:[{event:{$in:["ContextRecalculationError","ContextsRecalculationCompleted"]},contextTypeName:e},{event:"CustomEvent",eventName:{$in:["DispatchContextActionFailed","AddTaskResponseFailed",s]},tags:{$elemMatch:{name:"ContextTypeName",value:e}}}]}},{$sort:{timestamp:-1}},{$limit:n},{$addFields:{id:"$_id"}},{$unset:["_id","stackTrace"]}]})}),[t]),u=Object(o.useCallback)(function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({events:[{eventName:s,tags:[{name:"ContextTypeName",value:t}],category:"Acknowledge",metrics:[],props:{},reference:"ContextTypeName"}]});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]);return{getLastEvents:r,markAsRead:u,contextTypeNewsReadEventName:s}}},2717:function(e,t,n){"use strict";var a=n(474);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(479)),c=n(128),o=(0,r.default)([(0,c.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"},"0"),(0,c.jsx)("path",{d:"M6.25 7.72h5v1.5h-5zM13 15.75h5v1.5h-5zm0-2.5h5v1.5h-5zM8 18h1.5v-2h2v-1.5h-2v-2H8v2H6V16h2zm6.09-7.05 1.41-1.41 1.41 1.41 1.06-1.06-1.41-1.42 1.41-1.41L16.91 6 15.5 7.41 14.09 6l-1.06 1.06 1.41 1.41-1.41 1.42z"},"1")],"CalculateOutlined");t.default=o},2940:function(e,t,n){"use strict";n.r(t),n.d(t,"ContextTypesViewer",(function(){return W}));var a=n(485),r=n(484),c=n.n(r),o=n(5),i=n(480),s=n(2986),u=n(2617),l=n(1512),f=n.n(l),b=n(2987),d=n(2988),j=n(3006),p=n(17),O=n(884),v=n.n(O),m=n(596),h=n.n(m),x=n(643),g=n.n(x),w=n(737),y=n.n(w),C=n(575),R=n.n(C),T=n(1513),k=n.n(T),S=n(2717),M=n.n(S),N=n(601),A=n(591),E=n(681),L=n(540),z=n(690),P=n(763),F=n(529),D=n(1550),_=n(642),V=n(2343),B=n(128),$=[{field:"name",title:p.a.t("Name")},{field:"description",title:p.a.t("Description")}],H=Object(s.a)((function(e){return Object(u.a)({badge:{fontSize:"0.6rem",height:15,minWidth:15,padding:"0 5px",right:4,top:1}})})),J=Object(i.a)("input")({opacity:0,position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%"}),I=function(e){return function(t,n){Array.isArray(n)&&(n=n[0]),e(n)}},U=function(e){var t=e.contextTypeName,n=H(),r=Object(V.a)(),o=r.getLastEvents,i=r.contextTypeNewsReadEventName,s=Object(A.a)(["getLastEvents",t,1],Object(a.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,o(t,1);case 4:return n=e.sent,e.abrupt("return",n&&n.length>0&&n[0].eventName!==i&&"ContextsRecalculationCompleted"!==n[0].event);case 6:case"end":return e.stop()}}),e)}))),{revalidateOnFocus:!1}).data;return Object(B.jsx)(b.a,{badgeContent:s?" ":"",color:s?"error":"default",max:99,classes:{badge:n.badge},children:Object(B.jsx)(f.a,{})})},W=function(){var e=Object(j.a)().t,t=Object(F.c)(),n=Object(L.c)(),r=n.contextTypes_FindOne,i=n.contextTypes_Delete,s=n.contexts_BeginActiveContextRecalculation,u=Object(N.h)(),l=function(){var e=Object(L.c)().contextTypes_Search,t=Object(_.a)(e),n=Object(A.a)(t,Object(a.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({limit:100});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),{revalidateOnFocus:!1}),r=n.data,i=n.error,s=n.mutate,u=n.isValidating;return Object(o.useMemo)((function(){return{contextTypeInfos:null!==r&&void 0!==r?r:[],isValidating:u,error:i,mutate:s}}),[r,u,s,i])}(),f=l.contextTypeInfos,b=l.error,O=l.mutate,m=l.isValidating,x=Object(o.useCallback)(function(){var e=Object(a.a)(c.a.mark((function e(t){var n,a,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==(r=null===(n=t.target)||void 0===n||null===(a=n.files)||void 0===a?void 0:a[0])&&void 0!==r&&r.type.match(/.+\/json/)&&(o=URL.createObjectURL(r),u("import/".concat(btoa(o))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u]),w=Object(o.useMemo)((function(){return{icon:v.a,tooltip:p.a.t("RefreshData"),isFreeAction:!0,onClick:O}}),[O]),C=Object(o.useMemo)((function(){return{icon:h.a,tooltip:p.a.t("AddContextType"),isFreeAction:!0,onClick:function(){u("new")}}}),[u]),T=Object(o.useMemo)((function(){return{icon:function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(k.a,{}),Object(B.jsx)(J,{type:"file",title:"",accept:".context.json",onChange:x})]})},tooltip:p.a.t("ImportContextType"),isFreeAction:!0,onClick:function(){}}}),[x]),S=Object(o.useMemo)((function(){return{icon:g.a,tooltip:p.a.t("Edit"),onClick:I((function(e){u("edit/".concat(e.name))}))}}),[u]),V=Object(o.useMemo)((function(){var n={icon:M.a,tooltip:p.a.t("Recalculate"),onClick:I(function(){var n=Object(a.a)(c.a.mark((function n(a){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t({description:e("ConfirmContextsRecalculation",{name:a.name})});case 2:if(!(r=n.sent)){n.next=7;break}return n.next=6,s({contextTypeName:a.name,allVersions:!1,continueOnError:!1,ignoreMilestones:!1});case 6:O();case 7:return n.abrupt("return",r);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())};return n}),[t,s,O,e]),H=Object(o.useMemo)((function(){var e={action:function(e){var t={icon:function(){return Object(B.jsx)(U,{contextTypeName:e.name})},tooltip:p.a.t("News"),onClick:I(function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u("news/".concat(t.name));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return t},position:"row"};return e}),[u]),W=Object(o.useCallback)((function(e){var t={icon:y.a,tooltip:p.a.t("Export"),onClick:I(function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({name:t.name});case 2:n=e.sent,Object(z.a)(Object(D.a)(n),"".concat(n.name,".context.json"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),disabled:e.contextTypeClass===P.c.DescriptorBased};return t}),[r]),G=Object(o.useCallback)((function(n){var r={icon:R.a,tooltip:p.a.t("Delete"),onClick:I(function(){var n=Object(a.a)(c.a.mark((function n(a){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t({description:e("ConfirmDeleteContextType",{name:a.name})});case 2:if(!(r=n.sent)){n.next=8;break}return n.next=6,i({name:a.name});case 6:r=n.sent,O();case 8:return n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),disabled:n.contextTypeClass===P.c.DescriptorBased};return r}),[t,i,O,e]);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(E.a,{columns:$,data:f,title:e("ContextTypeCatalog"),actions:[C,T,w,S,V,H,W,G]}),!m&&!!b&&Object(B.jsx)(d.a,{severity:"error",children:b.toString()})]})};t.default=W},681:function(e,t,n){"use strict";var a=n(564),r=n(464),c=n(25),o=n(5),i=n(782),s=n(877),u=n.n(s),l=n(2422),f=n(2470),b=n(2548),d=n(2424),j=n(2471),p=n(596),O=n.n(p),v=n(783),m=n.n(v),h=n(923),x=n.n(h),g=n(1e3),w=n.n(g),y=n(1001),C=n.n(y),R=n(998),T=n.n(R),k=n(575),S=n.n(k),M=n(643),N=n.n(M),A=n(1006),E=n.n(A),L=n(915),z=n.n(L),P=n(914),F=n.n(P),D=n(1005),_=n.n(D),V=n(737),B=n.n(V),$=n(992),H=n.n($),J=n(968),I=n.n(J),U=n(17),W=n(14),G=n(128),q=["forwardedRef"],K={Add:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(O.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Check:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(x.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Clear:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(T.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Delete:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(S.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),DetailPanel:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(C.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Edit:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(N.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Export:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(B.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Filter:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(E.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),FirstPage:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(z.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),LastPage:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(F.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),NextPage:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(C.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),PreviousPage:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(w.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),ResetSearch:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(T.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Search:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(H.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),SortArrow:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(_.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),ViewColumn:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(I.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))}))},Q=function e(t,n){for(var a={},c=0,o=Object.entries(t);c<o.length;c++){var i=Object(r.a)(o[c],2),s=i[0],u=i[1];"object"===typeof u?(n.push(s),a[s]=e(u,n),n.pop()):a[s]=U.a.t("".concat(n.join("."),".").concat(s))}return a}({body:{emptyDataSourceMessage:"",filterRow:{filterTooltip:""},editRow:{saveTooltip:"",cancelTooltip:"",deleteText:""},addTooltip:"",deleteTooltip:"",editTooltip:""},header:{actions:""},grouping:{groupedBy:"",placeholder:""},pagination:{firstTooltip:"",firstAriaLabel:"",previousTooltip:"",previousAriaLabel:"",nextTooltip:"",nextAriaLabel:"",labelDisplayedRows:"",labelRowsPerPage:"",lastTooltip:"",lastAriaLabel:"",labelRowsSelect:""},toolbar:{addRemoveColumns:"",nRowsSelected:function(e){return""},showColumnsTitle:"",showColumnsAriaLabel:"",exportTitle:"",exportAriaLabel:"",exportCSVName:"",exportPDFName:"",searchTooltip:"",searchPlaceholder:"",searchAriaLabel:"",clearSearchAriaLabel:""}},["MaterialTable"]),X=(window.innerHeight-64-64-24-52-10)/window.innerHeight*100,Y={padding:0,width:24,marginLeft:24},Z=function(e){var t=e.forwardedRef,n=Object(a.a)(e,q);return Object(G.jsxs)(l.a,{error:Boolean(n.error),ref:t,component:"fieldset",children:[Object(G.jsx)(f.a,{children:Object(G.jsx)(j.a,{label:"",control:Object(G.jsx)(b.a,Object(c.a)(Object(c.a)({},n),{},{value:String(n.value),checked:Boolean(n.value),onChange:function(e){return n.onChange(e.target.checked)},style:Y,color:"default",inputProps:{"aria-label":n.columnDef.title}}))})}),Object(G.jsx)(d.a,{children:n.helperText})]})},ee=function(e){return"boolean"===e.columnDef.type?Object(G.jsx)(Z,Object(c.a)({},e)):Object(G.jsx)(s.MTableEditField,Object(c.a)({},e))},te={EditField:function(e){return Object(G.jsx)(ee,Object(c.a)({},e))}};t.a=function(e){var t=Object(i.a)(),n=Object(o.useMemo)((function(){return e.icons?Object(c.a)(Object(c.a)({},K),e.icons):K}),[e.icons]),a=Object(o.useMemo)((function(){return e.localization?Object(c.a)(Object(c.a)({},Q),e.localization):Q}),[e.localization]),r=Object(o.useMemo)((function(){var n=function(e){return{actionsColumnIndex:-1,padding:"normal",pageSize:10,headerStyle:{fontWeight:"bold",backgroundColor:e.palette.background.paper,position:"sticky",top:0},paginationPosition:"top",maxBodyHeight:"".concat(X,"vh")}}(t);return e.options&&(n=Object(W.u)(n,e.options)),n}),[t,e.options]),s=Object(o.useMemo)((function(){return e.components?Object(c.a)(Object(c.a)({},te),e.components):te}),[e.components]),l={boxShadow:"none",backgroundColor:t.palette.background.default,backgroundImage:"none"};return Object(G.jsx)(u.a,Object(c.a)(Object(c.a)({},e),{},{icons:n,options:r,components:s,localization:a,style:l}))}},690:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.json",n=JSON.stringify(e,void 0,4);r(n,t,"application/json")},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.txt",n=arguments.length>2?arguments[2]:void 0,a=new Blob([e]);c(a,t,n)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.txt",n=arguments.length>2?arguments[2]:void 0;if("msSaveBlob"in navigator)navigator.msSaveBlob(e,t);else{var a=URL.createObjectURL(e),r=document.createElement("a");r.href=a,r.download=t,n&&(r.type=n),document.body.appendChild(r);try{r.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}finally{document.body.removeChild(r),setTimeout((function(){return URL.revokeObjectURL(r.href)}),0)}}},o=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(e){var a,r=null===(a=e.target)||void 0===a?void 0:a.result;if("string"===typeof r){var c=JSON.parse(r);t(c)}n("Invalid data type in blob ".concat(typeof r))},a.onerror=function(e){n("Error reading blob")},a.readAsText(e)}))}},884:function(e,t,n){"use strict";var a=n(474);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(479)),c=n(128),o=(0,r.default)((0,c.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");t.default=o}}]);
//# sourceMappingURL=61.45052fa7.chunk.js.map