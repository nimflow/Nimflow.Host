(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[53],{1056:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(3),r=n(70),i=n(914),c=n(2272),o=n(2266),l=n(129),u=["children","className"],s=Object(c.a)((function(e){return Object(o.a)({paper:{padding:e.spacing(2),color:e.palette.text.secondary}})})),d=function(e){var t=e.children,n=e.className,c=Object(r.a)(e,u),o=s();return Object(l.jsx)(i.a,Object(a.a)(Object(a.a)({className:"".concat(o.paper," ").concat(n),elevation:3},c),{},{children:t}))}},1070:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(14),r=n(68),i=n(9),c=n.n(i),o=n(2171),l=n(3345),u=n(2172),s=n(2173),d=n(2174),b=n(2175),f=n(1541),j=n(49),O=n(904),p=function(e,t){var n,a=null!==(n=e.getValue())&&void 0!==n?n:[],r=null!==a&&void 0!==a?a:[],i=t(r);r!==i&&e.setValue(i,{shouldDirty:!0})},v=function(e){var t,n=e.control,v=e.name,m=(e.keyName,e.defaultValue),h=n.register,g=n.unregister,x=n.fieldsRef,y=n.setValue,C=n.updateFormState,k=n.readFormStateRef,D=n.fieldArrayNamesRef,A=n.shallowFieldsStateRef,I=n.defaultValuesRef,S=n.validateResolver,R=c.a.useMemo((function(){return{getValue:function(){var e,t=null===(e=x.current)||void 0===e?void 0:e[v];if(t)return t.ref.value},setValue:function(e,t){y(v,e,t),k.current.isValid&&S&&S(Object(r.a)({},v,e)),C()}}}),[x,y,v,k,S,C]),E=Object(i.useCallback)((function(){var e,t=!Object(O.d)(D.current,v);return Object(j.isPresent)(A.current[v])&&t?A.current[v]:null!==(e=null!==m&&void 0!==m?m:Object(O.b)(I.current,v))&&void 0!==e?e:[]}),[v,D,A,I,m]),N=null!==(t=R.getValue())&&void 0!==t?t:E(),w=Object(i.useCallback)((function(){if(h({name:v,type:"array-field"}),!R.getValue()){var e=E();R.setValue(e)}return C(),function(){return g(v)}}),[h,g,C,R,v,E]);return c.a.useEffect((function(){w()}),[w]),c.a.useEffect((function(){x.current[v]||w()})),{fields:N,swap:c.a.useCallback((function(e,t){p(R,(function(n){if(n.length<=1)return n;var a=n[e],r=n[t];return n.map((function(n,i){return i===e?r:i===t?a:n}))}))}),[R]),move:c.a.useCallback((function(e,t){p(R,(function(n){return n.length<=1?n:Object(o.a)(e,t,n)}))}),[R]),prepend:c.a.useCallback((function(e){p(R,(function(t){return Array.isArray(e)?Object(l.a)(e,t):Object(u.a)(e,t)}))}),[R]),append:c.a.useCallback((function(e){p(R,(function(t){return Array.isArray(e)?Object(l.a)(t,e):Object(s.a)(e,t)}))}),[R]),remove:c.a.useCallback((function(e){p(R,(function(t){if(0===t.length)return t;if(!Object(j.isDefined)(e))return[];if(t){for(var n=[],a=Array.isArray(e)?e:[e],r=0;r<t.length;r++)a.includes(r)||n.push(t[r]);return n}return t}))}),[R]),insert:c.a.useCallback((function(e,t){p(R,(function(n){return Array.isArray(t)?Object(d.a)(e,t,n):Object(b.a)(e,t,n)}))}),[R]),setAt:c.a.useCallback((function(e,t){p(R,(function(n){if(Array.isArray(t)){var r=Object(a.a)(n);return r.splice.apply(r,[e,t.length].concat(Object(a.a)(t))),r}return Object(f.a)(e,t,n)}))}),[R])}}},1226:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(3),r=n(70),i=n(2272),c=n(2266),o=n(2321),l=n(1227),u=n(129),s=["title","actions"],d=Object(i.a)((function(e){return Object(c.a)({grow:{flexGrow:1},actionToolbarButtons:{display:"flex"}})})),b=function(e){var t=e.title,n=e.actions,i=Object(r.a)(e,s),c=d();return Object(u.jsxs)(o.a,Object(a.a)(Object(a.a)({variant:"dense"},i),{},{children:[t&&Object(u.jsx)(l.a,{children:t}),Object(u.jsx)("div",{className:c.grow}),n&&Object(u.jsx)("div",{className:c.actionToolbarButtons,children:n})]}))}},1227:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3),r=n(70),i=n(2283),c=n(129),o=["children"],l=function(e){var t=e.children,n=Object(r.a)(e,o);return Object(c.jsx)(i.a,Object(a.a)(Object(a.a)({variant:"h5"},n),{},{children:t}))}},1541:function(e,t,n){"use strict";var a=n(72),r=n(884),i=Object(a.a)((function(e,t,n){if(e>=n.length||e<-n.length)return n;var a=(e<0?n.length:0)+e,i=Object(r.a)(n);return i[a]=t(n[a]),i})),c=n(163),o=Object(a.a)((function(e,t,n){return i(e,Object(c.a)(t),n)}));t.a=o},2171:function(e,t,n){"use strict";var a=n(72),r=Object(a.a)((function(e,t,n){var a=n.length,r=n.slice(),i=e<0?a+e:e,c=t<0?a+t:t,o=r.splice(i,1);return i<0||i>=n.length||c<0||c>=n.length?n:[].concat(r.slice(0,c)).concat(o).concat(r.slice(c,n.length))}));t.a=r},2172:function(e,t,n){"use strict";var a=n(884),r=n(12),i=Object(r.a)((function(e,t){return Object(a.a)([e],t)}));t.a=i},2173:function(e,t,n){"use strict";var a=n(884),r=n(12),i=Object(r.a)((function(e,t){return Object(a.a)(t,[e])}));t.a=i},2174:function(e,t,n){"use strict";var a=n(72),r=Object(a.a)((function(e,t,n){return e=e<n.length&&e>=0?e:n.length,[].concat(Array.prototype.slice.call(n,0,e),t,Array.prototype.slice.call(n,e))}));t.a=r},2175:function(e,t,n){"use strict";var a=n(72),r=Object(a.a)((function(e,t,n){e=e<n.length&&e>=0?e:n.length;var a=Array.prototype.slice.call(n,0);return a.splice(e,0,t),a}));t.a=r},2216:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var a=n(3),r=n(70),i=n(9),c=n(71),o=n.n(c),l=n(3400),u=n(3333),s=n(3339),d=n(912);function b(e){var t,n,a=function(e){var t=document.createElement("div");return t.setAttribute("id",e),t}(e);return document.body.insertBefore(a,null!==(t=null===(n=document.body.lastElementChild)||void 0===n?void 0:n.nextElementSibling)&&void 0!==t?t:null),a}var f=function(e){var t=Object(i.useMemo)((function(){return document.createElement("div")}),[]);return Object(i.useEffect)((function(){var n=document.querySelector("#".concat(e)),a=n instanceof HTMLElement?n:b(e);return a.appendChild(t),function(){t.remove(),a.childNodes.length<=0&&a.remove()}}),[t,e]),t},j=n(129),O=["provided","children"],p=["index","draggableId","isDragDisabled","disableInteractiveElementBlocking","shouldRespectForcePress","beforeItem","afterItem","children"],v=["onItemReorder","droppableId","type","mode","isDropDisabled","isCombineEnabled","direction","ignoreContainerClipping","renderClone","getContainerForClone","children"],m=function(e){var t=e.provided,n=e.children,i=Object(r.a)(e,O),c=f("OrderableListItemPortal"),l=Object(j.jsx)("div",Object(a.a)(Object(a.a)({ref:t.innerRef},t.draggableProps),{},{children:Object(j.jsx)(s.a,Object(a.a)(Object(a.a)(Object(a.a)({},t.dragHandleProps),i),{},{children:n}))}));return o.a.createPortal(l,c)},h=function(e){var t=e.index,n=e.draggableId,c=e.isDragDisabled,o=e.disableInteractiveElementBlocking,u=e.shouldRespectForcePress,b=e.beforeItem,f=e.afterItem,O=e.children,v=Object(r.a)(e,p),h={draggableId:Object(i.useMemo)((function(){return null!==n&&void 0!==n?n:Object(l.a)()}),[n]),index:t,isDragDisabled:c,disableInteractiveElementBlocking:o,shouldRespectForcePress:u};return Object(j.jsx)(d.Draggable,Object(a.a)(Object(a.a)({},h),{},{children:function(e,t){return Object(j.jsxs)(j.Fragment,{children:[b,!t.isDragging&&Object(j.jsx)(s.a,Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},e.draggableProps),e.dragHandleProps),v),{},{ref:e.innerRef,children:O})),t.isDragging&&Object(j.jsx)(m,Object(a.a)(Object(a.a)({provided:e},v),{},{children:O})),f]})}}))},g=function(e){var t=e.onItemReorder,n=e.droppableId,c=e.type,o=e.mode,s=e.isDropDisabled,b=e.isCombineEnabled,f=e.direction,O=e.ignoreContainerClipping,p=e.renderClone,m=e.getContainerForClone,h=e.children,g=Object(r.a)(e,v),x=Object(i.useCallback)((function(e){e.destination&&(null===t||void 0===t||t(e.source.index,e.destination.index))}),[t]),y={droppableId:Object(i.useMemo)((function(){return null!==n&&void 0!==n?n:Object(l.a)()}),[n]),type:c,mode:o,isDropDisabled:s,isCombineEnabled:b,direction:f,ignoreContainerClipping:O,renderClone:p,getContainerForClone:m};return Object(j.jsx)(d.DragDropContext,{onDragEnd:x,children:Object(j.jsx)(d.Droppable,Object(a.a)(Object(a.a)({},y),{},{children:function(e,t){return Object(j.jsxs)(u.a,Object(a.a)(Object(a.a)({},g),{},{ref:e.innerRef,children:[h,e.placeholder]}))}}))})}},3250:function(e,t,n){"use strict";n.r(t),n.d(t,"ActionTypesEditor",(function(){return z}));var a=n(4),r=n.n(a),i=n(21),c=n(1),o=n(9),l=n(2272),u=n(2266),s=n(3346),d=n(3340),b=n(2283),f=n(520),j=n.n(f),O=n(507),p=n.n(O),v=n(496),m=n.n(v),h=n(3342),g=n(1091),x=n(2282),y=n(3349),C=n(2301),k=n(3251),D=n.n(k),A=n(3406),I=n(49),S=n(533),R=n(427),E=n(1070),N=n(2216),w=n(1056),V=n(1226),P=n(703),T=n(484),F=n(682),M=n(1212),B=n(129),J=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(39)]).then(n.bind(null,2212))})),H=Object(l.a)((function(e){return Object(u.a)({root:{width:"100%",backgroundColor:e.palette.background.paper},item:{border:"2px solid ".concat(e.palette.common.action),borderRadius:2},divider:{height:5,background:"transparent"},inline:{display:"inline"},actionHeading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},summaryTextContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center"},initialAction:{border:"none",borderRadius:"50%","&.Mui-selected":{color:e.palette.primary.main,backgroundColor:"inherit"}}})})),z=function(e){var t=e.onSelectionChanged,n=e.onDialogVisibilityChanged,a=H(),l=Object(A.a)().t,u=Object(o.useState)(),f=Object(c.a)(u,2),O=f[0],v=f[1],k=Object(o.useState)(),z=Object(c.a)(k,2),W=z[0],L=z[1],_=Object(S.f)(),q=_.errors,G=_.control,K=Object(E.a)({name:"actions",control:G}),Q=K.fields,U=K.append,X=K.remove,Y=K.setAt,Z=K.move,$=Object(E.a)({name:"initialActions",control:G}),ee=$.fields,te=$.append,ne=$.remove,ae=Object(T.c)(),re=Object(M.e)().removeInvalidTaggings,ie=Object(F.b)(),ce=ie.getJsonSchemaDefinition,oe=ie.setJsonSchemaDefinition,le=ie.updateActionJsonSchemaDefinition,ue=Object(o.useCallback)((function(){L({actionType:{name:"",jsSetters:{},validators:[]}}),null===n||void 0===n||n(!0)}),[L,n]),se=Object(o.useCallback)(function(){var e=Object(i.a)(r.a.mark((function e(n){var a,i,c,o,u,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null===(a=Q[n])||void 0===a?void 0:a.name,e.next=3,ae({description:l("ConfirmDeleteActionType",{name:c})});case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:c&&(o=ee.indexOf(c))>=0&&ne(o),(u=null===(i=Q[n])||void 0===i?void 0:i.payloadSchemaDefinitionName)&&oe(u,void 0),X(n),re(),O===n&&(null===t||void 0===t||t(null===(s=Q[n])||void 0===s?void 0:s.name));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Q,ae,l,X,re,O,ee,ne,oe,t]),de=Object(o.useMemo)((function(){if(W){var e=W.actionType.payloadSchemaDefinitionName;if(e)return ce(e)}}),[W,ce]),be=Object(o.useCallback)((function(e,t){if(W){var n=W.index;if(Object(I.isDefined)(n)){var a,r=null===(a=Q[n])||void 0===a?void 0:a.name;if(r!==e.name&&r){var i=ee.indexOf(r);i>=0&&(ne(i),te(e.name))}if(!e.payloadSchemaDefinitionName){var c=Q[n].payloadSchemaDefinitionName;c&&oe(c,void 0)}Y(n,e),re()}else U(e);le(e,t)}}),[Q,U,Y,W,ee,te,ne,re,oe,le]),fe=Object(o.useCallback)((function(e){if(e){var t=ee.indexOf(e);t>=0?ne(t):te(e)}}),[ee,te,ne]),je=Object(o.useCallback)((function(e,t){Z(e,t),O===e&&v(t)}),[Z,O]),Oe=Object(o.useCallback)((function(e,t){L({index:e,actionType:Object(R.a)(t)}),null===n||void 0===n||n(!0)}),[L,n]),pe=Object(o.useCallback)((function(){L(void 0),null===n||void 0===n||n(!1)}),[L,n]);return Object(B.jsxs)(w.a,{children:[Object(B.jsx)(V.a,{title:l("Actions"),actions:Object(B.jsx)(C.a,{title:l("NewActionType"),children:Object(B.jsx)(x.a,{onClick:ue,children:Object(B.jsx)(p.a,{})})})}),Object(B.jsx)(N.a,{onItemReorder:je,className:a.root,children:Q.map((function(e,n){var r=!!e.name&&ee.includes(e.name);return Object(B.jsxs)(N.b,{index:n,selected:O===n,onClick:function(e){return function(e,n){var a;v(n),null===t||void 0===t||t(null===(a=Q[n])||void 0===a?void 0:a.name)}(0,n)},className:a.item,afterItem:Object(B.jsx)(h.a,{className:a.divider}),children:[Object(B.jsx)(s.a,{children:Object(B.jsx)(C.a,{title:l("MakeInitialAction"),children:Object(B.jsx)(y.a,{value:"initialAction",selected:r,onClick:function(){return fe(e.name)},className:a.initialAction,children:Object(B.jsx)(D.a,{})})})}),Object(B.jsx)(d.a,{primary:Object(B.jsx)(b.a,{className:a.actionHeading,children:e.name})}),Object(B.jsxs)(g.a,{children:[Object(B.jsx)(C.a,{title:l("Edit"),children:Object(B.jsx)(x.a,{"aria-label":"edit",onClick:function(){return Oe(n,e)},children:Object(B.jsx)(j.a,{})})}),Object(B.jsx)(C.a,{title:l("Delete"),children:Object(B.jsx)(x.a,{edge:"end","aria-label":"delete",onClick:function(){return se(n)},children:Object(B.jsx)(m.a,{})})})]})]},e.name)}))}),Object(B.jsx)(P.a,{errors:q,names:["initialActions","actions"]}),Object(I.isDefined)(W)&&Object(B.jsx)(o.Suspense,{fallback:null,children:Object(B.jsx)(J,{open:Object(I.isDefined)(W),onClose:pe,defaultValue:W.actionType,definitionJsonSchema:de,onChange:be})})]})};t.default=z},3251:function(e,t,n){"use strict";var a=n(460);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(9)),i=(0,a(n(461)).default)(r.default.createElement("path",{transform:"scale(0.5, 0.5)",d:"M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z"}),"PlayCircleFilledWhite");t.default=i}}]);
//# sourceMappingURL=53.3f29791c.chunk.js.map