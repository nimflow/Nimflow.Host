(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[74],{1099:function(e,t,n){"use strict";n.d(t,"b",(function(){return L})),n.d(t,"a",(function(){return Y}));var r=n(589),a=n(502),i=n(542),c=n.n(i),o=n(648),s=n(6),u=n(3145),l=n(2491),d=n(3073),f=n(3175),b=n(3174),p=n(3080),j=n(2425),h=n(3161),m=n(597),O=n(747),v=n(2227),g=n(9),x=n(444),C=n(1287),k=n(546),w=n(51),y=n(535),S=n(138),N=n(78),M=n(598),P=n(587),R=n(539),W=n(626),D=n(567),E=n(136),J=Object(u.a)((function(e){return Object(l.a)({dialogPaper:{height:"90vh"},dialogContent:{display:"grid",gridTemplateColumns:"auto",gridTemplateRows:"auto",rowGap:"5px",height:"100%",overflowY:"hidden"},editorContainer:{gridColumn:"1 / 2",gridRow:"1 / 99",alignSelf:"stretch"},errorContainer:{gridColumn:"1 / 2",gridRow:"99 / 100",overflowY:"auto"}})})),L=function(e){var t=Object(W.b)().getModules,n=Object(D.a)(t),r=Object(y.a)(n,Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{revalidateOnFocus:!1}).data;return Object(s.useMemo)((function(){if(!r&&!e)return N;var t=Object(x.a)(N);e&&(t.definitions.UseElement.properties.name.enum=Object.keys(e));if(r){var n={properties:{moduleName:{enum:r.map((function(e){return e.name})).filter(w.isPresent)}},allOf:r.map((function(e){var t,n;return{if:{properties:{moduleName:{const:e.name}},required:["moduleName"]},then:{properties:{functionName:{enum:null!==(t=null===(n=e.functions)||void 0===n?void 0:n.map((function(e){return e.name})).filter(w.isPresent))&&void 0!==t?t:[]}},required:["moduleName","functionName"]}}}))},a=t.definitions.OptionsSource;a.properties=n.properties,a.allOf=n.allOf;var i=t.definitions.DocumentSchemasSource;i.properties=n.properties,i.allOf=n.allOf;var c=t.definitions.OcrFunction;c.properties=n.properties,c.allOf=n.allOf}return t}),[r,e])},T=function(e){e.focus()},U=g.m().uiSchema(P.k),Y=function(e){var t=e.open,n=e.defaultValue,i=e.jsonSchema,u=e.uiSchemaLibrary,l=e.onChange,g=e.onClose,x=Object(h.a)().t,w=Object(O.a)(),y=J(),N=Object(M.a)(),W=Object(s.useState)(),D=Object(a.a)(W,2),Y=D[0],A=D[1],$=Object(s.useRef)(),q=L(u),F=Object(s.useMemo)((function(){return n?n.includes("\n")?n:JSON.stringify(JSON.parse(n),void 0,2):""}),[n]),G=Object(s.useState)(F),V=Object(a.a)(G,2),B=V[0],_=V[1];Object(s.useEffect)((function(){var e=$.current;e&&q&&function(e,t){t.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,schemas:[{uri:e.$id,fileMatch:["inmemory://model/*"],schema:e}]})}(q,e)}),[q]);var z=Object(s.useCallback)(Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==B.trim().length){e.next=4;break}return null===l||void 0===l||l(void 0),g(),e.abrupt("return");case 4:return e.t0=C.a,e.next=7,Object(S.b)(U,B,{context:Object(r.a)({},P.k,i)});case 7:if(e.t1=e.sent,!(t=(0,e.t0)(e.t1))){e.next=12;break}return A(t.message),e.abrupt("return");case 12:null===l||void 0===l||l(B),g();case 14:case"end":return e.stop()}}),e)}))),[B,l,g,i]),H=Object(s.useCallback)(Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=F!==B,!e.t0){e.next=5;break}return e.next=4,N();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:g();case 8:case"end":return e.stop()}}),e)}))),[B,F,N,g]),I=Object(s.useCallback)(function(){var e=Object(o.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=F!==B,!e.t0){e.next=5;break}return e.next=4,N();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:"backdropClick"!==n&&(null===g||void 0===g||g());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[B,F,N,g]),K=Object(s.useCallback)((function(e){$.current=e}),[]);return Object(E.jsxs)(d.a,{open:t,onClose:I,maxWidth:"xl",fullWidth:!0,classes:{paper:y.dialogPaper},children:[Object(E.jsx)(p.a,{children:x("EditingUiSchema")}),Object(E.jsxs)(b.a,{className:y.dialogContent,children:[Object(E.jsx)("div",{className:y.editorContainer,children:Object(E.jsx)(k.a,{children:function(e){var t=e.height,n=e.width;return Object(E.jsx)(m.b,{width:n,height:t-50,language:"json",theme:"light"===w.palette.mode?"vs-light":"vs-dark",value:B,options:R.a,onChange:_,editorWillMount:K,editorDidMount:T})}})}),Object(E.jsx)("div",{className:y.errorContainer,children:Object(E.jsx)(v.a,{component:"span",error:!0,children:Y})})]}),Object(E.jsxs)(f.a,{children:[Object(E.jsx)(j.a,{onClick:z,color:"primary",children:x("Accept")}),Object(E.jsx)(j.a,{onClick:H,color:"primary",children:x("Cancel")})]})]})}},1287:function(e,t,n){"use strict";var r=n(1121),a=Object(r.a)(0);t.a=a},3130:function(e,t,n){"use strict";n.r(t),n.d(t,"UiSchemaLibraryEditorModal",(function(){return J}));var r=n(24),a=n(22),i=n(3),c=n(0),o=n(8),s=n.n(o),u=n(6),l=n(3145),d=n(2491),f=n(3073),b=n(3175),p=n(3174),j=n(3080),h=n(2425),m=n(3161),O=n(597),v=n(747),g=n(2227),x=n(9),C=n(1287),k=n(546),w=n(138),y=n(79),S=n(598),N=n(587),M=n(539),P=n(1099),R=n(136),W=Object(l.a)((function(e){return Object(d.a)({dialogPaper:{height:"90vh"},dialogContent:{display:"grid",gridTemplateColumns:"auto",gridTemplateRows:"auto",rowGap:"5px",height:"100%",overflowY:"hidden"},editorContainer:{gridColumn:"1 / 2",gridRow:"1 / 99",alignSelf:"stretch"},errorContainer:{gridColumn:"1 / 2",gridRow:"99 / 100",overflowY:"auto"}})})),D=function(e){e.focus()},E=x.m().uiSchema(N.k),J=function(e){var t=e.open,n=e.defaultValue,o=e.jsonSchema,l=e.onChange,d=e.onClose,x=Object(m.a)().t,J=Object(v.a)(),L=W(),T=Object(S.a)(),U=Object(u.useState)(),Y=Object(i.a)(U,2),A=Y[0],$=Y[1],q=Object(u.useRef)(),F=Object(P.b)(),G=Object(u.useMemo)((function(){return n?n.includes("\n")?n:JSON.stringify(JSON.parse(n),void 0,2):""}),[n]),V=Object(u.useState)(G),B=Object(i.a)(V,2),_=B[0],z=B[1];Object(u.useEffect)((function(){var e=q.current;e&&F&&function(e,t){t.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,schemas:[{uri:e.$id,fileMatch:["inmemory://model/*"],schema:e},{uri:y.$id,fileMatch:["inmemory://model/*"],schema:y}]});var n,r=Object(c.a)(t.editor.getModels());try{for(r.s();!(n=r.n()).done;){var a=n.value;console.log(a)}}catch(i){r.e(i)}finally{r.f()}}(F,e)}),[F]);var H=Object(u.useCallback)(Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==_.trim().length){e.next=4;break}return null===l||void 0===l||l(void 0),d(),e.abrupt("return");case 4:return e.t0=C.a,e.next=7,Object(w.b)(E,_,{context:Object(r.a)({},N.k,o)});case 7:if(e.t1=e.sent,!(t=(0,e.t0)(e.t1))){e.next=12;break}return $(t.message),e.abrupt("return");case 12:null===l||void 0===l||l(_),d();case 14:case"end":return e.stop()}}),e)}))),[_,l,d,o]),I=Object(u.useCallback)(Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=G!==_,!e.t0){e.next=5;break}return e.next=4,T();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:d();case 8:case"end":return e.stop()}}),e)}))),[_,G,T,d]),K=Object(u.useCallback)(function(){var e=Object(a.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=G!==_,!e.t0){e.next=5;break}return e.next=4,T();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:"backdropClick"!==n&&(null===d||void 0===d||d());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[_,G,T,d]),Q=Object(u.useCallback)((function(e){q.current=e}),[]);return Object(R.jsxs)(f.a,{open:t,onClose:K,maxWidth:"xl",fullWidth:!0,classes:{paper:L.dialogPaper},children:[Object(R.jsx)(j.a,{children:x("EditingUiSchemaLibrary")}),Object(R.jsxs)(p.a,{className:L.dialogContent,children:[Object(R.jsx)("div",{className:L.editorContainer,children:Object(R.jsx)(k.a,{children:function(e){var t=e.height,n=e.width;return Object(R.jsx)(O.b,{width:n,height:t-50,language:"json",theme:"light"===J.palette.mode?"vs-light":"vs-dark",value:_,options:M.a,onChange:z,editorWillMount:Q,editorDidMount:D})}})}),Object(R.jsx)("div",{className:L.errorContainer,children:Object(R.jsx)(g.a,{component:"span",error:!0,children:A})})]}),Object(R.jsxs)(b.a,{children:[Object(R.jsx)(h.a,{onClick:H,color:"primary",children:x("Accept")}),Object(R.jsx)(h.a,{onClick:I,color:"primary",children:x("Cancel")})]})]})};t.default=J},539:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={selectOnLineNumbers:!0,automaticLayout:!0,minimap:{enabled:!1},fixedOverflowWidgets:!0}},598:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(7),a=n(3161),i=n(6),c=n(499),o=function(){var e=Object(a.a)().t,t=Object(c.c)();return Object(i.useCallback)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(r.a)({title:e("ThereArePendingChanges"),description:e("ChangesWillBeLost_Continue")},n);return t(a)}),[t,e])}},648:function(e,t,n){"use strict";function r(e,t,n,r,a,i,c){try{var o=e[i](c),s=o.value}catch(u){return void n(u)}o.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var c=e.apply(t,n);function o(e){r(c,a,i,o,s,"next",e)}function s(e){r(c,a,i,o,s,"throw",e)}o(void 0)}))}}n.d(t,"a",(function(){return a}))}}]);
//# sourceMappingURL=74.24a55bf9.chunk.js.map