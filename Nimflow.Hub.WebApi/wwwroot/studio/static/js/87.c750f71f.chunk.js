(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[87],{3123:function(e,t,n){"use strict";n.r(t),n.d(t,"PackageDefinitionUpdater",(function(){return h}));var a=n(22),r=n(7),c=n(3),u=n(8),i=n.n(u),s=n(6),o=n(9),f=n(3161),p=n(537),b=n(514),m=n(2427),j=n(2384),l=n(3163),O=n(136),h=function(){var e=Object(f.a)().t,t=Object(p.i)().name,n=Object(s.useState)(),u=Object(c.a)(n,2),h=u[0],k=u[1],v=Object(b.c)(),d=v.packages_UpsertPackageDefinition,g=v.packages_SearchPackageDefinitions;Object(s.useEffect)((function(){g({name:t}).then((function(e){e.length>0&&k(Object(r.a)({},e[0]))}))}),[d,t,g]);var w=Object(s.useCallback)(function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return k(t),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d]),x=Object(s.useMemo)((function(){return j.a.shape({name:j.a.fields.name.concat(o.m().defined().test({message:function(t){var n=t.value;return e("PackageDefinitionNameAlreadyExists",{name:n})},test:function(){var e=Object(a.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n!==t){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,g({name:n});case 4:return a=e.sent,e.abrupt("return",Object(l.a)(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))})}),[t,g,e]);return h?Object(O.jsx)(m.a,{value:h,schema:x,onSave:w}):null};t.default=h}}]);
//# sourceMappingURL=87.c750f71f.chunk.js.map