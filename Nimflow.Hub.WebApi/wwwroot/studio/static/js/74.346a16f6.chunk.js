(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[74],{3372:function(t,e,n){"use strict";n.r(e),n.d(e,"ContextSimulationCreator",(function(){return h}));var r=n(4),a=n.n(r),c=n(21),s=n(1),i=n(9),u=n(531),o=n(3405),p=n(503),b=n(1205),j=n(2056),l=n(498),O=n(1580),f=n(692),v=n(684),d=n(1250),m=n(539),x=n(129),h=function(t){var e=Object(u.h)(),n=Object(u.i)().contextTypeName,r=Object(d.b)().simulations_InsertOne,h=function(t){var e=Object(l.c)().contextTypes_FindOne,n=Object(i.useState)(),r=Object(s.a)(n,2),u=r[0],o=r[1],b=Object(i.useState)(),j=Object(s.a)(b,2),f=j[0],v=j[1],d=Object(i.useCallback)(function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={pendingEvents:[],contextTypeName:n.name,history:[]},t.next=3,Object(O.c)(n.name,(function(t){return e({name:t})}),n);case 3:c=t.sent,o(r),v(c);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[o,v,e]),x=Object(m.a)(e,t),h=Object(p.a)(x,Object(c.a)(a.a.mark((function n(){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e({name:t});case 2:return r=n.sent,d(r),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)}))),{revalidateOnFocus:!1}),w=h.isValidating,y=h.error;return Object(i.useMemo)((function(){return{simulation:u,contextTypeProvider:f,isValidating:w,error:y}}),[u,f,w,y])}(n),w=h.simulation,y=h.contextTypeProvider,g=h.isValidating,k=h.error,S=Object(i.useCallback)(function(){var t=Object(c.a)(a.a.mark((function t(n){var c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(n);case 3:c=t.sent,e("../../edit/".concat(c),{replace:!0}),t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),s=t.t0.toString(),f.a.isApiException(t.t0)&&(s=t.t0.message,"status"in t.t0&&(s+=" (status: ".concat(t.t0.status,")"))),t.abrupt("return",[{message:s}]);case 12:return t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e,r]);return g?Object(x.jsx)(v.b,{}):k?Object(x.jsx)(o.a,{severity:"error",children:k.toString()}):y?Object(x.jsx)(b.a,{contextTypeProvider:y,simulation:w,children:Object(x.jsx)(j.a,{onSaveChanges:S})}):null};e.default=h}}]);
//# sourceMappingURL=74.346a16f6.chunk.js.map