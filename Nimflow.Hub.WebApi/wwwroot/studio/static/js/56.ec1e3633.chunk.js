(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[56],{1462:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(4),r=n(73),i=n(893),c=n(3227),o=n(3157),l=n(133),u=["children","className"],s=Object(c.a)((function(e){return Object(o.a)({paper:{padding:e.spacing(2),color:e.palette.text.secondary}})})),d=function(e){var t=e.children,n=e.className,c=Object(r.a)(e,u),o=s();return Object(l.jsx)(i.a,Object(a.a)(Object(a.a)({className:"".concat(o.paper," ").concat(n),elevation:3},c),{},{children:t}))}},1467:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(13),r=n(59),i=n(3),c=n.n(i),o=n(2365),l=n(3178),u=n(2366),s=n(2367),d=n(2368),b=n(2369),f=n(1859),j=n(52),O=n(1347),v=function(e,t){var n,a=null!==(n=e.getValue())&&void 0!==n?n:[],r=null!==a&&void 0!==a?a:[],i=t(r);r!==i&&e.setValue(i,{shouldDirty:!0})},p=function(e){var t,n=e.control,p=e.name,h=(e.keyName,e.defaultValue),m=n.register,g=n.unregister,y=n.fieldsRef,x=n.setValue,C=n.updateFormState,k=n.readFormStateRef,D=n.fieldArrayNamesRef,A=n.shallowFieldsStateRef,M=n.defaultValuesRef,I=n.validateResolver,P=c.a.useMemo((function(){return{getValue:function(){var e,t=null===(e=y.current)||void 0===e?void 0:e[p];if(t)return t.ref.value},setValue:function(e,t){x(p,e,t),k.current.isValid&&I&&I(Object(r.a)({},p,e)),C()}}}),[y,x,p,k,I,C]),S=Object(i.useCallback)((function(){var e,t=!Object(O.d)(D.current,p);return Object(j.isPresent)(A.current[p])&&t?A.current[p]:null!==(e=null!==h&&void 0!==h?h:Object(O.b)(M.current,p))&&void 0!==e?e:[]}),[p,D,A,M,h]),w=null!==(t=P.getValue())&&void 0!==t?t:S(),R=Object(i.useCallback)((function(){if(m({name:p,type:"array-field"}),!P.getValue()){var e=S();P.setValue(e)}return C(),function(){return g(p)}}),[m,g,C,P,p,S]);return c.a.useEffect((function(){R()}),[R]),c.a.useEffect((function(){y.current[p]||R()})),{fields:w,swap:c.a.useCallback((function(e,t){v(P,(function(n){if(n.length<=1)return n;var a=n[e],r=n[t];return n.map((function(n,i){return i===e?r:i===t?a:n}))}))}),[P]),move:c.a.useCallback((function(e,t){v(P,(function(n){return n.length<=1?n:Object(o.a)(e,t,n)}))}),[P]),prepend:c.a.useCallback((function(e){v(P,(function(t){return Array.isArray(e)?Object(l.a)(e,t):Object(u.a)(e,t)}))}),[P]),append:c.a.useCallback((function(e){v(P,(function(t){return Array.isArray(e)?Object(l.a)(t,e):Object(s.a)(e,t)}))}),[P]),remove:c.a.useCallback((function(e){v(P,(function(t){if(0===t.length)return t;if(!Object(j.isDefined)(e))return[];if(t){for(var n=[],a=Array.isArray(e)?e:[e],r=0;r<t.length;r++)a.includes(r)||n.push(t[r]);return n}return t}))}),[P]),insert:c.a.useCallback((function(e,t){v(P,(function(n){return Array.isArray(t)?Object(d.a)(e,t,n):Object(b.a)(e,t,n)}))}),[P]),setAt:c.a.useCallback((function(e,t){v(P,(function(n){if(Array.isArray(t)){var r=Object(a.a)(n);return r.splice.apply(r,[e,t.length].concat(Object(a.a)(t))),r}return Object(f.a)(e,t,n)}))}),[P])}}},1622:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(4),r=n(73),i=n(3157),c=n(3227),o=n(921),l=n(1623),u=n(133),s=["title","actions"],d=Object(c.a)((function(e){return Object(i.a)({grow:{flexGrow:1},actionToolbarButtons:{display:"flex"}})})),b=function(e){var t=e.title,n=e.actions,i=Object(r.a)(e,s),c=d();return Object(u.jsxs)(o.a,Object(a.a)(Object(a.a)({variant:"dense"},i),{},{children:[t&&Object(u.jsx)(l.a,{children:t}),Object(u.jsx)("div",{className:c.grow}),n&&Object(u.jsx)("div",{className:c.actionToolbarButtons,children:n})]}))}},1623:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(4),r=n(73),i=n(896),c=n(133),o=["children"],l=function(e){var t=e.children,n=Object(r.a)(e,o);return Object(c.jsx)(i.a,Object(a.a)(Object(a.a)({variant:"h5"},n),{},{children:t}))}},1859:function(e,t,n){"use strict";var a=n(75),r=n(1339),i=Object(a.a)((function(e,t,n){if(e>=n.length||e<-n.length)return n;var a=(e<0?n.length:0)+e,i=Object(r.a)(n);return i[a]=t(n[a]),i})),c=n(167),o=Object(a.a)((function(e,t,n){return i(e,Object(c.a)(t),n)}));t.a=o},2365:function(e,t,n){"use strict";var a=n(75),r=Object(a.a)((function(e,t,n){var a=n.length,r=n.slice(),i=e<0?a+e:e,c=t<0?a+t:t,o=r.splice(i,1);return i<0||i>=n.length||c<0||c>=n.length?n:[].concat(r.slice(0,c)).concat(o).concat(r.slice(c,n.length))}));t.a=r},2366:function(e,t,n){"use strict";var a=n(1339),r=n(12),i=Object(r.a)((function(e,t){return Object(a.a)([e],t)}));t.a=i},2367:function(e,t,n){"use strict";var a=n(1339),r=n(12),i=Object(r.a)((function(e,t){return Object(a.a)(t,[e])}));t.a=i},2368:function(e,t,n){"use strict";var a=n(75),r=Object(a.a)((function(e,t,n){return e=e<n.length&&e>=0?e:n.length,[].concat(Array.prototype.slice.call(n,0,e),t,Array.prototype.slice.call(n,e))}));t.a=r},2369:function(e,t,n){"use strict";var a=n(75),r=Object(a.a)((function(e,t,n){e=e<n.length&&e>=0?e:n.length;var a=Array.prototype.slice.call(n,0);return a.splice(e,0,t),a}));t.a=r},2406:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return g}));var a=n(4),r=n(73),i=n(3),c=n(74),o=n.n(c),l=n(912),u=n(908),s=n(915),d=n(732);function b(e){var t,n,a=function(e){var t=document.createElement("div");return t.setAttribute("id",e),t}(e);return document.body.insertBefore(a,null!==(t=null===(n=document.body.lastElementChild)||void 0===n?void 0:n.nextElementSibling)&&void 0!==t?t:null),a}var f=function(e){var t=Object(i.useMemo)((function(){return document.createElement("div")}),[]);return Object(i.useEffect)((function(){var n=document.querySelector("#".concat(e)),a=n instanceof HTMLElement?n:b(e);return a.appendChild(t),function(){t.remove(),a.childNodes.length<=0&&a.remove()}}),[t,e]),t},j=n(133),O=["provided","children"],v=["index","draggableId","isDragDisabled","disableInteractiveElementBlocking","shouldRespectForcePress","beforeItem","afterItem","children"],p=["onItemReorder","droppableId","type","mode","isDropDisabled","isCombineEnabled","direction","ignoreContainerClipping","renderClone","getContainerForClone","children"],h=function(e){var t=e.provided,n=e.children,i=Object(r.a)(e,O),c=f("OrderableListItemPortal"),l=Object(j.jsx)("div",Object(a.a)(Object(a.a)({ref:t.innerRef},t.draggableProps),{},{children:Object(j.jsx)(s.a,Object(a.a)(Object(a.a)(Object(a.a)({},t.dragHandleProps),i),{},{children:n}))}));return o.a.createPortal(l,c)},m=function(e){var t=e.index,n=e.draggableId,c=e.isDragDisabled,o=e.disableInteractiveElementBlocking,u=e.shouldRespectForcePress,b=e.beforeItem,f=e.afterItem,O=e.children,p=Object(r.a)(e,v),m={draggableId:Object(i.useMemo)((function(){return null!==n&&void 0!==n?n:Object(l.a)()}),[n]),index:t,isDragDisabled:c,disableInteractiveElementBlocking:o,shouldRespectForcePress:u};return Object(j.jsx)(d.Draggable,Object(a.a)(Object(a.a)({},m),{},{children:function(e,t){return Object(j.jsxs)(j.Fragment,{children:[b,!t.isDragging&&Object(j.jsx)(s.a,Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},e.draggableProps),e.dragHandleProps),p),{},{ref:e.innerRef,children:O})),t.isDragging&&Object(j.jsx)(h,Object(a.a)(Object(a.a)({provided:e},p),{},{children:O})),f]})}}))},g=function(e){var t=e.onItemReorder,n=e.droppableId,c=e.type,o=e.mode,s=e.isDropDisabled,b=e.isCombineEnabled,f=e.direction,O=e.ignoreContainerClipping,v=e.renderClone,h=e.getContainerForClone,m=e.children,g=Object(r.a)(e,p),y=Object(i.useCallback)((function(e){e.destination&&(null===t||void 0===t||t(e.source.index,e.destination.index))}),[t]),x={droppableId:Object(i.useMemo)((function(){return null!==n&&void 0!==n?n:Object(l.a)()}),[n]),type:c,mode:o,isDropDisabled:s,isCombineEnabled:b,direction:f,ignoreContainerClipping:O,renderClone:v,getContainerForClone:h};return Object(j.jsx)(d.DragDropContext,{onDragEnd:y,children:Object(j.jsx)(d.Droppable,Object(a.a)(Object(a.a)({},x),{},{children:function(e,t){return Object(j.jsxs)(u.a,Object(a.a)(Object(a.a)({},g),{},{ref:e.innerRef,children:[m,e.placeholder]}))}}))})}},3076:function(e,t,n){"use strict";n.r(t),n.d(t,"ActionTypesEditor",(function(){return B}));var a=n(5),r=n.n(a),i=n(21),c=n(1),o=n(3),l=n(3157),u=n(3227),s=n(920),d=n(917),b=n(896),f=n(752),j=n.n(f),O=n(734),v=n.n(O),p=n(728),h=n.n(p),m=n(919),g=n(916),y=n(894),x=n(923),C=n(914),k=n(3077),D=n.n(k),A=n(3232),M=n(52),I=n(846),P=n(432),S=n(1467),w=n(2406),R=n(1462),E=n(1622),N=n(1174),V=n(595),T=n(1145),z=n(1614),F=n(133),_=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(33)]).then(n.bind(null,2398))})),H=Object(u.a)((function(e){return Object(l.a)({root:{width:"100%",backgroundColor:e.palette.background.paper},item:{border:"2px solid ".concat(e.palette.common.action),borderRadius:2},divider:{height:5,background:"transparent"},inline:{display:"inline"},actionHeading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},summaryTextContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center"},initialAction:{border:"none",borderRadius:"50%","&.Mui-selected":{color:e.palette.primary.main,backgroundColor:"inherit"}}})})),B=function(e){var t=e.onSelectionChanged,n=e.onDialogVisibilityChanged,a=H(),l=Object(A.a)().t,u=Object(o.useState)(),f=Object(c.a)(u,2),O=f[0],p=f[1],k=Object(o.useState)(),B=Object(c.a)(k,2),J=B[0],W=B[1],L=Object(I.f)(),q=L.errors,G=L.control,K=Object(S.a)({name:"actions",control:G}),Q=K.fields,U=K.append,X=K.remove,Y=K.setAt,Z=K.move,$=Object(S.a)({name:"initialActions",control:G}),ee=$.fields,te=$.append,ne=$.remove,ae=Object(V.c)(),re=Object(z.e)().removeInvalidTaggings,ie=Object(T.b)(),ce=ie.getJsonSchemaDefinition,oe=ie.setJsonSchemaDefinition,le=ie.updateActionJsonSchemaDefinition,ue=Object(o.useCallback)((function(){W({actionType:{name:"",jsSetters:{},validators:[]}}),null===n||void 0===n||n(!0)}),[W,n]),se=Object(o.useCallback)(function(){var e=Object(i.a)(r.a.mark((function e(n){var a,i,c,o,u,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null===(a=Q[n])||void 0===a?void 0:a.name,e.next=3,ae({description:l("ConfirmDeleteActionType",{name:c})});case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:c&&(o=ee.indexOf(c))>=0&&ne(o),(u=null===(i=Q[n])||void 0===i?void 0:i.payloadSchemaDefinitionName)&&oe(u,void 0),X(n),re(),O===n&&(null===t||void 0===t||t(null===(s=Q[n])||void 0===s?void 0:s.name));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Q,ae,l,X,re,O,ee,ne,oe,t]),de=Object(o.useMemo)((function(){if(J){var e=J.actionType.payloadSchemaDefinitionName;if(e)return ce(e)}}),[J,ce]),be=Object(o.useCallback)((function(e,t){if(J){var n=J.index;if(Object(M.isDefined)(n)){var a,r=null===(a=Q[n])||void 0===a?void 0:a.name;if(r!==e.name&&r){var i=ee.indexOf(r);i>=0&&(ne(i),te(e.name))}if(!e.payloadSchemaDefinitionName){var c=Q[n].payloadSchemaDefinitionName;c&&oe(c,void 0)}Y(n,e),re()}else U(e);le(e,t)}}),[Q,U,Y,J,ee,te,ne,re,oe,le]),fe=Object(o.useCallback)((function(e){if(e){var t=ee.indexOf(e);t>=0?ne(t):te(e)}}),[ee,te,ne]),je=Object(o.useCallback)((function(e,t){Z(e,t),O===e&&p(t)}),[Z,O]),Oe=Object(o.useCallback)((function(e,t){W({index:e,actionType:Object(P.a)(t)}),null===n||void 0===n||n(!0)}),[W,n]),ve=Object(o.useCallback)((function(){W(void 0),null===n||void 0===n||n(!1)}),[W,n]);return Object(F.jsxs)(R.a,{children:[Object(F.jsx)(E.a,{title:l("Actions"),actions:Object(F.jsx)(C.a,{title:l("NewActionType"),children:Object(F.jsx)(y.a,{onClick:ue,size:"large",children:Object(F.jsx)(v.a,{})})})}),Object(F.jsx)(w.a,{onItemReorder:je,className:a.root,children:Q.map((function(e,n){var r=!!e.name&&ee.includes(e.name);return Object(F.jsxs)(w.b,{index:n,selected:O===n,onClick:function(e){return function(e,n){var a;p(n),null===t||void 0===t||t(null===(a=Q[n])||void 0===a?void 0:a.name)}(0,n)},className:a.item,afterItem:Object(F.jsx)(m.a,{className:a.divider}),children:[Object(F.jsx)(s.a,{children:Object(F.jsx)(C.a,{title:l("MakeInitialAction"),children:Object(F.jsx)(x.a,{value:"initialAction",selected:r,onClick:function(){return fe(e.name)},className:a.initialAction,children:Object(F.jsx)(D.a,{})})})}),Object(F.jsx)(d.a,{primary:Object(F.jsx)(b.a,{className:a.actionHeading,children:e.name})}),Object(F.jsxs)(g.a,{children:[Object(F.jsx)(C.a,{title:l("Edit"),children:Object(F.jsx)(y.a,{"aria-label":"edit",onClick:function(){return Oe(n,e)},size:"large",children:Object(F.jsx)(j.a,{})})}),Object(F.jsx)(C.a,{title:l("Delete"),children:Object(F.jsx)(y.a,{edge:"end","aria-label":"delete",onClick:function(){return se(n)},size:"large",children:Object(F.jsx)(h.a,{})})})]})]},e.name)}))}),Object(F.jsx)(N.a,{errors:q,names:["initialActions","actions"]}),Object(M.isDefined)(J)&&Object(F.jsx)(o.Suspense,{fallback:null,children:Object(F.jsx)(_,{open:Object(M.isDefined)(J),onClose:ve,defaultValue:J.actionType,definitionJsonSchema:de,onChange:be})})]})};t.default=B},3077:function(e,t,n){"use strict";var a=n(465);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a)}(n(3));var r=a(n(472)),i=n(133);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var o=(0,r.default)((0,i.jsx)("path",{transform:"scale(0.5, 0.5)",d:"M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z"}),"PlayCircleFilledWhite");t.default=o},728:function(e,t,n){"use strict";var a=n(465);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(472)),i=n(133),c=(0,r.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=c},734:function(e,t,n){"use strict";var a=n(465);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(472)),i=n(133),c=(0,r.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=c},752:function(e,t,n){"use strict";var a=n(465);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(472)),i=n(133),c=(0,r.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=c}}]);
//# sourceMappingURL=56.ec1e3633.chunk.js.map