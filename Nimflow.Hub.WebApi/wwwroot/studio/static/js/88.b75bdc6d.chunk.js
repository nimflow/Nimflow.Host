(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[88],{3126:function(e,t,n){"use strict";n.r(t),n.d(t,"CollectionDefinitionCreator",(function(){return m}));var r=n(22),a=n(3),c=n(8),i=n.n(c),o=n(6),u=n(3161),s=n(537),l=n(9),f=n(1285),p=n(2138),b=n(2028),d=n(136),m=function(){var e=Object(s.h)(),t=Object(u.a)().t,n=Object(f.a)(),c=n.addCollectionDefinition,m=n.searchCollectionDefinitions,h=Object(o.useState)((function(){return{id:"newUdColl",collectionName:""}})),v=Object(a.a)(h,2),j=v[0],O=v[1],w=Object(o.useCallback)(function(){var t=Object(r.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(n);case 2:return r=t.sent,O(r),setTimeout((function(){e("../edit/".concat(r.id),{replace:!0})}),0),t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[c,e]),x=Object(o.useMemo)((function(){return b.a.shape({collectionName:b.a.fields.collectionName.concat(l.m().defined().test({message:function(e){var n=e.value;return t("CollectionDefinitionNameAlreadyExists",{name:n})},test:function(){var e=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,m({collectionName:t});case 4:return n=e.sent,e.abrupt("return",0===n.filter((function(e){return e.collectionName===t})).length);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))})}),[m,t]);return Object(d.jsx)(p.a,{value:j,schema:x,onSave:w})};t.default=m}}]);
//# sourceMappingURL=88.b75bdc6d.chunk.js.map