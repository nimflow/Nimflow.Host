(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[10],{1055:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3),r=n(70),i=n(457),c=n(2109),o=n(129),s=["family","className"],u=function(e){switch(e){case"Outlined":return"material-icons-outlined";case"Rounded":return"material-icons-round";case"Sharp":return"material-icons-sharp";case"Two tone":return"material-icons-two-tone";default:return}},l=function(e){var t=e.family,n=e.className,l=Object(r.a)(e,s);return Object(o.jsx)(c.a,Object(a.a)({className:Object(i.default)(u(t),n)},l))}},1056:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(3),r=n(70),i=n(914),c=n(2275),o=n(2269),s=n(129),u=["children","className"],l=Object(c.a)((function(e){return Object(o.a)({paper:{padding:e.spacing(2),color:e.palette.text.secondary}})})),d=function(e){var t=e.children,n=e.className,c=Object(r.a)(e,u),o=l();return Object(s.jsx)(i.a,Object(a.a)(Object(a.a)({className:"".concat(o.paper," ").concat(n),elevation:3},c),{},{children:t}))}},1205:function(e,t,n){"use strict";n.d(t,"a",(function(){return q})),n.d(t,"b",(function(){return D}));var a,r=n(1),i=n(4),c=n.n(i),o=n(3),s=n(21),u=n(14),l=n(9),d=n.n(l),b=n(427),j=n(3319),v=n(157),p=n(49),f=n(1078),h=n(3408),O=n(137),x=n(792),m=n(499),g=n(1577),y=n(1249),k=n(2142),E=n(852),C=n(129),S=function(){throw new Error("You forgot to wrap your component in <ContextSimulationContextProvider>.")},T={getState:S,resetSimulation:S,setSimulation:S,executeNextPendingEvent:S,executeAllPendingEvents:S,updateSimulation:S,sendResponse:S,deleteEvent:S,updateEventData:S,validate:S,errors:{},options:{shouldExecuteAllPendingEvents:!0},setOptions:S},w=Object(l.createContext)(T),N=function(e,t){var n,a,r=null!==(n=e.contextTypeName)&&void 0!==n?n:null===(a=e.contextType)||void 0===a?void 0:a.name;if(t.name!==r){var i="Simulation context type name ("+r+") is different from context type provided ("+t.name+")";throw new Error(i)}},A=function(e,t){return N(e,t),(e=Object(b.a)(e)).contextType&&(e.contextType=t),e},R=function(e){return Object(v.a)(e,(function(e){var t;(t=e.pendingEvents).splice.apply(t,[0,0].concat(Object(u.a)(e.history.map((function(e){return e.event}))))),e.history=[],delete e.initialState}))},P=function(){var e=Object(s.a)(c.a.mark((function e(t,n,a,r,i){var s,l,d,b,v,p,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e){var t=Array.isArray(r)?r.length:1;return Object(o.a)(Object(o.a)({},a),{},{pendingEvents:a.pendingEvents.slice(t),history:[].concat(Object(u.a)(a.history),Object(u.a)(e.states))})},Array.isArray(r)||(r=[r]),l=t.configureSimulationRequest({events:r}),(d="number"===typeof i?a.history[i]:Object(j.a)(a.history))&&(l.currentState={context:d.context,tasks:d.tasks}),e.prev=5,e.next=8,n(l);case 8:if(b=e.sent,!((v=t.analyzeSimulationResponse(b))>=g.a.UnrecognizedExecutionStatus)){e.next=12;break}throw new Error("Unexpected result from simulation: ".concat(g.a[b.status]," (").concat(b.status,")"));case 12:if(v!==g.a.ReexecuteFromInitialState){e.next=17;break}return p=R(a),f="number"===typeof i?a.history.slice(0,i):a.history,h=[].concat(Object(u.a)(f.map((function(e){return e.event}))),Object(u.a)(r)),e.abrupt("return",P(t,n,p,h));case 17:return e.abrupt("return",s(b));case 20:return e.prev=20,e.t0=e.catch(5),e.abrupt("return",s({status:x.d.Completed,states:r.map((function(n){return{event:n,context:{id:"",typeName:t.contextType.name,state:{},dateCreated:"",dateModified:""},tasks:[],errors:[Object(E.a)(e.t0)?e.t0.message+"\n"+e.t0.response:""]}}))}));case 23:case"end":return e.stop()}}),e,null,[[5,20]])})));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),I=Object(O.b)({key:"simulator:shouldExecuteAllPendingEvents",default:null===(a=T.options.shouldExecuteAllPendingEvents)||void 0===a||a}),q=function(e){var t=e.contextTypeProvider,n=e.simulation,a=e.options,i=e.children,o=Object(h.a)().t,d=Object(m.c)().simulation_Simulate,b=Object(y.b)().simulations_GetInfos,j=Object(O.f)(I),x=Object(r.a)(j,2),g=x[0],E=x[1],S=Object(l.useState)(t),T=Object(r.a)(S,2),q=T[0],D=T[1],F=Object(l.useState)((function(){return n?A(n,q.contextType):{contextTypeName:q.contextType.name,pendingEvents:[],history:[]}})),H=Object(r.a)(F,2),M=H[0],V=H[1],_=Object(l.useState)({}),B=Object(r.a)(_,2),U=B[0],W=B[1],z=Object(l.useCallback)((function(){return{simulation:M,contextType:q.contextType,contextTypeProvider:q}}),[q,M]),L=Object(l.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;e=A(e,t.contextType),t!==q&&D(t),V(e)}),[D,V,q]),G=Object(l.useCallback)((function(){V(R(M))}),[M]),J=Object(l.useCallback)((function(e,t,n){return P(q,d,e,t,n)}),[d,q]),$=Object(l.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(t,n,a){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object(v.a)(t,n),N(i,q.contextType),!((null!==(r=null===a||void 0===a?void 0:a.executeAllPendingEvents)&&void 0!==r?r:g)&&i.pendingEvents.length>0)){e.next=6;break}return e.next=5,J(i,i.pendingEvents);case 5:i=e.sent;case 6:V(i);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[V,q,J,g]),K=Object(l.useCallback)(Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==M.pendingEvents.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,J(M,M.pendingEvents[0]);case 4:t=e.sent,V(t);case 6:case"end":return e.stop()}}),e)}))),[M,V,J]),Y=Object(l.useCallback)(Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==M.pendingEvents.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,J(M,M.pendingEvents);case 4:t=e.sent,V(t);case 6:case"end":return e.stop()}}),e)}))),[M,V,J]),Q=Object(l.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(t,n,a){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M.history[t]){e.next=3;break}throw new Error("Invalid stateIndex: ".concat(t));case 3:return r=Object(v.a)(M,(function(e){var r,i=e.history.length-t+1,c=e.history.splice(t+1,i);null===(r=null===a||void 0===a?void 0:a.clearFollowingEvents)||void 0===r||r?e.pendingEvents=[n]:e.pendingEvents=[n].concat(Object(u.a)(c.map((function(e){return e.event}))),Object(u.a)(e.pendingEvents))})),e.next=6,J(r,(null===a||void 0===a?void 0:a.executeAllPendingEvents)?n:r.pendingEvents,t);case 6:i=e.sent,V(i);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[M,V,J]),X=Object(l.useCallback)((function(e,t){var n;return null===(n=null===t||void 0===t?void 0:t.deleteFollowingEvents)||void 0===n||n?$(M,(function(t){e>=t.history.length?t.pendingEvents=t.pendingEvents.splice(0,e-t.history.length):(t.pendingEvents=[],t.history=t.history.slice(0,e))}),{executeAllPendingEvents:null===t||void 0===t?void 0:t.executeAllPendingEvents}):$(M,(function(t){if(e>=t.history.length)t.pendingEvents.splice(e-t.history.length,1);else{if(e<t.history.length-1){var n=t.history.slice(e+1).map((function(e){return e.event}));t.pendingEvents=[].concat(Object(u.a)(n),Object(u.a)(t.pendingEvents))}t.history=t.history.slice(0,e)}}),{executeAllPendingEvents:null===t||void 0===t?void 0:t.executeAllPendingEvents})}),[$,M]),Z=Object(l.useCallback)((function(e,t,n){return $(M,(function(n){if(e<n.history.length){var a=n.history.slice(e).map((function(e){return e.event}));n.pendingEvents=[].concat(Object(u.a)(a),Object(u.a)(n.pendingEvents)),n.history=n.history.slice(0,e)}var r=e-n.history.length;n.pendingEvents[r]=t}),n)}),[$,M]),ee=Object(l.useMemo)((function(){return{shouldExecuteAllPendingEvents:g}}),[g]),te=Object(l.useCallback)((function(e){Object(p.isPresent)(e.shouldExecuteAllPendingEvents)&&e.shouldExecuteAllPendingEvents!==g&&(E(e.shouldExecuteAllPendingEvents),e.shouldExecuteAllPendingEvents&&Y())}),[E,g,Y]),ne=Object(l.useMemo)((function(){return k.a.clone().test({message:function(){return o("AvoidDuplications")},test:function(){var e=Object(s.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,b();case 6:if(a=e.sent,!(r=a.find((function(e){return e.name===n.name})))||n.id&&n.id===r.id){e.next=10;break}return e.abrupt("return",this.createError({path:"name",message:o("ContextSimulationNameAlreadyInUse",{name:n.name})}));case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()})}),[b,o]),ae=Object(l.useCallback)(Object(s.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(ne)(M,{},!0);case 2:return t=e.sent,n=t.errors,W(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),[ne,M]);Object(l.useEffect)((function(){n&&(null===a||void 0===a?void 0:a.shouldExecuteAllPendingEvents)&&n.pendingEvents.length>0&&J(n,n.pendingEvents).then((function(e){V(e)}))}),[a,n,J]);var re={getState:z,resetSimulation:G,setSimulation:L,executeNextPendingEvent:K,executeAllPendingEvents:Y,updateSimulation:Object(l.useCallback)((function(e,t){return $(M,e,t)}),[$,M]),sendResponse:Q,deleteEvent:X,updateEventData:Z,validate:ae,errors:U,options:ee,setOptions:te};return Object(C.jsx)(w.Provider,{value:re,children:i})},D=function(){return d.a.useContext(w)}},1227:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(3),r=n(70),i=n(2275),c=n(2269),o=n(2324),s=n(1228),u=n(129),l=["title","actions"],d=Object(i.a)((function(e){return Object(c.a)({grow:{flexGrow:1},actionToolbarButtons:{display:"flex"}})})),b=function(e){var t=e.title,n=e.actions,i=Object(r.a)(e,l),c=d();return Object(u.jsxs)(o.a,Object(a.a)(Object(a.a)({variant:"dense"},i),{},{children:[t&&Object(u.jsx)(s.a,{children:t}),Object(u.jsx)("div",{className:c.grow}),n&&Object(u.jsx)("div",{className:c.actionToolbarButtons,children:n})]}))}},1228:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(3),r=n(70),i=n(2286),c=n(129),o=["children"],s=function(e){var t=e.children,n=Object(r.a)(e,o);return Object(c.jsx)(i.a,Object(a.a)(Object(a.a)({variant:"h5"},n),{},{children:t}))}},1260:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(9),r=n(484),i=n(3408),c=n(546),o=n(129),s=function(){var e=Object(r.b)(),t=Object(i.a)().t;return Object(a.useCallback)((function(n){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e({title:r.title,description:Object(o.jsx)("span",{style:{display:"block",maxHeight:"200px"},children:Object(o.jsx)(c.a,{error:n})}),dialogProps:r.dialogProps,mapCloseTo:"close",actions:[{type:"close",text:null!==(a=r.closeText)&&void 0!==a?a:t("Close"),buttonProps:r.closeButtonProps}]}).then((function(){})).catch((function(){}))}),[e,t])}},1463:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(9),r=n(590),i=n(2014),c=n(129),o={LOG_COLOR:"#000000",LOG_ERROR_BACKGROUND:"#FF9999",LOG_ERROR_BORDER:"#FF6666",LOG_ERROR_COLOR:"#4d0000",LOG_WARN_COLOR:"#664100",LOG_WARN_BORDER:"#ffe666",LOG_WARN_BACKGROUND:"#fff099"},s={},u=function(e){var t=e.entries,n=Object(r.a)(),u=Object(a.useMemo)((function(){return t.map((function(e,t){var n;return{id:t.toString(),method:e.type,data:null!==(n=e.values)&&void 0!==n?n:[]}}))}),[t]);if(!u||0===u.length)return null;var l=n.palette.type;return Object(c.jsx)(i.Console,{logs:u,variant:l,styles:"light"===l?o:s})}},1577:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return p}));var a,r=n(4),i=n.n(r),c=n(21),o=n(3),s=n(2),u=n(8),l=n(792),d=n(49);!function(e){e[e.ProceedNormally=0]="ProceedNormally",e[e.ReexecuteFromInitialState=1]="ReexecuteFromInitialState",e[e.UnrecognizedExecutionStatus=1e3]="UnrecognizedExecutionStatus",e[e.UnexpectedNewContextType=1001]="UnexpectedNewContextType",e[e.MissingContextType=1002]="MissingContextType"}(a||(a={}));var b=function(){function e(t){Object(s.a)(this,e),this.contextType=t}return Object(u.a)(e,[{key:"configureSimulationRequest",value:function(e){var t=Object(o.a)(Object(o.a)({},e),{},{contextType:this.contextType});return delete t.contextTypeName,delete t.contextTypeClientVersion,t}},{key:"analyzeSimulationResponse",value:function(e){return e.status===l.d.Completed?a.ProceedNormally:e.status===l.d.NewerContextTypeFound?a.UnexpectedNewContextType:a.UnrecognizedExecutionStatus}}]),e}(),j=function(){function e(t,n,a){Object(s.a)(this,e),this.contextType=t,this.contextTypeName=n,this.resolver=a}return Object(u.a)(e,[{key:"configureSimulationRequest",value:function(e){var t=Object(o.a)(Object(o.a)({},e),{},{contextTypeName:this.contextTypeName,contextTypeClientVersion:this.contextType.version});return delete t.contextType,t}},{key:"analyzeSimulationResponse",value:function(e){if(e.status===l.d.Completed)return a.ProceedNormally;if(e.status===l.d.NewerContextTypeFound){if(!e.contextType)return a.MissingContextType;var t=e.contextType.version,n=this.contextType.version;return!Object(d.isPresent)(t)||Object(d.isPresent)(n)&&n>=t?a.UnexpectedNewContextType:(this.contextType=e.contextType,a.ReexecuteFromInitialState)}return a.UnrecognizedExecutionStatus}}]),e}(),v=function(e){return new b(e)},p=function(){var e=Object(c.a)(i.a.mark((function e(t,n,a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===a||void 0===a){e.next=4;break}e.t0=a,e.next=7;break;case 4:return e.next=6,n(t);case 6:e.t0=e.sent;case 7:return r=e.t0,e.abrupt("return",new j(r,t,n));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},2054:function(e,t,n){"use strict";n.d(t,"a",(function(){return kt}));var a=n(3),r=n(4),i=n.n(r),c=n(21),o=n(1),s=n(9),u=n(2275),l=n(2269),d=n(3317),b=n(2290),j=n(2304),v=n(2324),p=n(2285),f=n(3351),h=n(2286),O=n(733),x=n.n(O),m=n(732),g=n.n(m),y=n(2017),k=n.n(y),E=n(558),C=n.n(E),S=n(2826),T=n.n(S),w=n(3408),N=n(532),A=n(735),R=n(3335),P=n(3341),I=n(3342),q=n(3344),D=n(1205),F=n(836),H=n(838),M=n(837),V=n(652),_=n.n(V),B=n(2402),U=n.n(B),W=n(689),z=n(2013),L=n.n(z),G=n(843),J=n(2512),$=n(2616),K=n(49),Y=n(906),Q=n(540),X=n(841),Z=n(1055),ee=n(129),te=Object(u.a)((function(e){return Object(l.a)({inline:{display:"inline"},actionHeading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},summaryTextContainer:{width:"100%",height:"100%",display:"flex",paddingTop:5,overflow:"auto",marginRight:10},taskDivider:{margin:"10px -16px"},responses:{marginTop:16,display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}})})),ne=U()({root:{backgroundColor:"transparent",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{border:"1px solid rgba(0, 0, 0, .125)",margin:"auto"}},expanded:{}})(F.a),ae=U()({root:{marginBottom:-1,height:32,minHeight:32,papdding:0,"&$expanded":{borderBottom:"1px solid rgba(0, 0, 0, .125)",minHeight:56}},content:{margin:0,height:"100%",alignItems:"center","&$expanded":{margin:0}},expandIcon:{paddingRight:"16px"},expanded:{}})(H.a),re=U()((function(e){return{root:{padding:e.spacing(2),flexDirection:"column"}}}))(M.a),ie=function(e){var t,n,a,r,i=e.taskType,c=e.task,o=e.onAddResponse,u=Object(w.a)().t,l=te(),d=null!==(t=null===i||void 0===i?void 0:i.validResponses)&&void 0!==t?t:[];if(i){var b,j=null===(b=Object(Q.s)(i))||void 0===b?void 0:b.taskDetailsTemplate;j&&(r=Object(X.a)(j,{task:c}))}var v=Object(s.useMemo)((function(){var e=Object(Q.q)(c.importance);return Object(K.isPresent)(e)?u("Importance.".concat(e)):""}),[u,c.importance]);return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)(ne,{children:[Object(ee.jsxs)(ae,{expandIcon:Object(ee.jsx)(_.a,{}),children:[Object(ee.jsx)("div",{className:l.summaryTextContainer,children:Object(ee.jsx)(h.a,{className:l.actionHeading,children:c.title})}),Object(ee.jsx)(W.a,{label:c.typeName,variant:"outlined",title:c.typeName,style:{maxWidth:150,textOverflow:"ellipsis"}})]}),Object(ee.jsxs)(re,{children:[Object(ee.jsx)("div",{style:{width:"100%"},children:Object(ee.jsx)(G.a,{children:null!==(n=r)&&void 0!==n?n:""})}),Object(ee.jsx)(q.a,{className:l.taskDivider}),Object(ee.jsx)(h.a,{variant:"body1",component:"div",children:u("AssignedTo_value",{value:c.assignedTo})}),Object(ee.jsx)(h.a,{variant:"body1",component:"div",children:u("DueDate_value",{value:c.dueDate?Object(J.default)(Object($.default)(c.dueDate),u("DATETIME_FORMAT")):void 0})}),Object(ee.jsx)(h.a,{variant:"body1",component:"div",children:u("Priority_value",{value:v})}),!!c.data&&Object.keys(c.data).length>0&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(q.a,{className:l.taskDivider}),Object(ee.jsx)(h.a,{variant:"body1",component:"div",children:u("Data")}),Object(ee.jsx)("div",{style:{width:"100%"},children:Object(ee.jsx)(Y.a,{data:null!==(a=c.data)&&void 0!==a?a:{}})})]}),d.length>0&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(q.a,{className:l.taskDivider}),Object(ee.jsx)("div",{className:l.responses,children:d.map((function(e,t){var n,a=null===(n=Object(Q.s)(e))||void 0===n?void 0:n.icon;return Object(ee.jsx)(W.a,{icon:a?Object(ee.jsx)(Z.a,{family:a.family,children:a.name}):Object(ee.jsx)(L.a,{}),label:Object(Q.p)(e),onClick:function(){return null===o||void 0===o?void 0:o(c,e)}},t)}))})]})]})]})})},ce=Object(s.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(19)]).then(n.bind(null,3393))})),oe=Object(u.a)((function(e){return Object(l.a)({root:{width:"100%",backgroundColor:e.palette.background.paper},item:{border:"2px solid ".concat(e.palette.common.task),borderRadius:2},divider:{height:5,background:"transparent"}})})),se=function(e){var t=e.stateIndex,n=oe(),a=(0,Object(D.b)().getState)(),r=a.contextType,i=a.simulation,c=Object(s.useState)(),u=Object(o.a)(c,2),l=u[0],d=u[1],b=Object(s.useCallback)((function(e,t){d({task:e,responseType:t})}),[d]),j=Object(s.useCallback)((function(){d(void 0)}),[d]),v=i.history[t];return v?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(R.a,{className:n.root,children:v.tasks.map((function(e,t){var a,i=null===(a=r.tasks)||void 0===a?void 0:a.find((function(t){return t.name===e.typeName}));return Object(ee.jsxs)(s.Fragment,{children:[Object(ee.jsx)(P.a,{className:n.item,children:Object(ee.jsx)(I.a,{primary:Object(ee.jsx)(ie,{task:e,taskType:i,onAddResponse:b})})}),Object(ee.jsx)(q.a,{className:n.divider})]},t)}))}),!!l&&Object(ee.jsx)(s.Suspense,{fallback:null,children:Object(ee.jsx)(ce,{open:!!l,onClose:j,stateIndex:t,task:l.task,responseType:l.responseType})})]}):null},ue=n(1056),le=n(1227),de=n(659),be=n(2140),je=n(14),ve=n(1463),pe=n(2103),fe=n(155),he=function(e){return"object"===typeof e&&null!==e&&"type"in e&&("string"===typeof e.type||void 0===e.type)&&"message"in e&&("string"===typeof e.type||void 0===e.type)},Oe=function(e){var t=[],n=[],a=[];return Object(fe.a)(["",e],{getNeighbors:function(e){var t=e[1];return he(t)?[]:Array.isArray(t)?t.map((function(e,t){return[t,e]})):"object"===typeof t&&null!==t?Object.entries(t):[]},enterVertex:function(e){var a=Object(o.a)(e.currentVertex,2),r=a[0],i=a[1];if(n.push(r),he(i)){var c=n.map((function(e){return"number"===typeof e?"[".concat(e,"]"):e.length>0?".".concat(e):""})).join("");if(i.types)for(var s=0,u=Object.entries(i.types);s<u.length;s++){var l=Object(o.a)(u[s],2)[1];"string"===typeof l&&t.push({dataPath:c,message:l})}else if(Object(K.isPresent)(i.message)){var d;t.push({dataPath:c,message:null!==(d=i.message)&&void 0!==d?d:""})}}},leaveVertex:function(){n.pop()},allowTraversal:function(e){var t=Object(o.a)(e.nextVertex,2)[1];return!a.includes(t)&&(a.push(t),!0)}}),t},xe=n(1260),me=n(507),ge=n.n(me),ye=n(1259),ke=n.n(ye),Ee=n(2825),Ce=n.n(Ee),Se=n(635),Te=n(3348),we=n(2823),Ne=n.n(we),Ae=n(2824),Re=n.n(Ae),Pe=n(1981),Ie=n.n(Pe),qe=n(1437),De=n.n(qe),Fe=n(496),He=n.n(Fe),Me=n(1092),Ve=n(520),_e=n.n(Ve),Be=n(427),Ue=n(484),We=Object(s.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(17)]).then(n.bind(null,3394))})),ze={position:"relative",fontSize:12,left:-10},Le=Object(u.a)((function(e){return Object(l.a)({root:{width:"100%",backgroundColor:e.palette.background.paper},item:{border:"2px solid ".concat(e.palette.common.action),borderRadius:2,paddingRight:96},divider:{height:5,background:"transparent"},inline:{display:"inline"},completed:Object(a.a)(Object(a.a)({},ze),{},{color:e.palette.success.main}),failed:Object(a.a)(Object(a.a)({},ze),{},{color:e.palette.error.main}),actionHeading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},summaryTextContainer:{width:"100%",height:"100%",display:"flex",paddingTop:5,overflow:"auto",marginRight:10}})})),Ge=U()({root:{minWidth:40}})(Te.a),Je=U()({root:{backgroundColor:"transparent",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{border:"1px solid rgba(0, 0, 0, .125)",margin:"auto"}},expanded:{}})(F.a),$e=U()({root:{marginBottom:-1,height:32,minHeight:32,papdding:0,"&$expanded":{borderBottom:"1px solid rgba(0, 0, 0, .125)",minHeight:56}},content:{margin:0,height:"100%",alignItems:"center",cursor:"initial","&$expanded":{margin:0}},expandIcon:{cursor:"pointer",paddingRight:"16px"},expanded:{}})(H.a),Ke=U()((function(e){return{root:{padding:e.spacing(2),flexDirection:"column"}}}))(M.a),Ye=function(e){var t=e.event,n=Le();return"pending"===t.status?Object(Q.v)(t.event)||Object(Q.y)(t.event)?Object(ee.jsx)(Ne.a,{}):Object(ee.jsx)(L.a,{}):Object(ee.jsxs)(ee.Fragment,{children:[Object(Q.v)(t.event)||Object(Q.y)(t.event)?Object(ee.jsx)(Re.a,{}):Object(ee.jsx)(L.a,{}),"completed"===t.status?Object(ee.jsx)(De.a,{className:n.completed}):Object(ee.jsx)(Ie.a,{className:n.failed})]})},Qe=function(e){var t=e.event,n=e.onClick,a=Le(),r=Object(w.a)().t;return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:a.summaryTextContainer,onClick:n,children:Object(ee.jsx)(h.a,{className:a.actionHeading,children:Object(Q.v)(t.event)?t.event.action:Object(Q.A)(t.event)?t.event.typeName:Object(Q.y)(t.event)?r("InitialState"):""})}),Object(Q.A)(t.event)&&Object(ee.jsx)(W.a,{label:t.event.taskTypeName,variant:"outlined",title:t.event.taskTypeName,style:{maxWidth:150,textOverflow:"ellipsis"}})]})},Xe=function(e){var t=e.existingEvents,n=e.value,a=e.onChange,r=Le(),i=Object(w.a)().t,c=Object(Ue.b)(),u=Object(s.useState)(-1),l=Object(o.a)(u,2),d=l[0],b=l[1],v=Object(s.useState)(),f=Object(o.a)(v,2),O=f[0],x=f[1],m=Object(D.b)(),g=m.deleteEvent,y=m.updateEventData,k=Object(s.useCallback)((function(e,t){null===a||void 0===a||a(t)}),[a]),E=Object(s.useCallback)((function(e,t){null===a||void 0===a||a(t),e.stopPropagation()}),[a]),C=Object(s.useCallback)((function(e,n){var a=t[n].event;x({index:n,event:Object(Be.a)(a)})}),[t]),S=Object(s.useCallback)((function(e,n){var a=t[n].event,r=Object(Q.v)(a)?a.action:Object(Q.A)(a)?a.typeName:"";c({description:Object(ee.jsx)(G.a,{children:i("ConfirmDeleteSimulationEvent",{name:r})}),mapCloseTo:"cancel",actions:[{type:"deleteAll",text:i("DeleteAll")},{type:"deleteCurrent",text:i("DeleteOnlyCurrent")},{type:"cancel",text:i("Cancel")}]}).then((function(e){g(n,{deleteFollowingEvents:"deleteAll"===e})}))}),[c,i,t,g]),T=Object(s.useCallback)((function(e,t){b(t?e:-1)}),[]),N=Object(s.useCallback)((function(){x(void 0)}),[x]),A=Object(s.useCallback)((function(e){O&&y(O.index,e)}),[y,O]);return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(R.a,{className:r.root,children:t.map((function(e,t){var a;return Object(ee.jsxs)(s.Fragment,{children:[Object(ee.jsxs)(P.a,{selected:n===t,onClick:function(e){return k(e,t)},className:r.item,children:[Object(ee.jsx)(Ge,{children:Object(ee.jsx)(Ye,{event:e})}),Object(ee.jsx)(I.a,{primary:Object(ee.jsxs)(Je,{expanded:d===t,onChange:function(e,n){return T(t,n)},children:[Object(ee.jsx)($e,{expandIcon:Object(ee.jsx)(_.a,{}),children:Object(ee.jsx)(Qe,{event:e,onClick:function(e){return E(e,t)}})}),Object(ee.jsxs)(Ke,{children:[Object(ee.jsx)(h.a,{variant:"body1",component:"div",children:"Payload"}),Object(ee.jsx)("div",{style:{width:"100%"},children:Object(ee.jsx)(Y.a,{data:null!==(a=e.event.payload)&&void 0!==a?a:{}})})]})]})}),Object(ee.jsxs)(Me.a,{children:[Object(ee.jsx)(j.a,{title:i("Edit"),children:Object(ee.jsx)("span",{children:Object(ee.jsx)(p.a,{"aria-label":"edit",disabled:Object(Q.y)(e.event),onClick:function(e){return C(e,t)},children:Object(ee.jsx)(_e.a,{})})})}),Object(ee.jsx)(j.a,{title:i("Delete"),children:Object(ee.jsx)(p.a,{edge:"end","aria-label":"delete",onClick:function(e){return S(e,t)},children:Object(ee.jsx)(He.a,{})})})]})]}),Object(ee.jsx)(q.a,{className:r.divider})]},t)}))}),!!O&&Object(ee.jsx)(s.Suspense,{fallback:null,children:Object(ee.jsx)(We,{event:O.event,open:!!O,onClose:N,onChange:A})})]})},Ze=Object(s.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(18)]).then(n.bind(null,3404))})),et=function(e){var t=e.existingEvents,n=e.currentEventIndex,a=e.onCurrentEventIndexChange,r=Object(w.a)().t,u=Object(Se.b)().enqueueSnackbar,l=Object(D.b)(),d=l.getState,b=l.executeNextPendingEvent,v=l.executeAllPendingEvents,f=l.updateSimulation,h=d(),O=h.simulation,x=h.contextType,m=Object(s.useState)(!1),g=Object(o.a)(m,2),y=g[0],k=g[1],E=Object(s.useCallback)((function(){k(!0)}),[k]),C=Object(s.useCallback)((function(){b().catch((function(e){u(r("ErrorSimulatingEvent",{error:e.toString()}),{variant:"error"})}))}),[b,u,r]),S=Object(s.useCallback)((function(){v().catch((function(e){u(r("ErrorSimulatingEvent",{error:e.toString()}),{variant:"error"})}))}),[v,u,r]),T=Object(s.useCallback)(function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f((function(e){e.pendingEvents.push(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f]),N=Object(s.useCallback)((function(){k(!1)}),[k]);return Object(ee.jsxs)(ue.a,{children:[Object(ee.jsx)(le.a,{title:r("Events"),actions:Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(j.a,{title:r("NewAction"),children:Object(ee.jsx)(p.a,{onClick:E,children:Object(ee.jsx)(ge.a,{})})}),Object(ee.jsx)(j.a,{title:r("DispatchNextPendingEvent"),children:Object(ee.jsx)("span",{children:Object(ee.jsx)(p.a,{onClick:C,disabled:0===O.pendingEvents.length,children:Object(ee.jsx)(ke.a,{})})})}),Object(ee.jsx)(j.a,{title:r("DispatchAllPendingEvents"),children:Object(ee.jsx)("span",{children:Object(ee.jsx)(p.a,{onClick:S,disabled:0===O.pendingEvents.length,edge:"end",children:Object(ee.jsx)(Ce.a,{})})})})]})}),Object(ee.jsx)(Xe,{existingEvents:t,value:n,onChange:a}),y&&Object(ee.jsx)(s.Suspense,{fallback:null,children:Object(ee.jsx)(Ze,{isInitialAction:0===O.pendingEvents.length&&0===O.history.length,contextType:x,open:!!y,onClose:N,onChange:T})})]})},tt=n(3319),nt=n(3369),at=n(2118),rt=n(2117),it=function(e){var t,n,a,r,i=e.simulation,c=e.contextType,o=e.currentEventIndex,s=Object(w.a)().t,u=i.history[o],l=null!==(t=null!==(n=null===u||void 0===u?void 0:u.context.state)&&void 0!==n?n:null===(a=Object(tt.a)(i.history))||void 0===a?void 0:a.context.state)&&void 0!==t?t:{},d=null!==(r=null===u||void 0===u?void 0:u.reachedMilestones)&&void 0!==r?r:[],b=Object(nt.a)((function(e,t){return e.name===t}),c.milestones,d).some((function(e){return e.final}));return Object(ee.jsxs)(ue.a,{children:[Object(ee.jsx)(le.a,{title:s("CurrentState"),actions:d.length>0&&Object(ee.jsx)(j.a,{title:d.join(", "),children:Object(ee.jsx)(p.a,{disableRipple:!0,children:b?Object(ee.jsx)(at.a,{}):Object(ee.jsx)(rt.a,{})})})}),l&&Object(ee.jsx)(Y.a,{data:l})]})},ct=n(2295),ot=n(3320),st=n(3336),ut=n(3326),lt=n(3325),dt=n(6),bt=n(130),jt=n(2142),vt=n(1249),pt=Object(u.a)((function(e){return Object(l.a)({paper:{backgroundColor:e.palette.background.default},content:{minWidth:"500px"}})})),ft=function(e){var t=e.open,n=e.defaultValue,a=e.onChange,r=e.onClose,u=Object(w.a)().t,l=pt(),d=Object(vt.b)().simulations_GetInfos,j=Object(s.useState)(),v=Object(o.a)(j,2),p=v[0],f=v[1],h=Object(s.useState)(n),O=Object(o.a)(h,2),x=O[0],m=O[1],g=Object(s.useMemo)((function(){var e;return null===(e=jt.a.fields)||void 0===e?void 0:e.name.concat(dt.m().required().test({message:function(e){var t=e.value;return u("ContextSimulationNameAlreadyExists",{name:t})},test:function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return n=e.sent,e.abrupt("return",0===n.length||n.every((function(e){return e.name!==t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))}),[d,u]),y=Object(s.useCallback)(Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(bt.b)(g,x);case 2:if(!((t=e.sent).length>0)){e.next=6;break}return f(t[0].message),e.abrupt("return");case 6:x&&(a(x),r());case 7:case"end":return e.stop()}}),e)}))),[x,a,r,g]),k=Object(s.useCallback)(function(){var e=Object(c.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"backdropClick"!==n&&(null===r||void 0===r||r());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[r]);return Object(ee.jsxs)(ot.a,{open:t,onClose:k,fullWidth:!0,maxWidth:"md",classes:{paper:l.paper},children:[Object(ee.jsx)(lt.a,{children:u("SaveAs")}),Object(ee.jsx)(ut.a,{className:l.content,children:Object(ee.jsx)(b.a,{type:"text",defaultValue:x,onChange:function(e){return m(e.target.value)},label:u("NewName"),fullWidth:!0,required:!0,error:!!p,helperText:p})}),Object(ee.jsxs)(st.a,{children:[Object(ee.jsx)(ct.a,{onClick:y,color:"primary",children:u("Accept")}),Object(ee.jsx)(ct.a,{onClick:r,color:"primary",children:u("Cancel")})]})]})},ht=n(546),Ot=Object(u.a)((function(e){return Object(l.a)({toolbar:{minHeight:"48px",paddingLeft:0},fileInput:{opacity:0,position:"absolute",top:0,left:0,right:0,bottom:0},grow:{flexGrow:1},toggleButton:{border:"none",borderRadius:"50%"},console:{maxHeight:"200px",overflow:"auto"},saveAsEllipsis:{position:"absolute",left:17,bottom:4,fontWeight:"bold"}})})),xt=function(){var e=Object(N.h)(),t=Object(w.a)().t,n=Object(s.useCallback)((function(){e(-1)}),[e]);return Object(ee.jsx)(j.a,{title:t("GoBack"),children:Object(ee.jsx)(p.a,{onClick:n,children:Object(ee.jsx)(x.a,{})})})},mt=function(e){var t=e.simulation,n=e.contextType,a=Object(w.a)().t,r=Object(s.useCallback)((function(){Object(de.a)(Object(be.a)(t,n),"".concat(n.name,".simulation-state.json"))}),[t,n]);return Object(ee.jsx)(j.a,{title:a("DownloadSimulation"),children:Object(ee.jsx)(p.a,{onClick:r,children:Object(ee.jsx)(C.a,{})})})},gt=function(e){var t=e.simulation,n=e.onSaveChanges,a=Object(w.a)().t,r=Object(xe.a)(),u=Object(s.useState)(!0),l=Object(o.a)(u,2),d=l[0],b=l[1],v=Object(pe.a)(),f=v.canUpdateSimulations,h=v.canInsertSimulations,O=t.id?f():h(),x=Object(A.a)(Object(s.useCallback)(Object(c.a)(i.a.mark((function e(){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return b(!1),e.prev=3,e.next=6,n(t);case 6:c=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),c=[{message:e.t0.toString()}];case 12:return e.prev=12,b(!0),e.finish(12);case 15:if(!(c&&c.length>0)){e.next=18;break}return e.next=18,r(c,{title:a("ErrorSavingContextSimulation")});case 18:case"end":return e.stop()}}),e,null,[[3,9,12,15]])}))),[n,r,a,t]));return Object(ee.jsx)(j.a,{title:a("SaveChanges"),children:Object(ee.jsx)(p.a,{onClick:x,disabled:!O||!d,children:Object(ee.jsx)(g.a,{})})})},yt=function(e){var t=e.name,n=e.canSave,a=e.onSaveAs,r=Object(w.a)().t,u=Ot(),l=Object(Ue.b)(),d=Object(D.b)().validate,b=Object(pe.a)().canInsertSimulations,v=Object(s.useState)(!1),f=Object(o.a)(v,2),O=f[0],x=f[1],m=Object(s.useCallback)(Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:if(t=e.sent,!(Object.keys(t).length>0)){e.next=8;break}return n=Oe(t),e.next=7,l({title:r("ErrorSavingContextSimulation"),description:Object(ee.jsx)(ht.a,{error:n}),mapCloseTo:"ok",actions:[{type:"ok",text:r("Ok")}]});case 7:return e.abrupt("return");case 8:x(!0);case 9:case"end":return e.stop()}}),e)}))),[l,r,d]),y=Object(s.useCallback)((function(e){null===a||void 0===a||a(e)}),[a]),k=Object(s.useCallback)((function(){x(!1)}),[]);return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(j.a,{title:r("SaveAs"),children:Object(ee.jsxs)(p.a,{onClick:m,disabled:!n||!b(),children:[Object(ee.jsx)(g.a,{}),Object(ee.jsx)(h.a,{className:u.saveAsEllipsis,children:"..."})]})}),O&&Object(ee.jsx)(ft,{open:O,defaultValue:t,onChange:y,onClose:k})]})},kt=function(e){var t,n,r,u,l,O=e.onSaveChanges,x=e.onSaveAs,m=Ot(),g=Object(w.a)().t,y=Object(D.b)(),E=y.getState,C=y.resetSimulation,S=y.updateSimulation,N=y.validate,A=y.errors,R=y.options,P=y.setOptions,I=E(),q=I.simulation,F=I.contextType,H=Object(s.useMemo)((function(){return q?function(e){var t=e.history.map((function(e){return{event:e.event,status:e.errors&&0!==e.errors.length?"failed":"completed"}})),n=e.pendingEvents.map((function(e){return{event:e,status:"pending"}}));return[].concat(Object(je.a)(t),Object(je.a)(n))}(q):[]}),[q]),M=Object(s.useState)((function(){var e=H.findIndex((function(e){return"pending"===e.status}));return-1===e&&(e=H.length),Math.max(0,e-1)})),V=Object(o.a)(M,2),_=V[0],B=V[1],U=Object(s.useCallback)((function(){P(Object(a.a)(Object(a.a)({},R),{},{shouldExecuteAllPendingEvents:!R.shouldExecuteAllPendingEvents}))}),[R,P]),W=Object(s.useCallback)((function(e){S((function(t){t.name=e.target.value}))}),[S]),z=Object(s.useCallback)((function(e){S((function(t){t.description=e.target.value}))}),[S]),L=Object(s.useCallback)(function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:if(a=e.sent,!(Object.keys(a).length>0)){e.next=5;break}return e.abrupt("return",Oe(a));case 5:return e.abrupt("return",null!==(n=null===O||void 0===O?void 0:O(t))&&void 0!==n?n:[]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[O,N]),G=Object(s.useCallback)(function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:if(n=e.sent,!(Object.keys(n).length>0)){e.next=5;break}return e.abrupt("return",Oe(n));case 5:null===x||void 0===x||x(q,t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x,q,N]),J=q.history[_];return Object(ee.jsxs)(d.a,{container:!0,spacing:3,children:[Object(ee.jsx)(d.a,{item:!0,xs:12,style:{padding:0},children:Object(ee.jsxs)(v.a,{className:m.toolbar,children:[Object(ee.jsx)(xt,{}),Object(ee.jsx)(gt,{simulation:q,onSaveChanges:L}),Object(ee.jsx)(yt,{name:null!==(t=q.name)&&void 0!==t?t:"",canSave:!0,onSaveAs:G}),Object(ee.jsx)(mt,{simulation:q,contextType:F}),Object(ee.jsx)(j.a,{title:g("ResetSimulationHistory"),children:Object(ee.jsx)("span",{children:Object(ee.jsx)(p.a,{onClick:C,disabled:0===q.history.length,children:Object(ee.jsx)(k.a,{})})})}),Object(ee.jsx)(j.a,{title:g("ExecuteAllPendingEventsAfterEveryUpdate"),children:Object(ee.jsx)(f.a,{value:"executeAllPendingEventsAfterEveryUpdate",selected:null===R||void 0===R?void 0:R.shouldExecuteAllPendingEvents,onClick:U,classes:{root:m.toggleButton},children:Object(ee.jsx)(T.a,{})})}),Object(ee.jsx)("div",{className:m.grow}),Object(ee.jsx)(h.a,{variant:"body1",noWrap:!0,children:g("SimulationContextTypeHeader",{name:F.name})})]})}),Object(ee.jsx)(d.a,{item:!0,xs:6,children:Object(ee.jsx)(b.a,{label:g("Name"),value:null!==(n=q.name)&&void 0!==n?n:"",onChange:W,fullWidth:!0,error:!!A.name,helperText:null===(r=A.name)||void 0===r?void 0:r.message})}),Object(ee.jsx)(d.a,{item:!0,xs:6}),Object(ee.jsx)(d.a,{item:!0,xs:12,children:Object(ee.jsx)(b.a,{label:g("Description"),value:null!==(u=q.description)&&void 0!==u?u:"",onChange:z,multiline:!0,fullWidth:!0,maxRows:4,error:!!A.description,helperText:null===(l=A.description)||void 0===l?void 0:l.message})}),Object(ee.jsx)(d.a,{item:!0,xs:4,children:Object(ee.jsx)(et,{existingEvents:H,currentEventIndex:_,onCurrentEventIndexChange:B})}),Object(ee.jsx)(d.a,{item:!0,xs:4,children:Object(ee.jsxs)(d.a,{container:!0,spacing:3,children:[Object(ee.jsx)(d.a,{item:!0,xs:12,children:Object(ee.jsx)(it,{simulation:q,contextType:F,currentEventIndex:_})}),(null===J||void 0===J?void 0:J.errors)&&J.errors.length>0&&Object(ee.jsx)(d.a,{item:!0,xs:12,children:Object(ee.jsxs)(ue.a,{children:[Object(ee.jsx)(le.a,{title:g("Errors")}),Object(ee.jsx)("div",{style:{overflow:"auto",maxHeight:"50vh"},children:J.errors.map((function(e,t){return Object(ee.jsx)("div",{children:e},t)}))})]})})]})}),Object(ee.jsx)(d.a,{item:!0,xs:4,children:Object(ee.jsxs)(ue.a,{children:[Object(ee.jsx)(le.a,{title:g("Tasks")}),J&&Object(ee.jsx)(se,{stateIndex:_})]})}),!!(null===J||void 0===J?void 0:J.consoleEntries)&&J.consoleEntries.length>0&&Object(ee.jsx)(d.a,{item:!0,xs:12,children:Object(ee.jsxs)(ue.a,{children:[Object(ee.jsx)(le.a,{title:g("Console")}),Object(ee.jsx)("div",{className:m.console,children:Object(ee.jsx)(ve.a,{entries:J.consoleEntries})})]})})]})}},2117:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(3),r=n(3314),i=n(129),c=function(e){return Object(i.jsx)(r.a,Object(a.a)(Object(a.a)({viewBox:"0 0 24 24"},e),{},{children:Object(i.jsx)("path",{d:"M19,14V4H6V3H5v18H4v1h3v-1H6v-7H19z M6,5h12v8H6V5z M14.6569214,6.5l0.7070312,0.7071533l-4.2426147,4.2426758   L9,9.3284912l0.7070923-0.7070923l1.4143066,1.4142456L14.6569214,6.5z"})}))}},2118:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(3),r=n(3314),i=n(129),c=function(e){return Object(i.jsx)(r.a,Object(a.a)(Object(a.a)({viewBox:"0 0 24 24"},e),{},{children:Object(i.jsxs)("g",{children:[Object(i.jsx)("path",{d:"M15,6V4H6V3H5v19h1v-8h5v2h8V6H15z M18,11h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v-2H8v2H6v-2h2V9H6V7h2V5h2v2h2V5h2v2h2v2h2V11z"}),Object(i.jsx)("rect",{x:"8",y:"7",width:"2",height:"2"}),Object(i.jsx)("rect",{x:"10",y:"9",width:"2",height:"2"}),Object(i.jsx)("rect",{x:"12",y:"7",width:"2",height:"2"}),Object(i.jsx)("rect",{x:"12",y:"11",width:"2",height:"2"}),Object(i.jsx)("rect",{x:"14",y:"9",width:"2",height:"2"})]})}))}},2140:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(3),r=n(427),i=function(e,t,n){var i=Object(r.a)(e);delete i.id,!0!==(null===n||void 0===n?void 0:n.inlineContextType)?(i.contextTypeName=t.name,delete i.contextType):!0===(null===n||void 0===n?void 0:n.inlineContextType)&&!i.contextType&&i.contextTypeName&&(i.contextType=t,delete i.contextTypeName),(null===n||void 0===n?void 0:n.exportOnlyActions)&&(i.pendingEvents=i.history.map((function(e){return e.event})),delete i.history);var c={$schema:"http://nimflow.com/schemas/simulation-state.schema.json"};return i.contextTypeName&&(c.contextTypeName=i.contextTypeName),Object(a.a)(Object(a.a)({},c),i)}},2142:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return S}));var a=n(1),r=n(14),i=n(6),c=n(18),o=n(49),s=n(244),u=n(840),l=n(29),d=n(792),b=n(540),j=n(944),v="contextTypeKey",p=i.k().shape({action:i.m().required(),reference:i.m(),payload:Object(u.a)(i.m().required(),i.i())}),f=i.k().shape({taskTypeName:i.m().required(),typeName:i.m().required(),payload:Object(u.a)(i.m().required(),i.i())}),h=i.k().shape({reference:i.m(),initialState:Object(u.a)(i.m().required(),i.i()).required(),payload:Object(u.a)(i.m().required(),i.i())}),O=i.h((function(e){return Object(b.v)(e)?p.required():Object(b.y)(e)?h.required():f.required()})),x=i.k().shape({id:i.m().required(),contextId:i.m().required(),contextTypeName:i.m().required(),contextReference:i.m(),typeName:i.m().required(),title:i.m(),data:Object(u.a)(i.m().required(),i.i()),labels:i.e().of(i.m().required()),dateCreated:i.m().iso8601Formatted(),dateUpdated:i.m().iso8601Formatted(),assignedTo:i.m(),status:i.m(),archived:i.f(),dueDate:i.m().iso8601Formatted(),importance:i.i().oneOf(Object.values(d.c).filter((function(e){return"number"===typeof e}))),focused:i.g().required()}),m=i.k().shape({name:i.m(),lastReached:i.m()}),g=i.k().shape({name:i.m(),value:i.m()}),y=i.k().shape({name:i.m(),value:i.j()}),k=i.k().shape({id:i.m(),name:i.m(),typeName:i.m().required(),reference:i.m().required(),state:Object(u.a)(i.m().required(),i.i()),dateCreated:i.m().iso8601Formatted(),dateModified:i.m().iso8601Formatted(),version:i.m(),contextTypeVersion:i.j(),milestones:i.e().of(m),tags:i.e().of(g),metrics:i.e().of(y)}),E=i.k().shape({type:i.m().required(),values:i.e()}),C=i.k().shape({event:O,context:k.required(),tasks:i.e().of(x.required()).defined(),reachedMilestones:i.e().of(i.m().required()),errors:i.e().of(i.m().required()),consoleEntries:i.e().of(E.required())}),S=i.k().shape({id:i.m(),name:i.m().required().identifier(),description:i.m(),contextTypeName:i.m(),contextType:i.i(),history:i.e().of(C.required()),initialState:i.i(),pendingEvents:i.e().of(O).test({message:"ReferenceUnique",test:function(e){var t=null===e||void 0===e?void 0:e.filter(b.v);if(!t||0===t.length)return!0;var n=Object(s.a)(t.map((function(e){return e.reference})).filter(o.isPresent));return 0===n.length?this.createError({path:"pendingEvents",message:c.a.t("ReferenceFieldIsNotDefined")}):1===n.length||this.createError({path:"pendingEvents",message:c.a.t("ReferenceUnique")})}})}).test({message:"PendingActionNamesValid",test:function(e){var t,n=e,a=null===(t=this.options.context)||void 0===t?void 0:t[v];if(!a)return!0;var r=a.actions.map((function(e){return e.name})),i=n.pendingEvents.filter(b.v).map((function(e){return e.action})).filter((function(e){return!r.includes(e)}));return!(i.length>0)||this.createError({path:"pendingEvents",message:c.a.t("InvalidActionNames",{actionNames:i.join(", ")})})}}).test({message:"PendingResponseNamesValid",test:function(e){var t,n=e,a=null===(t=this.options.context)||void 0===t?void 0:t[v];if(!a)return!0;var r=a.tasks.flatMap((function(e){return e.validResponses.map((function(t){return e.name+"."+t.name}))})),i=n.pendingEvents.filter(b.A).map((function(e){return e.taskTypeName+"."+e.typeName})).filter((function(e){return!r.includes(e)}));return!(i.length>0)||this.createError({path:"pendingEvents",message:c.a.t("InvalidResponseNames",{responseNames:i.join(", ")})})}}).test({message:function(){return c.a.t("InitialPendingEventMustBeAnInitialActionWithReference")},test:function(e){var t,n=e,a=null===(t=this.options.context)||void 0===t?void 0:t[v];if(!a)return!0;if(n.history&&n.history.length>0||0===n.pendingEvents.length)return!0;var r=n.pendingEvents[0];return!!(Object(b.v)(r)&&Object(o.isPresent)(r.reference)&&a.initialActions.includes(r.action))||this.createError({path:"pendingEvents[0]",message:c.a.t("InitialPendingEventMustBeAnInitialActionWithReference")})}}).test({message:function(){return c.a.t("SimulationStateMustProvideEitherHistoryOrPendingInitialAction")},test:function(e){var t=e;return!!(t.history.length>0||t.pendingEvents.length>0&&(Object(b.v)(t.pendingEvents[0])||Object(b.y)(t.pendingEvents[0])))||this.createError({path:"pendingEvents",message:c.a.t("SimulationStateMustProvideEitherHistoryOrPendingInitialAction")})}}).test({message:"EventPayloadsAreValid",test:function(e){var t,n=this,i=e;if(0===i.pendingEvents.length)return!0;var c=null===(t=this.options.context)||void 0===t?void 0:t[v];if(!c||!c.jsonSchema)return!0;var o=JSON.parse(c.jsonSchema),s=[];if(i.pendingEvents.forEach((function(e,t){var i=function(e,t){if(Object(b.v)(e)){var n=t.actions.find((function(t){return t.name===e.action}));return null===n||void 0===n?void 0:n.payloadSchemaDefinitionName}if(Object(b.A)(e)){var a,r=null===(a=t.tasks.find((function(t){return t.name===e.taskTypeName})))||void 0===a?void 0:a.validResponses.find((function(t){return t.name===e.typeName}));return null===r||void 0===r?void 0:r.payloadSchemaDefinitionName}return}(e,c);if(i){var u=Object(j.a)(o,i);if(u){var d=Object(l.d)(u,e.payload);Object(l.b)(d)&&s.push.apply(s,Object(r.a)(d.errors.map((function(e){var r=Object.entries(e.params).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return"".concat(n,": ").concat(r)})).join("; ");return n.createError({path:"pendingEvents[".concat(t,"].payload").concat(e.instancePath),message:"".concat(e.message," (").concat(r,")")})}))))}}})),s.length>0){var u=this.createError({});return u.inner=s,u}return!0}}).atLeastOneRequired(["contextTypeName","contextType"])},659:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c}));var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.json",n=JSON.stringify(e,void 0,4);r(n,t,"application/json")},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.txt",n=arguments.length>2?arguments[2]:void 0,a=new Blob([e]);i(a,t,n)},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.txt",n=arguments.length>2?arguments[2]:void 0;if("msSaveBlob"in navigator)navigator.msSaveBlob(e,t);else{var a=URL.createObjectURL(e),r=document.createElement("a");r.href=a,r.download=t,n&&(r.type=n),document.body.appendChild(r);try{r.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}finally{document.body.removeChild(r),setTimeout((function(){return URL.revokeObjectURL(r.href)}),0)}}},c=function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(e){var a,r=null===(a=e.target)||void 0===a?void 0:a.result;if("string"===typeof r){var i=JSON.parse(r);t(i)}n("Invalid data type in blob ".concat(typeof r))},a.onerror=function(e){n("Error reading blob")},a.readAsText(e)}))}},840:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(3),r=n(1),i=n(2),c=n(8),o=n(19),s=n(13),u=n(16),l=n(17),d=n(6),b=n(916),j=n.n(b);function v(e,t){return new p(e,t)}var p=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.m(),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.i();return Object(i.a)(this,n),(e=t.call(this,{type:"map"})).key=a,e.value=r,e}return Object(c.a)(n,[{key:"_typeCheck",value:function(e){return e&&"object"===typeof e}},{key:"_cast",value:function(e,t){var a=this,i=Object(o.a)(Object(s.a)(n.prototype),"_cast",this).call(this,e,t),c={};return Object.entries(i).forEach((function(e){var t=Object(r.a)(e,2),n=t[0],i=t[1];c[a.key.cast(n)]=a.value.cast(i)})),c}},{key:"_validate",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2?arguments[2]:void 0,u=[],l=i.abortEarly,b=i.sync,v=i.path,p=void 0===v?"":v,f=null!=i.originalValue?i.originalValue:e,h=this.key,O=this.value;Object(o.a)(Object(s.a)(n.prototype),"_validate",this).call(this,e,i,(function(e,n){var o;if(e){if(!d.c.isError(e)||l)return c(e,n);u.push(e)}if(!t._typeCheck(n))return u.length&&c(u[0]),void c(null,n);f=null!==(o=f)&&void 0!==o?o:n;for(var s=[],v=function(){var e=Object(r.a)(m[x],2),t=e[0],c=e[1],o=Object(a.a)(Object(a.a)({},i),{},{strict:!0,parent:n,path:p?"".concat(p,".").concat(t):t,originalValue:f[t]});s.push((function(e,n){h.validate(t,o).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))})),s.push((function(e,t){O.validate(c,o).then((function(e){return t(null,e)})).catch((function(e){return t(e)}))}))},x=0,m=Object.entries(n);x<m.length;x++)v();return j()({sync:b,path:p,value:n,errors:u,tests:s,endEarly:l},c)}))}},{key:"clone",value:function(e){var t,a,r=Object(o.a)(Object(s.a)(n.prototype),"clone",this).call(this,e);return r.key=null===(t=this.key)||void 0===t?void 0:t.clone(),r.value=null===(a=this.value)||void 0===a?void 0:a.clone(),r}}]),n}(d.a);function f(e,t){return v(e,t)}v.prototype=p.prototype},841:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(3),r=n(18),i=n(1033),c=n.n(i),o=n(1251);c.a.registerHelper("translate",(function(e,t){var n={ns:o.b};return"object"===typeof t&&"hash"in t&&(n=Object(a.a)(Object(a.a)({},n),t.hash)),r.a.t(e,n)}));var s=function(e,t,n,a){return function(e,t){return c.a.compile(e,t)}(e,n)(t,a)}},906:function(e,t,n){"use strict";var a=n(3),r=(n(9),n(974)),i=n.n(r),c=n(590),o=n(129),s={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"};t.a=function(e){var t=Object(c.a)(),n=Object(a.a)({theme:s,hideRoot:!0,invertTheme:"light"===t.palette.type},e);return Object(o.jsx)(i.a,Object(a.a)({},n))}},944:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(3),r=n(49),i=n(427),c=function(e,t){var n,c=null===(n=e.definitions)||void 0===n?void 0:n[t];if(!Object(r.isPresent)(c))throw new Error("Invalid definition ".concat(t));if("boolean"===typeof c)throw new Error("Invalid definition ".concat(t));var o=Object(i.a)(c);return delete o.definitions,e=Object(a.a)(Object(a.a)({},e),o)},o=function(e,t,n){if(e.jsonSchema){var a=JSON.parse(e.jsonSchema),r=e.tasks.find((function(e){return e.name===t})),i=null===r||void 0===r?void 0:r.validResponses.find((function(e){return e.name===n})),o=null===i||void 0===i?void 0:i.payloadSchemaDefinitionName;if(o)return c(a,o)}},s=function(e,t){if(e.jsonSchema){var n=JSON.parse(e.jsonSchema),a=e.actions.find((function(e){return e.name===t})),r=null===a||void 0===a?void 0:a.payloadSchemaDefinitionName;if(r)return c(n,r)}}}}]);
//# sourceMappingURL=10.74ff646d.chunk.js.map