(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[60],{1048:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(7),r=n(73),i=n(2216),c=n(136),o=["children"],l=function(e){var t=e.children,n=Object(r.a)(e,o);return Object(c.jsx)(i.a,Object(a.a)(Object(a.a)({variant:"h5"},n),{},{children:t}))}},1100:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(15),r=n(24),i=n(6),c=n.n(i),o=n(2139),l=n(3094),u=n(2140),s=n(2141),d=n(2142),b=n(2143),f=n(1549),j=n(51),O=n(862),p=function(e,t){var n,a=null!==(n=e.getValue())&&void 0!==n?n:[],r=null!==a&&void 0!==a?a:[],i=t(r);r!==i&&e.setValue(i,{shouldDirty:!0})},v=function(e){var t,n=e.control,v=e.name,m=(e.keyName,e.defaultValue),h=n.register,g=n.unregister,y=n.fieldsRef,x=n.setValue,C=n.updateFormState,k=n.readFormStateRef,D=n.fieldArrayNamesRef,A=n.shallowFieldsStateRef,I=n.defaultValuesRef,S=n.validateResolver,w=c.a.useMemo((function(){return{getValue:function(){var e,t=null===(e=y.current)||void 0===e?void 0:e[v];if(t)return t.ref.value},setValue:function(e,t){x(v,e,t),k.current.isValid&&S&&S(Object(r.a)({},v,e)),C()}}}),[y,x,v,k,S,C]),R=Object(i.useCallback)((function(){var e,t=!Object(O.d)(D.current,v);return Object(j.isPresent)(A.current[v])&&t?A.current[v]:null!==(e=null!==m&&void 0!==m?m:Object(O.b)(I.current,v))&&void 0!==e?e:[]}),[v,D,A,I,m]),N=null!==(t=w.getValue())&&void 0!==t?t:R(),P=Object(i.useCallback)((function(){if(h({name:v,type:"array-field"}),!w.getValue()){var e=R();w.setValue(e)}return C(),function(){return g(v)}}),[h,g,C,w,v,R]);return c.a.useEffect((function(){P()}),[P]),c.a.useEffect((function(){y.current[v]||P()})),{fields:N,swap:c.a.useCallback((function(e,t){p(w,(function(n){if(n.length<=1)return n;var a=n[e],r=n[t];return n.map((function(n,i){return i===e?r:i===t?a:n}))}))}),[w]),move:c.a.useCallback((function(e,t){p(w,(function(n){return n.length<=1?n:Object(o.a)(e,t,n)}))}),[w]),prepend:c.a.useCallback((function(e){p(w,(function(t){return Array.isArray(e)?Object(l.a)(e,t):Object(u.a)(e,t)}))}),[w]),append:c.a.useCallback((function(e){p(w,(function(t){return Array.isArray(e)?Object(l.a)(t,e):Object(s.a)(e,t)}))}),[w]),remove:c.a.useCallback((function(e){p(w,(function(t){if(0===t.length)return t;if(!Object(j.isDefined)(e))return[];if(t){for(var n=[],a=Array.isArray(e)?e:[e],r=0;r<t.length;r++)a.includes(r)||n.push(t[r]);return n}return t}))}),[w]),insert:c.a.useCallback((function(e,t){p(w,(function(n){return Array.isArray(t)?Object(d.a)(e,t,n):Object(b.a)(e,t,n)}))}),[w]),setAt:c.a.useCallback((function(e,t){p(w,(function(n){if(Array.isArray(t)){var r=Object(a.a)(n);return r.splice.apply(r,[e,t.length].concat(Object(a.a)(t))),r}return Object(f.a)(e,t,n)}))}),[w])}}},1549:function(e,t,n){"use strict";var a=n(75),r=n(956),i=Object(a.a)((function(e,t,n){if(e>=n.length||e<-n.length)return n;var a=(e<0?n.length:0)+e,i=Object(r.a)(n);return i[a]=t(n[a]),i})),c=n(165),o=Object(a.a)((function(e,t,n){return i(e,Object(c.a)(t),n)}));t.a=o},2139:function(e,t,n){"use strict";var a=n(75),r=Object(a.a)((function(e,t,n){var a=n.length,r=n.slice(),i=e<0?a+e:e,c=t<0?a+t:t,o=r.splice(i,1);return i<0||i>=n.length||c<0||c>=n.length?n:[].concat(r.slice(0,c)).concat(o).concat(r.slice(c,n.length))}));t.a=r},2140:function(e,t,n){"use strict";var a=n(956),r=n(14),i=Object(r.a)((function(e,t){return Object(a.a)([e],t)}));t.a=i},2141:function(e,t,n){"use strict";var a=n(956),r=n(14),i=Object(r.a)((function(e,t){return Object(a.a)(t,[e])}));t.a=i},2142:function(e,t,n){"use strict";var a=n(75),r=Object(a.a)((function(e,t,n){return e=e<n.length&&e>=0?e:n.length,[].concat(Array.prototype.slice.call(n,0,e),t,Array.prototype.slice.call(n,e))}));t.a=r},2143:function(e,t,n){"use strict";var a=n(75),r=Object(a.a)((function(e,t,n){e=e<n.length&&e>=0?e:n.length;var a=Array.prototype.slice.call(n,0);return a.splice(e,0,t),a}));t.a=r},2186:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var a=n(7),r=n(73),i=n(6),c=n(74),o=n.n(c),l=n(2228),u=n(3176),s=n(3177),d=n(1054);function b(e){var t,n,a=function(e){var t=document.createElement("div");return t.setAttribute("id",e),t}(e);return document.body.insertBefore(a,null!==(t=null===(n=document.body.lastElementChild)||void 0===n?void 0:n.nextElementSibling)&&void 0!==t?t:null),a}var f=function(e){var t=Object(i.useMemo)((function(){return document.createElement("div")}),[]);return Object(i.useEffect)((function(){var n=document.querySelector("#".concat(e)),a=n instanceof HTMLElement?n:b(e);return a.appendChild(t),function(){t.remove(),a.childNodes.length<=0&&a.remove()}}),[t,e]),t},j=n(136),O=["provided","children"],p=["index","draggableId","isDragDisabled","disableInteractiveElementBlocking","shouldRespectForcePress","beforeItem","afterItem","children"],v=["onItemReorder","droppableId","type","mode","isDropDisabled","isCombineEnabled","direction","ignoreContainerClipping","renderClone","getContainerForClone","children"],m=function(e){var t=e.provided,n=e.children,i=Object(r.a)(e,O),c=f("OrderableListItemPortal"),l=Object(j.jsx)("div",Object(a.a)(Object(a.a)({ref:t.innerRef},t.draggableProps),{},{children:Object(j.jsx)(s.a,Object(a.a)(Object(a.a)(Object(a.a)({},t.dragHandleProps),i),{},{children:n}))}));return o.a.createPortal(l,c)},h=function(e){var t=e.index,n=e.draggableId,c=e.isDragDisabled,o=e.disableInteractiveElementBlocking,u=e.shouldRespectForcePress,b=e.beforeItem,f=e.afterItem,O=e.children,v=Object(r.a)(e,p),h={draggableId:Object(i.useMemo)((function(){return null!==n&&void 0!==n?n:Object(l.a)()}),[n]),index:t,isDragDisabled:c,disableInteractiveElementBlocking:o,shouldRespectForcePress:u};return Object(j.jsx)(d.Draggable,Object(a.a)(Object(a.a)({},h),{},{children:function(e,t){return Object(j.jsxs)(j.Fragment,{children:[b,!t.isDragging&&Object(j.jsx)(s.a,Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},e.draggableProps),e.dragHandleProps),v),{},{ref:e.innerRef,children:O})),t.isDragging&&Object(j.jsx)(m,Object(a.a)(Object(a.a)({provided:e},v),{},{children:O})),f]})}}))},g=function(e){var t=e.onItemReorder,n=e.droppableId,c=e.type,o=e.mode,s=e.isDropDisabled,b=e.isCombineEnabled,f=e.direction,O=e.ignoreContainerClipping,p=e.renderClone,m=e.getContainerForClone,h=e.children,g=Object(r.a)(e,v),y=Object(i.useCallback)((function(e){e.destination&&(null===t||void 0===t||t(e.source.index,e.destination.index))}),[t]),x={droppableId:Object(i.useMemo)((function(){return null!==n&&void 0!==n?n:Object(l.a)()}),[n]),type:c,mode:o,isDropDisabled:s,isCombineEnabled:b,direction:f,ignoreContainerClipping:O,renderClone:p,getContainerForClone:m};return Object(j.jsx)(d.DragDropContext,{onDragEnd:y,children:Object(j.jsx)(d.Droppable,Object(a.a)(Object(a.a)({},x),{},{children:function(e,t){return Object(j.jsxs)(u.a,Object(a.a)(Object(a.a)({},g),{},{ref:e.innerRef,children:[h,e.placeholder]}))}}))})}},2962:function(e,t,n){"use strict";n.r(t),n.d(t,"ActionTypesEditor",(function(){return W}));var a=n(22),r=n(3),i=n(8),c=n.n(i),o=n(6),l=n(2491),u=n(3145),s=n(3095),d=n(2242),b=n(2216),f=n(536),j=n.n(f),O=n(523),p=n.n(O),v=n(518),m=n.n(v),h=n(3092),g=n(3186),y=n(2215),x=n(3188),C=n(2240),k=n(2963),D=n.n(k),A=n(3161),I=n(51),S=n(568),w=n(444),R=n(1100),N=n(2186),P=n(763),E=n(810),M=n(713),V=n(499),T=n(701),F=n(1072),z=n(136),B=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(47)]).then(n.bind(null,2174))})),J=Object(u.a)((function(e){return Object(l.a)({root:{width:"100%",backgroundColor:e.palette.background.paper},item:{border:"2px solid ".concat(e.palette.common.action),borderRadius:2},divider:{height:5,background:"transparent"},inline:{display:"inline"},actionHeading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},summaryTextContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center"},initialAction:{border:"none",borderRadius:"50%","&.Mui-selected":{color:e.palette.primary.main,backgroundColor:"inherit"}}})})),W=function(e){var t=e.onSelectionChanged,n=e.onDialogVisibilityChanged,i=J(),l=Object(A.a)().t,u=Object(o.useState)(),f=Object(r.a)(u,2),O=f[0],v=f[1],k=Object(o.useState)(),W=Object(r.a)(k,2),H=W[0],_=W[1],L=Object(S.f)(),q=L.errors,G=L.control,K=Object(R.a)({name:"actions",control:G}),Q=K.fields,U=K.append,X=K.remove,Y=K.setAt,Z=K.move,$=Object(R.a)({name:"initialActions",control:G}),ee=$.fields,te=$.append,ne=$.remove,ae=Object(V.c)(),re=Object(F.e)().removeInvalidTaggings,ie=Object(T.b)(),ce=ie.getJsonSchemaDefinition,oe=ie.setJsonSchemaDefinition,le=ie.updateActionJsonSchemaDefinition,ue=Object(o.useCallback)((function(){_({actionType:{name:"",jsSetters:{},validators:[]}}),null===n||void 0===n||n(!0)}),[_,n]),se=Object(o.useCallback)(function(){var e=Object(a.a)(c.a.mark((function e(n){var a,r,i,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null===(a=Q[n])||void 0===a?void 0:a.name,e.next=3,ae({description:l("ConfirmDeleteActionType",{name:i})});case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:i&&(o=ee.indexOf(i))>=0&&ne(o),(u=null===(r=Q[n])||void 0===r?void 0:r.payloadSchemaDefinitionName)&&oe(u,void 0),X(n),re(),O===n&&(null===t||void 0===t||t(null===(s=Q[n])||void 0===s?void 0:s.name));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Q,ae,l,X,re,O,ee,ne,oe,t]),de=Object(o.useMemo)((function(){if(H){var e=H.actionType.payloadSchemaDefinitionName;if(e)return ce(e)}}),[H,ce]),be=Object(o.useCallback)((function(e,t){if(H){var n=H.index;if(Object(I.isDefined)(n)){var a,r=null===(a=Q[n])||void 0===a?void 0:a.name;if(r!==e.name&&r){var i=ee.indexOf(r);i>=0&&(ne(i),te(e.name))}if(!e.payloadSchemaDefinitionName){var c=Q[n].payloadSchemaDefinitionName;c&&oe(c,void 0)}Y(n,e),re()}else U(e);le(e,t)}}),[Q,U,Y,H,ee,te,ne,re,oe,le]),fe=Object(o.useCallback)((function(e){if(e){var t=ee.indexOf(e);t>=0?ne(t):te(e)}}),[ee,te,ne]),je=Object(o.useCallback)((function(e,t){Z(e,t),O===e&&v(t)}),[Z,O]),Oe=Object(o.useCallback)((function(e,t){_({index:e,actionType:Object(w.a)(t)}),null===n||void 0===n||n(!0)}),[_,n]),pe=Object(o.useCallback)((function(){_(void 0),null===n||void 0===n||n(!1)}),[_,n]);return Object(z.jsxs)(P.a,{children:[Object(z.jsx)(E.a,{title:l("Actions"),actions:Object(z.jsx)(C.a,{title:l("NewActionType"),children:Object(z.jsx)(y.a,{onClick:ue,size:"large",children:Object(z.jsx)(p.a,{})})})}),Object(z.jsx)(N.a,{onItemReorder:je,className:i.root,children:Q.map((function(e,n){var a=!!e.name&&ee.includes(e.name);return Object(z.jsxs)(N.b,{index:n,selected:O===n,onClick:function(e){return function(e,n){var a;v(n),null===t||void 0===t||t(null===(a=Q[n])||void 0===a?void 0:a.name)}(0,n)},className:i.item,afterItem:Object(z.jsx)(h.a,{className:i.divider}),children:[Object(z.jsx)(s.a,{children:Object(z.jsx)(C.a,{title:l("MakeInitialAction"),children:Object(z.jsx)(x.a,{value:"initialAction",selected:a,onClick:function(){return fe(e.name)},className:i.initialAction,children:Object(z.jsx)(D.a,{})})})}),Object(z.jsx)(d.a,{primary:Object(z.jsx)(b.a,{className:i.actionHeading,children:e.name})}),Object(z.jsxs)(g.a,{children:[Object(z.jsx)(C.a,{title:l("Edit"),children:Object(z.jsx)(y.a,{"aria-label":"edit",onClick:function(){return Oe(n,e)},size:"large",children:Object(z.jsx)(j.a,{})})}),Object(z.jsx)(C.a,{title:l("Delete"),children:Object(z.jsx)(y.a,{edge:"end","aria-label":"delete",onClick:function(){return se(n)},size:"large",children:Object(z.jsx)(m.a,{})})})]})]},e.name)}))}),Object(z.jsx)(M.a,{errors:q,names:["initialActions","actions"]}),Object(I.isDefined)(H)&&Object(z.jsx)(o.Suspense,{fallback:null,children:Object(z.jsx)(B,{open:Object(I.isDefined)(H),onClose:pe,defaultValue:H.actionType,definitionJsonSchema:de,onChange:be})})]})};t.default=W},2963:function(e,t,n){"use strict";var a=n(476);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a)}(n(6));var r=a(n(480)),i=n(136);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var o=(0,r.default)((0,i.jsx)("path",{transform:"scale(0.5, 0.5)",d:"M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z"}),"PlayCircleFilledWhite");t.default=o},763:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(7),r=n(73),i=n(2214),c=n(3145),o=n(2491),l=n(136),u=["children","className"],s=Object(c.a)((function(e){return Object(o.a)({paper:{padding:e.spacing(2),color:e.palette.text.secondary}})})),d=function(e){var t=e.children,n=e.className,c=Object(r.a)(e,u),o=s();return Object(l.jsx)(i.a,Object(a.a)(Object(a.a)({className:"".concat(o.paper," ").concat(n),elevation:3},c),{},{children:t}))}},810:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(7),r=n(73),i=n(2491),c=n(3145),o=n(2260),l=n(1048),u=n(136),s=["title","actions"],d=Object(c.a)((function(e){return Object(i.a)({grow:{flexGrow:1},actionToolbarButtons:{display:"flex"}})})),b=function(e){var t=e.title,n=e.actions,i=Object(r.a)(e,s),c=d();return Object(u.jsxs)(o.a,Object(a.a)(Object(a.a)({variant:"dense"},i),{},{children:[t&&Object(u.jsx)(l.a,{children:t}),Object(u.jsx)("div",{className:c.grow}),n&&Object(u.jsx)("div",{className:c.actionToolbarButtons,children:n})]}))}}}]);
//# sourceMappingURL=60.80627c53.chunk.js.map