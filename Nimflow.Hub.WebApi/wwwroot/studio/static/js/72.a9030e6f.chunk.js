(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[72],{3371:function(e,t,n){"use strict";n.r(t),n.d(t,"DigitalWorkerUpdater",(function(){return m}));var r=n(4),a=n.n(r),u=n(21),c=n(1),i=n(9),s=n(6),o=n(531),f=n(3397),p=n(499),b=n(2443),d=n(2158),l=n(129),m=function(){var e=Object(o.i)().name,t=Object(f.a)().t,n=Object(i.useState)(),r=Object(c.a)(n,2),m=r[0],v=r[1],h=Object(p.c)(),j=h.digitalWorkers_Update,O=h.digitalWorkers_Search;Object(i.useEffect)((function(){O({name:e}).then((function(e){e.length>0&&v(e[0])}))}),[O,e]);var k=Object(i.useCallback)(function(){var e=Object(u.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({id:t.id,name:t.name,expires:t.expires,active:t.active});case 2:return v(t),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[j]),x=Object(i.useMemo)((function(){return d.a.shape({name:d.a.fields.name.concat(s.m().defined().test({message:function(e){var n=e.value;return t("DashboardDefinitionNameAlreadyExists",{name:n})},test:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,O({name:t});case 4:return n=e.sent,e.abrupt("return",n.every((function(e){return e.id===r.parent.id})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))})}),[O,t]);return m?Object(l.jsx)(b.a,{value:m,schema:x,onSave:k}):null};t.default=m}}]);
//# sourceMappingURL=72.a9030e6f.chunk.js.map