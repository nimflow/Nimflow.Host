(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[49,79],{1505:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return S}));var r,a,i,o=n(12),c=n(58),s=n(6),u=n(777),l=n(683),f=n(592),d=n(634),p=n(75),b=n(76),h=n(72),j=n(74),v=n(77),m=n(78),O=n(79),g=n(688),y=n(1514),x=n(123);!function(e){e[e.Draft07=0]="Draft07",e[e.Draft201909=1]="Draft201909",e[e.Nimflow=2]="Nimflow"}(i||(i={}));var w=(r={},Object(c.a)(r,i.Draft07,"http://json-schema.org/draft-07/schema"),Object(c.a)(r,i.Draft201909,"https://json-schema.org/draft/2019-09/schema"),Object(c.a)(r,i.Nimflow,"http://nimflow.com/schemas/nf-json-schema.json"),r),C=(a={},Object(c.a)(a,i.Draft07,void 0),Object(c.a)(a,i.Draft201909,void 0),Object(c.a)(a,i.Nimflow,y),a),k=function(e){e.focus()},S=function(e){var t=e.value,n=e.onChange,r=e.extraJsonSchemas,a=e.height,c=e.width,y=e.mainMetaSchema,S=void 0===y?i.Draft07:y,E=Object(u.a)(),$=Object(s.useCallback)((function(e){!function(e,t,n){var r={validate:!0,schemas:[{uri:w[t],fileMatch:["inmemory://model/*"],schema:C[t]}],enableSchemaRequest:!0},a=[h,j,p,b,v,m,O];n&&a.push.apply(a,Object(o.a)(n));for(var i=0,c=a;i<c.length;i++){var s=c[i];Object(g.c)(s)&&s.$id&&r.schemas.push({uri:s.$id,schema:s})}e.languages.json.jsonDefaults.setDiagnosticsOptions(r)}(e,S,r)}),[r,S]),P=Object(s.useMemo)((function(){return{width:null!==c&&void 0!==c?c:"100%",height:null!==a&&void 0!==a?a:"100%"}}),[a,c]);return Object(x.jsx)("div",{style:P,children:Object(x.jsx)(f.a,{children:function(e){var r=e.height,a=e.width;return Object(x.jsx)(l.b,{width:a,height:r,language:"json",theme:"light"===E.palette.mode?"vs-light":"vs-dark",value:t,options:d.a,onChange:n,editorWillMount:$,editorDidMount:k})}})})}},1512:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(6),a=n(777),i=n(1943),o=n(123),c={LOG_COLOR:"#000000",LOG_ERROR_BACKGROUND:"#FF9999",LOG_ERROR_BORDER:"#FF6666",LOG_ERROR_COLOR:"#4d0000",LOG_WARN_COLOR:"#664100",LOG_WARN_BORDER:"#ffe666",LOG_WARN_BACKGROUND:"#fff099"},s={},u=function(e){var t=e.entries,n=Object(a.a)(),u=Object(r.useMemo)((function(){return t.map((function(e,t){var n;return{id:t.toString(),method:e.type,data:null!==(n=e.values)&&void 0!==n?n:[]}}))}),[t]);if(!u||0===u.length)return null;var l=n.palette.mode;return Object(o.jsx)(i.Console,{logs:u,variant:l,styles:"light"===l?c:s})}},1514:function(e){e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2019-09/schema#","$id":"http://nimflow.com/schemas/nf-json-schema.json","title":"Json schema meta schema with Nimflow extensions (special version for Monaco editor)","type":"object","properties":{"nfCalculatedValue":{"$ref":"#"},"nfValidate":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}]},"nfMultipleOf":{"$ref":"#"},"nfMaximum":{"$ref":"#"},"nfExclusiveMaximum":{"$ref":"#"},"nfMinimum":{"$ref":"#"},"nfExclusiveMinimum":{"$ref":"#"},"nfMaxLength":{"$ref":"#"},"nfMinLength":{"$ref":"#"},"nfPattern":{"$ref":"#"},"nfMaxItems":{"$ref":"#"},"nfMinItems":{"$ref":"#"},"nfUniqueItems":{"$ref":"#"},"nfMaxProperties":{"$ref":"#"},"nfMinProperties":{"$ref":"#"},"nfRequired":{"$ref":"#"},"nfConst":{"$ref":"#"},"nfEnum":{"$ref":"#"},"nfHidden":{"$ref":"#"},"nfDisabled":{"$ref":"#"},"nfExpr":{"type":"string"},"nfMessage":{"type":"string"},"nfInstancePath":{"type":"string","pattern":"^#?(/[^/]+)+$","description":"JSON Pointer to the field associated with the validation. If the path starts with # it is considered an absolute path, otherwise it is relative to the current location"},"nfData":{},"$id":{"type":"string","format":"uri-reference","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"type":"string","format":"uri"},"$anchor":{"type":"string","pattern":"^[A-Za-z][-A-Za-z0-9.:_]*$"},"$ref":{"type":"string","format":"uri-reference"},"$recursiveRef":{"type":"string","format":"uri-reference"},"$recursiveAnchor":{"type":"boolean","default":false},"$vocabulary":{"type":"object","propertyNames":{"type":"string","format":"uri"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"additionalItems":{"$ref":"#"},"unevaluatedItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}]},"contains":{"$ref":"#"},"additionalProperties":{"$ref":"#"},"unevaluatedProperties":{"$ref":"#"},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$ref":"#"}},"propertyNames":{"$ref":"#"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/definitions/nonNegativeInteger"},"minContains":{"$ref":"#/definitions/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/definitions/stringArray"}},"const":true,"enum":{"type":"array","items":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"contentSchema":{"$ref":"#"},"definitions":{"$comment":"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.","type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"$comment":"\\"dependencies\\" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to \\"dependentSchemas\\" and \\"dependentRequired\\"","type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}}},"definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"default":true}')},1548:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),a=n(3016),i=n(123),o=function(e){return Object(i.jsxs)(a.a,Object(r.a)(Object(r.a)({viewBox:"0 0 200 200"},e),{},{children:[Object(i.jsx)("path",{d:"M136 12.9V20h3.3c5.2 0 11.9 3.9 14 8.2 1.8 3.7 1.8 4.1-.3 18-4 26.1-2 38.7 8.1 50.2l4.1 4.6-4.2 4.6c-10 10.8-12.1 23.8-8.1 50 2.4 15.6 2.2 17.5-2.8 21.7-3.3 2.7-4.3 3.1-10.3 4.2l-3.8.6v6.9c0 3.9.4 7 .8 7 3.5 0 13.6-2.6 17.8-4.6 5.9-2.8 12.8-9.7 15.2-15.2 2.3-5.3 1.9-19.3-.8-32.1-2.9-13.9-3.1-24.5-.4-29.1 2.5-4.4 7.6-7 13.7-7h4.7V94.1l-6.1-.7c-14.4-1.6-17.2-10.8-11.5-37.9 2.4-11.7 2.9-18.9 1.6-24.9-2.7-13.2-13.9-22.2-30.2-24.3l-4.8-.6v7.2zM51 8.4c-10.6 3-20.4 11.3-22.8 19.4-1.9 6.2-1.4 17.6 1.3 31.2 3 15.1 3.1 22.1.6 27.7-2.4 5.1-4.9 6.6-12.6 7.3l-6 .5-.3 7.1-.3 7.2 6.1.4c6.9.5 10.6 2.7 13.2 7.9 2.5 4.7 2.3 12.4-.7 27.3-2.8 13.9-3.2 26-1.1 31.9 3.9 10.8 14.3 17.7 30.4 20.2l4.3.7-.3-7.4-.3-7.3-5.3-.6c-5.8-.8-9.3-2.7-11.8-6.4-1.9-2.8-1.7-5.7 1.1-27.4 1.5-10.7 1.6-14.7.8-20.2-1.4-8.5-4.8-16.1-10.1-22l-4.1-4.6 3.5-3.4c10.9-10.5 13.4-25.1 8.9-51-2.2-12.5-2-16.2 1.2-20 3.2-3.7 7.8-5.9 12.8-5.9H63V7l-3.7.1c-2.1 0-5.8.6-8.3 1.3z"}),Object(i.jsx)("path",{d:"M112 27.2c-3.3 1.7-5.7 4.1-9.2 9.3-4.9 7.3-15.9 31-19.7 42.7-1.3 3.8-2.6 6.8-2.9 6.8-.4 0-2-2.3-3.7-5.1C72 73.2 66.9 69 62 69c-4.2 0-9 1.7-9 3.3 0 .5 2.2 3.4 5 6.4 5 5.4 14.8 19.8 20.9 30.6 1.8 3.2 3.5 5.7 3.6 5.5.2-.2 3.1-7.9 6.5-17.3 13.6-37.1 19.8-48.8 33.1-62.9 8.7-9.2 8.7-9.6-.5-9.6-3.4 0-6.7.8-9.6 2.2zM141.5 92c-.4.6-2 .8-3.9.5-3-.6-3.5-.2-12.5 10.4-5.2 6.1-9.8 11.1-10.2 11.1-.4 0-2.8-4.3-5.4-9.6-4.1-8.5-4.9-9.5-6.8-9-1.2.3-3.4.6-4.9.6-4.6 0-4.4 3.2 1 18.5l4.9 13.9-10.8 14.2c-13.5 17.9-16.9 23.6-16.9 29 0 5.7 2.8 9.2 6.9 8.6 2.6-.4 3.9-1.8 9.2-10.6C100 156.8 110 142 110.9 142c.3.1 3.8 4.9 7.6 10.8 8.1 12.4 9.6 13.1 13.3 6.2l2.4-4.5-6.1-13.3c-3.4-7.3-6.1-13.7-6.1-14.2 0-.4 5.2-7.5 11.5-15.7 6.3-8.1 11.4-15.5 11.5-16.4 0-2.2-2.6-4.4-3.5-2.9z"})]}))}},1955:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(9),a="inputSchema",i="outputSchema",o=r.k().shape({id:r.m().required(),name:r.m().required().identifier(),description:r.m(),outputType:r.m(),inputSchema:r.m().jsonSchema(),outputSchema:r.m().jsonSchema(),script:r.m().required().jsModule(),version:r.j().required(),metadata:r.k()})},1956:function(e,t,n){"use strict";n.r(t),n.d(t,"JsonSchemaEditorModal",(function(){return P}));var r=n(19),a=n(4),i=n(8),o=n.n(i),c=n(6),s=n(475),u=n(2989),l=n(2614),f=n(2925),d=n(3020),p=n(3019),b=n(2932),h=n(2548),j=n(3008),v=n(2423),m=n(9),O=n(127),g=n(901),y=n(1505),x=n(123),w=Object(u.a)((function(e){return Object(l.a)({dialogPaper:{height:"80vh"}})})),C=m.m().jsonSchema(),k=function(e){return Object(O.b)(C,e)},S=Object(s.a)(p.a,{shouldForwardProp:function(e){return"showErrors"!==e}})((function(e){return{display:"grid",gridTemplateColumns:"auto",gridTemplateRows:e.showErrors?"auto ".concat(100,"px"):"auto",rowGap:"5px",placeItems:"stretch",height:"100%",overflowY:"hidden"}})),E=Object(s.a)("div")({gridColumn:"1 / 2",gridRow:"1 / 2"}),$=Object(s.a)("div")({gridColumn:"1 / 2",gridRow:"2 / 3",overflowY:"auto"}),P=function(e){var t=e.open,n=e.defaultValue,i=e.onChange,s=e.onClose,u=e.title,l=e.extraJsonSchemas,p=e.validator,m=e.mainMetaSchema,O=Object(j.a)().t,C=Object(g.a)(),P=Object(c.useState)([]),M=Object(a.a)(P,2),A=M[0],N=M[1],R=w(),I=Object(c.useMemo)((function(){return n?n.includes("\n")?n:JSON.stringify(JSON.parse(n),void 0,2):'{\n    "type": "object",\n    "definitions": {\n\n    }\n}'}),[n]),T=Object(c.useState)(I),D=Object(a.a)(T,2),F=D[0],J=D[1],W=Object(c.useCallback)(Object(r.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null!==p&&void 0!==p?p:k,e.next=3,t(null!==F&&void 0!==F?F:"");case 3:(n=e.sent).length>0?N(n.map((function(e){return e.message}))):(null===i||void 0===i||i(F),s());case 5:case"end":return e.stop()}}),e)}))),[F,i,s,p]),_=Object(c.useCallback)(Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=I!==F,!e.t0){e.next=5;break}return e.next=4,C();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:s();case 8:case"end":return e.stop()}}),e)}))),[F,I,C,s]),L=Object(c.useCallback)(function(){var e=Object(r.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=I!==F,!e.t0){e.next=5;break}return e.next=4,C();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:"backdropClick"!==n&&(null===s||void 0===s||s());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[F,I,C,s]);return Object(x.jsxs)(f.a,{open:t,onClose:L,maxWidth:"xl",fullWidth:!0,classes:{paper:R.dialogPaper},children:[Object(x.jsx)(b.a,{children:null!==u&&void 0!==u?u:O("EditingJsonSchema")}),Object(x.jsxs)(S,{showErrors:A.length>0,children:[Object(x.jsx)(E,{children:Object(x.jsx)(y.a,{value:F,onChange:J,extraJsonSchemas:l,mainMetaSchema:m})}),A.length>0&&Object(x.jsx)($,{children:Object(x.jsx)(v.a,{component:"span",error:!0,children:A.map((function(e,t){return Object(x.jsx)("p",{children:e},t)}))})})]}),Object(x.jsxs)(d.a,{children:[Object(x.jsx)(h.a,{onClick:W,color:"primary",children:O("Accept")}),Object(x.jsx)(h.a,{onClick:_,color:"primary",children:O("Cancel")})]})]})};t.default=P},1981:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),a=n(3016),i=n(123),o=function(e){return Object(i.jsx)(a.a,Object(r.a)(Object(r.a)({viewBox:"0 0 1792 1792"},e),{},{children:Object(i.jsx)("path",{d:"M649 983l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23t-10 23zm1079 457v64q0 14-9 23t-23 9h-960q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h960q14 0 23 9t9 23z"})}))}},2002:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e,t,n){"use strict";n.d(t,"a",(function(){return re}));var r=n(4),a=n(19),i=n(8),o=n.n(i),c=n(6),s=n(2989),u=n(2614),l=n(2457),f=n(3034),d=n(2548),p=n(2437),b=n(2416),h=n(736),j=n.n(h),v=n(764),m=n.n(v),O=n(780),g=n.n(O),y=n(495),x=n(3008),w=n(632),C=n(775),k=n(596),S=n(564),E=n(1955),$=n(630),P=n(590),M=n(521),A=n(624),N=n(770),R=n(553),I=n(127),T=n(1981),D=n(678),F=n(1548),J=n(1956),W=n(913),_=n(12),L=n(3002),q=n(2420),V=n(592),B=n(1857),U=n(532),G=n(773),z=n(631),H=n(1512),K=n(123),Y=Object(s.a)((function(e){return Object(u.a)({grow:{flexGrow:1},jsModuleEditor:{display:"grid",height:"100%",gridTemplateColumns:"100%",gridTemplateRows:function(e){return"auto"+(e.showRepl?" 250px":"")}},moduleEditorContainer:{paddingTop:10,gridColumn:"1 / 2",gridRow:"1 / 2"},replContainer:{gridColumn:"1 / 2",gridRow:"2 / 3"},editorContainer:{height:function(e){return e.showError?"calc(100% - ".concat(60,"px)"):"100%"}},errorContainer:{height:60,overflowY:"auto"},fixHeight:{height:24},toggleButton:{border:"none",borderRadius:"50%"}})})),Z=Object(s.a)((function(e){return Object(u.a)({consoleFeed:{border:"solid 1px ".concat(e.palette.divider),borderRadius:e.shape.borderRadius,height:"135px",overflow:"auto"}})})),Q=function(e){var t=e.moduleName,n=e.jsModule,i=Z(),s=Object(x.a)().t,u=Object(c.useState)(""),l=Object(r.a)(u,2),f=l[0],p=l[1],b=Object(c.useState)([]),h=Object(r.a)(b,2),j=h[0],v=h[1],m=Object(U.c)().contextTypes_EvalJsExpression,O=Object(c.useCallback)(Object(a.a)(o.a.mark((function e(){var r,a,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v((function(e){return[]})),(r=t)||(r="module"),a=f&&f.startsWith(r)?f:"".concat(r,".default(").concat(f,")"),i="((".concat(r,") => ").concat(a,")(common)"),e.next=8,m({expression:i,common:n});case 8:c=e.sent,v((function(e){var t;return[].concat(Object(_.a)(null!==(t=c.consoleEntries)&&void 0!==t?t:[]),[{type:"result",values:[c.result]}])})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),v([{type:"error",values:[e.t0]}]);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),[f,t,m,n]);return Object(K.jsxs)(L.a,{container:!0,spacing:3,alignItems:"center",children:[Object(K.jsx)(L.a,{item:!0,xs:10,children:Object(K.jsx)(q.a,{value:f,multiline:!0,fullWidth:!0,variant:"outlined",minRows:2,maxRows:2,onChange:function(e){return p(e.target.value)}})}),Object(K.jsx)(L.a,{item:!0,xs:2,style:{textAlign:"center"},children:Object(K.jsx)(d.a,{onClick:O,variant:"outlined",color:"inherit",children:s("Evaluate")})}),Object(K.jsx)(L.a,{item:!0,xs:12,children:Object(K.jsx)("div",{className:i.consoleFeed,children:Object(K.jsx)(H.a,{entries:j})})})]})},X=function(e){var t=e.onJsModuleErrorsChange,n=e.showRepl,a=Object(y.g)(),i=a.values,o=a.setFieldValue,s=a.errors,u=Object(c.useState)(i.script),l=Object(r.a)(u,2),f=l[0],d=l[1],p=s.script,b=Y({showError:!!p,showRepl:n}),h=Object(c.useCallback)((function(e){d(e)}),[]);return Object(B.a)((function(){o("script",f)}),1e3,[f]),Object(K.jsxs)("div",{className:b.jsModuleEditor,children:[Object(K.jsxs)("div",{className:b.moduleEditorContainer,children:[Object(K.jsx)("div",{className:b.editorContainer,children:Object(K.jsx)(V.a,{children:function(e){var n=e.height,r=e.width;return Object(K.jsx)(G.a,{height:n,width:r,value:f,onChange:h,onErrorsChange:t,importJsCommon:!0})}})}),!!p&&Object(K.jsx)("div",{className:b.errorContainer,children:Object(K.jsx)(z.a,{errors:s,names:"script"})})]}),n&&Object(K.jsx)("div",{className:b.replContainer,children:Object(K.jsx)(Q,{jsModule:f,moduleName:i.name})})]})},ee=Object(s.a)((function(e){return Object(u.a)({form:{height:"100%"}})})),te=Object(s.a)((function(e){return Object(u.a)({toolbar:{minHeight:48,paddingLeft:0},grow:{flexGrow:1},button:{margin:e.spacing(1),whiteSpace:"nowrap"},content:{height:"calc(100% - ".concat(48,"px)"),overflow:"auto",display:"grid",gridTemplateColumns:"25% 74%",gridTemplateRows:"60px auto"},nameContainer:{gridColumn:"1 / 2",gridRow:"1 / 2"},descriptionContainer:{gridColumn:"2 / 3",gridRow:"1 / 2",paddingLeft:10},outputTypeEditorContainer:{gridColumn:"1 / 3",gridRow:"2 / 3"},fixHeight:{height:24},toggleButton:{border:"none",borderRadius:"50%"}})})),ne=function(e){var t,n=e.schema,i=e.onSave,s=e.onJsModuleErrorsChange,u=e.jsModuleErrors,h=Object(x.a)().t,v=Object(k.h)(),O=Object(w.b)().enqueueSnackbar,S=Object(y.g)(),E=S.isSubmitting,$=S.validateForm,P=S.values,M=S.dirty,_=S.setFieldValue,L=!E,q=Object(A.a)(),V=Object(c.useState)(),B=Object(r.a)(V,2),U=B[0],G=B[1],z=Object(c.useState)(!1),H=Object(r.a)(z,2),Y=H[0],Z=H[1],Q=te(),ee=Object(c.useMemo)((function(){return{description:h("ExitingUserDefinedFunctionEditorWithoutSavingWarning")}}),[h]);Object(N.a)(M,ee);var ne=Object(C.a)(Object(c.useCallback)(Object(a.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=3;break}return e.next=3,i();case 3:case"end":return e.stop()}}),e)}))),[i])),re=Object(c.useCallback)(Object(a.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.b)(n,P);case 2:return t=e.sent,u.length>0&&(t.find((function(e){return"script"===e.dataPath}))||t.push({dataPath:"script",message:u.map((function(e){return"\n\t"+e})).join("")})),e.next=6,$();case 6:t.length>0?q(h("UserDefinedFunctionHasValidationErrors"),t,{dialogProps:{maxWidth:"lg"}}):O(h("UserDefinedFunctionIsValid"),{variant:"success"});case 7:case"end":return e.stop()}}),e)}))),[n,P,u,$,q,h,O]),ae=Object(c.useCallback)((function(){v(-1)}),[v]),ie=Object(c.useMemo)((function(){return function(e,t){var n=void 0,r=void 0;return Object(a.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=6;break}return a.next=3,Object(W.f)(e);case 3:n=a.sent,a.next=7;break;case 6:n="any";case 7:if(!t){a.next=13;break}return a.next=10,Object(W.f)(t);case 10:r=a.sent,a.next=14;break;case 13:r="any";case 14:return a.abrupt("return","\n        /** Declared only to provide typings. Do not call in actual code. */  \n        export const exportedFn = (args: ".concat(n,"): ").concat(r,' => () => throw new Error("Not supported")'));case 15:case"end":return a.stop()}}),a)})))}(P.inputSchema,P.outputSchema)}),[P.inputSchema,P.outputSchema]),oe=Object(c.useCallback)((function(){G("input")}),[]),ce=Object(c.useCallback)((function(){G("output")}),[]);return Object(K.jsxs)(D.a,{jsCommonTypingProvider:ie,children:[Object(K.jsxs)(l.a,{className:Q.toolbar,children:[Object(K.jsx)(p.a,{title:h("GoBack"),children:Object(K.jsx)(b.a,{onClick:ae,disabled:E,size:"large",children:Object(K.jsx)(j.a,{})})}),Object(K.jsx)(p.a,{title:h("SaveChanges"),children:Object(K.jsx)(b.a,{onClick:ne,disabled:!L,size:"large",children:Object(K.jsx)(m.a,{})})}),Object(K.jsx)(p.a,{title:h("Validate"),children:Object(K.jsx)(b.a,{onClick:re,size:"large",children:Object(K.jsx)(g.a,{})})}),!P.outputType&&Object(K.jsx)(f.a,{value:"showRepl",selected:Y,onClick:function(){return Z(!Y)},classes:{root:Q.toggleButton},children:Object(K.jsx)(p.a,{title:h("ShowRepl"),children:Object(K.jsx)("div",{className:Q.fixHeight,children:Object(K.jsx)(T.a,{})})})}),Object(K.jsx)("div",{className:Q.grow}),Object(K.jsx)(d.a,{variant:"outlined",color:"inherit",onClick:oe,startIcon:Object(K.jsx)(F.a,{}),className:Q.button,size:"small",children:h("EditInputJsonSchema")}),!P.outputType&&Object(K.jsx)(d.a,{variant:"outlined",color:"inherit",onClick:ce,startIcon:Object(K.jsx)(F.a,{}),className:Q.button,size:"small",children:h("EditOutputJsonSchema")})]}),Object(K.jsxs)("div",{className:Q.content,children:[Object(K.jsx)("div",{className:Q.nameContainer,children:Object(K.jsx)(R.a,{name:"name",label:h("Name"),variant:"standard",fullWidth:!0,InputLabelProps:{required:!0},required:!0})}),Object(K.jsx)("div",{className:Q.descriptionContainer,children:Object(K.jsx)(R.a,{name:"description",label:h("Description"),variant:"standard",fullWidth:!0,multiline:!0,maxRows:4})}),Object(K.jsx)("div",{className:Q.outputTypeEditorContainer,children:Object(K.jsx)(X,{onJsModuleErrorsChange:s,showRepl:Y})})]}),!!U&&Object(K.jsx)(J.JsonSchemaEditorModal,{open:!!U,onClose:function(){return G(void 0)},title:h("input"===U?"EditingInputJsonSchema":"EditingOutputJsonSchema"),defaultValue:null!==(t="input"===U?P.inputSchema:P.outputSchema)&&void 0!==t?t:'{\n    "$schema": "http://json-schema.org/draft-07/schema#",\n    "type": "object",\n    "properties": {\n\n    }\n}',onChange:function(e){return _("input"===U?"inputSchema":"outputSchema",null!==e&&void 0!==e?e:void 0)}})]})},re=function(e){var t=e.value,n=e.schema,i=void 0===n?E.a:n,s=e.onSave,u=Object(x.a)().t,l=ee(),f=Object(M.b)(),d=Object(w.b)().enqueueSnackbar,p=Object(c.useState)([]),b=Object(r.a)(p,2),h=b[0],j=b[1],v=Object(c.useRef)();Object(c.useEffect)((function(){var e;null===(e=v.current)||void 0===e||e.resetForm({values:t})}),[t]);var m=Object(c.useCallback)(function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h.length>0)){e.next=5;break}return e.next=3,Object($.b)(t);case 3:return t.setFieldError("script",h.join("\n")),e.abrupt("return");case 5:Object($.a)(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h]),O=Object(c.useRef)(),g=Object(c.useCallback)((function(){var e=v.current;return e&&s&&(O.current=function(){var e=Object(a.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t);case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n=Object(K.jsx)(P.a,{error:e.t0});case 11:if(!n){e.next=16;break}return e.next=14,f({title:u("ErrorSavingUserDefinedFunction"),description:n,mapCloseTo:"ok",actions:[{type:"ok",text:u("Ok")}]});case 14:e.next=17;break;case 16:d(u("UserDefinedFunctionSaved"),{variant:"success"});case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),m(e)),Promise.resolve()}),[f,d,m,s,u]),C=Object(c.useCallback)(function(){var e=Object(a.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!O.current){e.next=5;break}return e.next=4,O.current(t);case 4:O.current=void 0;case 5:return e.prev=5,n.setSubmitting(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})));return function(t,n){return e.apply(this,arguments)}}(),[]);return Object(K.jsx)(S.a,{children:Object(K.jsx)(y.d,{innerRef:function(e){return v.current=e},initialValues:t,onSubmit:C,validationSchema:i,validateOnChange:!0,validateOnBlur:!0,children:Object(K.jsx)(y.c,{autoComplete:"off",className:l.form,children:Object(K.jsx)(ne,{schema:i,onSave:g,jsModuleErrors:h,onJsModuleErrorsChange:j})})})})}},2965:function(e,t,n){"use strict";n.r(t),n.d(t,"UdFunctionUpdater",(function(){return h}));var r=n(19),a=n(4),i=n(8),o=n.n(i),c=n(6),s=n(3008),u=n(596),l=n(9),f=n(690),d=n(2218),p=n(1955),b=n(123),h=function(){var e=Object(u.i)().id,t=Object(s.a)().t,n=Object(c.useState)(),i=Object(a.a)(n,2),h=i[0],j=i[1],v=Object(f.b)(),m=v.updateUdFunction,O=v.getUdFunction,g=v.searchUdFunctions;Object(c.useEffect)((function(){e&&O(e).then((function(e){j(e)}))}),[O,e]);var y=Object(c.useCallback)(function(){var e=Object(r.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return n=e.sent,j(n),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[m]),x=Object(c.useMemo)((function(){return p.a.shape({name:p.a.fields.name.concat(l.m().defined().test({message:function(e){var n=e.value;return t("UserDefinedFunctionNameAlreadyExists",{name:n})},test:function(){var t=Object(r.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",!0);case 2:return t.next=4,g({name:n});case 4:return r=t.sent,t.abrupt("return",0===r.filter((function(t){return t.name===n&&t.id!==e})).length);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))})}),[e,g,t]);return h?Object(b.jsx)(d.a,{value:h,schema:x,onSave:y}):null};t.default=h},553:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),a=n(4),i=n(98),o=n(6),c=n(2420),s=n(495),u=n(38),l=n(123),f=["name","debounce","onChange","onBlur","helperText","error","disabled","controlValueAdapter"],d=function(e){var t=e.name,n=e.debounce,d=e.onChange,p=e.onBlur,b=e.helperText,h=(e.error,e.disabled),j=e.controlValueAdapter,v=Object(i.a)(e,f),m=Object(s.g)().isSubmitting,O=Object(s.f)({name:t}),g=Object(a.a)(O,3),y=g[0],x=g[1],w=g[2],C=x.error,k=x.touched&&!!C,S=Object(o.useState)(y.value),E=Object(a.a)(S,2),$=E[0],P=E[1],M=Object(o.useState)(),A=Object(a.a)(M,2),N=A[0],R=A[1];Object(o.useEffect)((function(){P(y.value)}),[y.value]);var I=Object(o.useCallback)((function(e){var t=e.target.value;w.setValue(j?j(t):t),null===d||void 0===d||d(e)}),[j,w,d]),T=Object(o.useCallback)((function(e){P((function(t){var n=e.target.value;return n||t})),Object(u.isPresent)(n)?(e.persist(),N&&clearTimeout(N),R(setTimeout((function(){return I(e)}),n))):I(e)}),[I,n,N]),D=Object(o.useCallback)((function(e){y.onBlur(e),null===p||void 0===p||p(e)}),[y,p]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(c.a,Object(r.a)(Object(r.a)({},y),{},{variant:"standard",value:null!==$&&void 0!==$?$:"",onChange:T,onBlur:D,error:k,helperText:k?C:b,disabled:null!==h&&void 0!==h?h:m},v))})}},564:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(2),a=n(3),i=n(14),o=n(15),c=n(6),s=n(2614),u=n(2989),l=n(2417),f=n(1264),d=n(1266),p=n(1265),b=n(733),h=n.n(b),j=n(123),v=Object(u.a)((function(e){return Object(s.a)({errorDetails:{overflow:"auto"}})})),m=function(e){var t=e.error,n=e.stack,r=v();return Object(j.jsxs)(f.a,{children:[Object(j.jsx)(p.a,{expandIcon:Object(j.jsx)(h.a,{}),children:Object(j.jsx)(l.a,{variant:"h5",color:"error",children:t})}),Object(j.jsx)(d.a,{className:r.errorDetails,children:Object(j.jsx)("pre",{children:n})})]})},O=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={hasError:!1},e}return Object(a.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log({error:e,errorInfo:t}),this.setState({errorInfo:t})}},{key:"render",value:function(){var e,t,n=this.state,r=n.hasError,a=n.error,i=n.errorInfo;return r?Object(j.jsx)(m,{error:null!==(e=null===a||void 0===a?void 0:a.message)&&void 0!==e?e:"",stack:null!==(t=null===i||void 0===i?void 0:i.componentStack)&&void 0!==t?t:""}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(c.Component)},624:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(6),a=n(2548),i=n(632),o=n(3008),c=n(521),s=n(590),u=n(915),l=n(123),f=function(){var e=Object(o.a)().t,t=Object(i.b)().enqueueSnackbar,n=Object(c.b)();return Object(r.useCallback)((function(r,i,o){var c=null!==o&&void 0!==o?o:{},f=c.variant,d=void 0===f?"error":f,p=c.dialogTitle,b=void 0===p?e("Error"):p,h=c.dialogProps;if(Object(u.b)(i)&&"string"===typeof r){var j,v=!1===(null===(j=window.navigator)||void 0===j?void 0:j.onLine);r=e(v?"BrowserOfflineMessage":"NetworkErrorMessage",{message:r})}t(r,{variant:d,action:Object(l.jsx)(a.a,{onClick:function(){n({dialogProps:h,title:b,description:Object(l.jsx)(s.a,{error:i})}).catch((function(){}))},children:e("ShowDetails")})})}),[n,t,e])}},630:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(38),a=function e(t){var n={};if(t)for(var a=function(){var a=o[i];Array.isArray(t[a])?t[a].forEach((function(t,i){var o=n[a];Object(r.isPresent)(o)||(n[a]=o=[]),o[i]=e(t)})):"object"===typeof t[a]&&null!==t[a]?n[a]=e(t[a]):n[a]=!0},i=0,o=Object.keys(t);i<o.length;i++)a();return n},i=function(e){return e.validateForm().then((function(t){return Object.keys(t).length>0&&e.setTouched(a(t)),t}))},o=function(e){return e.validateForm().then((function(t){Object.keys(t).length>0?e.setTouched(a(t)):e.handleSubmit()}))}},631:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2423),a=n(123),i=function e(t,n,r){if("string"!==typeof t){if(Array.isArray(t))t.forEach((function(t,a){e(t,"".concat(n,"[").concat(a,"]"),r)}));else if("object"===typeof t&&null!==t){n.length>0&&(n+=".");for(var a=0,i=Object.keys(t);a<i.length;a++){var o=i[a];e(t[o],n+o,r)}}}else r.push({dataPath:n,message:t})},o=function(e,t){var n=[];if(i(e,"",n),t){var r=Array.isArray(t)?t:[t];n=n.filter((function(e){return r.some((function(t){return e.dataPath&&(e.dataPath===t||e.dataPath.startsWith(t+".")||e.dataPath.startsWith(t+"["))}))}))}return n},c=function(e){var t=e.errors,n=e.names,i=o(t,n);return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(r.a,{component:"span",error:!0,children:i.map((function(e){return Object(a.jsx)("p",{children:"".concat(e.dataPath,": ").concat(e.message)},e.dataPath)}))})})}},634:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={selectOnLineNumbers:!0,automaticLayout:!0,minimap:{enabled:!1},fixedOverflowWidgets:!0}},678:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n(6),a=n(123),i={freeVariableTypingProviders:{},getTypingForFreeVariable:function(){return""},getJsCommonTypings:function(){return""}},o=Object(r.createContext)(i),c=function(){return Object(r.useContext)(o)},s=function(e){var t=e.freeVariableTypingProviders,n=e.jsCommonTypingProvider,s=e.children,u=c(),l=u!==i?u:void 0,f=Object(r.useCallback)((function(){return n?n():l?l.getJsCommonTypings():void 0}),[n,l]),d=Object(r.useCallback)((function(e){return t&&e in t?t[e]():l?l.getTypingForFreeVariable(e):void 0}),[t,l]),p=Object(r.useMemo)((function(){return{parentContext:l,freeVariableTypingProviders:t,jsCommonTypingProvider:n,getTypingForFreeVariable:d,getJsCommonTypings:f}}),[l,t,n,d,f]);return Object(a.jsx)(o.Provider,{value:p,children:s})}},770:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(19),a=n(1),i=n(8),o=n.n(i),c=n(6),s=n(3008),u=n(596),l=n(521),f=function(e,t){var n=Object(l.c)(),i=Object(s.a)().t,f=Object(c.useMemo)((function(){return Object(a.a)({description:i("ExitingWithoutSavingWarning"),confirmationText:i("Continue")},t)}),[t,i]),d=Object(c.useCallback)(function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(f);case 2:e.sent&&t.retry();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,f]);Object(u.e)(d,e)}},773:function(e,t,n){"use strict";n.d(t,"a",(function(){return re}));var r=n(4),a=n(19),i=n(0),o=n(12),c=n(8),s=n.n(c),u=n(6),l=n(777),f=n(2989),d=n(2614),p=n(459),b=n(2437),h=n(981),j=n.n(h),v=n(3008),m=n(683),O=n(490),g=n(38),y=n(17),x=n(592),w=n(13),C=n(1322),k=n(70),S=n(678),E=n(58),$=n(980),P=n(869),M=n.n(P),A=n(840),N=n.n(A),R=n(1236),I=n(532),T=n(903),D=n(150),F=/^\s*import\s*(?:(?:\w+|(?:\w+\s*,\s*)?(?:(?:\*\s*as\s*\w+)|(?:\{[^}]*\})))\s*from)?\s*(['"])([^'"]*)\1\s*;*\s*$/gm,J=/^\s*export\s*(?:(?:\*\s*(?:as\s*\w+)*)|\{[^}]*\})\s*from\s*(['"])([^'"]*)\1\s*;*\s*$/gm,W="/*FAILED*/",_=function(e,t){var n={},a=0,o=function e(r,o){var c=r.startsWith(t)?r.substring(t.length-1):r;c in n||(n[c]="",a++,M.a.get(r).then((function(t){var a=t.data;n[c]=a;var s,u=function(e){for(var t=[],n=null;null!==(n=F.exec(e));)n.index===F.lastIndex&&F.lastIndex++,t.push(n[2]);for(F.lastIndex=0;null!==(n=J.exec(e));)n.index===J.lastIndex&&J.lastIndex++,t.push(n[2]);return J.lastIndex=0,t}(a),l=Object(i.a)(u);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(f.startsWith(".")){var d=N()(f).absoluteTo(r).valueOf();e(d+".d.ts",o)}else n[f]=""}}catch(p){l.e(p)}finally{l.f()}})).catch((function(){n[c]=W,r.endsWith(".d.ts")&&e(r.substring(0,r.length-5)+".ts",o)})).finally((function(){--a<=0&&o(n)})))};return new Promise((function(t,n){o(e,(function(e){var n,a=Object.entries(e).filter((function(e){return Object(r.a)(e,2)[1]===W})).map((function(e){return Object(r.a)(e,1)[0]})),o=Object(i.a)(a);try{for(o.s();!(n=o.n()).done;){delete e[n.value]}}catch(c){o.e(c)}finally{o.f()}t(e)}))}))},L=Object($.a)(/^(((\w+)\s*,\s*)?((\*\s*as\s*(\w+))|(\{([^}]*)\})))|(\w+)$/m,{def2:3,ns:6,list:8,def:9}),q=function(e){var t=[],n=L.exec(e);if(n&&(n.index===L.lastIndex&&L.lastIndex++,n.groups)){var r,a=null!==(r=n.groups.def)&&void 0!==r?r:n.groups.def2;a&&t.push(a);var o=n.groups.ns;if(o&&t.push(o),n.groups.list){var c,s=n.groups.list,u=Object(i.a)(s.split(","));try{for(u.s();!(c=u.n()).done;){var l=c.value.trim().split(" ").filter((function(e){return e.trim().length>0}));l.length>0&&t.push(l[3===l.length?2:0])}}catch(f){u.e(f)}finally{u.f()}}}return t},V=function(e){var t;if(e.typingsPackageUrl||e.packageUrl){var n=null!==(t=e.typingsPackageUrl)&&void 0!==t?t:e.packageUrl;return n.endsWith("/package.json")||(n.endsWith("/")||(n+="/"),n+="package.json"),n}},B=function(){var e=Object(a.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=t.map((function(e){var t={import:e};e.eS6ImportClause&&(t.importBindings=q(e.eS6ImportClause));var r=V(e);if(r){var a=r.substring(0,r.lastIndexOf("/")+1);n.push(M.a.get(r).then((function(e){var n=e.data;if(t.typingsPackageJson=n,"object"===typeof n){var r=void 0;if("typings"in n&&"string"===typeof n.typings?r=n.typings:"types"in n&&"string"===typeof n.types&&(r=n.types),!r)return;r.startsWith(".")||(r.startsWith("/")||(r="/"+r),r="."+r),t.rootTypingFile=r;var i=N()(r).absoluteTo(a).valueOf();return _(i,a).then((function(e){t.typingsMap=e}))}})))}else e.from&&n.push(M.a.get(e.from).then((function(n){t.typingsMap=Object(E.a)({},"".concat(e.name,"/index.ts"),n.data)})).catch());return t})),e.next=4,Promise.allSettled(n);case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var t=[];if(e){var n,a=Object(i.a)(e.filter((function(e){return!!e.typingsMap})));try{for(a.s();!(n=a.n()).done;){var o=n.value,c=o.typingsPackageJson.name;t.push({content:JSON.stringify(o.typingsPackageJson),filePath:"file:///node_modules/".concat(c,"/package.json")});for(var s=0,u=Object.entries(o.typingsMap);s<u.length;s++){var l=Object(r.a)(u[s],2),f=l[0],d=l[1];f.startsWith("/")&&t.push({content:d,filePath:"file:///node_modules/".concat(c).concat(f)})}}}catch(b){a.e(b)}finally{a.f()}var p=function(e){var t,n=[],r=[],a=[],o=Object(i.a)(e.filter((function(e){return!!e.typingsMap&&!1!==e.import.synthesizeTypingGlobal})));try{var c=function(){var e,i=t.value,o=i.import.eS6ImportClause,c=i.importBindings;if(!o||!c){var s=Object(D.a)(i.import.name);o="* as ".concat(s),c=[s]}var u=i.typingsPackageJson.name;null!==(e=u)&&void 0!==e&&e.startsWith("@types/")&&(u=u.substring(7)),n.push("import ".concat(o," from '").concat(u,"';"));var l=r.length;c.forEach((function(e,t){r.push("\nexport type ImportedType".concat(l+t+1," = typeof ").concat(e,";")),a.push("\n\tconst ".concat(e,": ImportedType").concat(l+t+1,";"))}))};for(o.s();!(t=o.n()).done;)c()}catch(b){o.e(b)}finally{o.f()}return"".concat(n.join("\n"),"\n    ").concat(r.join(""),"\n    declare global {\n        ").concat(a.join(""),"\n    }")}(e);t.push({content:p,filePath:"file:///node_modules/@types/__globals__/index.d.ts"})}return t},G=n(634),z=n(774),H=n(123),K=Object(f.a)((function(e){return Object(d.a)({editorRow:{display:"table",height:function(e){return"calc(100% - ".concat(e.wrapperHeight,"px)")},width:"100%"},return:{display:"table-cell",width:"150px",paddingLeft:10,whiteSpace:"nowrap"},editorContainer:{display:"table-cell",height:"100%",width:"100%",verticalAlign:"top"},scriptBodyWrapper:{height:21},returnEnd:{paddingLeft:10}})})),Y=function(e){var t=Object(v.a)().t,n=e.variable,r=n.name,a=n.description,i=n.isOut;return Object(H.jsxs)(u.Fragment,{children:[i&&"out ",r,!!a&&Object(H.jsx)(b.a,{title:t(a),children:Object(H.jsx)(j.a,{style:{fontSize:"14px"}})})]})},Z={name:"common",description:y.a.t("JsCommonExportsDescription")},Q=O.Uri.parse("file:///defaultsDeclarations.ts"),X=O.Uri.parse("file:///common.ts"),ee=O.Uri.parse("node_modules/@types/jsevaluationcommoncontext/index.d.ts"),te=O.Uri.parse("node_modules/@types/jsevaluationcontext/index.d.ts"),ne=function(e,t){var n=function(){var e,t=Object(T.c)().unit,n=Object(I.c)().javascript_GetGlobalImports,r=Object(R.a)(null!==(e=null===t||void 0===t?void 0:t.id)&&void 0!==e?e:"",Object(a.a)(s.a.mark((function e(){var r,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,n().catch((function(){return[]}));case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return",[]);case 7:return e.next=9,B(r);case 9:if(a=e.sent){e.next=12;break}return e.abrupt("return",[]);case 12:return i=U(a),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})))).data;return Object(u.useMemo)((function(){return{monacoExtraLibs:Array.isArray(r)?r:[]}}),[r])}(),i=n.monacoExtraLibs,c=function(e){var t=Object(S.b)().getTypingForFreeVariable,n=Object(z.a)(null!==e&&void 0!==e?e:[],!0),r=Object(C.a)(Object(a.a)(s.a.mark((function e(){var r,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],a="",!(n&&n.length>0)){e.next=7;break}return i=n.map((function(e){var n=t(e.name);return n?Object(k.a)(n):void 0})).filter(g.isPresent),e.next=6,Promise.allSettled(i);case 6:a=e.sent.map((function(e,t){return"fulfilled"===e.status?e.value:(r=n[t],a=e.reason,"\n    /**\n     @description Error resolving type - ".concat(a,"\n     */\n    declare const ").concat(r.name,": never;\n    "));var r,a})).filter(g.isPresent).join("\n\n");case 7:return r.push({content:a,filePath:te.toString()}),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),[n,t]);return r.value}(e),l=function(e){var t=Object(S.b)().getJsCommonTypings,n=Object(C.a)(Object(a.a)(s.a.mark((function n(){var r,a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=[],!e){n.next=14;break}if(!(a=t())){n.next=12;break}return n.t0=r,n.next=7,Object(k.a)(a);case 7:n.t1=n.sent,n.t2=X.toString(),n.t3={content:n.t1,filePath:n.t2},n.t0.push.call(n.t0,n.t3),r.push({content:"declare const common: typeof import('file:///common');",filePath:ee.toString()});case 12:n.next=16;break;case 14:r.push({content:"",filePath:X.toString()}),r.push({content:"",filePath:ee.toString()});case 16:return n.abrupt("return",r);case 17:case"end":return n.stop()}}),n)}))),[t]);return n.value}(null===t||void 0===t||t),f=Object(u.useState)(),d=Object(r.a)(f,2),p=d[0],b=d[1];return Object(u.useEffect)((function(){var e=[];c&&e.push.apply(e,Object(o.a)(c)),e.push({content:"\ninterface Console {\n    assert(condition?: boolean, ...data: any[]): void;\n    clear(): void;\n    count(label?: string): void;\n    countReset(label?: string): void;\n    debug(...data: any[]): void;\n    dir(item?: any, options?: any): void;\n    dirxml(...data: any[]): void;\n    error(...data: any[]): void;\n    group(...data: any[]): void;\n    groupCollapsed(...data: any[]): void;\n    groupEnd(): void;\n    info(...data: any[]): void;\n    log(...data: any[]): void;\n    table(tabularData?: any, properties?: string[]): void;\n    time(label?: string): void;\n    timeEnd(label?: string): void;\n    timeLog(label?: string, ...data: any[]): void;\n    timeStamp(label?: string): void;\n    trace(...data: any[]): void;\n    warn(...data: any[]): void;\n}\n\ndeclare var console: Console;\n",filePath:Q.toString()}),l&&e.push.apply(e,Object(o.a)(l)),e.push.apply(e,Object(o.a)(i)),b((function(t){if((null===t||void 0===t?void 0:t.length)===e.length){var n=t.find((function(e){return e.filePath===te.toString()})),r=e.find((function(e){return e.filePath===te.toString()})),a=t.find((function(e){return e.filePath===X.toString()})),i=e.find((function(e){return e.filePath===X.toString()}));if((null===n||void 0===n?void 0:n.content)===(null===r||void 0===r?void 0:r.content)&&(null===a||void 0===a?void 0:a.content)===(null===i||void 0===i?void 0:i.content))return t}return e}))}),[l,c,i]),p},re=function(e){var t=e.value,n=e.freeVariables,a=e.returnType,c=e.isExpression,s=e.importJsCommon,f=e.onChange,d=e.onErrorsChange,b=e.height,h=e.width,j=Object(l.a)(),v=Object(u.useRef)(),g=c||n&&n.length>0,y=K({wrapperHeight:21*((g?2:0)-(c?1:0))}),C=Object(u.useRef)(),k=Object(u.useState)([]),S=Object(r.a)(k,2),E=S[0],$=S[1],P=ne(n,s),M=Object(u.useRef)();Object(u.useEffect)((function(){var e=C.current,t=v.current;e&&t&&P&&function(e,t,n){t.languages.typescript.typescriptDefaults.setExtraLibs(e);var r,a=Object(o.a)(t.editor.getModels().filter((function(e){return"inmemory"!==e.uri.scheme}))),c=Object(i.a)(e);try{var s=function(){var e=r.value,n=t.Uri.parse(e.filePath),i=a.findIndex((function(e){return e.uri.toString()===n.toString()}));i>=0?(a[i].setValue(e.content),a.splice(i,1)):t.editor.createModel(e.content,"typescript",n)};for(c.s();!(r=c.n()).done;)s()}catch(f){c.e(f)}finally{c.f()}var u,l=Object(i.a)(a);try{for(l.s();!(u=l.n()).done;)u.value.dispose()}catch(f){l.e(f)}finally{l.f()}}(P,e)}),[P]);var A=Object(u.useCallback)((function(e,t){var n=function(e){var t=e.getModel();if("typescript"===(null===t||void 0===t?void 0:t.getModeId())){var n=t.getModeId(),r=O.editor.getModelMarkers({owner:n}).filter((function(e){return e.severity===O.MarkerSeverity.Error&&e.resource===t.uri}));return Object(w.D)([Object(w.b)((function(e){return e.startLineNumber})),Object(w.b)((function(e){return e.startColumn})),Object(w.b)((function(e){return e.message}))],r).map((function(e){return"[".concat(e.startLineNumber,",").concat(e.startColumn,"]: ").concat(e.message)}))}}(e);n&&$((function(e){return Object(w.h)(n,e)?e:n}))}),[]);M.current=A,Object(u.useEffect)((function(){null===d||void 0===d||d(E)}),[E,d]);var N=Object(u.useCallback)((function(e){C.current=e,function(e,t){e.languages.typescript.typescriptDefaults.setCompilerOptions({allowJs:!0,allowNonTsExtensions:!0,allowSyntheticDefaultImports:!0,esModuleInterop:!0,moduleResolution:O.languages.typescript.ModuleResolutionKind.NodeJs,alwaysStrict:!0,checkJs:!0,lib:["es2020"],module:!1!==t?e.languages.typescript.ModuleKind.ESNext:e.languages.typescript.ModuleKind.ES2015,noEmit:!0,target:e.languages.typescript.ScriptTarget.ES2015}),e.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1,diagnosticCodesToIgnore:[2686]})}(e,s)}),[s]),R=Object(u.useCallback)((function(e,t){v.current=e,e.onDidChangeModelDecorations((function(n){var r;null===(r=M.current)||void 0===r||r.call(M,e,t)})),e.focus()}),[]),I=Object(u.useMemo)((function(){return{width:null!==h&&void 0!==h?h:"100%",height:null!==b&&void 0!==b?b:"100%"}}),[b,h]);return Object(H.jsxs)("div",{style:I,children:[g&&Object(H.jsxs)("div",{className:y.scriptBodyWrapper,children:["function (",!1!==s&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Y,{variable:Z}),n&&n.length>0&&", "]}),null===n||void 0===n?void 0:n.map((function(e,t){return Object(H.jsxs)(u.Fragment,{children:[t>0&&", ",Object(H.jsx)(Y,{variable:e})]},t)})),")",a?": ".concat(a," {"):" {"]}),Object(H.jsxs)("div",{className:y.editorRow,children:[c&&Object(H.jsx)("div",{className:y.return,children:"return"}),Object(H.jsx)("div",{className:y.editorContainer,children:Object(H.jsx)(x.a,{children:function(e){var n=e.height,r=e.width;return Object(H.jsx)(m.b,{width:r,height:n,language:"typescript",theme:"light"===j.palette.mode?"vs-light":"vs-dark",value:t,options:G.a,onChange:f,editorWillMount:N,editorDidMount:R})}})})]}),c&&Object(H.jsx)("div",{className:Object(p.default)(y.returnEnd,y.scriptBodyWrapper),children:";"}),g&&Object(H.jsx)("div",{className:y.scriptBodyWrapper,children:Object(H.jsx)("span",{children:"}"})})]})}},774:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12),a=n(6),i=Symbol("marker"),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(a.useRef)(e),o=n.current;if(e!==o)if(o.length!==e.length)n.current=e;else if(t)for(var c=Object(r.a)(e),s=0;s<o.length;s++){var u=c.indexOf(o[s]);if(-1===u){n.current=e;break}c[u]=i}else for(var l=0;l<o.length;l++)if(o[l]!==e[l]){n.current=e;break}return n.current}},901:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),a=n(3008),i=n(6),o=n(521),c=function(){var e=Object(a.a)().t,t=Object(o.c)();return Object(i.useCallback)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(r.a)({title:e("ThereArePendingChanges"),description:e("ChangesWillBeLost_Continue")},n);return t(a)}),[t,e])}},913:function(e,t,n){"use strict";n.d(t,"e",(function(){return v})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"f",(function(){return P}));var r=n(19),a=n(0),i=n(4),o=n(2),c=n(3),s=n(8),u=n.n(s),l=n(688),f=n(144),d=n.n(f),p=n(38),b=n(794),h=n.n(b),j=n(13),v=function(){function e(t){Object(o.a)(this,e),this.types=t}return Object(c.a)(e,[{key:"isAnyType",value:function(){var e=this;if(!["number","string","boolean","null"].some((function(t){return e.types.includes(t)})))return!1;var t=this.types.find((function(e){return e instanceof O}));if(!t||"any"!==t.valueType)return!1;var n=this.types.find((function(e){return Array.isArray(e)}));return!(!n||1!==n.length||"any"!==n[0])}}]),e}(),m=Object(c.a)((function e(t){Object(o.a)(this,e),this.types=t})),O=Object(c.a)((function e(t,n){Object(o.a)(this,e),this.valueType=t,this.declaredEntries=n})),g=Object(c.a)((function e(t){Object(o.a)(this,e),this.value=t})),y=Object(c.a)((function e(t,n){Object(o.a)(this,e),this.types=t,this.additional=n})),x=function(e){var t=e.additionalProperties;if(!Object(p.isPresent)(t)||!0===t)return new O("any");if(!t)return new O("null");var n=k(t);return new O(n)},w=function(e,t){switch(e){case"array":var n=t.items;return Array.isArray(n)?function(e){var t=e.items;if(!Array.isArray(t))throw new Error;var n=t.map((function(e){return"boolean"===typeof e?"any":k(e)})),r=new y(n),a=e.additionalItems;return a&&(r.additional="boolean"===typeof a?"any":k(a)),r}(t):Object(p.isPresent)(n)&&!0!==n?n?[k(n)]:"null":["any"];case"object":return function(e){if(!e.properties)return x(e);for(var t={},n=0,r=Object.entries(e.properties);n<r.length;n++){var a=Object(i.a)(r[n],2),o=a[0],c=a[1];t[o]=k(c)}for(var s=e.required?e.required:[],u=0,l=Object.keys(e.properties);u<l.length;u++){var f=l[u];if(!Array.isArray(s)||!s.includes(f)){var d=t[f];d instanceof v?d.types.includes("null")||d.types.push("null"):"null"!==d&&(t[f]=new v([d,"null"]))}}if(e.additionalProperties){var p=x(e);return p.declaredEntries=t,p}return t}(t);case"integer":return"number";default:return e}},C=function(e){return["string","number","boolean"].includes(typeof e)||null===e},k=function e(t){var n,r=function(e){if(e.const)return C(e.const)?new g(e.const):"any";if(e.enum)return e.enum.every(C)?new v(e.enum.map((function(e){return new g(e)}))):"any";var t=e.type;if(Array.isArray(t)){var n,r=[],i=Object(a.a)(t);try{for(i.s();!(n=i.n()).done;){var o,c=n.value,s=w(c,e),u=s instanceof v?s.types:[s],l=Object(a.a)(u);try{var f=function(){var e=o.value;r.every((function(t){return!Object(j.h)(t,e)}))&&r.push(e)};for(l.s();!(o=l.n()).done;)f()}catch(d){l.e(d)}finally{l.f()}}}catch(d){i.e(d)}finally{i.f()}return new v(r)}return t?w(t,e):e.properties||e.additionalProperties?w("object",e):e.items?w("array",e):void 0}(t);if(Array.isArray(t.allOf)||Array.isArray(t.anyOf)){var i=new v([]);if(Array.isArray(t.allOf)){var o,c=Object(a.a)(t.allOf);try{for(c.s();!(o=c.n()).done;){var s=o.value;"boolean"!==typeof s&&i.types.push(e(s))}}catch(d){c.e(d)}finally{c.f()}}if(Array.isArray(t.anyOf)){var u,l=Object(a.a)(t.anyOf);try{for(l.s();!(u=l.n()).done;){var f=u.value;"boolean"!==typeof f&&i.types.push(e(f))}}catch(d){l.e(d)}finally{l.f()}}r=r?new m([r,i]):i}return null!==(n=r)&&void 0!==n?n:"any"},S=function e(t){return"string"===typeof t||!!(Array.isArray(t)&&t.length>0&&e(t[0]))},E=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;function r(r,a){for(var o=Array(4*n).fill(" ").join(""),c=0,s=Object.entries(t);c<s.length;c++){var u=Object(i.a)(s[c],2),l=u[0],f=u[1];r+="\n".concat(o,"    ").concat(l);var d=f;if(d instanceof v&&d.types.includes("null")){var p=d.types.indexOf("null");p>=0&&(r+="?",d.types.splice(p,1),1===d.types.length&&(d=d.types[0]))}r+=": "+e(d,n+1)+";"}return r}if(Array.isArray(t)){var o=t[0],c=o?e(o,n+1):"any";return o instanceof v&&(c="(".concat(c,")")),c+"[]"}if(t instanceof y){var s="[",u=t.additional;if(!t.types.every(S)||u&&!S(u)){var l,f=Array(4*n).fill(" ").join(""),d=Object(a.a)(t.types);try{for(d.s();!(l=d.n()).done;){var p=l.value;s+="\n".concat(f,"    ").concat(e(p,n+1),",")}}catch(P){d.e(P)}finally{d.f()}u&&(s+="\n".concat(f,"    ...").concat(e(u,n+1),"[]")),s+="\n".concat(f)}else s+=t.types.map((function(t){return e(t,n+1)})).join(", "),u&&(s+=", ...".concat(e(u,n+1),"[]"));return s+"]"}if(t instanceof m){if(t.types.every(S))return t.types.map((function(t){return e(t,n+1)})).join(" & ");var b=Array(4*(n+1)).fill(" ").join(""),h="\n"+t.types.map((function(t){return"(".concat(b).concat(e(t,n+1),")")})).join(" &\n");return h}if(t instanceof v){if(t.isAnyType())return"any";if(t.types.every(S))return t.types.map((function(t){return e(t,n+1)})).join(" | ");var j=Array(4*(n+1)).fill(" ").join(""),x="\n"+t.types.map((function(t){return"".concat(j).concat(e(t,n+1))})).join(" |\n");return x}if(!(t instanceof g)){if(t instanceof O){var w=e(t.valueType,n+1);if(!t.declaredEntries)return"{[key: string]: ".concat(w,";}");var C="{";C=r(C,t.declaredEntries);var k=Array(4*n).fill(" ").join("");return(C+="\n".concat(k,"    [key: string]: ").concat(w,";"))+"\n".concat(k,"}")}if("object"===typeof t){var E="{";E=r(E);var $=Array(4*n).fill(" ").join("");return E+"\n".concat($,"}")}return"null"===t?"(null | undefined)":t}switch(typeof t.value){case"boolean":case"number":return t.value.toString();case"string":return'"'.concat(t.value,'"');default:return"null"}},$=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(n.includes(t))return!0;n.push(t);try{if(Array.isArray(t))return t.some((function(t){return e(t)}));if(Object(l.c)(t))return Object.values(t).some((function(t){return e(t)}))}finally{n.pop()}return!1},P=function(){var e=Object(r.a)(u.a.mark((function e(t,n){var r,a,i,o,c,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=JSON.parse(t),e.next=4,d.a.dereference(i);case 4:if(o=e.sent,!$(o)){e.next=8;break}return console.log("Schema contains circularity and cannot be represented in a pure structural type",i),e.abrupt("return","any");case 8:c=h()(o,{ignoreAdditionalProperties:!0}),s=k(c),l=null!==(a=null===n||void 0===n?void 0:n(s))&&void 0!==a?a:s,r=E(l),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("Error converting schema to structural type: "+e.t0,t),r="any";case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=49.86a77091.chunk.js.map