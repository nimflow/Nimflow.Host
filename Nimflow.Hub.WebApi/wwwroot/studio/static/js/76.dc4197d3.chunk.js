(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[76],{1002:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var a=t(3),r=t(98),i=t(2059),c=t(124),o=["children"],l=function(e){var n=e.children,t=Object(r.a)(e,o);return Object(c.jsx)(i.a,Object(a.a)(Object(a.a)({variant:"h5"},t),{},{children:n}))}},1043:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a=t(13),r=t(21),i=t(6),c=t.n(i),o=t(14),l=t(35),u=t(820),s=function(e,n){var t,a=null!==(t=e.getValue())&&void 0!==t?t:[],r=null!==a&&void 0!==a?a:[],i=n(r);r!==i&&e.setValue(i,{shouldDirty:!0})},d=function(e){var n,t=e.control,d=e.name,b=(e.keyName,e.defaultValue),f=t.register,j=t.unregister,O=t.fieldsRef,p=t.setValue,v=t.updateFormState,m=t.readFormStateRef,h=t.fieldArrayNamesRef,g=t.shallowFieldsStateRef,x=t.defaultValuesRef,y=t.validateResolver,C=c.a.useMemo((function(){return{getValue:function(){var e,n=null===(e=O.current)||void 0===e?void 0:e[d];if(n)return n.ref.value},setValue:function(e,n){p(d,e,n),m.current.isValid&&y&&y(Object(r.a)({},d,e)),v()}}}),[O,p,d,m,y,v]),k=Object(i.useCallback)((function(){var e,n=!Object(u.d)(h.current,d);return Object(l.isPresent)(g.current[d])&&n?g.current[d]:null!==(e=null!==b&&void 0!==b?b:Object(u.b)(x.current,d))&&void 0!==e?e:[]}),[d,h,g,x,b]),D=null!==(n=C.getValue())&&void 0!==n?n:k(),A=Object(i.useCallback)((function(){if(f({name:d,type:"array-field"}),!C.getValue()){var e=k();C.setValue(e)}return v(),function(){return j(d)}}),[f,j,v,C,d,k]);return c.a.useEffect((function(){A()}),[A]),c.a.useEffect((function(){O.current[d]||A()})),{fields:D,swap:c.a.useCallback((function(e,n){s(C,(function(t){if(t.length<=1)return t;var a=t[e],r=t[n];return t.map((function(t,i){return i===e?r:i===n?a:t}))}))}),[C]),move:c.a.useCallback((function(e,n){s(C,(function(t){return t.length<=1?t:Object(o.v)(e,n,t)}))}),[C]),prepend:c.a.useCallback((function(e){s(C,(function(n){return Array.isArray(e)?Object(o.e)(e,n):Object(o.y)(e,n)}))}),[C]),append:c.a.useCallback((function(e){s(C,(function(n){return Array.isArray(e)?Object(o.e)(n,e):Object(o.a)(e,n)}))}),[C]),remove:c.a.useCallback((function(e){s(C,(function(n){if(0===n.length)return n;if(!Object(l.isDefined)(e))return[];if(n){for(var t=[],a=Array.isArray(e)?e:[e],r=0;r<n.length;r++)a.includes(r)||t.push(n[r]);return t}return n}))}),[C]),insert:c.a.useCallback((function(e,n){s(C,(function(t){return Array.isArray(n)?Object(o.n)(e,n,t):Object(o.m)(e,n,t)}))}),[C]),setAt:c.a.useCallback((function(e,n){s(C,(function(t){if(Array.isArray(n)){var r=Object(a.a)(t);return r.splice.apply(r,[e,n.length].concat(Object(a.a)(n))),r}return Object(o.K)(e,n,t)}))}),[C])}}},2014:function(e,n,t){"use strict";t.d(n,"b",(function(){return h})),t.d(n,"a",(function(){return g}));var a=t(3),r=t(98),i=t(6),c=t(66),o=t.n(c),l=t(2066),u=t(3026),s=t(3027),d=t(2285);function b(e){var n,t,a=function(e){var n=document.createElement("div");return n.setAttribute("id",e),n}(e);return document.body.insertBefore(a,null!==(n=null===(t=document.body.lastElementChild)||void 0===t?void 0:t.nextElementSibling)&&void 0!==n?n:null),a}var f=function(e){var n=Object(i.useMemo)((function(){return document.createElement("div")}),[]);return Object(i.useEffect)((function(){var t=document.querySelector("#".concat(e)),a=t instanceof HTMLElement?t:b(e);return a.appendChild(n),function(){n.remove(),a.childNodes.length<=0&&a.remove()}}),[n,e]),n},j=t(124),O=["provided","children"],p=["index","draggableId","isDragDisabled","disableInteractiveElementBlocking","shouldRespectForcePress","beforeItem","afterItem","children"],v=["onItemReorder","droppableId","type","mode","isDropDisabled","isCombineEnabled","direction","ignoreContainerClipping","renderClone","getContainerForClone","children"],m=function(e){var n=e.provided,t=e.children,i=Object(r.a)(e,O),c=f("OrderableListItemPortal"),l=Object(j.jsx)("div",Object(a.a)(Object(a.a)({ref:n.innerRef},n.draggableProps),{},{children:Object(j.jsx)(s.a,Object(a.a)(Object(a.a)(Object(a.a)({},n.dragHandleProps),i),{},{children:t}))}));return o.a.createPortal(l,c)},h=function(e){var n=e.index,t=e.draggableId,c=e.isDragDisabled,o=e.disableInteractiveElementBlocking,u=e.shouldRespectForcePress,b=e.beforeItem,f=e.afterItem,O=e.children,v=Object(r.a)(e,p),h={draggableId:Object(i.useMemo)((function(){return null!==t&&void 0!==t?t:Object(l.a)()}),[t]),index:n,isDragDisabled:c,disableInteractiveElementBlocking:o,shouldRespectForcePress:u};return Object(j.jsx)(d.b,Object(a.a)(Object(a.a)({},h),{},{children:function(e,n){return Object(j.jsxs)(j.Fragment,{children:[b,!n.isDragging&&Object(j.jsx)(s.a,Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},e.draggableProps),e.dragHandleProps),v),{},{ref:e.innerRef,children:O})),n.isDragging&&Object(j.jsx)(m,Object(a.a)(Object(a.a)({provided:e},v),{},{children:O})),f]})}}))},g=function(e){var n=e.onItemReorder,t=e.droppableId,c=e.type,o=e.mode,s=e.isDropDisabled,b=e.isCombineEnabled,f=e.direction,O=e.ignoreContainerClipping,p=e.renderClone,m=e.getContainerForClone,h=e.children,g=Object(r.a)(e,v),x=Object(i.useCallback)((function(e){e.destination&&(null===n||void 0===n||n(e.source.index,e.destination.index))}),[n]),y={droppableId:Object(i.useMemo)((function(){return null!==t&&void 0!==t?t:Object(l.a)()}),[t]),type:c,mode:o,isDropDisabled:s,isCombineEnabled:b,direction:f,ignoreContainerClipping:O,renderClone:p,getContainerForClone:m};return Object(j.jsx)(d.a,{onDragEnd:x,children:Object(j.jsx)(d.c,Object(a.a)(Object(a.a)({},y),{},{children:function(e,n){return Object(j.jsxs)(u.a,Object(a.a)(Object(a.a)({},g),{},{ref:e.innerRef,children:[h,e.placeholder]}))}}))})}},2823:function(e,n,t){"use strict";t.r(n),t.d(n,"ActionTypesEditor",(function(){return W}));var a=t(19),r=t(4),i=t(8),c=t.n(i),o=t(6),l=t(2344),u=t(2997),s=t(2948),d=t(2080),b=t(2059),f=t(498),j=t.n(f),O=t(492),p=t.n(O),v=t(487),m=t.n(v),h=t(2946),g=t(3037),x=t(2058),y=t(3039),C=t(2079),k=t(2824),D=t.n(k),A=t(3013),I=t(35),S=t(539),w=t(14),R=t(1043),N=t(2014),P=t(745),E=t(787),M=t(689),V=t(470),T=t(680),F=t(1025),z=t(124),B=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(54)]).then(t.bind(null,1999))})),J=Object(u.a)((function(e){return Object(l.a)({root:{width:"100%",backgroundColor:e.palette.background.paper},item:{border:"2px solid ".concat(e.palette.common.action),borderRadius:2},divider:{height:5,background:"transparent"},inline:{display:"inline"},actionHeading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},summaryTextContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center"},initialAction:{border:"none",borderRadius:"50%","&.Mui-selected":{color:e.palette.primary.main,backgroundColor:"inherit"}}})})),W=function(e){var n=e.onSelectionChanged,t=e.onDialogVisibilityChanged,i=J(),l=Object(A.a)().t,u=Object(o.useState)(),f=Object(r.a)(u,2),O=f[0],v=f[1],k=Object(o.useState)(),W=Object(r.a)(k,2),H=W[0],_=W[1],L=Object(S.f)(),q=L.errors,G=L.control,K=Object(R.a)({name:"actions",control:G}),Q=K.fields,U=K.append,X=K.remove,Y=K.setAt,Z=K.move,$=Object(R.a)({name:"initialActions",control:G}),ee=$.fields,ne=$.append,te=$.remove,ae=Object(V.c)(),re=Object(F.e)().removeInvalidTaggings,ie=Object(T.b)(),ce=ie.getJsonSchemaDefinition,oe=ie.setJsonSchemaDefinition,le=ie.updateActionJsonSchemaDefinition,ue=Object(o.useCallback)((function(){_({actionType:{name:"",jsSetters:{},validators:[]}}),null===t||void 0===t||t(!0)}),[_,t]),se=Object(o.useCallback)(function(){var e=Object(a.a)(c.a.mark((function e(t){var a,r,i,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null===(a=Q[t])||void 0===a?void 0:a.name,e.next=3,ae({description:l("ConfirmDeleteActionType",{name:i})});case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:i&&(o=ee.indexOf(i))>=0&&te(o),(u=null===(r=Q[t])||void 0===r?void 0:r.payloadSchemaDefinitionName)&&oe(u,void 0),X(t),re(),O===t&&(null===n||void 0===n||n(null===(s=Q[t])||void 0===s?void 0:s.name));case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[Q,ae,l,X,re,O,ee,te,oe,n]),de=Object(o.useMemo)((function(){if(H){var e=H.actionType.payloadSchemaDefinitionName;if(e)return ce(e)}}),[H,ce]),be=Object(o.useCallback)((function(e,n){if(H){var t=H.index;if(Object(I.isDefined)(t)){var a,r=null===(a=Q[t])||void 0===a?void 0:a.name;if(r!==e.name&&r){var i=ee.indexOf(r);i>=0&&(te(i),ne(e.name))}if(!e.payloadSchemaDefinitionName){var c=Q[t].payloadSchemaDefinitionName;c&&oe(c,void 0)}Y(t,e),re()}else U(e);le(e,n)}}),[Q,U,Y,H,ee,ne,te,re,oe,le]),fe=Object(o.useCallback)((function(e){if(e){var n=ee.indexOf(e);n>=0?te(n):ne(e)}}),[ee,ne,te]),je=Object(o.useCallback)((function(e,n){Z(e,n),O===e&&v(n)}),[Z,O]),Oe=Object(o.useCallback)((function(e,n){_({index:e,actionType:Object(w.c)(n)}),null===t||void 0===t||t(!0)}),[_,t]),pe=Object(o.useCallback)((function(){_(void 0),null===t||void 0===t||t(!1)}),[_,t]);return Object(z.jsxs)(P.a,{children:[Object(z.jsx)(E.a,{title:l("Actions"),actions:Object(z.jsx)(C.a,{title:l("NewActionType"),children:Object(z.jsx)(x.a,{onClick:ue,size:"large",children:Object(z.jsx)(p.a,{})})})}),Object(z.jsx)(N.a,{onItemReorder:je,className:i.root,children:Q.map((function(e,t){var a=!!e.name&&ee.includes(e.name);return Object(z.jsxs)(N.b,{index:t,selected:O===t,onClick:function(e){return function(e,t){var a;v(t),null===n||void 0===n||n(null===(a=Q[t])||void 0===a?void 0:a.name)}(0,t)},className:i.item,afterItem:Object(z.jsx)(h.a,{className:i.divider}),children:[Object(z.jsx)(s.a,{children:Object(z.jsx)(C.a,{title:l("MakeInitialAction"),children:Object(z.jsx)(y.a,{value:"initialAction",selected:a,onClick:function(){return fe(e.name)},className:i.initialAction,children:Object(z.jsx)(D.a,{})})})}),Object(z.jsx)(d.a,{primary:Object(z.jsx)(b.a,{className:i.actionHeading,children:e.name})}),Object(z.jsxs)(g.a,{children:[Object(z.jsx)(C.a,{title:l("Edit"),children:Object(z.jsx)(x.a,{"aria-label":"edit",onClick:function(){return Oe(t,e)},size:"large",children:Object(z.jsx)(j.a,{})})}),Object(z.jsx)(C.a,{title:l("Delete"),children:Object(z.jsx)(x.a,{edge:"end","aria-label":"delete",onClick:function(){return se(t)},size:"large",children:Object(z.jsx)(m.a,{})})})]})]},e.name)}))}),Object(z.jsx)(M.a,{errors:q,names:["initialActions","actions"]}),Object(I.isDefined)(H)&&Object(z.jsx)(o.Suspense,{fallback:null,children:Object(z.jsx)(B,{open:Object(I.isDefined)(H),onClose:pe,defaultValue:H.actionType,definitionJsonSchema:de,onChange:be})})]})};n.default=W},2824:function(e,n,t){"use strict";var a=t(451);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;!function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c(n);if(t&&t.has(e))return t.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,t&&t.set(e,a)}(t(6));var r=a(t(454)),i=t(124);function c(e){if("function"!==typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(c=function(e){return e?t:n})(e)}var o=(0,r.default)((0,i.jsx)("path",{transform:"scale(0.5, 0.5)",d:"M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z"}),"PlayCircleFilledWhite");n.default=o},745:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a=t(3),r=t(98),i=t(1878),c=t(2997),o=t(2344),l=t(124),u=["children","className"],s=Object(c.a)((function(e){return Object(o.a)({paper:{padding:e.spacing(2),color:e.palette.text.secondary}})})),d=function(e){var n=e.children,t=e.className,c=Object(r.a)(e,u),o=s();return Object(l.jsx)(i.a,Object(a.a)(Object(a.a)({className:"".concat(o.paper," ").concat(t),elevation:3},c),{},{children:n}))}},787:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var a=t(3),r=t(98),i=t(2344),c=t(2997),o=t(2099),l=t(1002),u=t(124),s=["title","actions"],d=Object(c.a)((function(e){return Object(i.a)({grow:{flexGrow:1},actionToolbarButtons:{display:"flex"}})})),b=function(e){var n=e.title,t=e.actions,i=Object(r.a)(e,s),c=d();return Object(u.jsxs)(o.a,Object(a.a)(Object(a.a)({variant:"dense"},i),{},{children:[n&&Object(u.jsx)(l.a,{children:n}),Object(u.jsx)("div",{className:c.grow}),t&&Object(u.jsx)("div",{className:c.actionToolbarButtons,children:t})]}))}}}]);
//# sourceMappingURL=76.dc4197d3.chunk.js.map