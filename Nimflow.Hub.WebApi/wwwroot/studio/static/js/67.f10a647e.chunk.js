(this["webpackJsonpnimflow-studio"]=this["webpackJsonpnimflow-studio"]||[]).push([[67],{1225:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(19),a=n(4),c=n(0),o=n(1),i=n(98),u=n(8),s=n.n(u),l=n(6),f=n.n(l),b=n(870),d=n(13),j=n(38),O=n(676),p=n(123),v=["originalEditComponent","columnDef","errorMessage"],m=["onRowClick","actions"],x=["data","onEditingApproved","columns"],h=["components","columns","data","options","editable","onEditionStateChanged"],w=f.a.createContext(null),g=function(){return f.a.useContext(w)},C=f.a.createContext(null),R=function(e){var t=e.originalEditComponent,n=e.columnDef,r=e.errorMessage,a=Object(i.a)(e,v),c=f.a.useContext(C).errors,u=r;return"string"===typeof(null===n||void 0===n?void 0:n.field)?u=null===c||void 0===c?void 0:c[n.field]:Array.isArray(null===n||void 0===n?void 0:n.field)&&c&&(u=n.field.map((function(e){return c[e]})).filter(j.isPresent).join("\n")),Object(p.jsx)(t,Object(o.a)(Object(o.a)({},a),{},{columnDef:n,errorMessage:u}))},k=function(e){var t=g().editOnClick,n=e.onRowClick,r=e.actions,a=Object(i.a)(e,m),u=Object(l.useCallback)((function(e,a,o){if(!1!==(null===n||void 0===n?void 0:n(e,a,o))&&r&&t){var i,u=Object(c.a)(r);try{for(u.s();!(i=u.n()).done;){var s=i.value;if("function"===typeof s&&(s=s(a)),!s.position){s.onClick(e,a);break}}}catch(l){u.e(l)}finally{u.f()}}}),[n,r,t]);return Object(p.jsx)(b.MTableBodyRow,Object(o.a)({actions:r,onRowClick:u},a))},y=function(e){var t=e.data,n=e.onEditingApproved,c=e.columns,u=Object(i.a)(e,x),f=Object(l.useState)(t),d=Object(a.a)(f,2),j=d[0],O=d[1],v=Object(l.useState)({}),m=Object(a.a)(v,2),h=m[0],w=m[1],R=g().data,k=Object(l.useCallback)(function(){var e=Object(r.a)(s.a.mark((function e(a,o,i){var u,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=c.filter((function(e){return!e.hidden&&!(e.tableData.groupOrder>-1)&&e.validateValue&&e.field})),l={},e.next=4,Promise.all(u.map(function(){var e=Object(r.a)(s.a.mark((function e(n){var r,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.field,e.next=3,n.validateValue(o[r],t?t[r]:void 0,o,null!==R&&void 0!==R?R:[]);case 3:a=e.sent,(c=null===a||void 0===a?void 0:a[0])&&(l[r]=c.message);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:0===Object.keys(l).length?(w({}),n(a,o,t)):(w({errors:l}),i&&(o.tableData=i.tableData),O(o));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[n,c,t,R]);return Object(p.jsx)(C.Provider,{value:h,children:Object(p.jsx)(b.MTableEditRow,Object(o.a)({columns:c,data:j,onEditingApproved:k},u))})},M={paging:!1,draggable:!1},S=function(e){var t,n,r,a=e.components,c=e.columns,u=e.data,s=e.options,f=e.editable,b=e.onEditionStateChanged,j=Object(i.a)(e,h),v=Object(l.useRef)(),m=Object(l.useRef)(!1),x=Object(l.useMemo)((function(){return Object(o.a)({EditRow:y,Row:k},a)}),[a]),g=Object(l.useMemo)((function(){var e=Object(d.u)(M,null!==s&&void 0!==s?s:{});return null!==f&&void 0!==f&&f.onRowUpdate||(e.editOnClick=!1),e}),[s,f]),C={editOnClick:null!==(t=null===(n=e.options)||void 0===n?void 0:n.editOnClick)&&void 0!==t&&t,data:u},S=Object(l.useMemo)((function(){return c.map((function(e){if(!e.editComponent)return e;var t=Object(o.a)(Object(o.a)({},e),{},{editComponent:function(t){return Object(p.jsx)(R,Object(o.a)(Object(o.a)({},t),{},{originalEditComponent:e.editComponent}))}});return t}))}),[c]);return Object(l.useEffect)((function(){var e=v.current;if(e&&b){var t=e.componentDidUpdate;return e.componentDidUpdate=function(e){var n=this.state.showAddRow||!!this.dataManager.lastEditingRow;n!==m.current&&(m.current=n,null===b||void 0===b||b(n)),t.call(this,e)},function(){e.componentDidUpdate=t}}}),[b]),Object(p.jsx)(w.Provider,{value:C,children:Object(p.jsx)(O.a,Object(o.a)(Object(o.a)({columns:S,components:x,data:u,options:g,editable:f},j),{},{tableRef:null!==(r=e.tableRef)&&void 0!==r?r:v}))})}},1869:function(e,t,n){"use strict";var r=n(469);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(474)),c=n(123),o=(0,a.default)((0,c.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=o},1978:function(e,t,n){"use strict";var r=n(469);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(474)),c=n(123),o=(0,a.default)((0,c.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");t.default=o},3014:function(e,t,n){"use strict";n.r(t),n.d(t,"SecretsViewer",(function(){return V}));var r=n(19),a=n(1),c=n(4),o=n(8),i=n.n(o),u=n(6),s=n(2989),l=n(2614),f=n(2420),b=n(3024),d=n(2990),j=n(1869),O=n.n(j),p=n(1978),v=n.n(p),m=n(877),x=n.n(m),h=n(17),w=n(3008),g=n(585),C=n(532),R=n(637),k=n(9),y=k.k().shape({name:k.m().required().identifier(),value:k.m().required()}),M=n(127),S=n(1225),T=n(123),D=Object(s.a)((function(e){return Object(l.a)({secretButton:{outline:"transparent",display:"flex",flexWrap:"nowrap",alignItems:"center",color:e.palette.primary.main},secretText:{marginLeft:5}})})),A=function(e){return Object(T.jsx)(f.a,{type:"text",defaultValue:e.value,onChange:function(t){return e.onChange(t.target.value)},fullWidth:!0,variant:"standard",error:!!e.errorMessage,helperText:e.errorMessage})},P=function(e){var t=D(),n=Object(u.useState)(!1),r=Object(c.a)(n,2),a=r[0],o=r[1],i=Object(w.a)().t,s=a?e.secret.value:i("HiddenValueClickToShow"),l=Object(u.useCallback)((function(e){e.preventDefault(),o((function(e){return!e}))}),[]);return Object(T.jsxs)(b.a,{href:"#",className:t.secretButton,onClick:l,children:[a?Object(T.jsx)(v.a,{}):Object(T.jsx)(O.a,{}),Object(T.jsx)("div",{className:t.secretText,children:s})]})},E=[{field:"name",title:h.a.t("Name"),editComponent:function(e){return Object(T.jsx)(A,Object(a.a)({},e))},validateValue:function(){var e=Object(r.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===(n=y.fields)||void 0===n?void 0:n.name,e.next=3,Object(M.b)(r,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{field:"value",title:h.a.t("Value"),editComponent:function(e){return Object(T.jsx)(A,Object(a.a)({},e))},render:function(e){return Object(T.jsx)(P,{secret:e})},validateValue:function(){var e=Object(r.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===(n=y.fields)||void 0===n?void 0:n.value,e.next=3,Object(M.b)(r,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],V=function(){var e=Object(w.a)().t,t=function(){var e=Object(C.c)(),t=e.secrets_GetAll,n=e.secrets_Upsert,a=e.secrets_Delete,c=Object(R.a)(t),o=Object(g.a)(c,Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),{revalidateOnFocus:!1}),s=o.data,l=o.error,f=o.mutate,b=o.isValidating,d=Object(u.useCallback)(function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({name:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a]),j=Object(u.useCallback)(function(){var e=Object(r.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({name:t,value:r});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]);return Object(u.useMemo)((function(){return{secrets:null!==s&&void 0!==s?s:[],isValidating:b,error:l,revalidate:f,deleteSecret:d,upsertSecret:j}}),[s,b,l,f,d,j])}(),n=t.secrets,a=t.deleteSecret,c=t.upsertSecret,o=t.revalidate,s=t.isValidating,l=t.error,f=Object(u.useMemo)((function(){return e=o,{icon:x.a,tooltip:h.a.t("RefreshData"),isFreeAction:!0,onClick:e};var e}),[o]),b=Object(u.useMemo)((function(){var e={};return e.onRowAdd=function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.name||!t.value){e.next=4;break}return e.next=3,c(t.name,t.value);case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.onRowUpdate=function(){var e=Object(r.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.name&&t.value){e.next=2;break}return e.abrupt("return");case 2:if(!n||!n.name||n.name===t.name){e.next=5;break}return e.next=5,a(n.name);case 5:return e.next=7,c(t.name,t.value);case 7:o();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.onRowDelete=function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.name){e.next=4;break}return e.next=3,a(t.name);case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}),[a,o,c]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.a,{columns:E,data:null!==n&&void 0!==n?n:[],title:e("Secrets"),actions:[f],editable:b}),!s&&!!l&&Object(T.jsx)(d.a,{severity:"error",children:l.toString()})]})};t.default=V},676:function(e,t,n){"use strict";var r=n(98),a=n(4),c=n(1),o=n(6),i=n(777),u=n(870),s=n.n(u),l=n(2421),f=n(2469),b=n(2546),d=n(2423),j=n(2470),O=n(591),p=n.n(O),v=n(778),m=n.n(v),x=n(916),h=n.n(x),w=n(995),g=n.n(w),C=n(996),R=n.n(C),k=n(993),y=n.n(k),M=n(569),S=n.n(M),T=n(638),D=n.n(T),A=n(1001),P=n.n(A),E=n(908),V=n.n(E),z=n(907),L=n.n(z),_=n(1e3),F=n.n(_),B=n(731),N=n.n(B),U=n(987),H=n.n(U),I=n(963),W=n.n(I),q=n(17),J=n(13),G=n(123),K=["forwardedRef"],Q={Add:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(p.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Check:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(h.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Clear:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(y.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Delete:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(S.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),DetailPanel:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(R.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Edit:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(D.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Export:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(N.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Filter:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(P.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),FirstPage:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(V.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),LastPage:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(L.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),NextPage:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(R.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),PreviousPage:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(g.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),ResetSearch:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(y.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),Search:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(H.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),SortArrow:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(m.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(F.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))})),ViewColumn:Object(o.forwardRef)((function(e,t){return Object(G.jsx)(W.a,Object(c.a)(Object(c.a)({},e),{},{ref:t}))}))},X=function e(t,n){for(var r={},c=0,o=Object.entries(t);c<o.length;c++){var i=Object(a.a)(o[c],2),u=i[0],s=i[1];"object"===typeof s?(n.push(u),r[u]=e(s,n),n.pop()):r[u]=q.a.t("".concat(n.join("."),".").concat(u))}return r}({body:{emptyDataSourceMessage:"",filterRow:{filterTooltip:""},editRow:{saveTooltip:"",cancelTooltip:"",deleteText:""},addTooltip:"",deleteTooltip:"",editTooltip:""},header:{actions:""},grouping:{groupedBy:"",placeholder:""},pagination:{firstTooltip:"",firstAriaLabel:"",previousTooltip:"",previousAriaLabel:"",nextTooltip:"",nextAriaLabel:"",labelDisplayedRows:"",labelRowsPerPage:"",lastTooltip:"",lastAriaLabel:"",labelRowsSelect:""},toolbar:{addRemoveColumns:"",nRowsSelected:function(e){return""},showColumnsTitle:"",showColumnsAriaLabel:"",exportTitle:"",exportAriaLabel:"",exportCSVName:"",exportPDFName:"",searchTooltip:"",searchPlaceholder:"",searchAriaLabel:"",clearSearchAriaLabel:""}},["MaterialTable"]),Y=(window.innerHeight-64-64-24-52-10)/window.innerHeight*100,Z={padding:0,width:24,marginLeft:24},$=function(e){var t=e.forwardedRef,n=Object(r.a)(e,K);return Object(G.jsxs)(l.a,{error:Boolean(n.error),ref:t,component:"fieldset",children:[Object(G.jsx)(f.a,{children:Object(G.jsx)(j.a,{label:"",control:Object(G.jsx)(b.a,Object(c.a)(Object(c.a)({},n),{},{value:String(n.value),checked:Boolean(n.value),onChange:function(e){return n.onChange(e.target.checked)},style:Z,color:"default",inputProps:{"aria-label":n.columnDef.title}}))})}),Object(G.jsx)(d.a,{children:n.helperText})]})},ee=function(e){return"boolean"===e.columnDef.type?Object(G.jsx)($,Object(c.a)({},e)):Object(G.jsx)(u.MTableEditField,Object(c.a)({},e))},te={EditField:function(e){return Object(G.jsx)(ee,Object(c.a)({},e))}};t.a=function(e){var t=Object(i.a)(),n=Object(o.useMemo)((function(){return e.icons?Object(c.a)(Object(c.a)({},Q),e.icons):Q}),[e.icons]),r=Object(o.useMemo)((function(){return e.localization?Object(c.a)(Object(c.a)({},X),e.localization):X}),[e.localization]),a=Object(o.useMemo)((function(){var n=function(e){return{actionsColumnIndex:-1,padding:"normal",pageSize:10,headerStyle:{fontWeight:"bold",backgroundColor:e.palette.background.paper,position:"sticky",top:0},paginationPosition:"top",maxBodyHeight:"".concat(Y,"vh")}}(t);return e.options&&(n=Object(J.u)(n,e.options)),n}),[t,e.options]),u=Object(o.useMemo)((function(){return e.components?Object(c.a)(Object(c.a)({},te),e.components):te}),[e.components]),l={boxShadow:"none",backgroundColor:t.palette.background.default,backgroundImage:"none"};return Object(G.jsx)(s.a,Object(c.a)(Object(c.a)({},e),{},{icons:n,options:a,components:u,localization:r,style:l}))}},877:function(e,t,n){"use strict";var r=n(469);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(474)),c=n(123),o=(0,a.default)((0,c.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");t.default=o}}]);
//# sourceMappingURL=67.f10a647e.chunk.js.map